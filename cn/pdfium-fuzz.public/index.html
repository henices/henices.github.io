<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>ä½¿ç”¨ afl-fuzz fuzz pdfium | å®‰å…¨ä»£ç </title><meta name="author" content="æ›¼ç¦å‰"><meta name="copyright" content="æ›¼ç¦å‰"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="ä¸‹è½½æºç å…ˆåœ¨ https:&#x2F;&#x2F;pdfium.googlesource.com&#x2F;pdfium&#x2F; ä¸‹è½½æºç . 12345mkdir repocd repogclient config --unmanaged https:&#x2F;&#x2F;pdfium.googlesource.com&#x2F;pdfium.gitgclient synccd pdfium  gclient å‘½ä»¤åœ¨ depot_tools ä¸­, éœ€è¦å®‰è£… å‚">
<meta property="og:type" content="article">
<meta property="og:title" content="ä½¿ç”¨ afl-fuzz fuzz pdfium">
<meta property="og:url" content="https://usmacd.com/cn/pdfium-fuzz.public/index.html">
<meta property="og:site_name" content="å®‰å…¨ä»£ç ">
<meta property="og:description" content="ä¸‹è½½æºç å…ˆåœ¨ https:&#x2F;&#x2F;pdfium.googlesource.com&#x2F;pdfium&#x2F; ä¸‹è½½æºç . 12345mkdir repocd repogclient config --unmanaged https:&#x2F;&#x2F;pdfium.googlesource.com&#x2F;pdfium.gitgclient synccd pdfium  gclient å‘½ä»¤åœ¨ depot_tools ä¸­, éœ€è¦å®‰è£… å‚">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://images.unsplash.com/photo-1646026371686-79950ceb6daa?w=640">
<meta property="article:published_time" content="2022-12-07T16:00:00.000Z">
<meta property="article:modified_time" content="2022-12-07T16:00:00.000Z">
<meta property="article:author" content="æ›¼ç¦å‰">
<meta property="article:tag" content="Security">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://images.unsplash.com/photo-1646026371686-79950ceb6daa?w=640"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "ä½¿ç”¨ afl-fuzz fuzz pdfium",
  "url": "https://usmacd.com/cn/pdfium-fuzz.public/",
  "image": "https://images.unsplash.com/photo-1646026371686-79950ceb6daa?w=640",
  "datePublished": "2022-12-07T16:00:00.000Z",
  "dateModified": "2022-12-07T16:00:00.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "æ›¼ç¦å‰",
      "url": "https://usmacd.com"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://usmacd.com/cn/pdfium-fuzz.public/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css?v=5.5.4"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'undefined')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'undefined')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"pagination":{"enable":false,"hitsPerPage":8},"languages":{"hits_empty":"æœªæ‰¾åˆ°ç¬¦åˆæ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}","hits_stats":"å…±æ‰¾åˆ° ${hits} ç¯‡æ–‡ç« "}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"ç¹","msgToSimplifiedChinese":"ç°¡"},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":false,"highlightHeightLimit":false,"highlightFullpage":true,"highlightMacStyle":false},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶å¤±è´¥',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.13.0/dist/infinitegrid.min.js',
    buttonText: 'åŠ è½½æ›´å¤š'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'ä½¿ç”¨ afl-fuzz fuzz pdfium',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="/self/atom-one-light.css"><link rel="stylesheet" href="/self/nord.css"><meta name="generator" content="Hexo 8.1.1"><link rel="alternate" href="/atom.xml" title="å®‰å…¨ä»£ç " type="application/atom+xml">
<link rel="alternate" href="/rss.xml" title="å®‰å…¨ä»£ç " type="application/rss+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/images/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">173</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">18</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">0</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> å½’æ¡£</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/thoughts"><i class="fa-fw fas fa-cloud"></i><span> æƒ³æ³•</span></a></div><div class="menus_item"><a class="site-page" href="/links/"><i class="fa-fw fas fa-link"></i><span> å‹é“¾</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> å…³äº</span></a></div><div class="menus_item"><a class="site-page" href="/sitemap.xml"><span> sitemap</span></a></div><div class="menus_item"><a class="site-page" href="/random.html"><span> random</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://images.unsplash.com/photo-1646026371686-79950ceb6daa?w=640);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">å®‰å…¨ä»£ç </span></a><a class="nav-page-title" href="/"><span class="site-name">ä½¿ç”¨ afl-fuzz fuzz pdfium</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  è¿”å›é¦–é¡µ</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> æœç´¢</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> å½’æ¡£</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/thoughts"><i class="fa-fw fas fa-cloud"></i><span> æƒ³æ³•</span></a></div><div class="menus_item"><a class="site-page" href="/links/"><i class="fa-fw fas fa-link"></i><span> å‹é“¾</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> å…³äº</span></a></div><div class="menus_item"><a class="site-page" href="/sitemap.xml"><span> sitemap</span></a></div><div class="menus_item"><a class="site-page" href="/random.html"><span> random</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">ä½¿ç”¨ afl-fuzz fuzz pdfium</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2022-12-07T16:00:00.000Z" title="å‘è¡¨äº 2022-12-08 00:00:00">2022-12-08</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2022-12-07T16:00:00.000Z" title="æ›´æ–°äº 2022-12-08 00:00:00">2022-12-08</time></span></div><div class="meta-secondline"></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h2 id="ä¸‹è½½æºç "><a href="#ä¸‹è½½æºç " class="headerlink" title="ä¸‹è½½æºç "></a>ä¸‹è½½æºç </h2><p>å…ˆåœ¨ <a target="_blank" rel="noopener" href="https://pdfium.googlesource.com/pdfium/">https://pdfium.googlesource.com/pdfium/</a> ä¸‹è½½æºç .</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-built_in">mkdir</span> repo<br><span class="hljs-built_in">cd</span> repo<br>gclient config --unmanaged https://pdfium.googlesource.com/pdfium.git<br>gclient <span class="hljs-built_in">sync</span><br><span class="hljs-built_in">cd</span> pdfium<br></code></pre></td></tr></table></figure>

<p>gclient å‘½ä»¤åœ¨ depot_tools ä¸­, éœ€è¦å®‰è£… å‚è€ƒä¸‹é¢çš„æ–‡ç« </p>
<p><a target="_blank" rel="noopener" href="http://www.chromium.org/developers/how-tos/install-depot-tools">http://www.chromium.org/developers/how-tos/install-depot-tools</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">git clone https://chromium.googlesource.com/chromium/tools/depot_tools.git<br>export PATH=`pwd`/depot_tools:&quot;$PATH&quot;<br></code></pre></td></tr></table></figure>

<p>ä¸»è¦gclient sync åŒæ­¥æ—¶éœ€è¦ç¿»å¢™ï¼Œå¯ä»¥ç®€å•çš„ä½¿ç”¨ç¯å¢ƒå˜é‡çš„æ–¹æ³•ã€‚</p>
<p><code>https_proxy=http://localhost:8118 gclient sync</code> ä¸‹è½½ download google storageè¿‡<br>ç¨‹ä¸­è¿˜ä¼šé‡åˆ°ä¸€ä¸ªç½‘ç»œé—®é¢˜ï¼Œéœ€è¦ç¼–å†™é…ç½®æ–‡ä»¶ ~&#x2F;.boto</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">[Boto]<br>proxy = 127.0.0.1  # ä¸å¸¦ http://<br>proxy_port= 8118<br></code></pre></td></tr></table></figure>

<p><code>export NO_AUTH_BOTO_CONFIG=~/.boto</code></p>
<p>æºç åŒ…éå¸¸å¤§ï¼Œå¤§æ¦‚æœ‰1Gå¤šï¼Œéœ€è¦è€å¿ƒç­‰å¾…ã€‚</p>
<h2 id="ç¼–è¯‘"><a href="#ç¼–è¯‘" class="headerlink" title="ç¼–è¯‘"></a>ç¼–è¯‘</h2><p>ç¼–è¯‘éœ€è¦ä½¿ç”¨ ubuntu æˆ–è€… Debian ç³»ç»Ÿï¼Œå…¶ä»–ç³»ç»Ÿçš„ä¾èµ–é—®é¢˜è§£å†³èµ·æ¥æ¯”è¾ƒéº»çƒ¦ï¼Œ<br>å¦‚æœæ˜¯ä¸Šé¢ä¸¤ç§æ“ä½œç³»ç»Ÿçš„è¯ï¼Œæœ‰è„šæœ¬è‡ªåŠ¨å®‰è£…ä¾èµ–ã€‚</p>
<p><code>./build/install-build-deps.sh</code></p>
<p>å®‰è£…å®Œæ‰€ä»¥ä¾èµ–åå°±å¯ä»¥å¼€å§‹ç¼–è¯‘äº†ï¼Œé¦–å…ˆè¦å…ˆç”Ÿæˆ gn æ–‡ä»¶ (2016 å¹´google æ”¾å¼ƒä½¿ç”¨åŸæ¥çš„ gyp ç¼–è¯‘æ–¹å¼)</p>
<p><code>gn args out/afl</code> ä¼šè°ƒç”¨vim ç¼–è¯‘å™¨ï¼Œ è¾“å…¥ä¸‹é¢çš„å†…å®¹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs plaintext"><br># Build arguments go here.<br># See &quot;gn args &lt;out_dir&gt; --list&quot; for available build arguments.<br>use_goma = false # Googlers only. Make sure goma is installed and running first.<br>is_debug = false  # Enable debugging features.<br><br>pdf_use_skia = true # Set true to enable experimental skia backend.<br>pdf_use_skia_paths = false  # Set true to enable experimental skia backend (paths only).<br><br>pdf_enable_xfa = true  # Set false to remove XFA support (implies JS support).<br>pdf_enable_v8 = true  # Set false to remove Javascript support.<br>pdf_is_standalone = true  # Set for a non-embedded build.<br>is_component_build = false # Disable component build (must be false)<br>v8_static_library = true<br><br>clang_use_chrome_plugins = false  # Currently must be false.<br>use_sysroot = false  # Currently must be false on Linux, but entirely omitted on windows.<br><br>use_afl = true<br>#is_asan = true<br>enable_nacl = true<br>optimize_for_fuzzing = true<br>symbol_level=1<br></code></pre></td></tr></table></figure>

<p>ä½¿ç”¨ ASAN ç¼–è¯‘ä¼šæŠ¥é”™ï¼Œæš‚æ—¶ä¸å¼€å¯ï¼Œæ¥ä¸‹æ¥è¦è§£å†³ afl çš„é—®é¢˜äº†ï¼Œ pdfium çš„ third_party<br>ä¸­ä¸åŒ…å« afl-fuzz çš„æºä»£ç ï¼Œéœ€è¦åˆ° chromium.googlesource.com é¡¹ç›®ä¸‹è½½ã€‚<br>chromium é¡¹ç›®æ”¯æŒ libfuzzer å’Œ afl-fuzzï¼Œåªè¦ä½¿ç”¨å¼€å…³ï¼Œ <code>use_libfuzzer = true</code><br>æˆ–è€… <code>use_afl = true</code> å³å¯æ‰“å¼€ã€‚</p>
<p>è¦ç¼–è¯‘ç”Ÿæˆ pdfium_test, å¿…é¡»æŒ‡å®š pdf_is_standalone &#x3D; true, pdfium æºç ä»“åº“ä¸­æ²¡æœ‰<br>afl-fuzz çš„ä»£ç ï¼Œéœ€è¦è‡ªå·±ä¸‹è½½ã€‚</p>
<p><a target="_blank" rel="noopener" href="https://chromium.googlesource.com/chromium/src/third_party/+/master/afl/">https://chromium.googlesource.com/chromium/src/third_party/+/master/afl/</a></p>
<p>å¯ä»¥ç›´æ¥ä¸‹è½½ .tgz æ–‡ä»¶<br><a target="_blank" rel="noopener" href="https://chromium.googlesource.com/chromium/src/third_party/+archive/master/afl.tar.gz">https://chromium.googlesource.com/chromium/src/third_party/+archive/master/afl.tar.gz</a></p>
<p>ä¸‹è½½åå°†æºç  copy åˆ° ~&#x2F;repo&#x2F;pdfium&#x2F;third_party&#x2F;afl ä¸­, ä½¿ç”¨ <code>ninja -C out/afl</code> ç¼–è¯‘æ•´ä¸ªé¡¹ç›®ã€‚</p>
<p>ä½¿ç”¨ <code>is_debug=false</code> å¯ä»¥æ˜æ˜¾æé«˜fuzzing é€Ÿåº¦ï¼Œåº”è¯¥å¼€å¯ã€‚å¦å¤–ä¸€ä¸ªæ¯”è¾ƒæœ‰ç”¨çš„æ˜¯<br><code>symbol_level</code>, è®¾ç½® symbol_level&#x3D;1 å¯ä»¥æ·»åŠ å¿…è¦çš„è°ƒè¯•ç¬¦å·ï¼Œä¾¿äºgdbè°ƒè¯•ã€‚</p>
<p>åœ¨ç¼–è¯‘ skia backend æ”¯æŒæ—¶ï¼Œéœ€è¦é¢å¤–å¤„ç†ï¼Œ ä½¿ç”¨ C++14</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">use_cxx11 = false <br></code></pre></td></tr></table></figure>

<h2 id="afl-fuzz"><a href="#afl-fuzz" class="headerlink" title="afl-fuzz"></a>afl-fuzz</h2><p>éšç€ chromium ä»£ç çš„æ›´æ–°ï¼Œ afl æºç ç¼–è¯‘å‡ºç°äº†ä¸€äº›å°é—®é¢˜ï¼Œéœ€è¦å¤„ç†ã€‚</p>
<p>src&#x2F;third_party&#x2F;afl&#x2F;patches&#x2F;0001-fix-build-with-std-c11.patch</p>
<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs diff"><span class="hljs-comment">diff --git a/afl-fuzz.c b/afl-fuzz.c</span><br><span class="hljs-comment">index 01b4afef0ecc..f0d564a33037 100644</span><br><span class="hljs-comment">--- a/afl-fuzz.c</span><br><span class="hljs-comment">+++ b/afl-fuzz.c</span><br><span class="hljs-meta">@@ -23,7 +23,9 @@</span><br> #define AFL_MAIN<br> #define MESSAGES_TO_STDOUT<br> <br><span class="hljs-addition">+#ifndef _GNU_SOURCE</span><br> #define _GNU_SOURCE<br><span class="hljs-addition">+#endif</span><br> #define _FILE_OFFSET_BITS 64<br> <br> #include &quot;config.h&quot;<br><span class="hljs-comment">diff --git a/types.h b/types.h</span><br><span class="hljs-comment">index 784d3a7a286d..d24d1fdd97e8 100644</span><br><span class="hljs-comment">--- a/types.h</span><br><span class="hljs-comment">+++ b/types.h</span><br><span class="hljs-meta">@@ -78,7 +78,7 @@</span> typedef int64_t  s64;<br> #define STRINGIFY(x) STRINGIFY_INTERNAL(x)<br> <br> #define MEM_BARRIER() \<br><span class="hljs-deletion">-  asm volatile(&quot;&quot; ::: &quot;memory&quot;)</span><br><span class="hljs-addition">+  __asm__ volatile(&quot;&quot; ::: &quot;memory&quot;)</span><br> <br> #define likely(_x)   __builtin_expect(!!(_x), 1)<br> #define unlikely(_x)  __builtin_expect(!!(_x), 0)<br></code></pre></td></tr></table></figure>

<p>afl-fuzz çš„ä½¿ç”¨å’Œå…¶ä»–é¡¹ç›®ä¸€æ ·ã€‚åˆå§‹çš„ç§å­æ–‡ä»¶æœ‰å‡ ä¸ªåœ°æ–¹å¯ä»¥è·å–ï¼š</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://pdfium.googlesource.com/pdfium/+/refs/heads/master/testing/resources/">https://pdfium.googlesource.com/pdfium/+/refs/heads/master/testing/resources/</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/mozilla/pdf.js/tree/master/test/pdfs">https://github.com/mozilla/pdf.js/tree/master/test/pdfs</a></li>
</ul>
<p><code>./afl-fuzz -M 01 -m 1024 -i /home/henices/input -o /home/henices/out -x /tmp/pdf.dict -- ./pdfium_test @@</code></p>
<h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ul>
<li><a target="_blank" rel="noopener" href="https://mariomalwareanalysis.blogspot.com/2012/02/how-to-embed-javascript-into-pdf.html">https://mariomalwareanalysis.blogspot.com/2012/02/how-to-embed-javascript-into-pdf.html</a></li>
<li><a target="_blank" rel="noopener" href="https://www.blackhat.com/docs/asia-17/materials/asia-17-Liu-Dig-Into-The-Attack-Surface-Of-PDF-And-Gain-100-CVEs-In-1-Year.pdf">https://www.blackhat.com/docs/asia-17/materials/asia-17-Liu-Dig-Into-The-Attack-Surface-Of-PDF-And-Gain-100-CVEs-In-1-Year.pdf</a></li>
<li><a target="_blank" rel="noopener" href="https://chromium.googlesource.com/chromium/src/+/master/testing/libfuzzer/getting_started.md">https://chromium.googlesource.com/chromium/src/+/master/testing/libfuzzer/getting_started.md</a></li>
<li><a target="_blank" rel="noopener" href="https://chromium.googlesource.com/chromium/src/+/master/testing/libfuzzer/efficient_fuzzer.md">https://chromium.googlesource.com/chromium/src/+/master/testing/libfuzzer/efficient_fuzzer.md</a></li>
<li><a target="_blank" rel="noopener" href="https://chromium.googlesource.com/chromium/src/+/master/testing/libfuzzer/reproducing.md">https://chromium.googlesource.com/chromium/src/+/master/testing/libfuzzer/reproducing.md</a></li>
<li><a target="_blank" rel="noopener" href="https://fuzzing-project.org/tutorial2.html">https://fuzzing-project.org/tutorial2.html</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.chromium.org/2012/04/fuzzing-for-security.html">https://blog.chromium.org/2012/04/fuzzing-for-security.html</a></li>
<li><a target="_blank" rel="noopener" href="https://chromium.googlesource.com/chromium/src/+/lkcr/docs/linux_debugging.md">https://chromium.googlesource.com/chromium/src/+/lkcr/docs/linux_debugging.md</a></li>
<li><a target="_blank" rel="noopener" href="https://web.archive.org/web/20141010035745/http://gnupdf.org/Introduction_to_PDF">https://web.archive.org/web/20141010035745/http://gnupdf.org/Introduction_to_PDF</a></li>
<li><a target="_blank" rel="noopener" href="https://mariomalwareanalysis.blogspot.com/2012/02/how-to-manually-create-pdf.html">https://mariomalwareanalysis.blogspot.com/2012/02/how-to-manually-create-pdf.html</a></li>
<li><a target="_blank" rel="noopener" href="https://mariomalwareanalysis.blogspot.com/2012/02/how-to-embed-javascript-into-pdf.html">https://mariomalwareanalysis.blogspot.com/2012/02/how-to-embed-javascript-into-pdf.html</a></li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="https://usmacd.com">æ›¼ç¦å‰</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="https://usmacd.com/cn/pdfium-fuzz.public/">https://usmacd.com/cn/pdfium-fuzz.public/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥æº <a href="https://usmacd.com" target="_blank">å®‰å…¨ä»£ç </a>ï¼</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Security/">Security</a></div><div class="post-share"><div class="social-share" data-image="https://images.unsplash.com/photo-1646026371686-79950ceb6daa?w=640" data-sites="facebook,x,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/cn/linyuan_interview/" title="æ—å›­è°ˆæŠ•èµ„"><img class="cover" src="https://images.unsplash.com/photo-1646026371686-79950ceb6daa?w=640" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">ä¸Šä¸€ç¯‡</div><div class="info-item-2">æ—å›­è°ˆæŠ•èµ„</div></div><div class="info-2"><div class="info-item-1">çœ‹äº†ä¸€ä¸ª2012å¹´é‡‡è®¿æ—å›­çš„è§†é¢‘ï¼Œæ¯ä¸ªæˆåŠŸçš„äººå£«å¯¹æŠ•èµ„éƒ½æœ‰è‡ªå·±çš„çœ‹æ³•ã€‚   æŠ•èµ„æœ€é‡è¦çš„è¦å°‘çŠ¯é”™ è™½ç„¶æ²¡æ³•é¢„æµ‹è‚¡ç¥¨èµ°åŠ¿ï¼Œä½†æ˜¯è‚¡ç¥¨ä»·æ ¼çš„é«˜ä½è¿˜æ˜¯éœ€è¦æ¸…æ¥šçš„ï¼Œè™½ç„¶ä»·æ ¼ä½çš„å¯èƒ½ç»§ç»­èµ°ä½ï¼Œä»·æ ¼é«˜çš„å¯èƒ½ç»§ç»­èµ°é«˜ æŠ•æœºå’ŒæŠ•èµ„æ²¡æœ‰æœ¬è´¨åŒºåˆ«ï¼ŒæŠ•æœºçš„ã€Œæœºã€æ˜¯æ‹©æ—¶ï¼Œä»·å€¼æŠ•èµ„ä¹Ÿæ˜¯æ‹©æ—¶ï¼Œå¸‚åœºä¸Šçš„è‚¡ç¥¨ä¾›éœ€å…³ç³»ä¼šå½±å“ä»·æ ¼ éœ€è¦çŸ¥é“å¸‚åœºå‘¨æœŸï¼Œç‰›ç†Šè½®å›ï¼Œä¸åŒçš„å¸‚åœºæ—¶æœŸï¼Œé€‰æ‹©çš„æŠ•èµ„ç­–ç•¥ä¹Ÿä¸åŒ åš3åˆ°5å¹´çš„é•¿çº¿æŠ•èµ„ï¼Œå…³æ³¨å¸‚åœºçš„ä¸»çº¿ï¼Œåœ¨é¾™å¤´è‚¡ä¸Šèµšå¤§é’± æ³¨é‡é£é™©ç®¡ç†ï¼ŒæŠ•èµ„å‰æµ‹ç®—æœ€å·®æƒ…å†µï¼Œåªåœ¨æœ‰æŠŠæ¡æ—¶ä¸‹æ³¨ï¼Œå¹³æ—¶ä¸å¤ªçœ‹ç›˜ ä½¿ç”¨èµ„äº§é…ç½®æ¥åˆ†æ‘Šé£é™©ï¼Œæˆ¿åœ°äº§ã€å€ºåˆ¸ã€è‚¡ç¥¨ç­‰å‡æœ‰æ¶‰çŒ æ¯ä¸ªäººéƒ½æœ‰è‡ªå·±æ“…é•¿çš„æ ‡çš„(èƒ½åŠ›åœˆ)ï¼Œæ—å›­çš„æŠ•èµ„ä¸»çº¿æ˜¯å’Œåƒçš„æœ‰å…³ç³»çš„æ¶ˆè´¹è‚¡  è¿™ç¯‡é‡‡è®¿å‡ºäº†ä¸ªå½©è›‹ğŸ‰ï¼Œä¸»æŒäººé—®æ—å›­å¹³æ—¥éƒ½æœ‰å•¥çˆ±å¥½ã€‚æ—å›­è¯´ä»–æœ‰ä¸¤ä¸ªçˆ±å¥½ï¼š1. é€›å¤œæ€»ä¼š 2. èµ°é•¿è·¯æ—å›­é€›å¤œæ€»ä¼šçš„æ®µå­å·²ç»å¹¿æ³›æµä¼ ï¼Œä¸»æŒäººä¹Ÿæ¥ä¸ä½è¿™è¯èŒ¬ ï¼šï¼‰è®¤çœŸåˆ†æ é€›å¤œæ€»ä¼šæ˜¯çœ‹é«˜ç«¯æ¶ˆè´¹ï¼Œèµ°é•¿è·¯æ˜¯çœ‹æ—¥å¸¸æ¶ˆè´¹ã€‚ä¸€èˆ¬æˆåŠŸçš„æŠ•èµ„äººéƒ½æœ‰è‡ªå·±ç‹¬ç‰¹çš„æŒ‡æ ‡ã€‚ </div></div></div></a><a class="pagination-related" href="/cn/logseq3/" title="Logseq ä½¿ç”¨å°ç»“ ï¼ˆä¸‰ï¼‰"><img class="cover" src="https://images.unsplash.com/photo-1646026371686-79950ceb6daa?w=640" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">ä¸‹ä¸€ç¯‡</div><div class="info-item-2">Logseq ä½¿ç”¨å°ç»“ ï¼ˆä¸‰ï¼‰</div></div><div class="info-2"><div class="info-item-1">ä½¿ç”¨ Logseq å†™ç¬”è®°å·²ç»å¤§åŠå¹´äº†ï¼ŒLogseq æ˜¯è¿™ä¹ˆå¤šå¹´æ¥é™¤äº† vim ä¹‹å¤–ï¼Œå”¯ä¸€å¯ä»¥åœ¨ä½¿ç”¨ä¸Šèºæ—‹ä¸Šå‡çš„è½¯ä»¶ã€‚æˆ‘æŠŠ Logseq æ¨èç»™åª³å¦‡ï¼Œå¥¹ç”¨æ¥å†™ä¼šè®®çºªè¦ï¼Œå†™å¤‡å¿˜å½•ï¼Œç®¡ç†å¾…åŠäº‹é¡¹ï¼Œä¹Ÿç”¨å¾—æŒºå¥½ã€‚ Logseq çš„æˆåŠŸä¹‹å¤„åœ¨äºå®ƒé™ä½äº†è®°å½•çš„æˆæœ¬ï¼Œä¸éœ€è¦å¤§æ®µå¤§æ®µçš„æ–‡å­—ï¼Œä¹Ÿä¸éœ€è¦å¤ªå¤šçš„æ–‡ç« ç»“æ„ï¼Œéšæ—¶éƒ½å¯ä»¥è®°å½•ã€‚Logseq æ¯”è¾ƒä¸¥é‡çš„é—®é¢˜æ˜¯å®ƒçš„ä½¿ç”¨å¤ªçµæ´»äº†ï¼Œå‰åè®°å½•çš„æ ‡å‡†ã€æ ¼å¼ã€æ ‡ç­¾ç­‰è¦ç´ å¯èƒ½ä¸ä¸€è‡´ï¼Œå®¹æ˜“é€ æˆç¬”è®°å‡Œä¹±ã€‚ç¬”è®°ä¸€å‡Œä¹±å°±æ²¡æ³•æœ‰æ•ˆçš„èšåˆï¼Œç¬”è®°çš„æœ‰æ•ˆèšåˆå½¢æˆä¸€ä¸ªæœ‰æ„ä¹‰çš„æƒ³æ³•ç¾¤æ˜¯ Logseq ç­‰åŒé“¾è½¯ä»¶å’Œå…¶ä»–ç¬”è®°è½¯ä»¶ç›¸æ¯”æœ€æœ‰ä»·å€¼çš„åœ°æ–¹ã€‚ æˆ‘è¿™åŠå¹´æ¥æ€»ç»“å‡ºç¬”è®°ç³»ç»ŸæˆåŠŸçš„å…³é”®æ˜¯ï¼š åœ¨åŒä¸€ä¸ªåœ°æ–¹ï¼Œç”¨åŒæ ·çš„æ ¼å¼å’Œä¸€è‡´çš„æ ‡å‡†è®°å½•ä½ çš„æ´è§ã€‚ä½†æ˜¯ç”±äº Logseq ç¼ºä¹æœ‰æ•ˆçš„å·¥ä½œæµï¼Œæ²¡æ³•è‡ªåŠ¨åŒ–æç¤ºå¿…è¦çš„æ­¥éª¤ï¼Œåªèƒ½é€šè¿‡ä¸æ–­çš„ç»ƒä¹ æ¥å¼ºåŒ–å­¦ä¹ ã€‚å¦å¤– Logseq ä¸­ page å’Œ tag åªæ˜¯èµ·åˆ°è¿‡æ»¤ç¬”è®°çš„ä½œç”¨ï¼Œæœ€å…³é”®çš„ç¬”è®°ä¹‹é—´çš„é“¾æ¥å´å¾ˆå®¹æ˜“è¢«å¿½è§†ï¼Œtag çš„æ•°é‡ä¸€å¤šåˆä¼šå¼€å§‹ç¬”è®°å‡Œä¹±äº†ã€‚ æ€»è€Œè¨€ä¹‹ï¼Œå¦‚æœåªæ˜¯æŠŠ Logseq ä½œä¸ºå¤‡å¿˜ï¼Œæˆ–è€…ç®€å•ä½œä¸ºä¿¡æ¯è®°å½•ï¼ŒæŒºå¥½ç”¨ä¹Ÿä¸éœ€è¦å­¦ä¹ å¤ªå¤šçš„ä¸œè¥¿ï¼Œä½†æ˜¯...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/cn/afl/" title="afl-fuzz æ¡†æ¶"><img class="cover" src="https://images.unsplash.com/photo-1646026371686-79950ceb6daa?w=640" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-09-06</div><div class="info-item-2">afl-fuzz æ¡†æ¶</div></div><div class="info-2"><div class="info-item-1">afl-fuzz çš„æ•´ä½“æ¶æ„ï¼Œæ–°æ‰‹ç†è§£èµ·æ¥è¿˜æ˜¯æ¯”è¾ƒè´¹åŠ²ï¼Œç½‘ç»œä¸Šå‘ç°ä¸€å¼ å›¾è§‰å¾—ä¸é”™ï¼Œæ”¾ä¸Šæ¥å¤§å®¶çœ‹çœ‹ï¼Œæ„Ÿè°¢åŸä½œè€…ã€‚  </div></div></div></a><a class="pagination-related" href="/cn/halfempty/" title="halfempty çš„ä¸€äº›ä½¿ç”¨è¯´æ˜"><img class="cover" src="https://images.unsplash.com/photo-1646026371686-79950ceb6daa?w=640" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2021-02-25</div><div class="info-item-2">halfempty çš„ä¸€äº›ä½¿ç”¨è¯´æ˜</div></div><div class="info-2"><div class="info-item-1">https://github.com/googleprojectzero/halfempty google P0 @taviso æä¾›çš„ testcase å¹¶è¡Œå¿«é€Ÿç²¾ç®€å·¥å…· ï¼ˆA fast, parallel test case minimization toolï¼‰éœ€è¦æ³¨æ„çš„æ˜¯ halfempty åªèƒ½ç²¾ç®€å¯¼è‡´ç›®æ ‡ç¨‹åº crash çš„ testcaseï¼Œå¦‚æœ testcase ä¸å¯¼è‡´ç›®æ ‡ç¨‹åº crashï¼Œ è¿˜æ˜¯éœ€è¦ä½¿ç”¨ afl-tmin ç±»ä¼¼çš„å·¥å…·æ ¹æ® coverage æ¥ç²¾ç®€ã€‚ halfempty å·¥å…·å‘æµ‹è¯•è„šæœ¬ä¼ é€’å†…å®¹æ—¶ä½¿ç”¨çš„æ˜¯ pipeï¼Œ å¦‚æœæµ‹è¯•çš„ç¨‹åºåªæ¥å—æ–‡ä»¶è·¯å¾„ä½œä¸ºå‚æ•°æ—¶ï¼Œéœ€è¦ä¸€äº›æŠ€å·§ï¼ŒREADME è™½ç„¶æœ‰æåŠä½†æ˜¯è¯´çš„æ¯”è¾ƒæ™¦æ¶©ã€‚ ä»¥ upx ä¸ºä¾‹ï¼Œupx çš„å‘½ä»¤è¡Œå¸®åŠ©å¦‚ä¸‹ 12345678910111213141516171819202122root@fuzzing-5:/mnt/disk/halfempty# ./upx.out_x86-64                       Ultimate Packer for eXecutables         ...</div></div></div></a><a class="pagination-related" href="/en/How_do_you_actually_find_bugs/" title="Keynote - How Do You Actually Find Bugs?"><img class="cover" src="https://images.unsplash.com/photo-1646026371686-79950ceb6daa?w=640" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-09-06</div><div class="info-item-2">Keynote - How Do You Actually Find Bugs?</div></div><div class="info-2"><div class="info-item-1">https://www.youtube.com/watch?v=7Ysy6iA2sqA&amp;ab_channel=OffensiveCon  Temperament Curiosity Detail-oriented Ability to deal with failure and continual evidence that youâ€™re wrong   Learn how to deal with failure Two projects (can be unrealeted, or different parts of the same) Learn to recognize whe you have hit a wall and have become unproductive Switch to your secondary project   Consider having a development project as your seconary project Do an achiveable, measurable task Regain a sense...</div></div></div></a><a class="pagination-related" href="/cn/qemu_kvm/" title="VMware Workstation Windows 10 host Ubuntu 18.04 Guest ä¸­åŠ è½½ Linux å†…æ ¸ kvm æ¨¡å—"><img class="cover" src="https://images.unsplash.com/photo-1646026371686-79950ceb6daa?w=640" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-11-28</div><div class="info-item-2">VMware Workstation Windows 10 host Ubuntu 18.04 Guest ä¸­åŠ è½½ Linux å†…æ ¸ kvm æ¨¡å—</div></div><div class="info-2"><div class="info-item-1">è¿™é‡Œåœ¨ VMware Workstation Guset OS é‡Œä½¿ç”¨ qemu çš„ç”¨æ³•ï¼Œæœ‰ç‚¹åƒä¿„ç½—æ–¯å¥—å¨ƒã€‚ qemu.sh 123456789101112qemu-system-x86_64 \  -m 2G \  -smp 2 \  -kernel $KERNEL/arch/x86â€”â€”64/boot/bzImage \  -append &quot;console=ttyS0 root=/dev/sda earlyprintk=serial net.ifnames=0&quot; \  -drive file=$IMAGE/bullseye.img,format=raw \  -net user,host=10.0.2.10,hostfwd=tcp:127.0.0.1:10021-:22 \  -net nic,model=e1000 \  -enable-kvm \  -nographic \  -pidfile vm.pid \  2&gt;&amp;1 | tee vm.log  æ‰§è¡Œå‘½ä»¤å bash ./qemu.sh åæŠ¥é”™ 12Could not access K...</div></div></div></a><a class="pagination-related" href="/cn/webview_java/" title="Android WebView æ¼æ´"><img class="cover" src="https://images.unsplash.com/photo-1646026371686-79950ceb6daa?w=640" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-09-06</div><div class="info-item-2">Android WebView æ¼æ´</div></div><div class="info-2"><div class="info-item-1">â˜† æ¥è‡ª developer.android.com çš„ä¿¡æ¯Android å®˜æ–¹ç½‘ç«™å¯¹addJavascriptInterfaceçš„ä»‹ç»å¦‚ä¸‹ï¼š 123456789101112public void addJavascriptInterface (Object object, String name)  Added in API level 1Injects the supplied Java object into this WebView. The object is injected intothe JavaScript context of the main frame, using the supplied name. This allows the Java object&#x27;s methods to be accessed from JavaScript. For applicationstargeted to API level JELLY_BEAN_MR1 and above, only public methods that are annotated w...</div></div></div></a><a class="pagination-related" href="/cn/onefuzz/" title="onefuzz ç®€å•åˆ†æ"><img class="cover" src="https://images.unsplash.com/photo-1646026371686-79950ceb6daa?w=640" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-09-06</div><div class="info-item-2">onefuzz ç®€å•åˆ†æ</div></div><div class="info-2"><div class="info-item-1">deploy agent (éƒ¨ç½²)123unzip onefuzz-deployment-$VERSION.zippip install -r requirements.txt./deploy.py $REGION $RESOURCE_GROUP_NAME $ONEFUZZ_INSTANCE_NAME $CONTACT_EMAIL_ADDRESS  Azure CLI logged in åï¼Œæ‰§è¡Œä¸Šé¢å‘½ä»¤å¯ä»¥åœ¨ Azure ä¸Šéƒ¨ç½² agent éœ€è¦è®¢é˜… Azureï¼Œ å¯èƒ½è¦æ”¶è´¹ å®‰è£… onefuzz CLI123wget https://github.com/microsoft/onefuzz/releases/download/1.0.0/onefuzz-1.0.0-py3-none-any.whlwget https://github.com/microsoft/onefuzz/releases/download/1.0.0/onefuzztypes-1.0.0-py3-none-any.whlpip install ./onefuzz*.whl  æ‰§è¡Œ fuzz ä»»åŠ¡1on...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/images/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">æ›¼ç¦å‰</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">173</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">18</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">0</div></a></div><div class="card-info-social-icons"><a class="social-icon" href="/rss.xml" target="_blank" title="RSS"><i class="fas fa-rss" style="color: #4c566a;"></i></a><a class="social-icon" href="https://x.com/henices" target="_blank" title="Twitter"><i class="fab fa-x-twitter" style="color: #4c566a;"></i></a><a class="social-icon" href="mailto:zhouzhenster@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4c566a;"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8B%E8%BD%BD%E6%BA%90%E7%A0%81"><span class="toc-number">1.</span> <span class="toc-text">ä¸‹è½½æºç </span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BC%96%E8%AF%91"><span class="toc-number">2.</span> <span class="toc-text">ç¼–è¯‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#afl-fuzz"><span class="toc-number">3.</span> <span class="toc-text">afl-fuzz</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="toc-number">4.</span> <span class="toc-text">å‚è€ƒèµ„æ–™</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>æœ€æ–°æ–‡ç« </span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/cn/gemini_in_chrome/" title="å¼€å¯ Gemini in Chrome çš„æ–¹æ³•">å¼€å¯ Gemini in Chrome çš„æ–¹æ³•</a><time datetime="2026-01-29T16:00:00.000Z" title="å‘è¡¨äº 2026-01-30 00:00:00">2026-01-30</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/cn/sucess_is_the_mother_of_sucess/" title="æˆåŠŸæ˜¯æˆåŠŸä¹‹æ¯">æˆåŠŸæ˜¯æˆåŠŸä¹‹æ¯</a><time datetime="2026-01-27T16:00:00.000Z" title="å‘è¡¨äº 2026-01-28 00:00:00">2026-01-28</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/cn/ai_studio_podcast_transcript/" title="åˆ©ç”¨ AI Studio æ•´ç†æ’­å®¢éŸ³é¢‘çš„é€å­—ç¨¿">åˆ©ç”¨ AI Studio æ•´ç†æ’­å®¢éŸ³é¢‘çš„é€å­—ç¨¿</a><time datetime="2026-01-07T16:00:00.000Z" title="å‘è¡¨äº 2026-01-08 00:00:00">2026-01-08</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/cn/anti-weakness-learning/" title="åè„†å¼±å¼çš„å­¦ä¹ æ–¹æ³•">åè„†å¼±å¼çš„å­¦ä¹ æ–¹æ³•</a><time datetime="2025-12-30T16:00:00.000Z" title="å‘è¡¨äº 2025-12-31 00:00:00">2025-12-31</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/cn/keep_hard/" title="åšæŒçš„ç§˜è¯€">åšæŒçš„ç§˜è¯€</a><time datetime="2025-12-15T16:00:00.000Z" title="å‘è¡¨äº 2025-12-16 00:00:00">2025-12-16</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(https://images.unsplash.com/photo-1646026371686-79950ceb6daa?w=640);"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2025 - 2026 By æ›¼ç¦å‰</span><span class="framework-info"><span>æ¡†æ¶ </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="ç®€ç¹è½¬æ¢">ç¹</button><button id="darkmode" type="button" title="æ—¥é—´å’Œå¤œé—´æ¨¡å¼åˆ‡æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.5.4"></script><script src="/js/main.js?v=5.5.4"></script><script src="/js/tw_cn.js?v=5.5.4"></script><div class="js-pjax"><script>(() => {
  const parseViewBox = viewBox => {
    if (!viewBox) return null
    const parts = viewBox.trim().split(/[\s,]+/).map(n => Number(n))
    if (parts.length !== 4 || parts.some(n => Number.isNaN(n))) return null
    return parts
  }

  const getSvgViewBox = svg => {
    const attr = parseViewBox(svg.getAttribute('viewBox'))
    if (attr) return attr

    // Fallback: use bbox to build a viewBox
    try {
      const bbox = svg.getBBox()
      if (bbox && bbox.width && bbox.height) return [bbox.x, bbox.y, bbox.width, bbox.height]
    } catch (e) {
      // getBBox may fail on some edge cases; ignore
    }

    const w = Number(svg.getAttribute('width')) || 0
    const h = Number(svg.getAttribute('height')) || 0
    if (w > 0 && h > 0) return [0, 0, w, h]
    return [0, 0, 100, 100]
  }

  const setSvgViewBox = (svg, vb) => {
    svg.setAttribute('viewBox', `${vb[0]} ${vb[1]} ${vb[2]} ${vb[3]}`)
  }

  const clamp = (v, min, max) => Math.max(min, Math.min(max, v))

  const openSvgInNewTab = ({ source, initViewBox }) => {
    const getClonedSvg = () => {
      if (typeof source === 'string') {
        const template = document.createElement('template')
        template.innerHTML = source.trim()
        const svg = template.content.querySelector('svg')
        return svg ? svg.cloneNode(true) : null
      }
      if (source && typeof source.cloneNode === 'function') {
        return source.cloneNode(true)
      }
      return null
    }

    const clone = getClonedSvg()
    if (!clone) return
    if (initViewBox && initViewBox.length === 4) {
      clone.setAttribute('viewBox', initViewBox.join(' '))
    }
    if (!clone.getAttribute('xmlns')) clone.setAttribute('xmlns', 'http://www.w3.org/2000/svg')
    if (!clone.getAttribute('xmlns:xlink') && clone.outerHTML.includes('xlink:')) {
      clone.setAttribute('xmlns:xlink', 'http://www.w3.org/1999/xlink')
    }
    // inject background to match current theme
    const isDark = document.documentElement.getAttribute('data-theme') === 'dark'
    const bg = getComputedStyle(document.body).backgroundColor || (isDark ? '#1e1e1e' : '#ffffff')
    if (!clone.style.background) clone.style.background = bg

    const serializer = new XMLSerializer()
    const svgSource = serializer.serializeToString(clone)
    const htmlSource = `<!doctype html><html><head><meta charset="utf-8" />
      <style>
        html, body { width: 100%; height: 100%; margin: 0; display: flex; align-items: center; justify-content: center; background: ${bg}; }
        svg { max-width: 100%; max-height: 100%; height: auto; width: auto; }
      </style>
      </head><body>${svgSource}</body></html>`
    const blob = new Blob([htmlSource], { type: 'text/html;charset=utf-8' })
    const url = URL.createObjectURL(blob)
    window.open(url, '_blank', 'noopener')
    setTimeout(() => URL.revokeObjectURL(url), 30000)
  }

  const attachMermaidViewerButton = wrap => {
    let btn = wrap.querySelector('.mermaid-open-btn')
    if (!btn) {
      btn = document.createElement('button')
      btn.type = 'button'
      btn.className = 'mermaid-open-btn'
      wrap.appendChild(btn)
    }

    btn.innerHTML = '<i class="fa fa-search fa-fw" aria-hidden="true"></i>'

    if (!btn.__mermaidViewerBound) {
      btn.addEventListener('click', e => {
        e.preventDefault()
        e.stopPropagation()
        const svg = wrap.__mermaidOriginalSvg || wrap.querySelector('svg')
        if (!svg) return
        const initViewBox = wrap.__mermaidInitViewBox
        if (typeof svg === 'string') {
          openSvgInNewTab({ source: svg, initViewBox })
          return
        }
        openSvgInNewTab({ source: svg, initViewBox })
      })
      btn.__mermaidViewerBound = true
    }
  }

  // Zoom around a point (px, py) in the SVG viewport (in viewBox coordinates)
  const zoomAtPoint = (vb, factor, px, py) => {
    const w = vb[2] * factor
    const h = vb[3] * factor
    const nx = px - (px - vb[0]) * factor
    const ny = py - (py - vb[1]) * factor
    return [nx, ny, w, h]
  }

  const initMermaidGestures = wrap => {
    const svg = wrap.querySelector('svg')
    if (!svg) return

    // Ensure viewBox exists so gestures always work
    const initVb = getSvgViewBox(svg)
    wrap.__mermaidInitViewBox = initVb
    wrap.__mermaidCurViewBox = initVb.slice()
    setSvgViewBox(svg, initVb)

    // Avoid binding multiple times on themeChange/pjax
    if (wrap.__mermaidGestureBound) return
    wrap.__mermaidGestureBound = true

    // Helper: map client (viewport) coordinate -> viewBox coordinate
    const clientToViewBox = (clientX, clientY) => {
      const rect = svg.getBoundingClientRect()
      const vb = wrap.__mermaidCurViewBox || getSvgViewBox(svg)
      const x = vb[0] + (clientX - rect.left) * (vb[2] / rect.width)
      const y = vb[1] + (clientY - rect.top) * (vb[3] / rect.height)
      return { x, y, rect, vb }
    }

    const state = {
      pointers: new Map(),
      startVb: null,
      startDist: 0,
      startCenter: null
    }

    const clampVb = vb => {
      const init = wrap.__mermaidInitViewBox || vb
      const minW = init[2] * 0.1
      const maxW = init[2] * 10
      const minH = init[3] * 0.1
      const maxH = init[3] * 10
      vb[2] = clamp(vb[2], minW, maxW)
      vb[3] = clamp(vb[3], minH, maxH)
      return vb
    }

    const setCurVb = vb => {
      vb = clampVb(vb)
      wrap.__mermaidCurViewBox = vb
      setSvgViewBox(svg, vb)
    }

    const onPointerDown = e => {
      // Allow only primary button for mouse
      if (e.pointerType === 'mouse' && e.button !== 0) return
      svg.setPointerCapture(e.pointerId)
      state.pointers.set(e.pointerId, { x: e.clientX, y: e.clientY })

      if (state.pointers.size === 1) {
        state.startVb = (wrap.__mermaidCurViewBox || getSvgViewBox(svg)).slice()
      } else if (state.pointers.size === 2) {
        const pts = [...state.pointers.values()]
        const dx = pts[0].x - pts[1].x
        const dy = pts[0].y - pts[1].y
        state.startDist = Math.hypot(dx, dy)
        state.startVb = (wrap.__mermaidCurViewBox || getSvgViewBox(svg)).slice()
        state.startCenter = { x: (pts[0].x + pts[1].x) / 2, y: (pts[0].y + pts[1].y) / 2 }
      }
    }

    const onPointerMove = e => {
      if (!state.pointers.has(e.pointerId)) return
      state.pointers.set(e.pointerId, { x: e.clientX, y: e.clientY })

      // Pan with 1 pointer
      if (state.pointers.size === 1 && state.startVb) {
        const p = [...state.pointers.values()][0]
        const prev = { x: e.clientX - e.movementX, y: e.clientY - e.movementY }
        // movementX/Y unreliable on touch, compute from stored last position
        const last = wrap.__mermaidLastSinglePointer || p
        const dxClient = p.x - last.x
        const dyClient = p.y - last.y
        wrap.__mermaidLastSinglePointer = p

        const { rect } = clientToViewBox(p.x, p.y)
        const vb = (wrap.__mermaidCurViewBox || getSvgViewBox(svg)).slice()
        const dx = dxClient * (vb[2] / rect.width)
        const dy = dyClient * (vb[3] / rect.height)
        setCurVb([vb[0] - dx, vb[1] - dy, vb[2], vb[3]])
        return
      }

      // Pinch zoom with 2 pointers
      if (state.pointers.size === 2 && state.startVb && state.startDist > 0) {
        const pts = [...state.pointers.values()]
        const dx = pts[0].x - pts[1].x
        const dy = pts[0].y - pts[1].y
        const dist = Math.hypot(dx, dy)
        if (!dist) return
        const factor = state.startDist / dist // dist bigger => zoom in (viewBox smaller)

        const cx = (pts[0].x + pts[1].x) / 2
        const cy = (pts[0].y + pts[1].y) / 2
        const centerClient = { x: cx, y: cy }

        const pxy = clientToViewBox(centerClient.x, centerClient.y)
        const cpx = pxy.x
        const cpy = pxy.y

        const vb = zoomAtPoint(state.startVb, factor, cpx, cpy)
        setCurVb(vb)
      }
    }

    const onPointerUpOrCancel = e => {
      state.pointers.delete(e.pointerId)
      if (state.pointers.size === 0) {
        state.startVb = null
        state.startDist = 0
        state.startCenter = null
        wrap.__mermaidLastSinglePointer = null
      } else if (state.pointers.size === 1) {
        // reset single pointer baseline to avoid jump
        wrap.__mermaidLastSinglePointer = [...state.pointers.values()][0]
      }
    }

    // Wheel zoom (mouse/trackpad)
    const onWheel = e => {
      // ctrlKey on mac trackpad pinch; we treat both as zoom
      e.preventDefault()
      const delta = e.deltaY
      const zoomFactor = delta > 0 ? 1.1 : 0.9
      const { x, y } = clientToViewBox(e.clientX, e.clientY)
      const vb = (wrap.__mermaidCurViewBox || getSvgViewBox(svg)).slice()
      setCurVb(zoomAtPoint(vb, zoomFactor, x, y))
    }

    const onDblClick = () => {
      const init = wrap.__mermaidInitViewBox
      if (!init) return
      wrap.__mermaidCurViewBox = init.slice()
      setSvgViewBox(svg, init)
    }

    svg.addEventListener('pointerdown', onPointerDown)
    svg.addEventListener('pointermove', onPointerMove)
    svg.addEventListener('pointerup', onPointerUpOrCancel)
    svg.addEventListener('pointercancel', onPointerUpOrCancel)
    svg.addEventListener('wheel', onWheel, { passive: false })
    svg.addEventListener('dblclick', onDblClick)
  }

  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild

      // Clear old render (themeChange/pjax will rerun)
      const oldSvg = item.querySelector('svg')
      if (oldSvg) oldSvg.remove()
      item.__mermaidGestureBound = false

      const config = mermaidSrc.dataset.config ? JSON.parse(mermaidSrc.dataset.config) : {}
      if (!config.theme) {
        config.theme = theme
      }
      const mermaidThemeConfig = `%%{init: ${JSON.stringify(config)}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
        if (true) initMermaidGestures(item)
        item.__mermaidOriginalSvg = svg
        if (true) attachMermaidViewerButton(item)
      }


      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (false) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid@11.12.2/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">æœç´¢</span><i class="fas fa-spinner fa-pulse" id="loading-status" hidden="hidden"></i><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  æ•°æ®åŠ è½½ä¸­</span></div><div class="local-search-input"><input placeholder="æœç´¢æ–‡ç« " type="text"/></div><hr/><div id="local-search-results"></div><div class="ais-Pagination" id="local-search-pagination" style="display:none;"><ul class="ais-Pagination-list"></ul></div><div id="local-search-stats"></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=5.5.4"></script></div></div></body></html>