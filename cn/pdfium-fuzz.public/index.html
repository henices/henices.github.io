<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>ä½¿ç”¨ afl-fuzz fuzz pdfium | å®‰å…¨ä»£ç </title><meta name="author" content="henices"><meta name="copyright" content="henices"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="ä¸‹è½½æºç å…ˆåœ¨ https:&#x2F;&#x2F;pdfium.googlesource.com&#x2F;pdfium&#x2F; ä¸‹è½½æºç . 12345mkdir repocd repogclient config --unmanaged https:&#x2F;&#x2F;pdfium.googlesource.com&#x2F;pdfium.gitgclient synccd pdfium  gclient å‘½ä»¤åœ¨ depot_tools ä¸­, éœ€è¦å®‰è£… å‚">
<meta property="og:type" content="article">
<meta property="og:title" content="ä½¿ç”¨ afl-fuzz fuzz pdfium">
<meta property="og:url" content="https://usmacd.com/cn/pdfium-fuzz.public/index.html">
<meta property="og:site_name" content="å®‰å…¨ä»£ç ">
<meta property="og:description" content="ä¸‹è½½æºç å…ˆåœ¨ https:&#x2F;&#x2F;pdfium.googlesource.com&#x2F;pdfium&#x2F; ä¸‹è½½æºç . 12345mkdir repocd repogclient config --unmanaged https:&#x2F;&#x2F;pdfium.googlesource.com&#x2F;pdfium.gitgclient synccd pdfium  gclient å‘½ä»¤åœ¨ depot_tools ä¸­, éœ€è¦å®‰è£… å‚">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://images.unsplash.com/photo-1646026371686-79950ceb6daa?w=640">
<meta property="article:published_time" content="2022-12-07T16:00:00.000Z">
<meta property="article:modified_time" content="2022-12-07T16:00:00.000Z">
<meta property="article:author" content="henices">
<meta property="article:tag" content="Security">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://images.unsplash.com/photo-1646026371686-79950ceb6daa?w=640"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "ä½¿ç”¨ afl-fuzz fuzz pdfium",
  "url": "https://usmacd.com/cn/pdfium-fuzz.public/",
  "image": "https://images.unsplash.com/photo-1646026371686-79950ceb6daa?w=640",
  "datePublished": "2022-12-07T16:00:00.000Z",
  "dateModified": "2022-12-07T16:00:00.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "henices",
      "url": "https://usmacd.com"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://usmacd.com/cn/pdfium-fuzz.public/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css?v=5.5.2"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'undefined')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'undefined')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"pagination":{"enable":false,"hitsPerPage":8},"languages":{"hits_empty":"æœªæ‰¾åˆ°ç¬¦åˆæ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}","hits_stats":"å…±æ‰¾åˆ° ${hits} ç¯‡æ–‡ç« "}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"ç¹","msgToSimplifiedChinese":"ç°¡"},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶å¤±è´¥',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.12.0/dist/infinitegrid.min.js',
    buttonText: 'åŠ è½½æ›´å¤š'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'ä½¿ç”¨ afl-fuzz fuzz pdfium',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><meta name="generator" content="Hexo 8.1.0"><link rel="alternate" href="/atom.xml" title="å®‰å…¨ä»£ç " type="application/atom+xml">
<link rel="alternate" href="/rss.xml" title="å®‰å…¨ä»£ç " type="application/rss+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/images/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">165</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">17</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">0</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> å½’æ¡£</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/thoughts"><i class="fa-fw fas fa-cloud"></i><span> æƒ³æ³•</span></a></div><div class="menus_item"><a class="site-page" href="/links/"><i class="fa-fw fas fa-link"></i><span> å‹é“¾</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> å…³äº</span></a></div><div class="menus_item"><a class="site-page" href="/sitemap.xml"><span> sitemap</span></a></div><div class="menus_item"><a class="site-page" href="/random.html"><span> random</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://images.unsplash.com/photo-1646026371686-79950ceb6daa?w=640);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">å®‰å…¨ä»£ç </span></a><a class="nav-page-title" href="/"><span class="site-name">ä½¿ç”¨ afl-fuzz fuzz pdfium</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  è¿”å›é¦–é¡µ</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> æœç´¢</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> å½’æ¡£</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/thoughts"><i class="fa-fw fas fa-cloud"></i><span> æƒ³æ³•</span></a></div><div class="menus_item"><a class="site-page" href="/links/"><i class="fa-fw fas fa-link"></i><span> å‹é“¾</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> å…³äº</span></a></div><div class="menus_item"><a class="site-page" href="/sitemap.xml"><span> sitemap</span></a></div><div class="menus_item"><a class="site-page" href="/random.html"><span> random</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">ä½¿ç”¨ afl-fuzz fuzz pdfium</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2022-12-07T16:00:00.000Z" title="å‘è¡¨äº 2022-12-08 00:00:00">2022-12-08</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2022-12-07T16:00:00.000Z" title="æ›´æ–°äº 2022-12-08 00:00:00">2022-12-08</time></span></div><div class="meta-secondline"></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h2 id="ä¸‹è½½æºç "><a href="#ä¸‹è½½æºç " class="headerlink" title="ä¸‹è½½æºç "></a>ä¸‹è½½æºç </h2><p>å…ˆåœ¨ <a target="_blank" rel="noopener" href="https://pdfium.googlesource.com/pdfium/">https://pdfium.googlesource.com/pdfium/</a> ä¸‹è½½æºç .</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> repo</span><br><span class="line"><span class="built_in">cd</span> repo</span><br><span class="line">gclient config --unmanaged https://pdfium.googlesource.com/pdfium.git</span><br><span class="line">gclient <span class="built_in">sync</span></span><br><span class="line"><span class="built_in">cd</span> pdfium</span><br></pre></td></tr></table></figure>

<p>gclient å‘½ä»¤åœ¨ depot_tools ä¸­, éœ€è¦å®‰è£… å‚è€ƒä¸‹é¢çš„æ–‡ç« </p>
<p><a target="_blank" rel="noopener" href="http://www.chromium.org/developers/how-tos/install-depot-tools">http://www.chromium.org/developers/how-tos/install-depot-tools</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git clone https://chromium.googlesource.com/chromium/tools/depot_tools.git</span><br><span class="line">export PATH=`pwd`/depot_tools:&quot;$PATH&quot;</span><br></pre></td></tr></table></figure>

<p>ä¸»è¦gclient sync åŒæ­¥æ—¶éœ€è¦ç¿»å¢™ï¼Œå¯ä»¥ç®€å•çš„ä½¿ç”¨ç¯å¢ƒå˜é‡çš„æ–¹æ³•ã€‚</p>
<p><code>https_proxy=http://localhost:8118 gclient sync</code> ä¸‹è½½ download google storageè¿‡<br>ç¨‹ä¸­è¿˜ä¼šé‡åˆ°ä¸€ä¸ªç½‘ç»œé—®é¢˜ï¼Œéœ€è¦ç¼–å†™é…ç½®æ–‡ä»¶ ~&#x2F;.boto</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[Boto]</span><br><span class="line">proxy = 127.0.0.1  # ä¸å¸¦ http://</span><br><span class="line">proxy_port= 8118</span><br></pre></td></tr></table></figure>

<p><code>export NO_AUTH_BOTO_CONFIG=~/.boto</code></p>
<p>æºç åŒ…éå¸¸å¤§ï¼Œå¤§æ¦‚æœ‰1Gå¤šï¼Œéœ€è¦è€å¿ƒç­‰å¾…ã€‚</p>
<h2 id="ç¼–è¯‘"><a href="#ç¼–è¯‘" class="headerlink" title="ç¼–è¯‘"></a>ç¼–è¯‘</h2><p>ç¼–è¯‘éœ€è¦ä½¿ç”¨ ubuntu æˆ–è€… Debian ç³»ç»Ÿï¼Œå…¶ä»–ç³»ç»Ÿçš„ä¾èµ–é—®é¢˜è§£å†³èµ·æ¥æ¯”è¾ƒéº»çƒ¦ï¼Œ<br>å¦‚æœæ˜¯ä¸Šé¢ä¸¤ç§æ“ä½œç³»ç»Ÿçš„è¯ï¼Œæœ‰è„šæœ¬è‡ªåŠ¨å®‰è£…ä¾èµ–ã€‚</p>
<p><code>./build/install-build-deps.sh</code></p>
<p>å®‰è£…å®Œæ‰€ä»¥ä¾èµ–åå°±å¯ä»¥å¼€å§‹ç¼–è¯‘äº†ï¼Œé¦–å…ˆè¦å…ˆç”Ÿæˆ gn æ–‡ä»¶ (2016 å¹´google æ”¾å¼ƒä½¿ç”¨åŸæ¥çš„ gyp ç¼–è¯‘æ–¹å¼)</p>
<p><code>gn args out/afl</code> ä¼šè°ƒç”¨vim ç¼–è¯‘å™¨ï¼Œ è¾“å…¥ä¸‹é¢çš„å†…å®¹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># Build arguments go here.</span><br><span class="line"># See &quot;gn args &lt;out_dir&gt; --list&quot; for available build arguments.</span><br><span class="line">use_goma = false # Googlers only. Make sure goma is installed and running first.</span><br><span class="line">is_debug = false  # Enable debugging features.</span><br><span class="line"></span><br><span class="line">pdf_use_skia = true # Set true to enable experimental skia backend.</span><br><span class="line">pdf_use_skia_paths = false  # Set true to enable experimental skia backend (paths only).</span><br><span class="line"></span><br><span class="line">pdf_enable_xfa = true  # Set false to remove XFA support (implies JS support).</span><br><span class="line">pdf_enable_v8 = true  # Set false to remove Javascript support.</span><br><span class="line">pdf_is_standalone = true  # Set for a non-embedded build.</span><br><span class="line">is_component_build = false # Disable component build (must be false)</span><br><span class="line">v8_static_library = true</span><br><span class="line"></span><br><span class="line">clang_use_chrome_plugins = false  # Currently must be false.</span><br><span class="line">use_sysroot = false  # Currently must be false on Linux, but entirely omitted on windows.</span><br><span class="line"></span><br><span class="line">use_afl = true</span><br><span class="line">#is_asan = true</span><br><span class="line">enable_nacl = true</span><br><span class="line">optimize_for_fuzzing = true</span><br><span class="line">symbol_level=1</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ ASAN ç¼–è¯‘ä¼šæŠ¥é”™ï¼Œæš‚æ—¶ä¸å¼€å¯ï¼Œæ¥ä¸‹æ¥è¦è§£å†³ afl çš„é—®é¢˜äº†ï¼Œ pdfium çš„ third_party<br>ä¸­ä¸åŒ…å« afl-fuzz çš„æºä»£ç ï¼Œéœ€è¦åˆ° chromium.googlesource.com é¡¹ç›®ä¸‹è½½ã€‚<br>chromium é¡¹ç›®æ”¯æŒ libfuzzer å’Œ afl-fuzzï¼Œåªè¦ä½¿ç”¨å¼€å…³ï¼Œ <code>use_libfuzzer = true</code><br>æˆ–è€… <code>use_afl = true</code> å³å¯æ‰“å¼€ã€‚</p>
<p>è¦ç¼–è¯‘ç”Ÿæˆ pdfium_test, å¿…é¡»æŒ‡å®š pdf_is_standalone &#x3D; true, pdfium æºç ä»“åº“ä¸­æ²¡æœ‰<br>afl-fuzz çš„ä»£ç ï¼Œéœ€è¦è‡ªå·±ä¸‹è½½ã€‚</p>
<p><a target="_blank" rel="noopener" href="https://chromium.googlesource.com/chromium/src/third_party/+/master/afl/">https://chromium.googlesource.com/chromium/src/third_party/+/master/afl/</a></p>
<p>å¯ä»¥ç›´æ¥ä¸‹è½½ .tgz æ–‡ä»¶<br><a target="_blank" rel="noopener" href="https://chromium.googlesource.com/chromium/src/third_party/+archive/master/afl.tar.gz">https://chromium.googlesource.com/chromium/src/third_party/+archive/master/afl.tar.gz</a></p>
<p>ä¸‹è½½åå°†æºç  copy åˆ° ~&#x2F;repo&#x2F;pdfium&#x2F;third_party&#x2F;afl ä¸­, ä½¿ç”¨ <code>ninja -C out/afl</code> ç¼–è¯‘æ•´ä¸ªé¡¹ç›®ã€‚</p>
<p>ä½¿ç”¨ <code>is_debug=false</code> å¯ä»¥æ˜æ˜¾æé«˜fuzzing é€Ÿåº¦ï¼Œåº”è¯¥å¼€å¯ã€‚å¦å¤–ä¸€ä¸ªæ¯”è¾ƒæœ‰ç”¨çš„æ˜¯<br><code>symbol_level</code>, è®¾ç½® symbol_level&#x3D;1 å¯ä»¥æ·»åŠ å¿…è¦çš„è°ƒè¯•ç¬¦å·ï¼Œä¾¿äºgdbè°ƒè¯•ã€‚</p>
<p>åœ¨ç¼–è¯‘ skia backend æ”¯æŒæ—¶ï¼Œéœ€è¦é¢å¤–å¤„ç†ï¼Œ ä½¿ç”¨ C++14</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use_cxx11 = false </span><br></pre></td></tr></table></figure>

<h2 id="afl-fuzz"><a href="#afl-fuzz" class="headerlink" title="afl-fuzz"></a>afl-fuzz</h2><p>éšç€ chromium ä»£ç çš„æ›´æ–°ï¼Œ afl æºç ç¼–è¯‘å‡ºç°äº†ä¸€äº›å°é—®é¢˜ï¼Œéœ€è¦å¤„ç†ã€‚</p>
<p>src&#x2F;third_party&#x2F;afl&#x2F;patches&#x2F;0001-fix-build-with-std-c11.patch</p>
<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">diff --git a/afl-fuzz.c b/afl-fuzz.c</span></span><br><span class="line"><span class="comment">index 01b4afef0ecc..f0d564a33037 100644</span></span><br><span class="line"><span class="comment">--- a/afl-fuzz.c</span></span><br><span class="line"><span class="comment">+++ b/afl-fuzz.c</span></span><br><span class="line"><span class="meta">@@ -23,7 +23,9 @@</span></span><br><span class="line"> #define AFL_MAIN</span><br><span class="line"> #define MESSAGES_TO_STDOUT</span><br><span class="line"> </span><br><span class="line"><span class="addition">+#ifndef _GNU_SOURCE</span></span><br><span class="line"> #define _GNU_SOURCE</span><br><span class="line"><span class="addition">+#endif</span></span><br><span class="line"> #define _FILE_OFFSET_BITS 64</span><br><span class="line"> </span><br><span class="line"> #include &quot;config.h&quot;</span><br><span class="line"><span class="comment">diff --git a/types.h b/types.h</span></span><br><span class="line"><span class="comment">index 784d3a7a286d..d24d1fdd97e8 100644</span></span><br><span class="line"><span class="comment">--- a/types.h</span></span><br><span class="line"><span class="comment">+++ b/types.h</span></span><br><span class="line"><span class="meta">@@ -78,7 +78,7 @@</span> typedef int64_t  s64;</span><br><span class="line"> #define STRINGIFY(x) STRINGIFY_INTERNAL(x)</span><br><span class="line"> </span><br><span class="line"> #define MEM_BARRIER() \</span><br><span class="line"><span class="deletion">-  asm volatile(&quot;&quot; ::: &quot;memory&quot;)</span></span><br><span class="line"><span class="addition">+  __asm__ volatile(&quot;&quot; ::: &quot;memory&quot;)</span></span><br><span class="line"> </span><br><span class="line"> #define likely(_x)   __builtin_expect(!!(_x), 1)</span><br><span class="line"> #define unlikely(_x)  __builtin_expect(!!(_x), 0)</span><br></pre></td></tr></table></figure>

<p>afl-fuzz çš„ä½¿ç”¨å’Œå…¶ä»–é¡¹ç›®ä¸€æ ·ã€‚åˆå§‹çš„ç§å­æ–‡ä»¶æœ‰å‡ ä¸ªåœ°æ–¹å¯ä»¥è·å–ï¼š</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://pdfium.googlesource.com/pdfium/+/refs/heads/master/testing/resources/">https://pdfium.googlesource.com/pdfium/+/refs/heads/master/testing/resources/</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/mozilla/pdf.js/tree/master/test/pdfs">https://github.com/mozilla/pdf.js/tree/master/test/pdfs</a></li>
</ul>
<p><code>./afl-fuzz -M 01 -m 1024 -i /home/henices/input -o /home/henices/out -x /tmp/pdf.dict -- ./pdfium_test @@</code></p>
<h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ul>
<li><a target="_blank" rel="noopener" href="https://mariomalwareanalysis.blogspot.com/2012/02/how-to-embed-javascript-into-pdf.html">https://mariomalwareanalysis.blogspot.com/2012/02/how-to-embed-javascript-into-pdf.html</a></li>
<li><a target="_blank" rel="noopener" href="https://www.blackhat.com/docs/asia-17/materials/asia-17-Liu-Dig-Into-The-Attack-Surface-Of-PDF-And-Gain-100-CVEs-In-1-Year.pdf">https://www.blackhat.com/docs/asia-17/materials/asia-17-Liu-Dig-Into-The-Attack-Surface-Of-PDF-And-Gain-100-CVEs-In-1-Year.pdf</a></li>
<li><a target="_blank" rel="noopener" href="https://chromium.googlesource.com/chromium/src/+/master/testing/libfuzzer/getting_started.md">https://chromium.googlesource.com/chromium/src/+/master/testing/libfuzzer/getting_started.md</a></li>
<li><a target="_blank" rel="noopener" href="https://chromium.googlesource.com/chromium/src/+/master/testing/libfuzzer/efficient_fuzzer.md">https://chromium.googlesource.com/chromium/src/+/master/testing/libfuzzer/efficient_fuzzer.md</a></li>
<li><a target="_blank" rel="noopener" href="https://chromium.googlesource.com/chromium/src/+/master/testing/libfuzzer/reproducing.md">https://chromium.googlesource.com/chromium/src/+/master/testing/libfuzzer/reproducing.md</a></li>
<li><a target="_blank" rel="noopener" href="https://fuzzing-project.org/tutorial2.html">https://fuzzing-project.org/tutorial2.html</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.chromium.org/2012/04/fuzzing-for-security.html">https://blog.chromium.org/2012/04/fuzzing-for-security.html</a></li>
<li><a target="_blank" rel="noopener" href="https://chromium.googlesource.com/chromium/src/+/lkcr/docs/linux_debugging.md">https://chromium.googlesource.com/chromium/src/+/lkcr/docs/linux_debugging.md</a></li>
<li><a target="_blank" rel="noopener" href="https://web.archive.org/web/20141010035745/http://gnupdf.org/Introduction_to_PDF">https://web.archive.org/web/20141010035745/http://gnupdf.org/Introduction_to_PDF</a></li>
<li><a target="_blank" rel="noopener" href="https://mariomalwareanalysis.blogspot.com/2012/02/how-to-manually-create-pdf.html">https://mariomalwareanalysis.blogspot.com/2012/02/how-to-manually-create-pdf.html</a></li>
<li><a target="_blank" rel="noopener" href="https://mariomalwareanalysis.blogspot.com/2012/02/how-to-embed-javascript-into-pdf.html">https://mariomalwareanalysis.blogspot.com/2012/02/how-to-embed-javascript-into-pdf.html</a></li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="https://usmacd.com">henices</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="https://usmacd.com/cn/pdfium-fuzz.public/">https://usmacd.com/cn/pdfium-fuzz.public/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥æº <a href="https://usmacd.com" target="_blank">å®‰å…¨ä»£ç </a>ï¼</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Security/">Security</a></div><div class="post-share"><div class="social-share" data-image="https://images.unsplash.com/photo-1646026371686-79950ceb6daa?w=640" data-sites="facebook,x,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/cn/linyuan_interview/" title="æ—å›­è°ˆæŠ•èµ„"><img class="cover" src="https://images.unsplash.com/photo-1646026371686-79950ceb6daa?w=640" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">ä¸Šä¸€ç¯‡</div><div class="info-item-2">æ—å›­è°ˆæŠ•èµ„</div></div><div class="info-2"><div class="info-item-1">çœ‹äº†ä¸€ä¸ª2012å¹´é‡‡è®¿æ—å›­çš„è§†é¢‘ï¼Œæ¯ä¸ªæˆåŠŸçš„äººå£«å¯¹æŠ•èµ„éƒ½æœ‰è‡ªå·±çš„çœ‹æ³•ã€‚   æŠ•èµ„æœ€é‡è¦çš„è¦å°‘çŠ¯é”™ è™½ç„¶æ²¡æ³•é¢„æµ‹è‚¡ç¥¨èµ°åŠ¿ï¼Œä½†æ˜¯è‚¡ç¥¨ä»·æ ¼çš„é«˜ä½è¿˜æ˜¯éœ€è¦æ¸…æ¥šçš„ï¼Œè™½ç„¶ä»·æ ¼ä½çš„å¯èƒ½ç»§ç»­èµ°ä½ï¼Œä»·æ ¼é«˜çš„å¯èƒ½ç»§ç»­èµ°é«˜ æŠ•æœºå’ŒæŠ•èµ„æ²¡æœ‰æœ¬è´¨åŒºåˆ«ï¼ŒæŠ•æœºçš„ã€Œæœºã€æ˜¯æ‹©æ—¶ï¼Œä»·å€¼æŠ•èµ„ä¹Ÿæ˜¯æ‹©æ—¶ï¼Œå¸‚åœºä¸Šçš„è‚¡ç¥¨ä¾›éœ€å…³ç³»ä¼šå½±å“ä»·æ ¼ éœ€è¦çŸ¥é“å¸‚åœºå‘¨æœŸï¼Œç‰›ç†Šè½®å›ï¼Œä¸åŒçš„å¸‚åœºæ—¶æœŸï¼Œé€‰æ‹©çš„æŠ•èµ„ç­–ç•¥ä¹Ÿä¸åŒ åš3åˆ°5å¹´çš„é•¿çº¿æŠ•èµ„ï¼Œå…³æ³¨å¸‚åœºçš„ä¸»çº¿ï¼Œåœ¨é¾™å¤´è‚¡ä¸Šèµšå¤§é’± æ³¨é‡é£é™©ç®¡ç†ï¼ŒæŠ•èµ„å‰æµ‹ç®—æœ€å·®æƒ…å†µï¼Œåªåœ¨æœ‰æŠŠæ¡æ—¶ä¸‹æ³¨ï¼Œå¹³æ—¶ä¸å¤ªçœ‹ç›˜ ä½¿ç”¨èµ„äº§é…ç½®æ¥åˆ†æ‘Šé£é™©ï¼Œæˆ¿åœ°äº§ã€å€ºåˆ¸ã€è‚¡ç¥¨ç­‰å‡æœ‰æ¶‰çŒ æ¯ä¸ªäººéƒ½æœ‰è‡ªå·±æ“…é•¿çš„æ ‡çš„(èƒ½åŠ›åœˆ)ï¼Œæ—å›­çš„æŠ•èµ„ä¸»çº¿æ˜¯å’Œåƒçš„æœ‰å…³ç³»çš„æ¶ˆè´¹è‚¡  è¿™ç¯‡é‡‡è®¿å‡ºäº†ä¸ªå½©è›‹ğŸ‰ï¼Œä¸»æŒäººé—®æ—å›­å¹³æ—¥éƒ½æœ‰å•¥çˆ±å¥½ã€‚æ—å›­è¯´ä»–æœ‰ä¸¤ä¸ªçˆ±å¥½ï¼š1. é€›å¤œæ€»ä¼š 2. èµ°é•¿è·¯æ—å›­é€›å¤œæ€»ä¼šçš„æ®µå­å·²ç»å¹¿æ³›æµä¼ ï¼Œä¸»æŒäººä¹Ÿæ¥ä¸ä½è¿™è¯èŒ¬ ï¼šï¼‰è®¤çœŸåˆ†æ é€›å¤œæ€»ä¼šæ˜¯çœ‹é«˜ç«¯æ¶ˆè´¹ï¼Œèµ°é•¿è·¯æ˜¯çœ‹æ—¥å¸¸æ¶ˆè´¹ã€‚ä¸€èˆ¬æˆåŠŸçš„æŠ•èµ„äººéƒ½æœ‰è‡ªå·±ç‹¬ç‰¹çš„æŒ‡æ ‡ã€‚ </div></div></div></a><a class="pagination-related" href="/cn/logseq3/" title="Logseq ä½¿ç”¨å°ç»“ ï¼ˆä¸‰ï¼‰"><img class="cover" src="https://images.unsplash.com/photo-1646026371686-79950ceb6daa?w=640" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">ä¸‹ä¸€ç¯‡</div><div class="info-item-2">Logseq ä½¿ç”¨å°ç»“ ï¼ˆä¸‰ï¼‰</div></div><div class="info-2"><div class="info-item-1">ä½¿ç”¨ Logseq å†™ç¬”è®°å·²ç»å¤§åŠå¹´äº†ï¼ŒLogseq æ˜¯è¿™ä¹ˆå¤šå¹´æ¥é™¤äº† vim ä¹‹å¤–ï¼Œå”¯ä¸€å¯ä»¥åœ¨ä½¿ç”¨ä¸Šèºæ—‹ä¸Šå‡çš„è½¯ä»¶ã€‚æˆ‘æŠŠ Logseq æ¨èç»™åª³å¦‡ï¼Œå¥¹ç”¨æ¥å†™ä¼šè®®çºªè¦ï¼Œå†™å¤‡å¿˜å½•ï¼Œç®¡ç†å¾…åŠäº‹é¡¹ï¼Œä¹Ÿç”¨å¾—æŒºå¥½ã€‚ Logseq çš„æˆåŠŸä¹‹å¤„åœ¨äºå®ƒé™ä½äº†è®°å½•çš„æˆæœ¬ï¼Œä¸éœ€è¦å¤§æ®µå¤§æ®µçš„æ–‡å­—ï¼Œä¹Ÿä¸éœ€è¦å¤ªå¤šçš„æ–‡ç« ç»“æ„ï¼Œéšæ—¶éƒ½å¯ä»¥è®°å½•ã€‚Logseq æ¯”è¾ƒä¸¥é‡çš„é—®é¢˜æ˜¯å®ƒçš„ä½¿ç”¨å¤ªçµæ´»äº†ï¼Œå‰åè®°å½•çš„æ ‡å‡†ã€æ ¼å¼ã€æ ‡ç­¾ç­‰è¦ç´ å¯èƒ½ä¸ä¸€è‡´ï¼Œå®¹æ˜“é€ æˆç¬”è®°å‡Œä¹±ã€‚ç¬”è®°ä¸€å‡Œä¹±å°±æ²¡æ³•æœ‰æ•ˆçš„èšåˆï¼Œç¬”è®°çš„æœ‰æ•ˆèšåˆå½¢æˆä¸€ä¸ªæœ‰æ„ä¹‰çš„æƒ³æ³•ç¾¤æ˜¯ Logseq ç­‰åŒé“¾è½¯ä»¶å’Œå…¶ä»–ç¬”è®°è½¯ä»¶ç›¸æ¯”æœ€æœ‰ä»·å€¼çš„åœ°æ–¹ã€‚ æˆ‘è¿™åŠå¹´æ¥æ€»ç»“å‡ºç¬”è®°ç³»ç»ŸæˆåŠŸçš„å…³é”®æ˜¯ï¼š åœ¨åŒä¸€ä¸ªåœ°æ–¹ï¼Œç”¨åŒæ ·çš„æ ¼å¼å’Œä¸€è‡´çš„æ ‡å‡†è®°å½•ä½ çš„æ´è§ã€‚ä½†æ˜¯ç”±äº Logseq ç¼ºä¹æœ‰æ•ˆçš„å·¥ä½œæµï¼Œæ²¡æ³•è‡ªåŠ¨åŒ–æç¤ºå¿…è¦çš„æ­¥éª¤ï¼Œåªèƒ½é€šè¿‡ä¸æ–­çš„ç»ƒä¹ æ¥å¼ºåŒ–å­¦ä¹ ã€‚å¦å¤– Logseq ä¸­ page å’Œ tag åªæ˜¯èµ·åˆ°è¿‡æ»¤ç¬”è®°çš„ä½œç”¨ï¼Œæœ€å…³é”®çš„ç¬”è®°ä¹‹é—´çš„é“¾æ¥å´å¾ˆå®¹æ˜“è¢«å¿½è§†ï¼Œtag çš„æ•°é‡ä¸€å¤šåˆä¼šå¼€å§‹ç¬”è®°å‡Œä¹±äº†ã€‚ æ€»è€Œè¨€ä¹‹ï¼Œå¦‚æœåªæ˜¯æŠŠ Logseq ä½œä¸ºå¤‡å¿˜ï¼Œæˆ–è€…ç®€å•ä½œä¸ºä¿¡æ¯è®°å½•ï¼ŒæŒºå¥½ç”¨ä¹Ÿä¸éœ€è¦å­¦ä¹ å¤ªå¤šçš„ä¸œè¥¿ï¼Œä½†æ˜¯...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/cn/ollama_unauthenticated/" title="Ollama çš„æœªæˆæƒè®¿é—®é—®é¢˜"><img class="cover" src="https://images.unsplash.com/photo-1646026371686-79950ceb6daa?w=640" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-02-20</div><div class="info-item-2">Ollama çš„æœªæˆæƒè®¿é—®é—®é¢˜</div></div><div class="info-2"><div class="info-item-1">Ollama æ˜¯ä¸€ä¸ªç®€å•æ˜“ç”¨çš„æœ¬åœ°å¤§æ¨¡å‹è¿è¡Œæ¡†æ¶ï¼Œå®ƒå¯ä»¥è®©ä½ åœ¨æœ¬åœ°ç”µè„‘ä¸Šè½»æ¾è¿è¡Œå’Œç®¡ç†å„ç§å¤§è¯­è¨€æ¨¡å‹ã€‚Github åœ°å€ï¼šhttps://github.com/ollama/ollama æœ‰ç”¨æˆ·æå‡ºç»™ Ollama API æ·»åŠ è®¤è¯çš„éœ€æ±‚ Requesting support for basic auth or API key authenticationï¼Œ Ollama å®˜æ–¹æ²¡æœ‰å¤„ç†ï¼Œæ‰€ä»¥åœ¨é»˜è®¤è®¾ç½®ä¸‹ Ollama å­˜åœ¨æœªæˆæƒè®¿é—®é—®é¢˜ã€‚ ä»¥ä¸‹çš„ä»£ç åœ¨ Ollama v0.5.11 ä¸‹æµ‹è¯•æˆåŠŸã€‚ åˆ¤æ–­æ˜¯å¦ Ollama è¿è¡Œåœ¨ 11434 ç«¯å£1234567curl -i http://127.0.0.1:11434HTTP/1.1 200 OKContent-Type: text/plain; charset=utf-8Date: Tue, 18 Feb 2025 11:12:57 GMTContent-Length: 17Ollama is running   åˆ—å‡º Ollama æä¾›çš„ LLM æ¨¡å‹curl http://127.0.0.1:11434/api/tags |...</div></div></div></a><a class="pagination-related" href="/cn/AFL++%20%E6%BC%8F%E6%B4%9E%E6%8C%96%E6%8E%98%E5%AE%9E%E4%BE%8B/" title="AFL++ æ¼æ´æŒ–æ˜å®ä¾‹"><img class="cover" src="https://images.unsplash.com/photo-1646026371686-79950ceb6daa?w=640" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-04-01</div><div class="info-item-2">AFL++ æ¼æ´æŒ–æ˜å®ä¾‹</div></div><div class="info-2"><div class="info-item-1">â˜† 1. æ¨¡ç³Šæµ‹è¯•å·¥å…· AFL &#x2F; AFL++ä»‹ç»æ¨¡ç³Šæµ‹è¯•æ˜¯ä¸€ç§é»‘ç›’æµ‹è¯•æ–¹æ³•ï¼Œå®ƒé€šè¿‡å‘è½¯ä»¶è¾“å…¥éšæœºæˆ–å¼‚å¸¸çš„æ•°æ®ï¼Œæ¥è§¦å‘è½¯ä»¶ä¸­çš„é”™è¯¯æˆ–å¼‚å¸¸ã€‚AFL æ˜¯ Google å¼€å‘çš„ä¸€æ¬¾ fuzz å·¥å…·ï¼Œå®ƒæœ€åˆç”± Michal Zalewski å¼€å‘ï¼Œè¢«è®¾è®¡ä¸ºä¸€ç§æ¨¡ç³Šæµ‹è¯•å·¥å…·ï¼Œç”¨äºè‡ªåŠ¨å‘ç°ç¨‹åºä¸­çš„æ¼æ´ã€‚ åœ¨ AFL ä¹‹å‰ï¼Œæ¨¡ç³Šæµ‹è¯•å·¥å…·å¤§å¤šé‡‡ç”¨éšæœºç”Ÿæˆè¾“å…¥æ•°æ®çš„æ–¹æ³•ã€‚è¿™ç§æ–¹æ³•è™½ç„¶ç®€å•ï¼Œä½†æ•ˆç‡ä½ä¸‹ï¼Œå¾ˆéš¾å‘ç°è½¯ä»¶ä¸­çš„éšè—è·¯å¾„ã€‚AFL å¼•å…¥äº†è¦†ç›–ç‡å¯¼å‘çš„æ¨¡ç³Šæµ‹è¯•æ–¹æ³•ï¼Œå®ƒä¼šæ ¹æ®è½¯ä»¶çš„æ‰§è¡Œè·¯å¾„æ¥ä¼˜åŒ–è¾“å…¥æ•°æ®ã€‚è¿™ç§æ–¹æ³•å¯ä»¥æœ‰æ•ˆåœ°æé«˜æ¨¡ç³Šæµ‹è¯•çš„æ•ˆç‡ï¼Œå¹¶æ›´å®¹æ˜“å‘ç°è½¯ä»¶ä¸­çš„éšè—è·¯å¾„ã€‚ AFL çš„å‘å¸ƒï¼Œæ ‡å¿—ç€æ¨¡ç³Šæµ‹è¯•å·¥å…·è¿›å…¥äº†æ–°çš„æ—¶ä»£ã€‚AFL çš„æˆåŠŸï¼Œæ¿€å‘äº†è®¸å¤šå…¶ä»–ç ”ç©¶äººå‘˜å’Œå¼€å‘äººå‘˜å¯¹æ¨¡ç³Šæµ‹è¯•å·¥å…·çš„æ”¹è¿›å’Œç ”ç©¶ã€‚å®ƒå¯¹è½¯ä»¶å®‰å…¨é¢†åŸŸäº§ç”Ÿäº†æ·±è¿œçš„å½±å“ã€‚AFL çš„æˆåŠŸï¼Œè¯æ˜äº†æ¨¡ç³Šæµ‹è¯•æ˜¯ä¸€ç§æœ‰æ•ˆçš„è½¯ä»¶å®‰å…¨æµ‹è¯•æ–¹æ³•ã€‚ AFL åœ¨æ¨¡ç³Šæµ‹è¯•å·¥å…·å‘å±•å²ä¸Šçš„å…·ä½“è´¡çŒ®ä¸»è¦æœ‰ï¼š1ï¼‰å¼€åˆ›äº†è¦†ç›–ç‡å¯¼å‘æ¨¡ç³Šæµ‹è¯•çš„æ–°æ—¶ä»£2ï¼‰æå¤§åœ°æé«˜äº†æ¨¡ç³Šæµ‹è¯•çš„æ•ˆç‡å’Œæ•ˆæœ3ï¼‰æ¿€å‘äº†å…¶ä»–ç ”ç©¶äººå‘˜å’Œå¼€å‘äººå‘˜å¯¹æ¨¡ç³Šæµ‹è¯•å·¥å…·çš„æ”¹è¿›å’Œç ”ç©¶ AFLä½œä¸ºä¸€æ¬¾å¼€åˆ›æ€§çš„...</div></div></div></a><a class="pagination-related" href="/cn/qemu_kvm/" title="VMware Workstation Windows 10 host Ubuntu 18.04 Guest ä¸­åŠ è½½ Linux å†…æ ¸ kvm æ¨¡å—"><img class="cover" src="https://images.unsplash.com/photo-1646026371686-79950ceb6daa?w=640" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-11-28</div><div class="info-item-2">VMware Workstation Windows 10 host Ubuntu 18.04 Guest ä¸­åŠ è½½ Linux å†…æ ¸ kvm æ¨¡å—</div></div><div class="info-2"><div class="info-item-1">è¿™é‡Œåœ¨ VMware Workstation Guset OS é‡Œä½¿ç”¨ qemu çš„ç”¨æ³•ï¼Œæœ‰ç‚¹åƒä¿„ç½—æ–¯å¥—å¨ƒã€‚ qemu.sh 123456789101112qemu-system-x86_64 \  -m 2G \  -smp 2 \  -kernel $KERNEL/arch/x86â€”â€”64/boot/bzImage \  -append &quot;console=ttyS0 root=/dev/sda earlyprintk=serial net.ifnames=0&quot; \  -drive file=$IMAGE/bullseye.img,format=raw \  -net user,host=10.0.2.10,hostfwd=tcp:127.0.0.1:10021-:22 \  -net nic,model=e1000 \  -enable-kvm \  -nographic \  -pidfile vm.pid \  2&gt;&amp;1 | tee vm.log  æ‰§è¡Œå‘½ä»¤å bash ./qemu.sh åæŠ¥é”™ 12Could not access K...</div></div></div></a><a class="pagination-related" href="/cn/webview_java/" title="Android WebView æ¼æ´"><img class="cover" src="https://images.unsplash.com/photo-1646026371686-79950ceb6daa?w=640" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-09-06</div><div class="info-item-2">Android WebView æ¼æ´</div></div><div class="info-2"><div class="info-item-1">â˜† æ¥è‡ª developer.android.com çš„ä¿¡æ¯Android å®˜æ–¹ç½‘ç«™å¯¹addJavascriptInterfaceçš„ä»‹ç»å¦‚ä¸‹ï¼š 123456789101112public void addJavascriptInterface (Object object, String name)  Added in API level 1Injects the supplied Java object into this WebView. The object is injected intothe JavaScript context of the main frame, using the supplied name. This allows the Java object&#x27;s methods to be accessed from JavaScript. For applicationstargeted to API level JELLY_BEAN_MR1 and above, only public methods that are annotated w...</div></div></div></a><a class="pagination-related" href="/cn/request_RESERVED_CVE/" title="How to request a RESERVED CVE"><img class="cover" src="https://images.unsplash.com/photo-1646026371686-79950ceb6daa?w=640" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-09-06</div><div class="info-item-2">How to request a RESERVED CVE</div></div><div class="info-2"><div class="info-item-1">åœ¨ç”³è¯· CVE è¿‡ç¨‹ä¸­ä¼šé‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œå‘è½¯ä»¶å®˜æ–¹æäº¤æ¼æ´ä¿®å¤åï¼Œç”±äºè½¯ä»¶å®˜æ–¹ä¸æ˜¯CNA æ— æ³•ç›´æ¥åˆ†é…CVEï¼Œè€Œç”³è¯·CVE é€šå¸¸éœ€è¦ä¸€ä¸ªè½¯ä»¶å®˜æ–¹ç¡®è®¤çš„é“¾æ¥ï¼Œè€Œæœ‰äº›æ¯”è¾ƒæ­£è§„çš„è½¯ä»¶åœ¨æ¼æ´ä¿®å¤ä¹‹å‰æ˜¯ä¸ä¼šæœ‰å…¬å¼€é“¾æ¥çš„ï¼Œè¿™å°±æ— æ³•ç”³è¯·CVEäº†ã€‚ æœ‰ç‚¹é¸¡ç”Ÿè›‹ï¼Œè›‹ç”Ÿé¸¡çš„æ„Ÿè§‰ã€‚è§£å†³è¿™ä¸ªé—®é¢˜çš„åŠæ³•æ˜¯ç”³è¯·ä¸€ä¸ª RESERVED CVEã€‚ ç”³è¯· RESERVED CVE æ–¹æ³•ç”³è¯· RESERVED CVEï¼Œä¹Ÿæ˜¯éœ€è¦å¡«å†™çš„CVE ç”³è¯·è¡¨æ ¼çš„ https://cveform.mitre.org/ï¼Œé€‰æ‹© Request CVE ID æ ¹æ®æç¤ºçš„é‡è¦ä¿¡æ¯ï¼š 12345IMPORTANT: Once a CVE ID is assigned to your vulnerability, it will not be published in the CVE List until you have submitted a URL pointing to public information about the vulnerability. Without a public reference, the CVE ID ...</div></div></div></a><a class="pagination-related" href="/cn/process_injection/" title="Windows è¿›ç¨‹æ³¨å…¥"><img class="cover" src="https://images.unsplash.com/photo-1646026371686-79950ceb6daa?w=640" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-09-06</div><div class="info-item-2">Windows è¿›ç¨‹æ³¨å…¥</div></div><div class="info-2"><div class="info-item-1">1. Process Injection æ–¹æ³•æ€»ç»“  è¿›ç¨‹æ³¨å…¥æ˜¯windowsç—…æ¯’å’Œæ¶æ„è½¯ä»¶æœ€å¸¸ç”¨çš„æ‰‹æ³•ä¹‹ä¸€ï¼ŒWindowsä¸‹è¿›ç¨‹æ³¨å…¥çš„æ–¹æ³•æ¯”è¾ƒå¤šï¼Œè¿™é‡Œä»‹ç»å¸¸è§çš„ä¸€äº›æ–¹æ³•ï¼Œä»¥åŠç›¸åº”çš„æ£€æŸ¥æ‰‹æ®µã€‚ 1.1 SetWindowsHookEx SetWindowsHookExä¼°è®¡æ˜¯å¤§å®¶æœ€ç†Ÿæ‚‰çš„æ–¹æ³•äº†ï¼Œè¿™ä¸ªæ˜¯å¾®è½¯æä¾›ç»™æˆ‘ä»¬ä½¿ç”¨æ­£è§„ç”¨æ³•ã€‚å¾€Windowsçš„hook chainä¸­å®‰è£…hook ä¾‹ç¨‹ï¼Œç›‘æ§ç³»ç»ŸæŸç§ç±»å‹çš„event, ä½¿ç”¨è¿™ç§æ–¹æ³•éœ€è¦å®ç°ä¸€ä¸ªdllã€‚ 123456HHOOK WINAPI SetWindowsHookEx(  _In_  int idHook,  _In_  HOOKPROC lpfn,  _In_  HINSTANCE hMod,  _In_  DWORD dwThreadId);   dwThread ä¸º0ï¼Œå°†ç›‘ç®¡ç³»ç»Ÿä¸­æ‰€æœ‰çº¿ç¨‹ã€‚ idHook        æŒ‡å®šç›‘æ§eventçš„ç±»å‹ hMod          dllå¥æŸ„ lpfn          hookä¾‹ç¨‹çš„æŒ‡é’ˆ  MSDNç»™å‡ºäº†ä¸€ä¸ªä½¿ç”¨çš„ä¾‹å­ï¼š 123456789101112HOOKPROC hkprc...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/images/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">henices</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">165</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">17</div></a><a href="/about"><div class="headline">å…³äº</div></a></div><div class="card-info-social-icons"><a class="social-icon" href="/rss.xml" target="_blank" title="RSS"><i class="fas fa-rss" style="color: #4c566a;"></i></a><a class="social-icon" href="https://x.com/henices" target="_blank" title="Twitter"><i class="fab fa-x-twitter" style="color: #4c566a;"></i></a><a class="social-icon" href="mailto:zhouzhenster@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4c566a;"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8B%E8%BD%BD%E6%BA%90%E7%A0%81"><span class="toc-number">1.</span> <span class="toc-text">ä¸‹è½½æºç </span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BC%96%E8%AF%91"><span class="toc-number">2.</span> <span class="toc-text">ç¼–è¯‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#afl-fuzz"><span class="toc-number">3.</span> <span class="toc-text">afl-fuzz</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="toc-number">4.</span> <span class="toc-text">å‚è€ƒèµ„æ–™</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>æœ€æ–°æ–‡ç« </span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/cn/investment_expectation/" title="é‡‘èæŠ•èµ„ä¸­çš„é¢„æœŸæ€ç»´">é‡‘èæŠ•èµ„ä¸­çš„é¢„æœŸæ€ç»´</a><time datetime="2025-11-19T16:00:00.000Z" title="å‘è¡¨äº 2025-11-20 00:00:00">2025-11-20</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/cn/duanyongping/" title="æ®µæ°¸å¹³é€€ä¼‘20å¤šå¹´åç½•è§å…¬å¼€è®¿è°ˆ">æ®µæ°¸å¹³é€€ä¼‘20å¤šå¹´åç½•è§å…¬å¼€è®¿è°ˆ</a><time datetime="2025-11-11T16:00:00.000Z" title="å‘è¡¨äº 2025-11-12 00:00:00">2025-11-12</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/cn/how_to_tell_a_story/" title="å¦‚ä½•è®²å¥½ä¸€ä¸ªæ•…äº‹">å¦‚ä½•è®²å¥½ä¸€ä¸ªæ•…äº‹</a><time datetime="2025-11-11T16:00:00.000Z" title="å‘è¡¨äº 2025-11-12 00:00:00">2025-11-12</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/cn/naval_reading/" title="çº³ç“¦å°”çš„é˜…è¯»æ–¹æ³•">çº³ç“¦å°”çš„é˜…è¯»æ–¹æ³•</a><time datetime="2025-10-28T16:00:00.000Z" title="å‘è¡¨äº 2025-10-29 00:00:00">2025-10-29</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/cn/fedora_linux_7z/" title="Fedora Linux å‡çº§ç³»ç»Ÿä¸­çš„ 7-Zip">Fedora Linux å‡çº§ç³»ç»Ÿä¸­çš„ 7-Zip</a><time datetime="2025-10-12T16:00:00.000Z" title="å‘è¡¨äº 2025-10-13 00:00:00">2025-10-13</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(https://images.unsplash.com/photo-1646026371686-79950ceb6daa?w=640);"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2025 By henices</span><span class="framework-info"><span>æ¡†æ¶ </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="ç®€ç¹è½¬æ¢">ç¹</button><button id="darkmode" type="button" title="æ—¥é—´å’Œå¤œé—´æ¨¡å¼åˆ‡æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.5.2"></script><script src="/js/main.js?v=5.5.2"></script><script src="/js/tw_cn.js?v=5.5.2"></script><div class="js-pjax"><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const config = mermaidSrc.dataset.config ? JSON.parse(mermaidSrc.dataset.config) : {}
      if (!config.theme) {
        config.theme = theme
      }
      const mermaidThemeConfig = `%%{init: ${JSON.stringify(config)}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (false) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid@11.12.1/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">æœç´¢</span><i class="fas fa-spinner fa-pulse" id="loading-status" hidden="hidden"></i><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  æ•°æ®åŠ è½½ä¸­</span></div><div class="local-search-input"><input placeholder="æœç´¢æ–‡ç« " type="text"/></div><hr/><div id="local-search-results"></div><div class="ais-Pagination" id="local-search-pagination" style="display:none;"><ul class="ais-Pagination-list"></ul></div><div id="local-search-stats"></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=5.5.2"></script></div></div></body></html>