<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Fedora å®‰è£… vnc server | å®‰å…¨ä»£ç </title><meta name="author" content="æ›¼ç¦å‰"><meta name="copyright" content="æ›¼ç¦å‰"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="å› ä¸ºç–«æƒ…ï¼Œç°åœ¨å…¬å¸å¯ç”¨è¿œç¨‹åŠå…¬äº†ï¼Œä¸å¾—å·²åœ¨å·¥ä½œæœºä¸Šå¼€äº†vncserverï¼Œè¿™ç¯‡æ–‡æ¡£åšä¸ªè®°å½•ã€‚ (1) å®‰è£…1sudo dnf install tigervnc-server  (2) åˆ›å»ºæœåŠ¡1cp &#x2F;lib&#x2F;systemd&#x2F;system&#x2F;vncserver@.service &#x2F;etc&#x2F;systemd&#x2F;system&#x2F;vncserver@.service  ç¼–è¾‘ &#x2F;etc&#x2F;sys">
<meta property="og:type" content="article">
<meta property="og:title" content="Fedora å®‰è£… vnc server">
<meta property="og:url" content="https://usmacd.com/cn/vnc/index.html">
<meta property="og:site_name" content="å®‰å…¨ä»£ç ">
<meta property="og:description" content="å› ä¸ºç–«æƒ…ï¼Œç°åœ¨å…¬å¸å¯ç”¨è¿œç¨‹åŠå…¬äº†ï¼Œä¸å¾—å·²åœ¨å·¥ä½œæœºä¸Šå¼€äº†vncserverï¼Œè¿™ç¯‡æ–‡æ¡£åšä¸ªè®°å½•ã€‚ (1) å®‰è£…1sudo dnf install tigervnc-server  (2) åˆ›å»ºæœåŠ¡1cp &#x2F;lib&#x2F;systemd&#x2F;system&#x2F;vncserver@.service &#x2F;etc&#x2F;systemd&#x2F;system&#x2F;vncserver@.service  ç¼–è¾‘ &#x2F;etc&#x2F;sys">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://images.unsplash.com/photo-1646026371686-79950ceb6daa?w=640">
<meta property="article:published_time" content="2023-09-06T03:00:51.882Z">
<meta property="article:modified_time" content="2023-09-06T03:00:51.882Z">
<meta property="article:author" content="æ›¼ç¦å‰">
<meta property="article:tag" content="linux">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://images.unsplash.com/photo-1646026371686-79950ceb6daa?w=640"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Fedora å®‰è£… vnc server",
  "url": "https://usmacd.com/cn/vnc/",
  "image": "https://images.unsplash.com/photo-1646026371686-79950ceb6daa?w=640",
  "datePublished": "2023-09-06T03:00:51.882Z",
  "dateModified": "2023-09-06T03:00:51.882Z",
  "author": [
    {
      "@type": "Person",
      "name": "æ›¼ç¦å‰",
      "url": "https://usmacd.com"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://usmacd.com/cn/vnc/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css?v=5.5.4"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'undefined')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'undefined')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"pagination":{"enable":false,"hitsPerPage":8},"languages":{"hits_empty":"æœªæ‰¾åˆ°ç¬¦åˆæ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}","hits_stats":"å…±æ‰¾åˆ° ${hits} ç¯‡æ–‡ç« "}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"ç¹","msgToSimplifiedChinese":"ç°¡"},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":false,"highlightHeightLimit":false,"highlightFullpage":true,"highlightMacStyle":false},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶å¤±è´¥',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.13.0/dist/infinitegrid.min.js',
    buttonText: 'åŠ è½½æ›´å¤š'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Fedora å®‰è£… vnc server',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="/self/atom-one-light.css"><link rel="stylesheet" href="/self/nord.css"><meta name="generator" content="Hexo 8.1.1"><link rel="alternate" href="/atom.xml" title="å®‰å…¨ä»£ç " type="application/atom+xml">
<link rel="alternate" href="/rss.xml" title="å®‰å…¨ä»£ç " type="application/rss+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/images/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">173</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">18</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">0</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> å½’æ¡£</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/thoughts"><i class="fa-fw fas fa-cloud"></i><span> æƒ³æ³•</span></a></div><div class="menus_item"><a class="site-page" href="/links/"><i class="fa-fw fas fa-link"></i><span> å‹é“¾</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> å…³äº</span></a></div><div class="menus_item"><a class="site-page" href="/sitemap.xml"><span> sitemap</span></a></div><div class="menus_item"><a class="site-page" href="/random.html"><span> random</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://images.unsplash.com/photo-1646026371686-79950ceb6daa?w=640);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">å®‰å…¨ä»£ç </span></a><a class="nav-page-title" href="/"><span class="site-name">Fedora å®‰è£… vnc server</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  è¿”å›é¦–é¡µ</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> æœç´¢</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> å½’æ¡£</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/thoughts"><i class="fa-fw fas fa-cloud"></i><span> æƒ³æ³•</span></a></div><div class="menus_item"><a class="site-page" href="/links/"><i class="fa-fw fas fa-link"></i><span> å‹é“¾</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> å…³äº</span></a></div><div class="menus_item"><a class="site-page" href="/sitemap.xml"><span> sitemap</span></a></div><div class="menus_item"><a class="site-page" href="/random.html"><span> random</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">Fedora å®‰è£… vnc server</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2023-09-06T03:00:51.882Z" title="å‘è¡¨äº 2023-09-06 11:00:51">2023-09-06</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2023-09-06T03:00:51.882Z" title="æ›´æ–°äº 2023-09-06 11:00:51">2023-09-06</time></span></div><div class="meta-secondline"></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><p>å› ä¸ºç–«æƒ…ï¼Œç°åœ¨å…¬å¸å¯ç”¨è¿œç¨‹åŠå…¬äº†ï¼Œä¸å¾—å·²åœ¨å·¥ä½œæœºä¸Šå¼€äº†vncserverï¼Œè¿™ç¯‡æ–‡æ¡£åšä¸ªè®°å½•ã€‚</p>
<h2 id="1-å®‰è£…"><a href="#1-å®‰è£…" class="headerlink" title="(1) å®‰è£…"></a>(1) å®‰è£…</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> dnf install tigervnc-server<br></code></pre></td></tr></table></figure>

<h2 id="2-åˆ›å»ºæœåŠ¡"><a href="#2-åˆ›å»ºæœåŠ¡" class="headerlink" title="(2) åˆ›å»ºæœåŠ¡"></a>(2) åˆ›å»ºæœåŠ¡</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">cp /lib/systemd/system/vncserver@.service /etc/systemd/system/vncserver@.service<br></code></pre></td></tr></table></figure>

<p>ç¼–è¾‘ &#x2F;etc&#x2F;systemd&#x2F;system&#x2F;vncserver@.service æ›¿æ¢ä¸‹é¢ä¸¤è¡Œçš„USERä¸ºå®é™…ç”¨æˆ·å</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">ExecStart=/sbin/runuser -l USER -c &quot;/usr/bin/vncserver %i -geometry 1280x1024&quot;<br>PIDFile=/home/USER/.vnc/%H%i.pid<br></code></pre></td></tr></table></figure>

<p>æ‰§è¡Œå‘½ä»¤ <code>systemctl daemon-reload</code></p>
<p>ä½¿ç”¨vpnpasswdä¿®æ”¹å¯†ç </p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sh">~]# su - USER<br>~]$ vncpasswd<br>Password:<br>Verify:<br></code></pre></td></tr></table></figure>

<p>å¯åŠ¨vncserverçš„å‘½ä»¤è¡Œ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">sudo systemctl start vncserver@:1<br></code></pre></td></tr></table></figure>

<p>å‚è€ƒæ–‡æ¡£ï¼š</p>
<p><a target="_blank" rel="noopener" href="https://docs.fedoraproject.org/en-US/Fedora/21/html/System_Administrators_Guide/ch-TigerVNC.html">https://docs.fedoraproject.org/en-US/Fedora/21/html/System_Administrators_Guide/ch-TigerVNC.html</a></p>
<h2 id="3-ç›´æ¥è°ƒç”¨å‘½ä»¤è¡Œ"><a href="#3-ç›´æ¥è°ƒç”¨å‘½ä»¤è¡Œ" class="headerlink" title="(3)ç›´æ¥è°ƒç”¨å‘½ä»¤è¡Œ"></a>(3)ç›´æ¥è°ƒç”¨å‘½ä»¤è¡Œ</h2><p>ä½¿ç”¨ä¸Šé¢çš„æ–¹æ³•è¿‡äºç¹çï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨ vncserver çš„å‘½ä»¤è¡Œ</p>
<p><code>vncserver :2 -geometry 1920x1080 -depth 24</code></p>
<h2 id="4-æ”¹å˜vncçš„é»˜è®¤æ¡Œé¢"><a href="#4-æ”¹å˜vncçš„é»˜è®¤æ¡Œé¢" class="headerlink" title="(4) æ”¹å˜vncçš„é»˜è®¤æ¡Œé¢"></a>(4) æ”¹å˜vncçš„é»˜è®¤æ¡Œé¢</h2><p>vim ~&#x2F;.vnc&#x2F;xstartup</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-meta">#!/bin/sh</span><br><br><span class="hljs-built_in">unset</span> SESSION_MANAGER<br><span class="hljs-built_in">unset</span> DBUS_SESSION_BUS_ADDRESS<br><span class="hljs-comment">#exec /etc/X11/xinit/xinitrc</span><br><br><span class="hljs-built_in">exec</span> /bin/sh /etc/xdg/xfce4/xinitrc<br></code></pre></td></tr></table></figure>

<p>å¿…é¡»æ”¹å˜é»˜è®¤æ¡Œé¢ï¼Œè¦ä¸å¯èƒ½ç™»å½•ä¸è¿›å»ã€‚</p>
<h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h2><p>ä¸ªäººè§‰å¾—ä»å®‰å…¨è§’åº¦çœ‹ï¼Œä½¿ç”¨å‘½ä»¤å¯ç”¨ vncserver æ˜¯æ¯”è¾ƒåˆç†çš„ï¼Œè¦ç”¨äº†å°±æ‰“å¼€ï¼Œç”¨å®Œå°±å…³ã€‚å¦å¤–vncserver è¿æ¥åŠ äº†ä¸€å±‚ tunnelï¼Œå®‰å…¨æ— å°äº‹ã€‚</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="https://usmacd.com">æ›¼ç¦å‰</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="https://usmacd.com/cn/vnc/">https://usmacd.com/cn/vnc/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥æº <a href="https://usmacd.com" target="_blank">å®‰å…¨ä»£ç </a>ï¼</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/linux/">linux</a></div><div class="post-share"><div class="social-share" data-image="https://images.unsplash.com/photo-1646026371686-79950ceb6daa?w=640" data-sites="facebook,x,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/cn/webview_java/" title="Android WebView æ¼æ´"><img class="cover" src="https://images.unsplash.com/photo-1646026371686-79950ceb6daa?w=640" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">ä¸Šä¸€ç¯‡</div><div class="info-item-2">Android WebView æ¼æ´</div></div><div class="info-2"><div class="info-item-1">â˜† æ¥è‡ª developer.android.com çš„ä¿¡æ¯Android å®˜æ–¹ç½‘ç«™å¯¹addJavascriptInterfaceçš„ä»‹ç»å¦‚ä¸‹ï¼š 123456789101112public void addJavascriptInterface (Object object, String name)  Added in API level 1Injects the supplied Java object into this WebView. The object is injected intothe JavaScript context of the main frame, using the supplied name. This allows the Java object&#x27;s methods to be accessed from JavaScript. For applicationstargeted to API level JELLY_BEAN_MR1 and above, only public methods that are annotated w...</div></div></div></a><a class="pagination-related" href="/cn/vim_special_char/" title="vim è¾“å…¥ç‰¹æ®Šå­—ç¬¦"><img class="cover" src="https://images.unsplash.com/photo-1646026371686-79950ceb6daa?w=640" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">ä¸‹ä¸€ç¯‡</div><div class="info-item-2">vim è¾“å…¥ç‰¹æ®Šå­—ç¬¦</div></div><div class="info-2"><div class="info-item-1">vim çš„ç¼–è¾‘èƒ½åŠ›ç¡®å®å¾ˆå¼ºï¼Œä»Šå¤©è¯´ä¸€ä¸‹å¦‚ä½•åœ¨vimä¸­è¾“å…¥ç‰¹æ®Šå­—ç¬¦ï¼Œæ¯”å¦‚éŸ³æ ‡ã€unicode å­—ç¬¦ã€‚ http://vimhelp.appspot.com/digraph.txt.htmlhttp://vimhelp.appspot.com/insert.txt.html#i_CTRL-V_digit å…³é”®å°±åœ¨ä¸Šé¢ä¸¤ç¯‡ï¼Œå¯èƒ½è®¸å¤šäººä¸å–œæ¬¢çœ‹å¤æ‚çš„æ–‡ç« ï¼Œæˆ‘è¿™é‡Œç®€å•ä»‹ç»ä¸€ä¸‹ç”¨æ³•ã€‚ è¾“å…¥éŸ³æ ‡ É™ i è¿›å…¥ç¼–è¾‘æ¨¡å¼    CTRL-vu0259é‚£å¦‚ä½•çŸ¥é“ É™ çš„ unicode hex number æ˜¯ 0259å‘¢ï¼Œåœ¨vimçš„normal æ¨¡å¼ä¸‹ï¼Œå°†å…‰æ ‡ç§»åŠ¨åˆ°É™è¾“å…¥ga è¾“å…¥ â‡’ i è¿›å…¥ç¼–è¾‘æ¨¡å¼   CTRL-k&#x3D;&gt;:dig å¯ä»¥çœ‹åˆ°æ”¯æŒè¿™ç§æ–¹æ³•è¾“å…¥çš„unicode å­—ç¬¦ </div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/cn/Fedora31/" title="Fedora31 çš„å‡ ä¸ªå˜åŒ–"><img class="cover" src="https://images.unsplash.com/photo-1646026371686-79950ceb6daa?w=640" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-09-06</div><div class="info-item-2">Fedora31 çš„å‡ ä¸ªå˜åŒ–</div></div><div class="info-2"><div class="info-item-1">1. é»˜è®¤å¯ç”¨ Cgroups V2nozuonodieï¼Œ å‡çº§åˆ° Fedora 31 åï¼Œ CgroupsV2 å·²ç»é»˜è®¤å¼€å¯ï¼Œç†ç”±æ˜¯åŸæ¥ä¸æ˜¯é»˜è®¤å¼€å¯æ²¡äººç”¨ï¼Œç°åœ¨è®© Fedora ç”¨æˆ·å…ˆå½“å½“å°ç™½é¼ ï¼Œäºæ˜¯ Docker å°±å€’ä¸‹äº†ã€‚http://t.cn/Ai1sI5LH   grub2 é…ç½®æ–‡ä»¶ &#x2F;etc&#x2F;default&#x2F;grubï¼Œ å†…æ ¸å‚æ•°æ·»åŠ  systemd.unified_cgroup_hierarchy&#x3D;0å¯ä»¥é‡æ–°å¼€å¯  CgroupsV1 â€‹â€‹â€‹â€‹ 2. é»˜è®¤çš„ Python ä¸º Python3https://fedoraproject.org/wiki/Changes/Python_means_Python3 å”‰ï¼Œä¸å¾—ä¸è¯´ Fedora è¿™æ¬¡æœ‰ç‚¹å¤ªæ¿€è¿›äº†ï¼Œ æå¾—æˆ‘ç¼–è¯‘ chromium åˆå‡ºé—®é¢˜äº†ã€‚ è¦æ¢å›å»æœ‰ä¸ªæ­ªæ‹› ln -s /usr/bin/python2 /usr/local/bin/python </div></div></div></a><a class="pagination-related" href="/cn/010editor/" title="010editor ä¿æŒè¯•ç”¨"><img class="cover" src="https://images.unsplash.com/photo-1646026371686-79950ceb6daa?w=640" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-09-06</div><div class="info-item-2">010editor ä¿æŒè¯•ç”¨</div></div><div class="info-2"><div class="info-item-1">è½¯ä»¶ä»‹ç»010Editoræ˜¯ä¸€æ¬¾å¿«é€Ÿä¸”å¼ºå¤§çš„åå…­è¿›åˆ¶ç¼–è¾‘å™¨ã€‚ç”¨æ¥ç¼–è¾‘äºŒè¿›åˆ¶æ–‡ä»¶ã€‚æœ‰ä¸€ä¸ªå‹å¥½æ˜“äºä½¿ç”¨çš„ç•Œé¢ï¼Œæ— é™æ¬¡çš„undoå’Œredoæ“ä½œã€‚å¦å¤–è¿˜å¯ä»¥æ‰“å°åå…­è¿›åˆ¶çš„å­—èŠ‚æˆ–è€…ä»¥ä¹¦ç­¾çš„æ–¹å¼æ ‡å‡ºæŸäº›é‡è¦çš„å­—èŠ‚ã€‚æ”¯æŒäºŒè¿›åˆ¶æ¨¡æ¿ï¼ˆbinary templateï¼‰ç³»ç»Ÿã€‚ ä¿æŒè¯•ç”¨å›½å¤–è½¯ä»¶å¾ˆå¤šæ—¶å€™ç›¸å½“åšé“äº†ï¼Œè¯•ç”¨åŸºæœ¬æ˜¯å…¨åŠŸèƒ½ï¼Œè½»å¾®å»¶æ—¶å’Œä¸èƒ½è‡ªåŠ¨æ›´æ–°äºŒè¿›åˆ¶æ¨¡æ¿ï¼Œå°±æ—¥å¸¸ä½¿ç”¨æ¥è¯´åŸºæœ¬æ˜¯å®Œå…¨å¤Ÿç”¨äº†ã€‚ å…³é”®æ–‡ä»¶ä¸º ~/.config/SweetScape/010 Editor.iniï¼Œæ— æ³•ä½¿ç”¨çš„æ—¶ä¾¯å¯ä»¥æŠŠè¿™ä¸ªæ–‡ä»¶æ¸…ç©ºï¼Œå°†æ¢å¤30å¤©è¯•ç”¨çŠ¶æ€ï¼Œæˆ–è€…ç®€å•ç²—æš´çš„å°†æ–‡ä»¶è®¾ç½®ä¸ºåªè¯»ã€‚ 1chmod 444 &quot;010 Editor.ini&quot;  ç”¨IDAé€†å‘çš„æ—¶ä¾¯æ²¡æœ‰å‘ç°è¿™ä¸ªæ–‡ä»¶æ¯”è¾ƒå¥‡æ€ªã€‚è¿™ä¸ªæ–‡ä»¶æ˜¯ æ˜¯ä½¿ç”¨straceå‘½ä»¤å‘ç°çš„ï¼Œstraceå‘½ä»¤æ”¯æŒ -e çš„è¿‡æ»¤å‚æ•°å°†æœ‰æ•ˆå‡å°‘è¾“å‡ºï¼Œä¸€èˆ¬æ¥è¯´çœ‹straceæ—¥å¿—æ–‡ä»¶å¯ä»¥ä»æœ€åå¾€å‰çœ‹ã€‚ 1strace -e trace=file ./010editor  ä»ä»£ç ä¸Šçœ‹æœ‰ä½¿ç”¨ç½‘ç»œéªŒè¯éœ€è¦åœ¨hostsæ–‡ä»¶ä¸­å±æ•ä¸¤ä¸ªç½‘ç«™ï¼Œ å¯ä»¥å‡å°‘ä¸€äº›ä¸å¿…è¦çš„éº»çƒ¦ã€‚ 12127....</div></div></div></a><a class="pagination-related" href="/cn/BaiduNetdisk/" title="Linux ä¸‹ä½¿ç”¨ç™¾åº¦ç½‘ç›˜"><img class="cover" src="https://images.unsplash.com/photo-1646026371686-79950ceb6daa?w=640" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-09-06</div><div class="info-item-2">Linux ä¸‹ä½¿ç”¨ç™¾åº¦ç½‘ç›˜</div></div><div class="info-2"><div class="info-item-1">ç™¾åº¦ç½‘ç›˜åœ¨å›½å†…å¾ˆå¤§æ¦‚ç‡æ˜¯ç»•ä¸è¿‡å»ï¼Œç¨å¤§ç‚¹æ–‡ä»¶éƒ½å–œæ¬¢ç”¨ç™¾åº¦ç½‘ç›˜ç»™ä¸‹è½½åœ°å€ã€‚å¯æ˜¯ç™¾åº¦ç½‘ç›˜ä¸‹è½½æ˜¯é™é€Ÿçš„ï¼Œè€Œä¸”å¯¹ Linux ç”¨æˆ·éå¸¸ä¸å‹å¥½ï¼Œæˆ‘çš„ Fedora è£…ä¸Š rpm åŒ…ä¹Ÿç”¨ä¸äº†ï¼Œç›´æ¥å´©æºƒï¼Œæ‰€ä»¥å¾—æƒ³ç‚¹å…¶ä»–åŠæ³•ã€‚ 1. å®˜æ–¹å®‰è£…åŒ… ï¼ˆä¸ä¸€å®šéƒ½èƒ½ä½¿ç”¨ï¼‰å®˜æ–¹æä¾›äº† deb å’Œ rpm æ ¼å¼å®‰è£…åŒ… http://issuecdn.baidupcs.com/issue/netdisk/LinuxGuanjia/3.0.1/baidunetdisk_linux_3.0.1.2.rpmhttp://issuecdn.baidupcs.com/issue/netdisk/LinuxGuanjia/3.0.1/baidunetdisk_linux_3.0.1.2.deb ä½†æ˜¯åœ¨ Fedora å®‰è£…åï¼Œä¼šæŠ¥é”™è¯¯ã€‚ 2. BaiduPCS-Go ï¼ˆç™¾åº¦ç½‘ç›˜å®¢æˆ·ç«¯ - Goè¯­è¨€ç¼–å†™ï¼‰https://github.com/iikira/BaiduPCS-Go 2.1 ç™»å½•.&#x2F;BaiduPCS-Go login -bduss&#x3D;xxxxx 2.2 è®¾ç½®å¹¶å‘1&gt; config set ...</div></div></div></a><a class="pagination-related" href="/cn/wps_fedora_linux_chinese_bad_char/" title="è§£å†³ Fedora Linux WPS ä¸­æ–‡ä¹±ç é—®é¢˜"><img class="cover" src="https://images.unsplash.com/photo-1646026371686-79950ceb6daa?w=640" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-11-19</div><div class="info-item-2">è§£å†³ Fedora Linux WPS ä¸­æ–‡ä¹±ç é—®é¢˜</div></div><div class="info-2"><div class="info-item-1">ä¸çŸ¥ä»å“ªä¸ªç‰ˆæœ¬å¼€å§‹ï¼ŒFedora Linux ä¸Šçš„ wps å­—ä½“ä¹±ç ï¼ŒåŸºæœ¬å¤„äºä¸å¯ç”¨çŠ¶æ€ã€‚æœ€è¿‘ï¼Œåˆé‡ä¸Šè¦æ‰“å¼€ Office æ–‡ä»¶çš„éœ€æ±‚ï¼Œç ”ç©¶äº†ä¸€ä¸‹è§£å†³çš„æ–¹æ³•ã€‚ å®‰è£…ç¼ºå°‘çš„å­—ä½“ï¼Œwps å¯èƒ½æ²¡æœ‰æŸäº›å­—ä½“çš„ç‰ˆæƒ123456git clone https://github.com/jayknoxqu/wps-symbol-fontscd wps-symbol-fontssudo mkdir /usr/share/fonts/wps-fontssudo mv *.ttf /usr/share/fonts/wps-fontssudo chmod 644 /usr/share/fonts/wps-fonts/*sudo fc-cache -vfs  å®‰è£…ä¸Šé¢çš„å­—ä½“ï¼Œå¯ä»¥è§£å†³ wps æ±‰å­—æ˜¾ç¤ºä¸ºå°æ–¹å—çš„é—®é¢˜ã€‚ è§£å†³ wps å­—ä½“ç²—ä½“æ˜¾ç¤ºä¸æ­£å¸¸çš„é—®é¢˜wps ç‰ˆæœ¬ 11.1.0.11704-1 ä¸ freetype2 ç‰ˆæœ¬ 2.13.1 å’Œ 2.13.2 å…¼å®¹æ€§ä¸ä½³ã€‚freetype2 ä¼šé€šè¿‡ç®—æ³•ç”Ÿæˆä¼ªç²—ä½“ï¼ˆfakeboldï¼‰ï¼Œä½†åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œwps-office ä¹Ÿè‡ªè¡Œå°†å­—ä½“è®¾ä¸ºç²—ä½“ï¼Œç»“æœæ˜¯æ–‡æœ¬...</div></div></div></a><a class="pagination-related" href="/cn/Fedora_linux_wechat_4.0/" title="Fedora linux å®‰è£… wechat 4.0 çš„æ–¹æ³•"><img class="cover" src="https://images.unsplash.com/photo-1646026371686-79950ceb6daa?w=640" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-11-05</div><div class="info-item-2">Fedora linux å®‰è£… wechat 4.0 çš„æ–¹æ³•</div></div><div class="info-2"><div class="info-item-1">æ„Ÿè°¢å›½äº§åŒ–è½¯ä»¶é¡¹ç›®ï¼Œå¤šå¹´åï¼ŒLinux ç»ˆäºæœ‰ wechat çš„å®˜æ–¹å®‰è£…åŒ…äº† ğŸ¥³ ä»éº’éºŸ Linux çš„æºä¸­ï¼Œä¸‹è½½ wechat deb å®‰è£…åŒ…ï¼Œè§£å‹åå¯ä»¥æ­£å¸¸åœ¨ Fedora Linux ä¸Šä½¿ç”¨ã€‚ 123456wget https://archive2.kylinos.cn/DEB/KYLIN_DEB/pool/main/deb/wechat/wechat-beta_4.0.0.21_amd64.debsudo dnf install dpkg vlcdpkg-deb -xv ./wechat-beta_4.0.0.21_amd64.deb /tmp/wechatcd /tmp/wechat/opt/wechat-betasudo ln -sf /usr/lib64/libbz2.so.1.0.8 /usr/lib64/libbz2.so.1.0./wechat  æˆ‘çš„ Fedora Linux ä¸Šå®‰è£…äº†è®¸å¤šè½¯ä»¶ï¼Œå¸¸è§çš„ä¾èµ–åº“éƒ½å·²å®‰è£…ï¼Œå¤§å®¶å¯èƒ½è¿˜ä¼šé‡åˆ°æ‰¾ä¸åˆ°åŠ¨æ€åº“çš„æƒ…å†µã€‚ å…¶ä»– Linux å‘è¡Œç‰ˆ wechat çš„é€‚é…åŸç†ä¸Šæ˜¯ä¸€æ ·çš„ã€‚ 1ï¼‰å°† deb åŒ…è§£å¼€ï¼Œæ‰§è¡Œ wecha...</div></div></div></a><a class="pagination-related" href="/cn/tmux_truecolor/" title="ä¸º tmux è®¾ç½®çœŸå½©è‰²"><img class="cover" src="https://images.unsplash.com/photo-1646026371686-79950ceb6daa?w=640" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-06-12</div><div class="info-item-2">ä¸º tmux è®¾ç½®çœŸå½©è‰²</div></div><div class="info-2"><div class="info-item-1">æœ€è¿‘åœ¨ tmux ä¸­ä½¿ç”¨ vim onedark themeï¼Œæ€»æ˜¯è§‰å¾—æ€ªæ€ªçš„ï¼Œé»‘è‰²æ˜¾ç¤ºåç°ã€‚æ— æ„ä¸­å‘ç° joshdick/onedark.vim ä¸­æåˆ°éœ€è¦ä¸º tmux è®¾ç½®çœŸå½©è‰²ã€‚ 1234- Plain ASCII- ANSI escape codes: 16 color codes with bold/italic and background- 256 color palette: 216 colors + 16 ANSI + 24 gray (colors are 24-bit)- 24-bit truecolor: &quot;888&quot; colors (aka 16 million)  æ£€æŸ¥ç»ˆç«¯æ˜¯å¦æ”¯æŒçœŸå½©è‰²ï¼Œå¯ä»¥ä½¿ç”¨è„šæœ¬ 24-bit-color.sh bash ./24-bit-color.sh å¦‚æœç»ˆç«¯é¢œè‰²æ˜¯è¿è´¯çš„åˆ™æ”¯æŒäº†çœŸå½©è‰²ï¼Œå¦‚æœé¢œè‰²æ˜¯åˆ†å—çš„åˆ™æ²¡æœ‰æ”¯æŒã€‚ ä¿®æ”¹ ~&#x2F;.tmux.conf åŠ ä¸Šä¸¤è¡Œ 12set -g default-terminal &quot;tmux-256color&quot;set-option -ga termin...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/images/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">æ›¼ç¦å‰</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">173</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">18</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">0</div></a></div><div class="card-info-social-icons"><a class="social-icon" href="/rss.xml" target="_blank" title="RSS"><i class="fas fa-rss" style="color: #4c566a;"></i></a><a class="social-icon" href="https://x.com/henices" target="_blank" title="Twitter"><i class="fab fa-x-twitter" style="color: #4c566a;"></i></a><a class="social-icon" href="mailto:zhouzhenster@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4c566a;"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%AE%89%E8%A3%85"><span class="toc-number">1.</span> <span class="toc-text">(1) å®‰è£…</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%88%9B%E5%BB%BA%E6%9C%8D%E5%8A%A1"><span class="toc-number">2.</span> <span class="toc-text">(2) åˆ›å»ºæœåŠ¡</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E7%9B%B4%E6%8E%A5%E8%B0%83%E7%94%A8%E5%91%BD%E4%BB%A4%E8%A1%8C"><span class="toc-number">3.</span> <span class="toc-text">(3)ç›´æ¥è°ƒç”¨å‘½ä»¤è¡Œ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E6%94%B9%E5%8F%98vnc%E7%9A%84%E9%BB%98%E8%AE%A4%E6%A1%8C%E9%9D%A2"><span class="toc-number">4.</span> <span class="toc-text">(4) æ”¹å˜vncçš„é»˜è®¤æ¡Œé¢</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B6%E4%BB%96"><span class="toc-number">5.</span> <span class="toc-text">å…¶ä»–</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>æœ€æ–°æ–‡ç« </span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/cn/gemini_in_chrome/" title="å¼€å¯ Gemini in Chrome çš„æ–¹æ³•">å¼€å¯ Gemini in Chrome çš„æ–¹æ³•</a><time datetime="2026-01-29T16:00:00.000Z" title="å‘è¡¨äº 2026-01-30 00:00:00">2026-01-30</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/cn/sucess_is_the_mother_of_sucess/" title="æˆåŠŸæ˜¯æˆåŠŸä¹‹æ¯">æˆåŠŸæ˜¯æˆåŠŸä¹‹æ¯</a><time datetime="2026-01-27T16:00:00.000Z" title="å‘è¡¨äº 2026-01-28 00:00:00">2026-01-28</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/cn/ai_studio_podcast_transcript/" title="åˆ©ç”¨ AI Studio æ•´ç†æ’­å®¢éŸ³é¢‘çš„é€å­—ç¨¿">åˆ©ç”¨ AI Studio æ•´ç†æ’­å®¢éŸ³é¢‘çš„é€å­—ç¨¿</a><time datetime="2026-01-07T16:00:00.000Z" title="å‘è¡¨äº 2026-01-08 00:00:00">2026-01-08</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/cn/anti-weakness-learning/" title="åè„†å¼±å¼çš„å­¦ä¹ æ–¹æ³•">åè„†å¼±å¼çš„å­¦ä¹ æ–¹æ³•</a><time datetime="2025-12-30T16:00:00.000Z" title="å‘è¡¨äº 2025-12-31 00:00:00">2025-12-31</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/cn/keep_hard/" title="åšæŒçš„ç§˜è¯€">åšæŒçš„ç§˜è¯€</a><time datetime="2025-12-15T16:00:00.000Z" title="å‘è¡¨äº 2025-12-16 00:00:00">2025-12-16</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(https://images.unsplash.com/photo-1646026371686-79950ceb6daa?w=640);"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2025 - 2026 By æ›¼ç¦å‰</span><span class="framework-info"><span>æ¡†æ¶ </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="ç®€ç¹è½¬æ¢">ç¹</button><button id="darkmode" type="button" title="æ—¥é—´å’Œå¤œé—´æ¨¡å¼åˆ‡æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.5.4"></script><script src="/js/main.js?v=5.5.4"></script><script src="/js/tw_cn.js?v=5.5.4"></script><div class="js-pjax"><script>(() => {
  const parseViewBox = viewBox => {
    if (!viewBox) return null
    const parts = viewBox.trim().split(/[\s,]+/).map(n => Number(n))
    if (parts.length !== 4 || parts.some(n => Number.isNaN(n))) return null
    return parts
  }

  const getSvgViewBox = svg => {
    const attr = parseViewBox(svg.getAttribute('viewBox'))
    if (attr) return attr

    // Fallback: use bbox to build a viewBox
    try {
      const bbox = svg.getBBox()
      if (bbox && bbox.width && bbox.height) return [bbox.x, bbox.y, bbox.width, bbox.height]
    } catch (e) {
      // getBBox may fail on some edge cases; ignore
    }

    const w = Number(svg.getAttribute('width')) || 0
    const h = Number(svg.getAttribute('height')) || 0
    if (w > 0 && h > 0) return [0, 0, w, h]
    return [0, 0, 100, 100]
  }

  const setSvgViewBox = (svg, vb) => {
    svg.setAttribute('viewBox', `${vb[0]} ${vb[1]} ${vb[2]} ${vb[3]}`)
  }

  const clamp = (v, min, max) => Math.max(min, Math.min(max, v))

  const openSvgInNewTab = ({ source, initViewBox }) => {
    const getClonedSvg = () => {
      if (typeof source === 'string') {
        const template = document.createElement('template')
        template.innerHTML = source.trim()
        const svg = template.content.querySelector('svg')
        return svg ? svg.cloneNode(true) : null
      }
      if (source && typeof source.cloneNode === 'function') {
        return source.cloneNode(true)
      }
      return null
    }

    const clone = getClonedSvg()
    if (!clone) return
    if (initViewBox && initViewBox.length === 4) {
      clone.setAttribute('viewBox', initViewBox.join(' '))
    }
    if (!clone.getAttribute('xmlns')) clone.setAttribute('xmlns', 'http://www.w3.org/2000/svg')
    if (!clone.getAttribute('xmlns:xlink') && clone.outerHTML.includes('xlink:')) {
      clone.setAttribute('xmlns:xlink', 'http://www.w3.org/1999/xlink')
    }
    // inject background to match current theme
    const isDark = document.documentElement.getAttribute('data-theme') === 'dark'
    const bg = getComputedStyle(document.body).backgroundColor || (isDark ? '#1e1e1e' : '#ffffff')
    if (!clone.style.background) clone.style.background = bg

    const serializer = new XMLSerializer()
    const svgSource = serializer.serializeToString(clone)
    const htmlSource = `<!doctype html><html><head><meta charset="utf-8" />
      <style>
        html, body { width: 100%; height: 100%; margin: 0; display: flex; align-items: center; justify-content: center; background: ${bg}; }
        svg { max-width: 100%; max-height: 100%; height: auto; width: auto; }
      </style>
      </head><body>${svgSource}</body></html>`
    const blob = new Blob([htmlSource], { type: 'text/html;charset=utf-8' })
    const url = URL.createObjectURL(blob)
    window.open(url, '_blank', 'noopener')
    setTimeout(() => URL.revokeObjectURL(url), 30000)
  }

  const attachMermaidViewerButton = wrap => {
    let btn = wrap.querySelector('.mermaid-open-btn')
    if (!btn) {
      btn = document.createElement('button')
      btn.type = 'button'
      btn.className = 'mermaid-open-btn'
      wrap.appendChild(btn)
    }

    btn.innerHTML = '<i class="fa fa-search fa-fw" aria-hidden="true"></i>'

    if (!btn.__mermaidViewerBound) {
      btn.addEventListener('click', e => {
        e.preventDefault()
        e.stopPropagation()
        const svg = wrap.__mermaidOriginalSvg || wrap.querySelector('svg')
        if (!svg) return
        const initViewBox = wrap.__mermaidInitViewBox
        if (typeof svg === 'string') {
          openSvgInNewTab({ source: svg, initViewBox })
          return
        }
        openSvgInNewTab({ source: svg, initViewBox })
      })
      btn.__mermaidViewerBound = true
    }
  }

  // Zoom around a point (px, py) in the SVG viewport (in viewBox coordinates)
  const zoomAtPoint = (vb, factor, px, py) => {
    const w = vb[2] * factor
    const h = vb[3] * factor
    const nx = px - (px - vb[0]) * factor
    const ny = py - (py - vb[1]) * factor
    return [nx, ny, w, h]
  }

  const initMermaidGestures = wrap => {
    const svg = wrap.querySelector('svg')
    if (!svg) return

    // Ensure viewBox exists so gestures always work
    const initVb = getSvgViewBox(svg)
    wrap.__mermaidInitViewBox = initVb
    wrap.__mermaidCurViewBox = initVb.slice()
    setSvgViewBox(svg, initVb)

    // Avoid binding multiple times on themeChange/pjax
    if (wrap.__mermaidGestureBound) return
    wrap.__mermaidGestureBound = true

    // Helper: map client (viewport) coordinate -> viewBox coordinate
    const clientToViewBox = (clientX, clientY) => {
      const rect = svg.getBoundingClientRect()
      const vb = wrap.__mermaidCurViewBox || getSvgViewBox(svg)
      const x = vb[0] + (clientX - rect.left) * (vb[2] / rect.width)
      const y = vb[1] + (clientY - rect.top) * (vb[3] / rect.height)
      return { x, y, rect, vb }
    }

    const state = {
      pointers: new Map(),
      startVb: null,
      startDist: 0,
      startCenter: null
    }

    const clampVb = vb => {
      const init = wrap.__mermaidInitViewBox || vb
      const minW = init[2] * 0.1
      const maxW = init[2] * 10
      const minH = init[3] * 0.1
      const maxH = init[3] * 10
      vb[2] = clamp(vb[2], minW, maxW)
      vb[3] = clamp(vb[3], minH, maxH)
      return vb
    }

    const setCurVb = vb => {
      vb = clampVb(vb)
      wrap.__mermaidCurViewBox = vb
      setSvgViewBox(svg, vb)
    }

    const onPointerDown = e => {
      // Allow only primary button for mouse
      if (e.pointerType === 'mouse' && e.button !== 0) return
      svg.setPointerCapture(e.pointerId)
      state.pointers.set(e.pointerId, { x: e.clientX, y: e.clientY })

      if (state.pointers.size === 1) {
        state.startVb = (wrap.__mermaidCurViewBox || getSvgViewBox(svg)).slice()
      } else if (state.pointers.size === 2) {
        const pts = [...state.pointers.values()]
        const dx = pts[0].x - pts[1].x
        const dy = pts[0].y - pts[1].y
        state.startDist = Math.hypot(dx, dy)
        state.startVb = (wrap.__mermaidCurViewBox || getSvgViewBox(svg)).slice()
        state.startCenter = { x: (pts[0].x + pts[1].x) / 2, y: (pts[0].y + pts[1].y) / 2 }
      }
    }

    const onPointerMove = e => {
      if (!state.pointers.has(e.pointerId)) return
      state.pointers.set(e.pointerId, { x: e.clientX, y: e.clientY })

      // Pan with 1 pointer
      if (state.pointers.size === 1 && state.startVb) {
        const p = [...state.pointers.values()][0]
        const prev = { x: e.clientX - e.movementX, y: e.clientY - e.movementY }
        // movementX/Y unreliable on touch, compute from stored last position
        const last = wrap.__mermaidLastSinglePointer || p
        const dxClient = p.x - last.x
        const dyClient = p.y - last.y
        wrap.__mermaidLastSinglePointer = p

        const { rect } = clientToViewBox(p.x, p.y)
        const vb = (wrap.__mermaidCurViewBox || getSvgViewBox(svg)).slice()
        const dx = dxClient * (vb[2] / rect.width)
        const dy = dyClient * (vb[3] / rect.height)
        setCurVb([vb[0] - dx, vb[1] - dy, vb[2], vb[3]])
        return
      }

      // Pinch zoom with 2 pointers
      if (state.pointers.size === 2 && state.startVb && state.startDist > 0) {
        const pts = [...state.pointers.values()]
        const dx = pts[0].x - pts[1].x
        const dy = pts[0].y - pts[1].y
        const dist = Math.hypot(dx, dy)
        if (!dist) return
        const factor = state.startDist / dist // dist bigger => zoom in (viewBox smaller)

        const cx = (pts[0].x + pts[1].x) / 2
        const cy = (pts[0].y + pts[1].y) / 2
        const centerClient = { x: cx, y: cy }

        const pxy = clientToViewBox(centerClient.x, centerClient.y)
        const cpx = pxy.x
        const cpy = pxy.y

        const vb = zoomAtPoint(state.startVb, factor, cpx, cpy)
        setCurVb(vb)
      }
    }

    const onPointerUpOrCancel = e => {
      state.pointers.delete(e.pointerId)
      if (state.pointers.size === 0) {
        state.startVb = null
        state.startDist = 0
        state.startCenter = null
        wrap.__mermaidLastSinglePointer = null
      } else if (state.pointers.size === 1) {
        // reset single pointer baseline to avoid jump
        wrap.__mermaidLastSinglePointer = [...state.pointers.values()][0]
      }
    }

    // Wheel zoom (mouse/trackpad)
    const onWheel = e => {
      // ctrlKey on mac trackpad pinch; we treat both as zoom
      e.preventDefault()
      const delta = e.deltaY
      const zoomFactor = delta > 0 ? 1.1 : 0.9
      const { x, y } = clientToViewBox(e.clientX, e.clientY)
      const vb = (wrap.__mermaidCurViewBox || getSvgViewBox(svg)).slice()
      setCurVb(zoomAtPoint(vb, zoomFactor, x, y))
    }

    const onDblClick = () => {
      const init = wrap.__mermaidInitViewBox
      if (!init) return
      wrap.__mermaidCurViewBox = init.slice()
      setSvgViewBox(svg, init)
    }

    svg.addEventListener('pointerdown', onPointerDown)
    svg.addEventListener('pointermove', onPointerMove)
    svg.addEventListener('pointerup', onPointerUpOrCancel)
    svg.addEventListener('pointercancel', onPointerUpOrCancel)
    svg.addEventListener('wheel', onWheel, { passive: false })
    svg.addEventListener('dblclick', onDblClick)
  }

  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild

      // Clear old render (themeChange/pjax will rerun)
      const oldSvg = item.querySelector('svg')
      if (oldSvg) oldSvg.remove()
      item.__mermaidGestureBound = false

      const config = mermaidSrc.dataset.config ? JSON.parse(mermaidSrc.dataset.config) : {}
      if (!config.theme) {
        config.theme = theme
      }
      const mermaidThemeConfig = `%%{init: ${JSON.stringify(config)}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
        if (true) initMermaidGestures(item)
        item.__mermaidOriginalSvg = svg
        if (true) attachMermaidViewerButton(item)
      }


      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (false) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid@11.12.2/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">æœç´¢</span><i class="fas fa-spinner fa-pulse" id="loading-status" hidden="hidden"></i><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  æ•°æ®åŠ è½½ä¸­</span></div><div class="local-search-input"><input placeholder="æœç´¢æ–‡ç« " type="text"/></div><hr/><div id="local-search-results"></div><div class="ais-Pagination" id="local-search-pagination" style="display:none;"><ul class="ais-Pagination-list"></ul></div><div id="local-search-stats"></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=5.5.4"></script></div></div></body></html>